<!DOCTYPE HTML>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Challenge Lab 1: Deploy and Troubleshoot Replica Site</title><script>
    // Set up general environment info
    window.Xyleme                                   = window.Xyleme || {};
    window.Xyleme.environment                       = window.Xyleme.environment || {};

    window.Xyleme.environment.type                  = 'web';
    window.Xyleme.environment.outputType            = 'OnlineCourse[F5_2021]';
    window.Xyleme.environment.LMS                   = '';
    window.Xyleme.environment.SCORM_TYPE            = 'Static SCORM 1.2';
    window.Xyleme.environment.IS_AICC               = false;
    window.Xyleme.environment.lang                  = 'en';
    // The cache-bust value based on Promotion Time of the output as opposed to runtime
    window.Xyleme.environment.BUILD_TIME_CACHE_BUST = 'buildTime=20%3A16%3A49.064Z';
    // Whether or not to allow the caching of content during previews (or CDS/BCP previews)
    window.Xyleme.environment.ALLOW_PREVIEW_CACHING = false;
    window.Xyleme.environment.IS_DEPLOY             = true;

    // Determine if we are in a Review Session based on the value (or existence) of the "el" param
    window.Xyleme.environment.ReviewSession = false;

    // The request ID of the preview, used to create a preview scope with the server:
    window.Xyleme.environment.REQUEST_ID            = '';

    // The Regular Expression to identify a guid
    window.Xyleme.environment.GUID_REGEX            = /(\w{8}-(\w{4}-){3}\w{12}|\w{8}-\w{8}-\w{5}-\w{4}-\w{16})(_xref)?/;

    window.Xyleme.environment.FRAGMENT_CACHING_AVAILABLE = false;

    window.Xyleme.environment.CLOUDFRONT_BASE_URL = '';

    window.Xyleme.environment.XPE_PUBLIC_VERSION = '2023.08.09';
    window.Xyleme.environment.XPE_PUBLIC_VERSION_INT = 2023089;
    window.Xyleme.environment.XPE_BUILD_VERSION = '2023.08.09';
    window.Xyleme.environment.XPE_BUILD_VERSION_INT = 2023089;

    // Will be depreciated in the future
    window.LMS                                      = window.Xyleme.environment.LMS;
    window.SCORM_TYPE                               = window.Xyleme.environment.SCORM_TYPE;
    window.IS_AICC                                  = window.Xyleme.environment.IS_AICC;

    /*
     * WPS-2952
     * Ensure that if the "window.onload" event fires before the entirety of the
     * application JavaScript has loaded (as it will be loaded in asynchronously)
     * that we inform it that page content has already been loaded, including images
     * (this is required for page-specific preview and CDS Learning Object previews)
     */
    window.Xyleme.environment.loaded = false;
    window.addEventListener('load', function xySetWindowLoaded () {
        window.removeEventListener('load', xySetWindowLoaded, false);
        window.Xyleme.environment.loaded = true;
    });
</script><link href="css/application.css?cacheBust=20%3A16%3A49.064Z" rel="stylesheet" type="text/css" media="all"><script>
        var require = {
            map: {
                '*': {
                    'app/courseApi': 'js/app/courseApi.test.mock.js',
                    'app/player/integration': 'js/app/player/integration.test.mock.js'
                }
            }
        };
    </script><script src="js/vendor/require/detectUserAgent.js?cacheBust=20%3A16%3A49.064Z"></script><script src="js/vendor/require/browserCheck.js?cacheBust=20%3A16%3A49.064Z"></script><script>
    window.XYLEME_MODULES_CONFIG     = {
    "skin/components/calculator/calculator": {"width": "280px"},
    "checkBrowser": {
        "unsupportedBrowser": [
            {
                "browser": "IE",
                "description": "Internet Explorer 10",
                "version": "10"
            },
            {
                "browser": "IE",
                "description": "Internet Explorer 11",
                "version": "11"
            },
            {
                "browser": "Edge",
                "description": "Legacy MS Edge"
            }
        ],
        "enabled": true
    },
    "skin/components/bibliography/bibliography": {"showSingleTypeHeader": true},
    "skin/components/resources/resources": {
        "openInPopup": true,
        "startVisible": true
    },
    "skin/components/navigationTree/navigationTree": {
        "manualExpansion": true,
        "collapseContainer": true
    },
    "skin/components/courseProgress/courseProgress": {"compactMode": true},
    "global": {
        "contentScrollingContainerSelector": "#PageBodyWrapper",
        "contentContainerSelector": "#PageBody",
        "useLegacyPlayer": false
    },
    "skin/regions/content/content": {
        "enableSwipeContentDrag": "true",
        "enableSwipeNavigation": "true"
    },
    "skin/regions/menu/menu": {
        "openFromClass": "FromRight",
        "componentLinkDisplay": {
            "icon": true,
            "safe": true,
            "text": false
        },
        "numberOfVisibleComponents": 5,
        "hideOnContentLoad": false,
        "regionButtonSelector": ["#MenuHamburgerIcon"],
        "zIndex": 100
    },
    "skin/components/notebook/notebook": {"linkAction": "show"},
    "skin/components/narration/narration": {
        "enabled": false,
        "startVisible": false
    },
    "BackgroundImage": {"backgroundImageGradient": "linear-gradient(180deg, rgba(0,0,0, 0.5) 50%, rgba(0, 0, 0, 0) 100%)"},
    "skin/components/breadcrumb/breadcrumb": {"delimiter": "&#x276f;"},
    "app/navigation": {
        "animateOptions": {
            "next": {
                "inAnimation": "fade-in",
                "outAnimation": "fade-out"
            },
            "inTime": 200,
            "previous": {
                "inAnimation": "fade-in",
                "outAnimation": "fade-out"
            },
            "animate": true,
            "outTime": 200
        },
        "loadIconDelay": 400
    },
    "elements/questions/question/view": {"supplementOverlayBehavior": "static"},
    "skin/components/visualCue/visualCue": {"renderForPC": true}
};

    /*
     * Attempt to capture uncaught errors and inform the user that the course may not run
     * as expected.
     *
     * @TODO This is incomplete, as it currently only prints to the console. The original
     *       functionality of showing a popup to the user was scrapped because there were
     *       too many errors being shown. Will need to be reworked.
     */
    if (window.XYLEME_MODULES_CONFIG && !window.XYLEME_MODULES_CONFIG.global.debugMode) {
        window.addEventListener('error', function(e) {
            if (window.console) {
                if (window.console.error) {
                    window.console.error('A fatal error occurred. Please refresh the page to try again. If this issue continues, please contact an administrator');
                } else if (window.console.log) {
                    window.console.log('A fatal error occurred. Please refresh the page to try again. If this issue continues, please contact an administrator');
                }
            }
            return true;
        });
    }

    /*
     * PI-1207
     * https://issues.xyleme.com/browse/PI-1207
     * Detect the user agent string and  jsConfig for this module.
     * Check all browsers from config and show modal window with error if f.e. explorer is being used.
     */

    var userAgentParse = detect.parse(navigator.userAgent);
    browserCheck(userAgentParse, 'This web browser will not provide the best experience for this content. Please use a supported browser to continue.',  window.XYLEME_MODULES_CONFIG['checkBrowser'])

</script><script>
window.XYLEME_OUTPUT_PROFILE_WAB = {
    
};
</script><script src="js/vendor/require/require.js?cacheBust=20%3A16%3A49.064Z"></script><script src="js/vendor/require/config.js?cacheBust=20%3A16%3A49.064Z"></script><script src="js/vendor/require/runtimeConfig.js?cacheBust=20%3A16%3A49.064Z"></script></head><body lang="en"><svg width="0" height="0" id="SVGIconsContainer"><defs><g id="text-bubble"><path d="M20 2h-16c-1.1 0-1.99.9-1.99 2l-.01 18 4-4h14c1.1 0 2-.9 2-2v-12c0-1.1-.9-2-2-2zm-11 9h-2v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2z"></path><path d="M0 0h24v24h-24z" fill="none"></path></g><g id="menu"><path d="M3,18h18v-2H3V18z M3,13h18v-2H3V13z M3,6v2h18V6H3z"></path></g><g id="arrow-left"><polygon points="15.4,7.4 14,6 8,12 14,18 15.4,16.6 10.8,12 "></polygon></g><g id="arrow-right"><polygon points="10,6 8.6,7.4 13.2,12 8.6,16.6 10,18 16,12 "></polygon></g><g id="exit"><path d="M10.1,15.6l1.4,1.4l5-5l-5-5l-1.4,1.4l2.6,2.6H3v2h9.7L10.1,15.6z M19,3H5C3.9,3,3,3.9,3,5v4h2V5h14v14H5v-4H3v4c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V5C21,3.9,20.1,3,19,3z"></path></g><g id="toc"><path d="M4,14h4v-4H4V14z M4,19h4v-4H4V19z M4,9h4V5H4V9z M9,14h12v-4H9V14z M9,19h12v-4H9V19z M9,5v4h12V5H9z"></path></g><g id="notebook"><path d="M19,2h-4.2c-0.4-1.2-1.5-2-2.8-2c-1.3,0-2.4,0.8-2.8,2H5C3.9,2,3,2.9,3,4v16c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V4C21,2.9,20.1,2,19,2z M12,2c0.6,0,1,0.4,1,1s-0.4,1-1,1c-0.6,0-1-0.4-1-1S11.4,2,12,2z M19,20H5V4h2v3h10V4h2V20z"></path></g><g id="glossary"><path d="M17,3H7C5.9,3,5,3.9,5,5l0,16l7-3l7,3V5C19,3.9,18.1,3,17,3z"></path></g><g id="bibliography"><path d="M21,5C19.89,4.65 18.67,4.5 17.5,4.5C15.55,4.5 13.45,4.9 12,6C10.55,4.9 8.45,4.5 6.5,4.5C4.55,4.5 2.45,4.9 1,6V20.65C1,20.9 1.25,21.15 1.5,21.15C1.6,21.15 1.65,21.1 1.75,21.1C3.1,20.45 5.05,20 6.5,20C8.45,20 10.55,20.4 12,21.5C13.35,20.65 15.8,20 17.5,20C19.15,20 20.85,20.3 22.25,21.05C22.35,21.1 22.4,21.1 22.5,21.1C22.75,21.1 23,20.85 23,20.6V6C22.4,5.55 21.75,5.25 21,5M21,18.5C19.9,18.15 18.7,18 17.5,18C15.8,18 13.35,18.65 12,19.5V8C13.35,7.15 15.8,6.5 17.5,6.5C18.7,6.5 19.9,6.65 21,7V18.5Z"></path></g><g id="sectionStatus"><path d="M7.9,10.1l-1.4,1.4L11,16L21,6l-1.4-1.4L11,13.2L7.9,10.1z M19,19L5,19V5h10V3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2v-8h-2V19z"></path></g><g id="mute"><path d="M16.5,12c0-1.8-1-3.3-2.5-4v2.2l2.5,2.5C16.5,12.4,16.5,12.2,16.5,12z M19,12c0,0.9-0.2,1.8-0.5,2.6l1.5,1.5c0.7-1.2,1-2.7,1-4.2c0-4.3-3-7.9-7-8.8v2.1C16.9,6.2,19,8.8,19,12z M4.3,3L3,4.3L7.7,9H3c0,0,0,6,0,6h4l5,5v-6.7l4.3,4.3c-0.7,0.5-1.4,0.9-2.3,1.2v2.1c1.4-0.3,2.6-0.9,3.7-1.8l2,2l1.3-1.3l-9-9L4.3,3z M12,4L9.9,6.1L12,8.2V4z"></path></g><g id="unmute"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"></path><path d="M0 0h24v24H0z" fill="none"></path></g><g id="muteunmute"><g id="mutetoggle"><path d="M16.5,12c0-1.8-1-3.3-2.5-4v2.2l2.5,2.5C16.5,12.4,16.5,12.2,16.5,12z M19,12c0,0.9-0.2,1.8-0.5,2.6l1.5,1.5c0.7-1.2,1-2.7,1-4.2c0-4.3-3-7.9-7-8.8v2.1C16.9,6.2,19,8.8,19,12z M4.3,3L3,4.3L7.7,9H3c0,0,0,6,0,6h4l5,5v-6.7l4.3,4.3c-0.7,0.5-1.4,0.9-2.3,1.2v2.1c1.4-0.3,2.6-0.9,3.7-1.8l2,2l1.3-1.3l-9-9L4.3,3z M12,4L9.9,6.1L12,8.2V4z"></path></g><g id="unmutetoggle"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"></path><path d="M0 0h24v24H0z" fill="none"></path></g></g><g id="print"><path d="M19,8H5c-1.7,0-3,1.3-3,3v6h4v4h12v-4h4v-6C22,9.3,20.7,8,19,8z M16,19H8v-5h8V19z M19,12c-0.6,0-1-0.4-1-1s0.4-1,1-1c0.6,0,1,0.4,1,1S19.6,12,19,12z M18,3H6v4h12V3z"></path></g><g id="calculator"><path d=" M6,1C4.9,1,4,1.9,4,3c0,1.1,0.9,2,2,2s2-0.9,2-2C8,1.9,7.1,1,6,1z M6,7C4.9,7,4,7.9,4,9c0,1.1,0.9,2,2,2s2-0.9,2-2C8,7.9,7.1,7,6,7z M6,13c-1.1,0-2,0.9-2,2c0,1.1,0.9,2,2,2s2-0.9,2-2C8,13.9,7.1,13,6,13z M18,5c1.1,0,2-0.9,2-2c0-1.1-0.9-2-2-2s-2,0.9-2,2C16,4.1,16.9,5,18,5z M12,13c-1.1,0-2,0.9-2,2c0,1.1,0.9,2,2,2s2-0.9,2-2C14,13.9,13.1,13,12,13z M18,13c-1.1,0-2,0.9-2,2c0,1.1,0.9,2,2,2s2-0.9,2-2C20,13.9,19.1,13,18,13z M18,7c-1.1,0-2,0.9-2,2c0,1.1,0.9,2,2,2s2-0.9,2-2C20,7.9,19.1,7,18,7z M12,7c-1.1,0-2,0.9-2,2c0,1.1,0.9,2,2,2s2-0.9,2-2C14,7.9,13.1,7,12,7z M12,1c-1.1,0-2,0.9-2,2c0,1.1,0.9,2,2,2s2-0.9,2-2C14,1.9,13.1,1,12,1z"></path></g><g id="resources"><path d="M6,2C4.9,2,4,2.9,4,4l0,16c0,1.1,0.9,2,2,2h12c1.1,0,2-0.9,2-2V8l-6-6H6z M13,9V3.5L18.5,9H13z"></path></g><g id="narration"><path d="M18,17H6v-2h12V17z M18,13H6v-2h12V13z M18,9H6V7h12V9z M3,22l1.5-1.5L6,22l1.5-1.5L9,22l1.5-1.5L12,22l1.5-1.5L15,22l1.5-1.5L18,22l1.5-1.5L21,22V2l-1.5,1.5L18,2l-1.5,1.5L15,2l-1.5,1.5L12,2l-1.5,1.5L9,2L7.5,3.5L6,2L4.5,3.5L3,2V22z"></path></g><g id="submit-all"><path d="M18,7l-1.4-1.4l-6.3,6.3l1.4,1.4L18,7z M22.2,5.6L11.7,16.2L7.5,12l-1.4,1.4l5.6,5.6l12-12L22.2,5.6z M0.4,13.4L6,19l1.4-1.4L1.8,12L0.4,13.4z"></path></g><g id="retake"><path d="M12,5V1.5l-5,5l5,5V7c3.3,0,6,2.7,6,6s-2.7,6-6,6c-3.3,0-6-2.7-6-6H4c0,4.4,3.6,8,8,8c4.4,0,8-3.6,8-8S16.4,5,12,5z"></path></g><g id="submit"><polygon points="9,16.2 4.8,12 3.4,13.4 9,19 21,7 19.6,5.6 "></polygon></g><g id="visual-cue"><path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"></path></g><g id="unflag"><path d="M1 23 V1 H20 L15 8 L20 16 L1 16" stroke-width="2" fill="none"></path></g><g id="flag"><path d="M1 23 V1 H20 L15 8 L20 16 L1 16" stroke-width="2" fill="inherit"></path></g><g id="drag-handle"><path d="M20 9H4v2h16V9zM4 15h16v-2H4v2z"></path></g><g id="swap-vertical"><path d="M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3L5 6.99h3V14h2V6.99h3L9 3z"></path></g><g id="close"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path><path d="M0 0h24v24H0z" fill="none"></path></g><g id="correct"><polygon points="9,16.2 4.8,12 3.4,13.4 9,19 21,7 19.6,5.6 "></polygon></g><g id="incorrect"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path><path d="M0 0h24v24H0z" fill="none"></path></g><g id="alsocorrect"><path d="M0 0h24v24H0z" fill="none"></path><path d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></g><g id="imagemap"><g class="MarkCheck"><path stroke-width="2" d="m8.33117,14.57541c0.09216,0.11874 0.21456,0.17858 0.33622,0.17858c0.12092,0 0.24258,-0.05889 0.33622,-0.17858l6.06006,-7.80926c0.18581,-0.23938 0.18581,-0.62599 0,-0.86537c-0.18581,-0.23938 -0.4859,-0.23938 -0.6717,0l-5.72458,7.3742l-2.89989,-3.73317c-0.18581,-0.23843 -0.48663,-0.23843 -0.6717,0c-0.18581,0.23938 -0.18581,0.62694 0,0.86537l3.23538,4.16823z"></path></g></g></defs></svg><div id="PageMain" class="Main" data-grid=""><div id="PageOuterWrap" class="OuterWrap" data-grid="row"><div id="PageInnerWrap" class="InnerWrap" data-grid=""><div class="Body" data-grid=""><div class="FragmentSkinComponentWrapper"><a class="ComponentLink GlossaryLink " data-component="glossary" tabindex="0" title="Glossary"><svg viewBox="0 0 24 24" class="SVGIcon ComponentLinkIcon GlossaryIcon" preserveAspectRatio="xMidYMid meet" width="24px" height="24px"><g ref="glossary"><path d="M17,3H7C5.9,3,5,3.9,5,5l0,16l7-3l7,3V5C19,3.9,18.1,3,17,3z"></path></g></svg><span class="ComponentLinkTitle GlossaryTitle ">Glossary</span></a><a class="ComponentLink CourseResourcesLink " data-component="courseResources" tabindex="0" title="Resources"><svg viewBox="0 0 24 24" class="SVGIcon ComponentLinkIcon CourseResourcesIcon" preserveAspectRatio="xMidYMid meet" width="24px" height="24px"><g ref="resources"><path d="M6,2C4.9,2,4,2.9,4,4l0,16c0,1.1,0.9,2,2,2h12c1.1,0,2-0.9,2-2V8l-6-6H6z M13,9V3.5L18.5,9H13z"></path></g></svg><span class="ComponentLinkTitle CourseResourcesTitle ">Resources</span></a><a class="ComponentLink PageResourcesLink " data-component="pageResources" tabindex="0" title="Page Resources"><svg viewBox="0 0 24 24" class="SVGIcon ComponentLinkIcon PageResourcesIcon" preserveAspectRatio="xMidYMid meet" width="24px" height="24px"><g ref="resources"><path d="M6,2C4.9,2,4,2.9,4,4l0,16c0,1.1,0.9,2,2,2h12c1.1,0,2-0.9,2-2V8l-6-6H6z M13,9V3.5L18.5,9H13z"></path></g></svg><span class="ComponentLinkTitle PageResourcesTitle ">Page Resources</span></a><div class="ComponentContent CourseResourcesContent" data-component="courseResources"></div><div class="ComponentContent GlossaryContent" data-component="glossary"><div id="MainMenuGlossaryContainer" class="GlossaryContainer"><div class="Glossary"><div class="Index"></div><div class="Contents"></div></div></div></div><div class="ComponentContent PageResourcesContent" data-component="pageResources"></div></div><div id="PageBody" class="Body LoadingFragment"><div class="Procedure"><h1 class="Title" id="3ed64abb-5a24-471e-8e6a-7c677013835e---cid-d2e25640-">Challenge Lab 1: Deploy and Troubleshoot Replica Site</h1><div class="ParaBlock" id="bbb936b6-60b4-44ee-9c1f-83cc2ef8694e"><div class="CustomNote " data-popup="" style="width: auto; height: auto;"><div class="Icon"><img alt="" title="" src="media/_General Purpose Graphics/Small Icons/Template Icons/Clock_S.png" style="width: 50px; height: 50px;"></div><div class="Content"><div class="SimpleBlock"><div class="RichText">Estimated time for completion: <strong>30-45</strong><strong> minutes</strong></div></div></div></div></div><section class="TitledBlock" aria-labelledby="a13e36dd-49a7-4226-b250-9f29ee385cf4-title"><h1 id="a13e36dd-49a7-4226-b250-9f29ee385cf4-title">Objectives</h1><div class="ParaBlock" id="8750f6a2-7519-48d0-aebf-1c35dd8bf33b"><div class="List" id="2d604ec7-51d1-48d9-8658-c14a15d1ac4d" data-build=""><div class="ListPreamble">At the end of this lab you will be able to:</div><ul class="ListItems Bullet " style=" counter-reset: list 0;"><li class="ListItem"><div class="RichText">Deploy a replica vk8s site to a single Regional Edge</div></li><li class="ListItem"><div class="RichText">Send traffic to replica site from proxy</div></li><li class="ListItem"><div class="RichText">Troubleshoot and identify site issues<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;</div></li></ul></div></div></section><section class="TitledBlock" aria-labelledby="e83af6f4-43a7-406b-b23d-205260b956d4-title"><h1 id="e83af6f4-43a7-406b-b23d-205260b956d4-title">Considerations</h1><div class="ParaBlock" id="0cf73a91-8dd1-4bcc-b971-1e306aec9403"><div class="RichText">This lab has many solutions, and there are no "right" answers. Use the knowledge learned in this course (hint: Kubernetes commands) for any troubleshooting. The application may load as indicated in this lab, but it might not. Can you figure out why it worked or didn't work?<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;<span class="PreserveWhitespace">  </span></div></div></section><div class="StepGroup" data-numbered="true" data-animated=""><div class="ParaBlock" id="e73af1b0-03f2-410e-b8e0-b1145949bb3c"><section class="TitledBlock" aria-labelledby="86e18957-b247-407e-94cc-3264e7a620c1-title"><h1 id="86e18957-b247-407e-94cc-3264e7a620c1-title">Create Virtual Site, add Deployment and Service</h1><div class="ParaBlock" id="39b02d6e-9109-40bb-b1b5-490ea8c2bca4"><div class="RichText"></div></div></section></div><div class="Step"><div class="StepHead"><span class="ExpandIcon"></span><span class="StepNumber">Step</span><div class="RichText">Create namespace-level Virtual Site</div></div><div class="StepUserAction"><div class="List" id="95eb2ade-7117-47cd-8bd4-49eed4437785" data-build=""><ul class="ListItems LowercaseAlpha Dot" style=" counter-reset: list 0;"><li class="ListItem"><div class="RichText">Go to your Load Balancers page, and <strong>Add a Virtual Site</strong> from the <em>Manage</em> section</div></li><li class="ListItem"><div class="RichText">Name: <strong>studentX-vs-replica</strong></div></li><li class="ListItem"><div class="RichText"><em>Labels:</em></div><div class="List" id="95eb2ade-7117-47cd-8bd4-49eed4437785---cid-d2e25687---cid-d2e25702---cid-d2e25706-" data-build=""><ul class="ListItems Bullet " style=" counter-reset: list 0;"><li class="ListItem"><div class="RichText"><strong>studentX-key</strong></div></li><li class="ListItem"><div class="RichText"><strong>studentX-value</strong></div></li></ul></div><div class="CustomNote " data-popup="" style="width: auto; height: auto;"><div class="Icon"><img alt="" title="" src="media/_General Purpose Graphics/Small Icons/Template Icons/other-doc-text.svg" style="width: 75px; height: 75px;"></div><div class="Content"><div class="SimpleBlock"><div class="RichText">The Labels (i.e. Key Pair) must be the same as those used for the vK8s site created earlier.</div></div></div></div></li><li class="ListItem"><div class="RichText"><em>Site Type</em>: <strong>RE</strong></div></li><li class="ListItem"><div class="RichText"><em>Site Selector Expression:</em></div><div class="List" id="95eb2ade-7117-47cd-8bd4-49eed4437785---cid-d2e25687---cid-d2e25728---cid-d2e25732-" data-build=""><ul class="ListItems Bullet " style=" counter-reset: list 0;"><li class="ListItem"><div class="RichText"><strong>ves.io/country</strong></div><div class="RichText">IN</div></li><li class="ListItem"><div class="RichText"><strong>ves-io-sgp</strong></div></li></ul></div></li></ul></div></div></div><div class="Step"><div class="StepHead"><span class="ExpandIcon"></span><span class="StepNumber">Step</span><div class="RichText">Create vK8s Deployment</div></div><div class="StepUserAction"><div class="RichText">&nbsp;&nbsp;&nbsp;<br>This process allows the deployment of applications across the backbone to make them closer to end users.</div><div class="CustomNote " data-popup="" style="width: auto; height: auto;"><div class="Icon"><img alt="" title="" src="media/_General Purpose Graphics/Small Icons/Template Icons/other-book.svg" style="width: 75px; height: 75px;"></div><div class="Content"><div class="SimpleBlock"><div class="RichText"><a href="https://docs.cloud.f5.com/docs/how-to/app-management/vk8s-deployment" target="_blank" class="Href">https://docs.cloud.f5.com/docs/how-to-app-management/vk8s-deployment</a></div><div class="RichText">&nbsp;&nbsp;<br>In the training class, only one AWS region is active, but in a production environment with multiple regions, deploying replicas of CEs to specific REs helps minimize latency for those end users. Additionally, this process can be leveraged to create deployments with different containers for different areas, for example unique languages or currencies.</div></div></div></div><div class="List" id="37610380-ac68-48fc-b021-cb2d4379763f" data-build=""><ul class="ListItems LowercaseAlpha Dot" style=" counter-reset: list 0;"><li class="ListItem"><div class="RichText">Copy the text below:</div><div class="ProgramCode" dir="ltr">{ "apiVersion": "apps/v1",&nbsp; "kind": "Deployment",&nbsp; "metadata": {&nbsp;&nbsp;&nbsp; "name": "r-boutique-frontend"&nbsp; },&nbsp; "spec": {&nbsp;&nbsp;&nbsp; "selector": {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "matchLabels": {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "app": "r-boutique-frontend"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp; },&nbsp;&nbsp;&nbsp; "template": {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "metadata": {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "labels": {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "app": "r-boutique-frontend"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "annotations": {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "sidecar.istio.io/rewriteAppHTTPProbers": "true",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "ves.io.virtual-sites": "studentX/studentX-vs-replica"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "spec": {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "serviceAccountName": "default",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "containers": [&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "name": "server",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "image": "gcr.io/solutions-team-280017/boutique-frontend:v0.3.6",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "ports": [&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "containerPort": 8080&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ],&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "readinessProbe": {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "initialDelaySeconds": 10,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "httpGet": {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "path": "/_healthz",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "port": 8080,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "httpHeaders": [&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"name": "Cookie",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "value": "shop_session-id=x-readiness-probe"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "livenessProbe": {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "initialDelaySeconds": 10,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "httpGet": {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "path": "/_healthz",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "port": 8080,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "httpHeaders": [&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "name": "Cookie",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "value": "shop_session-id=x-liveness-probe"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "env": [&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "name": "PORT",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "value": "8080"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "name": "PRODUCT_CATALOG_SERVICE_ADDR",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "value": "boutique-productcatalogservice:3550"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "name": "CURRENCY_SERVICE_ADDR",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "value": "boutique-currencyservice:7000"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "name": "CART_SERVICE_ADDR",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "value": "boutique-cartservice:7070"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "name": "RECOMMENDATION_SERVICE_ADDR",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "value": "boutique-recommendationservice:8080"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "name": "SHIPPING_SERVICE_ADDR",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "value": "boutique-shippingservice:50051"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "name": "CHECKOUT_SERVICE_ADDR",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "value": "boutique-checkoutservice:5050"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "name": "AD_SERVICE_ADDR",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "value": "boutique-adservice:9555"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "name": "ENV_PLATFORM",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "value": "f5xc"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "name": "DISABLE_TRACING",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "value": "1"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "name": "DISABLE_PROFILER",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "value": "1"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ],&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "resources": {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "requests": {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "cpu": "100m",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "memory": "64Mi"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "limits": {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "cpu": "200m",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "memory": "128Mi"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp; }&nbsp; }}</div></li><li class="ListItem"><div class="RichText">Go to <em>Distributed Apps &gt; Applications &gt; Virtual K8</em>s and select your vK8s (<strong>studentX-vk8s</strong>)</div></li><li class="ListItem"><div class="RichText">In the upper-most menu, click <strong>Deployments</strong></div><div class="RichText">&nbsp;&nbsp;<br>Displayed are the pods for the Online Boutique deployment, which was deployed via the Command Line. For the Replica Deployment the GUI will be used instead to show how this can be done in the GUI. The first thing to consider is that once a deployment happens, it cannot be edited, only destroyed. So make sure every part of the deployment is correct before clicking <em><strong>Add Deployment</strong></em>.</div></li><li class="ListItem"><div class="RichText">Click <strong>Add Deployment</strong></div></li><li class="ListItem"><div class="RichText">On the left-hand side of this window under <em><strong>Add Deployment</strong></em> click <strong>Schema</strong></div><div class="CustomNote " data-popup="" style="width: auto; height: auto;"><div class="Icon"><img alt="" title="" src="media/_General Purpose Graphics/Small Icons/Template Icons/other-lightbulb.svg" style="width: 75px; height: 75px;"></div><div class="Content"><div class="SimpleBlock"><div class="RichText">Expand Meta values to view details of what is included in a deployment:<br>&nbsp;&nbsp;<span class="PreserveWhitespace">  </span></div><div class="Figure Wrap  ImageBehavior-"><div class="FigureOuterWrap"><div class="FigureInnerWrap"><img alt="" title="" aria-label="" src="media/F5 Distributed Cloud/Intro to F5XC/Lab Guide/vlt-properties-(click-to-expand-meta-values).png" style="width: 238px; max-height: 129px;" class="FigureImage"></div></div></div></div></div></div></li><li class="ListItem"><div class="RichText">On the left-hand side of this window under <em><strong>Add Deployment</strong></em> click <strong>Json</strong></div></li><li class="ListItem"><div class="RichText">Change the drop-down from its default of YAML to <strong>JSON</strong></div><div class="RichText">&nbsp;&nbsp;<span class="PreserveWhitespace">  </span><br>In training, JSON is used because JSON is not as sensitive to spacing issues.</div><div class="Figure Wrap  ImageBehavior-"><div class="FigureOuterWrap"><div class="FigureInnerWrap"><img alt="" title="" aria-label="" src="media/F5 Distributed Cloud/Intro to F5XC/Lab Guide/vlt-Add_Deployment.png" style="width: 788px; max-height: 313px;" class="FigureImage"></div></div></div></li><li class="ListItem"><div class="RichText">Delete all existing text in this field, including brackets <strong>{ }</strong> and <strong>"kind": "Deployment"</strong></div></li><li class="ListItem"><div class="RichText">Paste JSON</div></li><li class="ListItem"><div class="RichText">Within this pasted text, replace the Xs in studentX/studentX-vs-replica with your student number</div><div class="CustomNote " data-popup="" style="width: auto; height: auto;"><div class="Icon"><img alt="" title="" src="media/_General Purpose Graphics/Small Icons/Template Icons/other-lightbulb-bolt.svg" style="width: 75px; height: 75px;"></div><div class="Content"><div class="SimpleBlock"><div class="RichText">Use the Search field as necessary but ensure that the X in studentX is replaced with your student number.</div></div></div></div></li><li class="ListItem"><div class="RichText">Click <strong>Save</strong></div></li></ul></div><div class="ParaBlock" id="c54c80e7-9fb4-444b-96e6-504b6f31e97b"><div class="CustomNote " data-popup="" style="width: auto; height: auto;"><div class="Icon"><img alt="" title="" src="media/_General Purpose Graphics/Small Icons/Template Icons/other-doc-text.svg" style="width: 75px; height: 75px;"></div><div class="Content"><div class="SimpleBlock"><div class="RichText">If upon clicking Save an error message appears, refresh the browser.</div></div></div></div></div></div></div><div class="Step"><div class="StepHead"><span class="ExpandIcon"></span><span class="StepNumber">Step</span><div class="RichText">Create vK8s Service</div></div><div class="StepUserAction"><div class="List" id="abd612d2-b363-4d15-a01f-feefb122a31a" data-build=""><ul class="ListItems LowercaseAlpha Dot" style=" counter-reset: list 0;"><li class="ListItem"><div class="RichText">Copy the text below:</div><div class="ProgramCode" dir="ltr">{ "apiVersion": "v1",&nbsp; "kind": "Service",&nbsp; "metadata": {&nbsp;&nbsp;&nbsp; "name": "r-boutique-frontend",&nbsp;&nbsp;&nbsp; "annotations": {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "ves.io.virtual-sites": "studentX/studentX-vs-replica"&nbsp;&nbsp;&nbsp; }&nbsp; },&nbsp; "spec": {&nbsp;&nbsp;&nbsp; "type": "ClusterIP",&nbsp;&nbsp;&nbsp; "selector": {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "app": "r-boutique-frontend"&nbsp;&nbsp;&nbsp; },&nbsp;&nbsp;&nbsp; "ports": [&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "name": "http",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "port": 81,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "targetPort": 8080&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp; ]&nbsp; }}</div><div class="CustomNote " data-popup="" style="width: auto; height: auto;"><div class="Icon"><img alt="" title="" src="media/_General Purpose Graphics/Small Icons/Template Icons/other-doc-text.svg" style="width: 75px; height: 75px;"></div><div class="Content"><div class="SimpleBlock"><div class="RichText">Notice that the Port number and frontend location differs from the original Online Boutique code. This is necessary so that traffic enters the correct Origin Pool.</div></div></div></div></li><li class="ListItem"><div class="RichText">From top menu, scroll right and select <strong>Services</strong></div></li><li class="ListItem"><div class="RichText">Click <strong>Add Service</strong></div></li><li class="ListItem"><div class="RichText">On the left-hand side, under <em><strong>Add Service</strong></em> and <em><strong>Json</strong></em>, change the drop-down from its default of YAML to <strong>JSON</strong></div></li><li class="ListItem"><div class="RichText">Delete all existing text in this field, including brackets <strong>{ }</strong> and <strong>"kind": "Service"</strong></div></li><li class="ListItem"><div class="RichText">Paste JSON</div></li><li class="ListItem"><div class="RichText">Within this pasted text, replace the Xs in studentX/studentX-vs-replica with your student number</div><div class="CustomNote " data-popup="" style="width: auto; height: auto;"><div class="Icon"><img alt="" title="" src="media/_General Purpose Graphics/Small Icons/Template Icons/other-lightbulb-bolt.svg" style="width: 75px; height: 75px;"></div><div class="Content"><div class="SimpleBlock"><div class="RichText">Use the Search field as necessary but ensure that the X in studentX is replaced with your student number.</div></div></div></div></li><li class="ListItem"><div class="RichText">Click <strong>Save</strong></div></li></ul></div></div></div><div class="ParaBlock" id="7ccc982d-c62e-48e9-abd9-1c54367b5325"><section class="TitledBlock" aria-labelledby="77c80067-a21f-4f09-9f0f-593b0407c233-title"><h1 id="77c80067-a21f-4f09-9f0f-593b0407c233-title">Discover Replica</h1><div class="ParaBlock" id="5c3a3e77-933f-48d2-ad52-2abd88ac18db"><div class="RichText"></div></div></section></div><div class="Step"><div class="StepHead"><span class="ExpandIcon"></span><span class="StepNumber">Step</span><div class="RichText">Create Origin Pool</div></div><div class="StepUserAction"><div class="List" id="ea673379-3fb6-4a99-b696-5166b1bc0f5c" data-build=""><ul class="ListItems LowercaseAlpha Dot" style=" counter-reset: list 0;"><li class="ListItem"><div class="RichText">Go to: [<em>Your Load Balancer] &gt; Manage &gt; Load Balancers &gt; Origin Pools &gt;</em> <strong>Add Origin Pool</strong></div></li><li class="ListItem"><div class="RichText"><em>Name</em>: <strong>studentX-replica-pool</strong></div></li><li class="ListItem"><div class="RichText"><em>Origin Servers </em>&gt; <strong>Add Item</strong></div></li><li class="ListItem"><div class="RichText"><em>Type</em>: <strong>K8s Service Name of Origin Server on given Sites</strong></div></li><li class="ListItem"><div class="RichText"><em>Service Name</em>: <strong>r-boutique-frontend.studentX</strong></div><div class="CustomNote " data-popup="" style="width: auto; height: auto;"><div class="Icon"><img alt="" title="" src="media/_General Purpose Graphics/Small Icons/Template Icons/other-lightbulb-bolt.svg" style="width: 75px; height: 75px;"></div><div class="Content"><div class="SimpleBlock"><div class="RichText">Replace the X with your student number</div></div></div></div></li><li class="ListItem"><div class="RichText"><em>Site or Virtual Site</em>: <strong>Virtual Site</strong></div></li><li class="ListItem"><div class="RichText"><em>Virtual Site</em>: <strong>studentX/studentX-vs-replica</strong></div></li><li class="ListItem"><div class="RichText"><em>Network</em>: <strong>vK8s Networks on Site</strong></div></li><li class="ListItem"><div class="RichText">Click <strong>Apply</strong></div></li><li class="ListItem"><div class="RichText"><em>Port</em>: <strong>81</strong></div><div class="CustomNote " data-popup="" style="width: auto; height: auto;"><div class="Icon"><img alt="" title="" src="media/_General Purpose Graphics/Small Icons/Template Icons/other-doc-text.svg" style="width: 75px; height: 75px;"></div><div class="Content"><div class="SimpleBlock"><div class="RichText">This Port number is displayed in the JSON Services file, and must differ from other Ports used in HTTP Load Balancers that use multiple Origin Pools</div></div></div></div></li><li class="ListItem"><div class="RichText">Click <strong>Save and Exit</strong></div></li></ul></div></div></div><div class="Step"><div class="StepHead"><span class="ExpandIcon"></span><span class="StepNumber">Step</span><div class="RichText">Add Origin Pool to HTTP Load Balancer</div></div><div class="StepUserAction"><div class="List" id="1f4a81ef-f57d-4433-baaa-3c7446b31d9f" data-build=""><ul class="ListItems LowercaseAlpha Dot" style=" counter-reset: list 0;"><li class="ListItem"><div class="RichText">Edit your HTTP Load Balancer</div></li><li class="ListItem"><div class="RichText">Add your new Origin Pool</div></li></ul></div></div></div><div class="Step"><div class="StepHead"><span class="ExpandIcon"></span><span class="StepNumber">Step</span><div class="RichText">Edit Origin Pool Priority and Save LB Edits</div></div><div class="StepUserAction"><div class="List" id="748e01da-0ddf-4d8f-8e5c-d5c55311d3bf" data-build=""><ul class="ListItems LowercaseAlpha Dot" style=" counter-reset: list 0;"><li class="ListItem"><div class="RichText">Edit the k8s Origin Pool</div></li><li class="ListItem"><div class="RichText"><em>Priority</em>: <strong>0</strong></div><div class="CustomNote " data-popup="" style="width: auto; height: auto;"><div class="Icon"><img alt="" title="" src="media/_General Purpose Graphics/Small Icons/Template Icons/other-doc-text.svg" style="width: 75px; height: 75px;"></div><div class="Content"><div class="SimpleBlock"><div class="RichText">Hover over the "i" next to the Priority drop-down to view details on Priority values.</div></div></div></div></li><li class="ListItem"><div class="RichText">Click <strong>Apply</strong></div></li><li class="ListItem"><div class="RichText">Click <strong>Save and Exit</strong></div></li></ul></div></div></div><div class="ParaBlock" id="23b63d61-0804-40b0-9c54-c43db6055c37"><section class="TitledBlock" aria-labelledby="21c80c1c-9ec1-43f5-9423-27cfed352ef9-title"><h1 id="21c80c1c-9ec1-43f5-9423-27cfed352ef9-title">Activate Replica Site</h1><div class="ParaBlock" id="8402c348-3b72-402a-9d96-c4ed07e4405e"><div class="RichText"></div></div></section></div><div class="Step"><div class="StepHead"><span class="ExpandIcon"></span><span class="StepNumber">Step</span><div class="RichText">Add Virtual Site to vK8s and view Pods</div></div><div class="StepUserAction"><div class="List" id="b1b06d95-a441-4823-8492-7ed8e472a68e" data-build=""><ul class="ListItems LowercaseAlpha Dot" style=" counter-reset: list 0;"><li class="ListItem"><div class="RichText">Go to <em>Distributed Apps &gt; Applications &gt; Virtual K8</em>s and click <strong>Select Virtual Sites</strong></div></li><li class="ListItem"><div class="RichText">Click the checkbox for your new virtual site and click <strong>Save changes</strong></div></li><li class="ListItem"><div class="RichText">Click <strong>studentX-vk8s </strong>to display the Dashboard</div></li><li class="ListItem"><div class="RichText">Explore Pods, Deployments, Services</div><div class="List" id="b1b06d95-a441-4823-8492-7ed8e472a68e---cid-d2e26071---cid-d2e26091---cid-d2e26094-" data-build=""><ul class="ListItems Bullet " style=" counter-reset: list 0;"><li class="ListItem"><div class="RichText">Notice creation of pods for the new virtual site</div></li></ul></div></li><li class="ListItem"><div class="RichText">On the Virtual K8s Dashboard, notice the <em>Sites</em> section at the bottom. Click the number under <strong><em>Events</em></strong> for the new Site and explore the messages</div></li></ul></div></div></div><div class="Step"><div class="StepHead"><span class="ExpandIcon"></span><span class="StepNumber">Step</span><div class="RichText">Send traffic to Replica site</div></div><div class="StepUserAction"><div class="List" id="6c77d7fb-1f9e-423a-aa1c-74ff70b77f8e" data-build=""><ul class="ListItems LowercaseAlpha Dot" style=" counter-reset: list 0;"><li class="ListItem"><div class="RichText">Open a browser on your personal workstation <strong>(not inside the training workstation)</strong></div></li><li class="ListItem"><div class="RichText">Open a new browser tab or window to <a href="https://www.uptrends.com/tools/web-page-speed-test" target="_blank" class="Href">https://www.uptrends.com/tools/web-page-speed-test</a></div></li><li class="ListItem"><div class="RichText">Enter your site's address in the field <em>I want to test</em></div></li><li class="ListItem"><div class="RichText">In the <em>from</em> drop-down, select Singapore</div></li><li class="ListItem"><div class="RichText">Click <strong>Start test</strong></div></li></ul></div><div class="Figure Wrap  ImageBehavior-"><div class="FigureOuterWrap"><div class="FigureInnerWrap"><img alt="" title="" aria-label="" src="media/F5 Distributed Cloud/Intro to F5XC/Lab Guide/vlt-i-want-to-test.png" style="width: 985px; max-height: 95px;" class="FigureImage"></div></div></div></div></div><div class="Step"><div class="StepHead"><span class="ExpandIcon"></span><span class="StepNumber">Step</span><div class="RichText">View traffic in F5XC</div></div><div class="StepUserAction"><div class="List" id="41bbef0e-a6be-43de-ac05-7216f83469d5" data-build=""><ul class="ListItems LowercaseAlpha Dot" style=" counter-reset: list 0;"><li class="ListItem"><div class="RichText">View Requests in your HTTP Load Balancer</div></li><li class="ListItem"><div class="RichText">Notice Source Site, Duration details, and the Origin Server</div><div class="CustomNote " data-popup="" style="width: auto; height: auto;"><div class="Icon"><img alt="" title="" src="media/_General Purpose Graphics/Small Icons/Template Icons/other-key.svg" style="width: 75px; height: 75px;"></div><div class="Content"><div class="SimpleBlock"><div class="RichText">If the Origin Server is <em>r-boutique-frontend[random-numbers]</em>, then traffic was routed as expected. If this is the case, modify the Origin Pool Priority and Weight in your LB and retest to see how traffic is directed.<br><br>If the Origin Server is <em>boutique-frontend[random-numbers]</em>; that is, your original Origin Pool (not the Singapore Origin Pool), then something is not working as expected.</div></div></div></div></li></ul></div></div></div><div class="ParaBlock" id="d01f572d-5fa2-4fc5-8d5d-119fe7cdca8d"><section class="TitledBlock" aria-labelledby="681dd7a3-3f77-4ad1-b5c9-de7bbbc4504c-title"><h1 id="681dd7a3-3f77-4ad1-b5c9-de7bbbc4504c-title">Investigation and Troubleshooting</h1><div class="ParaBlock" id="0ef83037-16d8-414d-ae32-f382110b4350"><div class="List" id="b5ac4532-3e0d-4b54-8ff6-faee62c366d1" data-build=""><ul class="ListItems Bullet " style=" counter-reset: list 0;"><li class="ListItem"><div class="RichText">In the Dashboard for student-vk8s, look for any unhealthy Sites, Events, pods that aren't building or continually crashing</div></li><li class="ListItem"><div class="RichText">Run Kubernetes commands to inspect deployments, pods, and services</div></li><li class="ListItem"><div class="RichText">Questions to consider:</div><div class="List" id="b5ac4532-3e0d-4b54-8ff6-faee62c366d1---cid-d2e26175---cid-d2e26182---cid-d2e26185-" data-build=""><ul class="ListItems Bullet " style=" counter-reset: list 0;"><li class="ListItem"><div class="RichText">How many pods are running in your original deployment vs the new deployment?</div></li><li class="ListItem"><div class="RichText">What Events are being triggered?</div></li><li class="ListItem"><div class="RichText">Which Quota value(s) are problematic?<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;</div></li></ul></div></li></ul></div></div></section></div><div class="ParaBlock" id="46f7d2cb-7420-4970-83b2-fe6a238bd6e2"><section class="TitledBlock" aria-labelledby="0c6e3af2-912d-4d73-843e-5021bab7eba4-title"><h1 id="0c6e3af2-912d-4d73-843e-5021bab7eba4-title">Expected Results</h1><div class="ParaBlock" id="60792cd4-8daf-4905-8134-92204d56e5db"><div class="List" id="4a41553d-be91-4547-bac1-1c1a27095db6" data-build=""><div class="ListPreamble">Students have:</div><ul class="ListItems Bullet " style=" counter-reset: list 0;"><li class="ListItem"><div class="RichText">Deployed a replica vk8s site to a single Regional Edge</div></li><li class="ListItem"><div class="RichText">Sent traffic to replica site from proxy</div></li><li class="ListItem"><div class="RichText">Used tools learned in class to troubleshoot and identify site issues<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;</div></li></ul></div></div></section></div><div class="ParaBlock" id="dbc08804-2aa1-48cc-af71-14e0ce2a105f"><section class="TitledBlock" aria-labelledby="96fd53ca-4632-4d76-bdb0-9e3a918fe109-title"><h1 id="96fd53ca-4632-4d76-bdb0-9e3a918fe109-title">Review</h1><div class="ParaBlock" id="85e88145-9950-49be-b158-e20804b2fb5b"><div class="List" id="1f5e71fa-7700-42a4-a8a9-da476b449eb3" data-build=""><ul class="ListItems Bullet " style=" counter-reset: list 0;"><li class="ListItem"><div class="RichText">When used with multiple cloud regions, this process is helpful for deploying replica CE sites in different parts of the world, thereby minimizing latency</div></li><li class="ListItem"><div class="RichText">F5XC accepts YAML and JSON, but JSON is less particular about code spacing</div></li><li class="ListItem"><div class="RichText">The Priority and Weight of Origin Pools may be adjusted to coax traffic to specific pools</div></li><li class="ListItem"><div class="RichText">Use the GUI and Kubernetes Command Line tools to investigate issues with deployments. Each provides different levels of data that together provide a picture of what is happening</div></li><li class="ListItem"><div class="RichText">The Online Boutique is a resource-hungry application which triggers various Quota values for the F5XC Training Tenant. In production, similar deployment issues may mean developers should increase pod ephemeral storage values in addition to increasing F5XC Quota values</div></li></ul></div></div></section></div></div></div></div></div></div></div></div></body></html>