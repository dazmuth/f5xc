/*
 MIT
 jQuery v2.2.4 | (c) jQuery Foundation | jquery.org/license  @license
 Copyright c 2019 Xyleme, Inc., 700 17th Street, Suite 1950 Denver, CO. 80202 USA.
 All rights reserved.

 This file and related documentation are protected by copyright and
 are distributed under licenses regarding their use, copying, distribution,
 and decompilation. No part of this product or related documentation may
 be reproduced or transmitted in any form or by any means, electronic or
 mechanical, for any purpose, without the express written permission of
 Xyleme, Inc.
 http://mths.be/placeholder v2.0.8 by @mathias  360 degree Image Slider v2.0.4
 http://gaurav.jassal.me

 Copyright 2015, gaurav@jassal.me
 Dual licensed under the MIT or GPL Version 3 licenses.

 jQuery scrollintoview() plugin and :scrollable selector filter

 Version 1.8 (14 Jul 2011)
 Requires jQuery 1.4 or newer

 Copyright (c) 2011 Robert Koritnik
 Licensed under the terms of the MIT license
 http://www.opensource.org/licenses/mit-license.php
 Pikaday

 Copyright ? 2014 David Bushell | BSD & MIT license | https://github.com/dbushell/Pikaday
 Chart.js v2.8.0
 https://www.chartjs.org
 (c) 2019 Chart.js Contributors
 Released under the MIT License
 MediaElement.js
 http://www.mediaelementjs.com/

 Wrapper that mimics native HTML5 MediaElement (audio and video)
 using a variety of technologies (pure JavaScript, Flash, iframe)

 Copyright 2010-2017, John Dyer (http://j.hn/)
 License: MIT

 FastClick: polyfill to remove click delays on browsers with touch UIs.

 @version 0.6.11
 @codingstandard ftlabs-jsv2
 @copyright The Financial Times Limited [All Rights Reserved]
 @license MIT License (see LICENSE.txt)
 @license
 Copyright c 2022 Xyleme, Inc., 700 17th Street, Suite 1950 Denver, CO. 80202 USA.
 All rights reserved.

 This file and related documentation are protected by copyright and
 are distributed under licenses regarding their use, copying, distribution,
 and decompilation. No part of this product or related documentation may
 be reproduced or transmitted in any form or by any means, electronic or
 mechanical, for any purpose, without the express written permission of
 Xyleme, Inc.
 MODIFIED VERSION FOR XYLEME, DO NOT REPLACE WITH VANILLA VERSION FROM GITHUB!
*/
             var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(k){var c=0;return function(){return c<k.length?{done:!1,value:k[c++]}:{done:!0}}};$jscomp.arrayIterator=function(k){return{next:$jscomp.arrayIteratorImpl(k)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(k,c,f){if(k==Array.prototype||k==Object.prototype)return k;k[c]=f.value;return k};$jscomp.getGlobal=function(k){k=["object"==typeof globalThis&&globalThis,k,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var c=0;c<k.length;++c){var f=k[c];if(f&&f.Math==Math)return f}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.SymbolClass=function(k,c){this.$jscomp$symbol$id_=k;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:c})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};
$jscomp.Symbol=function(){function k(f){if(this instanceof k)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(f||"")+"_"+c++,f)}var c=0;return k}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var k=$jscomp.global.Symbol.iterator;k||(k=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[k]&&$jscomp.defineProperty(Array.prototype,k,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var k=$jscomp.global.Symbol.asyncIterator;k||(k=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(k){$jscomp.initSymbolIterator();k={next:k};k[$jscomp.global.Symbol.iterator]=function(){return this};return k};
$jscomp.iteratorFromArray=function(k,c){$jscomp.initSymbolIterator();k instanceof String&&(k+="");var f=0,m={next:function(){if(f<k.length){var n=f++;return{value:c(n,k[n]),done:!1}}m.next=function(){return{done:!0,value:void 0}};return m.next()}};m[Symbol.iterator]=function(){return m};return m};$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");
var $jscomp$lookupPolyfilledValue=function(k,c){var f=$jscomp.propertyToPolyfillSymbol[c];if(null==f)return k[c];f=k[f];return void 0!==f?f:k[c]};$jscomp.polyfill=function(k,c,f,m){c&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(k,c,f,m):$jscomp.polyfillUnisolated(k,c,f,m))};
$jscomp.polyfillUnisolated=function(k,c,f,m){f=$jscomp.global;k=k.split(".");for(m=0;m<k.length-1;m++){var n=k[m];n in f||(f[n]={});f=f[n]}k=k[k.length-1];m=f[k];c=c(m);c!=m&&null!=c&&$jscomp.defineProperty(f,k,{configurable:!0,writable:!0,value:c})};
$jscomp.polyfillIsolated=function(k,c,f,m){var n=k.split(".");k=1===n.length;m=n[0];m=!k&&m in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var p=0;p<n.length-1;p++){var t=n[p];t in m||(m[t]={});m=m[t]}n=n[n.length-1];f=$jscomp.IS_SYMBOL_NATIVE&&"es6"===f?m[n]:null;c=c(f);null!=c&&(k?$jscomp.defineProperty($jscomp.polyfills,n,{configurable:!0,writable:!0,value:c}):c!==f&&($jscomp.propertyToPolyfillSymbol[n]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(n):$jscomp.POLYFILL_PREFIX+n,n=$jscomp.propertyToPolyfillSymbol[n],
$jscomp.defineProperty(m,n,{configurable:!0,writable:!0,value:c})))};$jscomp.polyfill("Array.prototype.values",function(k){return k?k:function(){return $jscomp.iteratorFromArray(this,function(c,f){return f})}},"es8","es3");$jscomp.polyfill("Array.prototype.includes",function(k){return k?k:function(c,f){var m=this;m instanceof String&&(m=String(m));var k=m.length;f=f||0;for(0>f&&(f=Math.max(f+k,0));f<k;f++){var p=m[f];if(p===c||Object.is(p,c))return!0}return!1}},"es7","es3");
!function(k,c){"object"==typeof module&&"object"==typeof module.exports?module.exports=k.document?c(k,!0):function(f){if(!f.document)throw Error("jQuery requires a window with a document");return c(f)}:c(k)}("undefined"!=typeof window?window:this,function(k,c){function f(a){var d=!!a&&"length"in a&&a.length,e=w.type(a);return"function"===e||w.isWindow(a)?!1:"array"===e||0===d||"number"==typeof d&&0<d&&d-1 in a}function m(a,d,e){if(w.isFunction(d))return w.grep(a,function(a,h){return!!d.call(a,h,a)!==
e});if(d.nodeType)return w.grep(a,function(a){return a===d!==e});if("string"==typeof d){if(Nb.test(d))return w.filter(d,a,e);d=w.filter(d,a)}return w.grep(a,function(a){return-1<Ha.call(d,a)!==e})}function n(a,d){for(;(a=a[d])&&1!==a.nodeType;);return a}function p(a){var d={};return w.each(a.match(Ka)||[],function(a,e){d[e]=!0}),d}function t(){T.removeEventListener("DOMContentLoaded",t);k.removeEventListener("load",t);w.ready()}function q(){this.expando=w.expando+q.uid++}function a(a,d,e){var h;if(void 0===
e&&1===a.nodeType)if(h="data-"+d.replace(Ra,"-$&").toLowerCase(),e=a.getAttribute(h),"string"==typeof e){try{e="true"===e?!0:"false"===e?!1:"null"===e?null:+e+""===e?+e:Ob.test(e)?w.parseJSON(e):e}catch(Ac){}oa.set(a,d,e)}else e=void 0;return e}function h(a,d,e,h){var l,f=1,c=20,u=h?function(){return h.cur()}:function(){return w.css(a,d,"")},q=u(),m=e&&e[3]||(w.cssNumber[d]?"":"px"),t=(w.cssNumber[d]||"px"!==m&&+q)&&eb.exec(w.css(a,d));if(t&&t[3]!==m){m=m||t[3];e=e||[];t=+q||1;do f=f||".5",t/=f,w.style(a,
d,t+m);while(f!==(f=u()/q)&&1!==f&&--c)}return e&&(t=+t||+q||0,l=e[1]?t+(e[1]+1)*e[2]:+e[2],h&&(h.unit=m,h.start=t,h.end=l)),l}function l(a,d){var e="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(d||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(d||"*"):[];return void 0===d||d&&w.nodeName(a,d)?w.merge([a],e):e}function d(a,d){for(var e=0,h=a.length;h>e;e++)V.set(a[e],"globalEval",!d||V.get(d[e],"globalEval"))}function e(a,e,h,f,c){for(var u,q,m,t,k=e.createDocumentFragment(),
aa=[],z=0,p=a.length;p>z;z++)if(u=a[z],u||0===u)if("object"===w.type(u))w.merge(aa,u.nodeType?[u]:u);else if(Pb.test(u)){q=q||k.appendChild(e.createElement("div"));m=(ta.exec(u)||["",""])[1].toLowerCase();m=pa[m]||pa._default;q.innerHTML=m[1]+w.htmlPrefilter(u)+m[2];for(m=m[0];m--;)q=q.lastChild;w.merge(aa,q.childNodes);q=k.firstChild;q.textContent=""}else aa.push(e.createTextNode(u));k.textContent="";for(z=0;u=aa[z++];)if(f&&-1<w.inArray(u,f))c&&c.push(u);else if(t=w.contains(u.ownerDocument,u),
q=l(k.appendChild(u),"script"),t&&d(q),h)for(m=0;u=q[m++];)qa.test(u.type||"")&&h.push(u);return k}function u(){return!0}function z(){return!1}function C(){try{return T.activeElement}catch(aa){}}function D(a,d,e,h,l,f){var c,u;if("object"==typeof d){"string"!=typeof e&&(h=h||e,e=void 0);for(u in d)D(a,u,e,h,d[u],f);return a}if(null==h&&null==l?(l=e,h=e=void 0):null==l&&("string"==typeof e?(l=h,h=void 0):(l=h,h=e,e=void 0)),!1===l)l=z;else if(!l)return a;return 1===f&&(c=l,l=function(a){return w().off(a),
c.apply(this,arguments)},l.guid=c.guid||(c.guid=w.guid++)),a.each(function(){w.event.add(this,d,l,h,e)})}function x(a,d){return w.nodeName(a,"table")&&w.nodeName(11!==d.nodeType?d:d.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function E(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function H(a){var d=ca.exec(a.type);return d?a.type=d[1]:a.removeAttribute("type"),a}function A(a,d){var e,h,l,f,c,u;if(1===d.nodeType){if(V.hasData(a)&&
(e=V.access(a),h=V.set(d,e),u=e.events))for(l in delete h.handle,h.events={},u)for(e=0,h=u[l].length;h>e;e++)w.event.add(d,l,u[l][e]);oa.hasData(a)&&(f=oa.access(a),c=w.extend({},f),oa.set(d,c))}}function G(a,d,h,f){d=ua.apply([],d);var c,u,q,m=0,t=a.length,k=t-1,z=d[0],p=w.isFunction(z);if(p||1<t&&"string"==typeof z&&!da.checkClone&&ab.test(z))return a.each(function(e){var l=a.eq(e);p&&(d[0]=z.call(this,e,l.html()));G(l,d,h,f)});if(t&&(c=e(d,a[0].ownerDocument,!1,a,f),u=c.firstChild,1===c.childNodes.length&&
(c=u),u||f)){u=w.map(l(c,"script"),E);for(q=u.length;t>m;m++){var aa=c;m!==k&&(aa=w.clone(aa,!0,!0),q&&w.merge(u,l(aa,"script")));h.call(a[m],aa,m)}if(q)for(c=u[u.length-1].ownerDocument,w.map(u,H),m=0;q>m;m++)aa=u[m],qa.test(aa.type||"")&&!V.access(aa,"globalEval")&&w.contains(c,aa)&&(aa.src?w._evalUrl&&w._evalUrl(aa.src):w.globalEval(aa.textContent.replace(Ma,"")))}return a}function B(a,e,h){for(var f=e?w.filter(e,a):a,c=0;null!=(e=f[c]);c++)h||1!==e.nodeType||w.cleanData(l(e)),e.parentNode&&(h&&
w.contains(e.ownerDocument,e)&&d(l(e,"script")),e.parentNode.removeChild(e));return a}function F(a,d){a=w(d.createElement(a)).appendTo(d.body);d=w.css(a[0],"display");return a.detach(),d}function I(a){var d=T,e=hc[a];return e||(e=F(a,d),"none"!==e&&e||(bb=(bb||w("<iframe frameborder='0' width='0' height='0'/>")).appendTo(d.documentElement),d=bb[0].contentDocument,d.write(),d.close(),e=F(a,d),bb.detach()),hc[a]=e),e}function M(a,d,e){var h,l,f,c,u=a.style;return e=e||Gb(a),c=e?e.getPropertyValue(d)||
e[d]:void 0,""!==c&&void 0!==c||w.contains(a.ownerDocument,a)||(c=w.style(a,d)),e&&!da.pixelMarginRight()&&Qb.test(c)&&Aa.test(d)&&(h=u.width,l=u.minWidth,f=u.maxWidth,u.minWidth=u.maxWidth=u.width=c,c=e.width,u.width=h,u.minWidth=l,u.maxWidth=f),void 0!==c?c+"":c}function L(a,d){return{get:function(){return a()?void delete this.get:(this.get=d).apply(this,arguments)}}}function J(a){if(a in vb)return a;for(var d=a[0].toUpperCase()+a.slice(1),e=N.length;e--;)if(a=N[e]+d,a in vb)return a}function P(a,
d,e){return(a=eb.exec(d))?Math.max(0,a[2]-(e||0))+(a[3]||"px"):d}function W(a,d,e,h,l){d=e===(h?"border":"content")?4:"width"===d?1:0;for(var c=0;4>d;d+=2)"margin"===e&&(c+=w.css(a,e+Ea[d],!0,l)),h?("content"===e&&(c-=w.css(a,"padding"+Ea[d],!0,l)),"margin"!==e&&(c-=w.css(a,"border"+Ea[d]+"Width",!0,l))):(c+=w.css(a,"padding"+Ea[d],!0,l),"padding"!==e&&(c+=w.css(a,"border"+Ea[d]+"Width",!0,l)));return c}function U(a,d,e){var h=!0,l="width"===d?a.offsetWidth:a.offsetHeight,c=Gb(a),f="border-box"===
w.css(a,"boxSizing",!1,c);if(0>=l||null==l){if(l=M(a,d,c),(0>l||null==l)&&(l=a.style[d]),Qb.test(l))return l;h=f&&(da.boxSizingReliable()||l===a.style[d]);l=parseFloat(l)||0}return l+W(a,d,e||(f?"border":"content"),h,c)+"px"}function Z(a,d){for(var e,h,l,c=[],f=0,u=a.length;u>f;f++)h=a[f],h.style&&(c[f]=V.get(h,"olddisplay"),e=h.style.display,d?(c[f]||"none"!==e||(h.style.display=""),""===h.style.display&&Sa(h)&&(c[f]=V.access(h,"olddisplay",I(h.nodeName)))):(l=Sa(h),"none"===e&&l||V.set(h,"olddisplay",
l?e:w.css(h,"display"))));for(f=0;u>f;f++)h=a[f],h.style&&(d&&"none"!==h.style.display&&""!==h.style.display||(h.style.display=d?c[f]||"":"none"));return a}function X(a,d,e,h,l){return new X.prototype.init(a,d,e,h,l)}function R(){return k.setTimeout(function(){y=void 0}),y=w.now()}function Ba(a,d){var e=0,h={height:a};for(d=d?1:0;4>e;e+=2-d){var l=Ea[e];h["margin"+l]=h["padding"+l]=a}return d&&(h.opacity=h.width=a),h}function va(a,d,e){for(var h,l=(O.tweeners[d]||[]).concat(O.tweeners["*"]),c=0,f=
l.length;f>c;c++)if(h=l[c].call(e,d,a))return h}function la(a,d){var e,h,l,c,f;for(e in a)if(h=w.camelCase(e),l=d[h],c=a[e],w.isArray(c)&&(l=c[1],c=a[e]=c[0]),e!==h&&(a[h]=c,delete a[e]),f=w.cssHooks[h],f&&"expand"in f)for(e in c=f.expand(c),delete a[h],c)e in a||(a[e]=c[e],d[e]=l);else d[h]=l}function O(a,d,e){var h,l=0,c=O.prefilters.length,f=w.Deferred().always(function(){delete u.elem}),u=function(){if(h)return!1;var d=y||R();d=Math.max(0,q.startTime+q.duration-d);for(var e=1-(d/q.duration||0),
l=0,c=q.tweens.length;c>l;l++)q.tweens[l].run(e);return f.notifyWith(a,[q,e,d]),1>e&&c?d:(f.resolveWith(a,[q]),!1)},q=f.promise({elem:a,props:w.extend({},d),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},e),originalProperties:d,originalOptions:e,startTime:y||R(),duration:e.duration,tweens:[],createTween:function(d,e){d=w.Tween(a,q.opts,d,e,q.opts.specialEasing[d]||q.opts.easing);return q.tweens.push(d),d},stop:function(d){var e=0,l=d?q.tweens.length:0;if(h)return this;for(h=!0;l>e;e++)q.tweens[e].run(1);
return d?(f.notifyWith(a,[q,1,0]),f.resolveWith(a,[q,d])):f.rejectWith(a,[q,d]),this}});e=q.props;for(la(e,q.opts.specialEasing);c>l;l++)if(d=O.prefilters[l].call(q,a,e,q.opts))return w.isFunction(d.stop)&&(w._queueHooks(q.elem,q.opts.queue).stop=w.proxy(d.stop,d)),d;return w.map(e,va,q),w.isFunction(q.opts.start)&&q.opts.start.call(a,q),w.fx.timer(w.extend(u,{elem:a,anim:q,queue:q.opts.queue})),q.progress(q.opts.progress).done(q.opts.done,q.opts.complete).fail(q.opts.fail).always(q.opts.always)}
function S(a){return a.getAttribute&&a.getAttribute("class")||""}function ba(a){return function(d,e){"string"!=typeof d&&(e=d,d="*");var h=0,l=d.toLowerCase().match(Ka)||[];if(w.isFunction(e))for(;d=l[h++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(e)):(a[d]=a[d]||[]).push(e)}}function fa(a,d,e,h){function l(u){var q;return c[u]=!0,w.each(a[u]||[],function(a,u){a=u(d,e,h);return"string"!=typeof a||f||c[a]?f?!(q=a):void 0:(d.dataTypes.unshift(a),l(a),!1)}),q}var c={},f=a===Rb;return l(d.dataTypes[0])||
!c["*"]&&l("*")}function xa(a,d){var e,h,l=w.ajaxSettings.flatOptions||{};for(e in d)void 0!==d[e]&&((l[e]?a:h||(h={}))[e]=d[e]);return h&&w.extend(!0,a,h),a}function ma(a,d,e,h){var l;if(w.isArray(d))w.each(d,function(d,l){e||Sb.test(a)?h(a,l):ma(a+"["+("object"==typeof l&&null!=l?d:"")+"]",l,e,h)});else if(e||"object"!==w.type(d))h(a,d);else for(l in d)ma(a+"["+l+"]",d[l],e,h)}function ra(a){return w.isWindow(a)?a:9===a.nodeType&&a.defaultView}var ha=[],T=k.document,Ca=ha.slice,ua=ha.concat,ya=
ha.push,Ha=ha.indexOf,za={},ic=za.toString,cb=za.hasOwnProperty,da={},w=function(a,d){return new w.fn.init(a,d)},nb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Tb=/^-ms-/,Ub=/-([\da-z])/gi,ob=function(a,d){return d.toUpperCase()};w.fn=w.prototype={jquery:"2.2.4",constructor:w,selector:"",length:0,toArray:function(){return Ca.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:Ca.call(this)},pushStack:function(a){a=w.merge(this.constructor(),a);return a.prevObject=this,a.context=this.context,
a},each:function(a){return w.each(this,a)},map:function(a){return this.pushStack(w.map(this,function(d,e){return a.call(d,e,d)}))},slice:function(){return this.pushStack(Ca.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var d=this.length;a=+a+(0>a?d:0);return this.pushStack(0<=a&&d>a?[this[a]]:[])},end:function(){return this.prevObject||this.constructor()},push:ya,sort:ha.sort,splice:ha.splice};w.extend=w.fn.extend=function(){var a,d,
e,h,l=arguments[0]||{},c=1,f=arguments.length,u=!1;"boolean"==typeof l&&(u=l,l=arguments[c]||{},c++);"object"==typeof l||w.isFunction(l)||(l={});for(c===f&&(l=this,c--);f>c;c++)if(null!=(a=arguments[c]))for(d in a){var q=l[d];var m=a[d];l!==m&&(u&&m&&(w.isPlainObject(m)||(e=w.isArray(m)))?(e?(e=!1,h=q&&w.isArray(q)?q:[]):h=q&&w.isPlainObject(q)?q:{},l[d]=w.extend(u,h,m)):void 0!==m&&(l[d]=m))}return l};w.extend({expando:"jQuery"+("2.2.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw Error(a);
},noop:function(){},isFunction:function(a){return"function"===w.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var d=a&&a.toString();return!w.isArray(a)&&0<=d-parseFloat(d)+1},isPlainObject:function(a){var d;if("object"!==w.type(a)||a.nodeType||w.isWindow(a)||a.constructor&&!cb.call(a,"constructor")&&!cb.call(a.constructor.prototype||{},"isPrototypeOf"))return!1;for(d in a);return void 0===d||cb.call(a,d)},isEmptyObject:function(a){for(var d in a)return!1;
return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?za[ic.call(a)]||"object":typeof a},globalEval:function(a){var d,e=eval;(a=w.trim(a))&&(1===a.indexOf("use strict")?(d=T.createElement("script"),d.text=a,T.head.appendChild(d).parentNode.removeChild(d)):e(a))},camelCase:function(a){return a.replace(Tb,"ms-").replace(Ub,ob)},nodeName:function(a,d){return a.nodeName&&a.nodeName.toLowerCase()===d.toLowerCase()},each:function(a,d){var e,h=0;if(f(a))for(e=a.length;e>
h&&!1!==d.call(a[h],h,a[h]);h++);else for(h in a)if(!1===d.call(a[h],h,a[h]))break;return a},trim:function(a){return null==a?"":(a+"").replace(nb,"")},makeArray:function(a,d){d=d||[];return null!=a&&(f(Object(a))?w.merge(d,"string"==typeof a?[a]:a):ya.call(d,a)),d},inArray:function(a,d,e){return null==d?-1:Ha.call(d,a,e)},merge:function(a,d){for(var e=+d.length,h=0,l=a.length;e>h;h++)a[l++]=d[h];return a.length=l,a},grep:function(a,d,e){for(var h=[],l=0,c=a.length,f=!e;c>l;l++)e=!d(a[l],l),e!==f&&
h.push(a[l]);return h},map:function(a,d,e){var h,l=0,c=[];if(f(a))for(h=a.length;h>l;l++){var u=d(a[l],l,e);null!=u&&c.push(u)}else for(l in a)u=d(a[l],l,e),null!=u&&c.push(u);return ua.apply([],c)},guid:1,proxy:function(a,d){var e,h,l;return"string"==typeof d&&(e=a[d],d=a,a=e),w.isFunction(a)?(h=Ca.call(arguments,2),l=function(){return a.apply(d||this,h.concat(Ca.call(arguments)))},l.guid=a.guid=a.guid||w.guid++,l):void 0},now:Date.now,support:da});"function"==typeof Symbol&&(w.fn[Symbol.iterator]=
ha[Symbol.iterator]);w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,d){za["[object "+d+"]"]=d.toLowerCase()});var Ia=function(a){function d(a,d,e,K){var h,l,c,f,u=d&&d.ownerDocument,Q=d?d.nodeType:9;if(e=e||[],"string"!=typeof a||!a||1!==Q&&9!==Q&&11!==Q)return e;if(!K&&((d?d.ownerDocument||d:fa)!==w&&Vb(d),d=d||w,G)){if(11!==Q&&(f=Xc.exec(a)))if(h=f[1])if(9===Q){if(!(l=d.getElementById(h)))return e;if(l.id===h)return e.push(l),e}else{if(u&&(l=
u.getElementById(h))&&L(d,l)&&l.id===h)return e.push(l),e}else{if(f[2])return ka.apply(e,d.getElementsByTagName(a)),e;if((h=f[3])&&na.getElementsByClassName&&d.getElementsByClassName)return ka.apply(e,d.getElementsByClassName(h)),e}if(!(!na.qsa||ja[a+" "]||F&&F.test(a))){if(1!==Q){u=d;var q=a}else if("object"!==d.nodeName.toLowerCase()){(c=d.getAttribute("id"))?c=c.replace(Yc,"\\$&"):d.setAttribute("id",c=J);f=Ha(a);h=f.length;for(l=v.test(c)?"#"+c:"[id='"+c+"']";h--;)f[h]=l+" "+z(f[h]);q=f.join(",");
u=Dc.test(a)&&t(d.parentNode)||d}if(q)try{return ka.apply(e,u.querySelectorAll(q)),e}catch(jd){}finally{c===J&&d.removeAttribute("id")}}}return S(a.replace(ra,"$1"),d,e,K)}function e(){function v(d,e){return a.push(d+" ")>R.cacheLength&&delete v[a.shift()],v[d+" "]=e}var a=[];return v}function h(v){return v[J]=!0,v}function l(v){var a=w.createElement("div");try{return!!v(a)}catch(hd){return!1}finally{a.parentNode&&a.parentNode.removeChild(a)}}function c(v,a){v=v.split("|");for(var d=v.length;d--;)R.attrHandle[v[d]]=
a}function f(v,a){var d=a&&v,e=d&&1===v.nodeType&&1===a.nodeType&&(~a.sourceIndex||-2147483648)-(~v.sourceIndex||-2147483648);if(e)return e;if(d)for(;d=d.nextSibling;)if(d===a)return-1;return v?1:-1}function u(v){return function(a){return"input"===a.nodeName.toLowerCase()&&a.type===v}}function q(v){return function(a){var d=a.nodeName.toLowerCase();return("input"===d||"button"===d)&&a.type===v}}function m(v){return h(function(a){return a=+a,h(function(d,e){for(var h,K=v([],d.length,a),l=K.length;l--;)d[h=
K[l]]&&(d[h]=!(e[h]=d[h]))})})}function t(v){return v&&"undefined"!=typeof v.getElementsByTagName&&v}function k(){}function z(v){for(var a=0,d=v.length,e="";d>a;a++)e+=v[a].value;return e}function p(v,a,d){var e=a.dir,h=d&&"parentNode"===e,K=y++;return a.first?function(a,d,K){for(;a=a[e];)if(1===a.nodeType||h)return v(a,d,K)}:function(a,d,l){var c,f,u,Q=[ea,K];if(l)for(;a=a[e];){if((1===a.nodeType||h)&&v(a,d,l))return!0}else for(;a=a[e];)if(1===a.nodeType||h){if(u=a[J]||(a[J]={}),f=u[a.uniqueID]||
(u[a.uniqueID]={}),(c=f[e])&&c[0]===ea&&c[1]===K)return Q[2]=c[2];if(f[e]=Q,Q[2]=v(a,d,l))return!0}}}function n(v){return 1<v.length?function(a,d,e){for(var h=v.length;h--;)if(!v[h](a,d,e))return!1;return!0}:v[0]}function C(v,a,d,e,h){for(var K,l=[],c=0,f=v.length,u=null!=a;f>c;c++)(K=v[c])&&(d&&!d(K,e,h)||(l.push(K),u&&a.push(c)));return l}function aa(v,a,e,K,l,c){return K&&!K[J]&&(K=aa(K)),l&&!l[J]&&(l=aa(l,c)),h(function(h,c,f,u){var Q,q=[],m=[],t=c.length,k;if(!(k=h)){k=a||"*";for(var z=f.nodeType?
[f]:f,p=[],n=0,gb=z.length;gb>n;n++)d(k,z[n],p);k=p}k=!v||!h&&a?k:C(k,q,v,f,u);z=e?l||(h?v:t||K)?[]:c:k;if(e&&e(k,z,f,u),K){var aa=C(z,m);K(aa,[],f,u);for(f=aa.length;f--;)(Q=aa[f])&&(z[m[f]]=!(k[m[f]]=Q))}if(h){if(l||v){if(l){aa=[];for(f=z.length;f--;)(Q=z[f])&&aa.push(k[f]=Q);l(null,z=[],aa,u)}for(f=z.length;f--;)(Q=z[f])&&-1<(aa=l?Ga(h,Q):q[f])&&(h[aa]=!(c[aa]=Q))}}else z=C(z===c?z.splice(t,z.length):z),l?l(null,c,z,u):ka.apply(c,z)})}function A(v){var a,d,e=v.length,h=R.relative[v[0].type];var K=
h||R.relative[" "];for(var l=h?1:0,c=p(function(v){return v===a},K,!0),f=p(function(v){return-1<Ga(a,v)},K,!0),u=[function(v,d,e){v=!h&&(e||d!==I)||((a=d).nodeType?c(v,d,e):f(v,d,e));return a=null,v}];e>l;l++)if(K=R.relative[v[l].type])u=[p(n(u),K)];else{if(K=R.filter[v[l].type].apply(null,v[l].matches),K[J]){for(d=++l;e>d&&!R.relative[v[d].type];d++);return aa(1<l&&n(u),1<l&&z(v.slice(0,l-1).concat({value:" "===v[l-2].type?"*":""})).replace(ra,"$1"),K,d>l&&A(v.slice(l,d)),e>d&&A(v=v.slice(d)),e>
d&&z(v))}u.push(K)}return n(u)}function x(v,a){var e=0<a.length,K=0<v.length,l=function(h,l,c,f,u){var Q,q,m=0,t="0",k=h&&[],z=[],p=I,n=h||K&&R.find.TAG("*",u),gb=ea+=null==p?1:Math.random()||.1,aa=n.length;for(u&&(I=l===w||l||u);t!==aa&&null!=(Q=n[t]);t++){if(K&&Q){var A=0;for(l||Q.ownerDocument===w||(Vb(Q),c=!G);q=v[A++];)if(q(Q,l||w,c)){f.push(Q);break}u&&(ea=gb)}e&&((Q=!q&&Q)&&m--,h&&k.push(Q))}if(m+=t,e&&t!==m){for(A=0;q=a[A++];)q(k,z,l,c);if(h){if(0<m)for(;t--;)k[t]||z[t]||(z[t]=W.call(f));
z=C(z)}ka.apply(f,z);u&&!h&&0<z.length&&1<m+a.length&&d.uniqueSort(f)}return u&&(ea=gb,I=p),k};return e?h(l):l}var D,E,S,I,B,H,w,ba,G,F,O,M,L,J="sizzle"+1*new Date,fa=a.document,ea=0,y=0,Qa=e(),xa=e(),ja=e(),P=function(v,a){return v===a&&(H=!0),0},U={}.hasOwnProperty,ma=[],W=ma.pop,Ca=ma.push,ka=ma.push,Z=ma.slice,Ga=function(v,a){for(var d=0,e=v.length;e>d;d++)if(v[d]===a)return d;return-1},ua=/[\x20\t\r\n\f]+/g,ra=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,X=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,
ya=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,ha=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,Ba=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,v=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,K={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,
TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},Q=/^(?:input|select|textarea|button)$/i,gb=/^h\d$/i,hb=/^[^{]+\{\s*\[native \w/,
Xc=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Dc=/[+~]/,Yc=/'|\\/g,xb=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,yb=function(v,a,d){v="0x"+a-65536;return v!==v||d?a:0>v?String.fromCharCode(v+65536):String.fromCharCode(v>>10|55296,1023&v|56320)},Uc=function(){Vb()};try{ka.apply(ma=Z.call(fa.childNodes),fa.childNodes),ma[fa.childNodes.length].nodeType}catch(gd){ka={apply:ma.length?function(v,a){Ca.apply(v,Z.call(a))}:function(v,a){for(var d=v.length,e=0;v[d++]=a[e++];);v.length=d-1}}}var na=d.support=
{};var fd=d.isXML=function(v){return(v=v&&(v.ownerDocument||v).documentElement)?"HTML"!==v.nodeName:!1};var Vb=d.setDocument=function(v){var a,d;v=v?v.ownerDocument||v:fa;return v!==w&&9===v.nodeType&&v.documentElement?(w=v,ba=w.documentElement,G=!fd(w),(d=w.defaultView)&&d.top!==d&&(d.addEventListener?d.addEventListener("unload",Uc,!1):d.attachEvent&&d.attachEvent("onunload",Uc)),na.attributes=l(function(v){return v.className="i",!v.getAttribute("className")}),na.getElementsByTagName=l(function(v){return v.appendChild(w.createComment("")),
!v.getElementsByTagName("*").length}),na.getElementsByClassName=hb.test(w.getElementsByClassName),na.getById=l(function(v){return ba.appendChild(v).id=J,!w.getElementsByName||!w.getElementsByName(J).length}),na.getById?(R.find.ID=function(v,a){if("undefined"!=typeof a.getElementById&&G)return(v=a.getElementById(v))?[v]:[]},R.filter.ID=function(v){var a=v.replace(xb,yb);return function(v){return v.getAttribute("id")===a}}):(delete R.find.ID,R.filter.ID=function(v){var a=v.replace(xb,yb);return function(v){return(v=
"undefined"!=typeof v.getAttributeNode&&v.getAttributeNode("id"))&&v.value===a}}),R.find.TAG=na.getElementsByTagName?function(v,a){return"undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(v):na.qsa?a.querySelectorAll(v):void 0}:function(v,a){var d=[],e=0;a=a.getElementsByTagName(v);if("*"===v){for(;v=a[e++];)1===v.nodeType&&d.push(v);return d}return a},R.find.CLASS=na.getElementsByClassName&&function(v,a){return"undefined"!=typeof a.getElementsByClassName&&G?a.getElementsByClassName(v):
void 0},O=[],F=[],(na.qsa=hb.test(w.querySelectorAll))&&(l(function(v){ba.appendChild(v).innerHTML="<a id='"+J+"'></a><select id='"+J+"-\r\\' msallowcapture=''><option selected=''></option></select>";v.querySelectorAll("[msallowcapture^='']").length&&F.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");v.querySelectorAll("[selected]").length||F.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
v.querySelectorAll("[id~="+J+"-]").length||F.push("~=");v.querySelectorAll(":checked").length||F.push(":checked");v.querySelectorAll("a#"+J+"+*").length||F.push(".#.+[+~]")}),l(function(v){var a=w.createElement("input");a.setAttribute("type","hidden");v.appendChild(a).setAttribute("name","D");v.querySelectorAll("[name=d]").length&&F.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");v.querySelectorAll(":enabled").length||F.push(":enabled",":disabled");v.querySelectorAll("*,:x");F.push(",.*:")})),(na.matchesSelector=
hb.test(M=ba.matches||ba.webkitMatchesSelector||ba.mozMatchesSelector||ba.oMatchesSelector||ba.msMatchesSelector))&&l(function(v){na.disconnectedMatch=M.call(v,"div");M.call(v,"[s!='']:x");O.push("!=",":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")}),
F=F.length&&new RegExp(F.join("|")),O=O.length&&new RegExp(O.join("|")),a=hb.test(ba.compareDocumentPosition),L=a||hb.test(ba.contains)?function(v,a){var d=9===v.nodeType?v.documentElement:v;a=a&&a.parentNode;return v===a||!(!a||1!==a.nodeType||!(d.contains?d.contains(a):v.compareDocumentPosition&&16&v.compareDocumentPosition(a)))}:function(v,a){if(a)for(;a=a.parentNode;)if(a===v)return!0;return!1},P=a?function(v,a){if(v===a)return H=!0,0;var d=!v.compareDocumentPosition-!a.compareDocumentPosition;
return d?d:(d=(v.ownerDocument||v)===(a.ownerDocument||a)?v.compareDocumentPosition(a):1,1&d||!na.sortDetached&&a.compareDocumentPosition(v)===d?v===w||v.ownerDocument===fa&&L(fa,v)?-1:a===w||a.ownerDocument===fa&&L(fa,a)?1:B?Ga(B,v)-Ga(B,a):0:4&d?-1:1)}:function(v,a){if(v===a)return H=!0,0;var d=0,e=v.parentNode,h=a.parentNode,K=[v],l=[a];if(!e||!h)return v===w?-1:a===w?1:e?-1:h?1:B?Ga(B,v)-Ga(B,a):0;if(e===h)return f(v,a);for(;v=v.parentNode;)K.unshift(v);for(v=a;v=v.parentNode;)l.unshift(v);for(;K[d]===
l[d];)d++;return d?f(K[d],l[d]):K[d]===fa?-1:l[d]===fa?1:0},w):w};d.matches=function(v,a){return d(v,null,null,a)};d.matchesSelector=function(v,a){if((v.ownerDocument||v)!==w&&Vb(v),a=a.replace(ha,"='$1']"),!(!na.matchesSelector||!G||ja[a+" "]||O&&O.test(a)||F&&F.test(a)))try{var e=M.call(v,a);if(e||na.disconnectedMatch||v.document&&11!==v.document.nodeType)return e}catch(id){}return 0<d(a,w,null,[v]).length};d.contains=function(v,a){return(v.ownerDocument||v)!==w&&Vb(v),L(v,a)};d.attr=function(v,
a){(v.ownerDocument||v)!==w&&Vb(v);var d=R.attrHandle[a.toLowerCase()];d=d&&U.call(R.attrHandle,a.toLowerCase())?d(v,a,!G):void 0;return void 0!==d?d:na.attributes||!G?v.getAttribute(a):(d=v.getAttributeNode(a))&&d.specified?d.value:null};d.error=function(v){throw Error("Syntax error, unrecognized expression: "+v);};d.uniqueSort=function(v){var a,d=[],e=0,K=0;if(H=!na.detectDuplicates,B=!na.sortStable&&v.slice(0),v.sort(P),H){for(;a=v[K++];)a===v[K]&&(e=d.push(K));for(;e--;)v.splice(d[e],1)}return B=
null,v};var T=d.getText=function(v){var a,d="",e=0;if(a=v.nodeType)if(1===a||9===a||11===a){if("string"==typeof v.textContent)return v.textContent;for(v=v.firstChild;v;v=v.nextSibling)d+=T(v)}else{if(3===a||4===a)return v.nodeValue}else for(;a=v[e++];)d+=T(a);return d};var R=d.selectors={cacheLength:50,createPseudo:h,match:K,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(v){return v[1]=
v[1].replace(xb,yb),v[3]=(v[3]||v[4]||v[5]||"").replace(xb,yb),"~="===v[2]&&(v[3]=" "+v[3]+" "),v.slice(0,4)},CHILD:function(v){return v[1]=v[1].toLowerCase(),"nth"===v[1].slice(0,3)?(v[3]||d.error(v[0]),v[4]=+(v[4]?v[5]+(v[6]||1):2*("even"===v[3]||"odd"===v[3])),v[5]=+(v[7]+v[8]||"odd"===v[3])):v[3]&&d.error(v[0]),v},PSEUDO:function(v){var a,d=!v[6]&&v[2];return K.CHILD.test(v[0])?null:(v[3]?v[2]=v[4]||v[5]||"":d&&Ba.test(d)&&(a=Ha(d,!0))&&(a=d.indexOf(")",d.length-a)-d.length)&&(v[0]=v[0].slice(0,
a),v[2]=d.slice(0,a)),v.slice(0,3))}},filter:{TAG:function(v){var a=v.replace(xb,yb).toLowerCase();return"*"===v?function(){return!0}:function(v){return v.nodeName&&v.nodeName.toLowerCase()===a}},CLASS:function(v){var a=Qa[v+" "];return a||(a=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+v+"([\\x20\\t\\r\\n\\f]|$)"),Qa(v,function(v){return a.test("string"==typeof v.className&&v.className||"undefined"!=typeof v.getAttribute&&v.getAttribute("class")||"")}))},ATTR:function(v,a,e){return function(K){K=d.attr(K,
v);return null==K?"!="===a:a?(K+="","="===a?K===e:"!="===a?K!==e:"^="===a?e&&0===K.indexOf(e):"*="===a?e&&-1<K.indexOf(e):"$="===a?e&&K.slice(-e.length)===e:"~="===a?-1<(" "+K.replace(ua," ")+" ").indexOf(e):"|="===a?K===e||K.slice(0,e.length+1)===e+"-":!1):!0}},CHILD:function(v,a,d,e,K){var h="nth"!==v.slice(0,3),l="last"!==v.slice(-4),c="of-type"===a;return 1===e&&0===K?function(v){return!!v.parentNode}:function(a,d,f){var u,Q;d=h!==l?"nextSibling":"previousSibling";var q=a.parentNode,m=c&&a.nodeName.toLowerCase();
f=!f&&!c;var t=!1;if(q){if(h){for(;d;){for(u=a;u=u[d];)if(c?u.nodeName.toLowerCase()===m:1===u.nodeType)return!1;var k=d="only"===v&&!k&&"nextSibling"}return!0}if(k=[l?q.firstChild:q.lastChild],l&&f){u=q;var z=u[J]||(u[J]={});var p=z[u.uniqueID]||(z[u.uniqueID]={});var n=p[v]||[];t=(Q=n[0]===ea&&n[1])&&n[2];for(u=Q&&q.childNodes[Q];u=++Q&&u&&u[d]||(t=Q=0)||k.pop();)if(1===u.nodeType&&++t&&u===a){p[v]=[ea,Q,t];break}}else if(f&&(u=a,z=u[J]||(u[J]={}),p=z[u.uniqueID]||(z[u.uniqueID]={}),n=p[v]||[],
Q=n[0]===ea&&n[1],t=Q),!1===t)for(;(u=++Q&&u&&u[d]||(t=Q=0)||k.pop())&&((c?u.nodeName.toLowerCase()!==m:1!==u.nodeType)||!++t||(f&&(z=u[J]||(u[J]={}),p=z[u.uniqueID]||(z[u.uniqueID]={}),p[v]=[ea,t]),u!==a)););return t-=K,t===e||0===t%e&&0<=t/e}}},PSEUDO:function(v,a){var e,K=R.pseudos[v]||R.setFilters[v.toLowerCase()]||d.error("unsupported pseudo: "+v);return K[J]?K(a):1<K.length?(e=[v,v,"",a],R.setFilters.hasOwnProperty(v.toLowerCase())?h(function(v,d){for(var e,h=K(v,a),l=h.length;l--;)e=Ga(v,h[l]),
v[e]=!(d[e]=h[l])}):function(v){return K(v,0,e)}):K}},pseudos:{not:h(function(v){var a=[],d=[],e=E(v.replace(ra,"$1"));return e[J]?h(function(v,a,d,K){var h;d=e(v,null,K,[]);for(K=v.length;K--;)(h=d[K])&&(v[K]=!(a[K]=h))}):function(v,K,h){return a[0]=v,e(a,null,h,d),a[0]=null,!d.pop()}}),has:h(function(v){return function(a){return 0<d(v,a).length}}),contains:h(function(v){return v=v.replace(xb,yb),function(a){return-1<(a.textContent||a.innerText||T(a)).indexOf(v)}}),lang:h(function(a){return v.test(a||
"")||d.error("unsupported lang: "+a),a=a.replace(xb,yb).toLowerCase(),function(v){var d;do if(d=G?v.lang:v.getAttribute("xml:lang")||v.getAttribute("lang"))return d=d.toLowerCase(),d===a||0===d.indexOf(a+"-");while((v=v.parentNode)&&1===v.nodeType);return!1}}),target:function(v){var d=a.location&&a.location.hash;return d&&d.slice(1)===v.id},root:function(v){return v===ba},focus:function(v){return v===w.activeElement&&(!w.hasFocus||w.hasFocus())&&!!(v.type||v.href||~v.tabIndex)},enabled:function(v){return!1===
v.disabled},disabled:function(v){return!0===v.disabled},checked:function(v){var a=v.nodeName.toLowerCase();return"input"===a&&!!v.checked||"option"===a&&!!v.selected},selected:function(v){return v.parentNode&&v.parentNode.selectedIndex,!0===v.selected},empty:function(v){for(v=v.firstChild;v;v=v.nextSibling)if(6>v.nodeType)return!1;return!0},parent:function(v){return!R.pseudos.empty(v)},header:function(v){return gb.test(v.nodeName)},input:function(v){return Q.test(v.nodeName)},button:function(v){var a=
v.nodeName.toLowerCase();return"input"===a&&"button"===v.type||"button"===a},text:function(v){var a;return"input"===v.nodeName.toLowerCase()&&"text"===v.type&&(null==(a=v.getAttribute("type"))||"text"===a.toLowerCase())},first:m(function(){return[0]}),last:m(function(v,a){return[a-1]}),eq:m(function(v,a,d){return[0>d?d+a:d]}),even:m(function(v,a){for(var d=0;a>d;d+=2)v.push(d);return v}),odd:m(function(v,a){for(var d=1;a>d;d+=2)v.push(d);return v}),lt:m(function(v,a,d){for(a=0>d?d+a:d;0<=--a;)v.push(a);
return v}),gt:m(function(v,a,d){for(d=0>d?d+a:d;++d<a;)v.push(d);return v})}};R.pseudos.nth=R.pseudos.eq;for(D in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})R.pseudos[D]=u(D);for(D in{submit:!0,reset:!0})R.pseudos[D]=q(D);k.prototype=R.filters=R.pseudos;R.setFilters=new k;var Ha=d.tokenize=function(v,a){var e,h,l,c,f;if(c=xa[v+" "])return a?0:c.slice(0);c=v;var u=[];for(f=R.preFilter;c;){Q&&!(e=X.exec(c))||(e&&(c=c.slice(e[0].length)||c),u.push(h=[]));var Q=!1;(e=ya.exec(c))&&(Q=e.shift(),
h.push({value:Q,type:e[0].replace(ra," ")}),c=c.slice(Q.length));for(l in R.filter)!(e=K[l].exec(c))||f[l]&&!(e=f[l](e))||(Q=e.shift(),h.push({value:Q,type:l,matches:e}),c=c.slice(Q.length));if(!Q)break}return a?c.length:c?d.error(v):xa(v,u).slice(0)};return E=d.compile=function(v,a){var d,e=[],K=[],h=ja[v+" "];if(!h){a||(a=Ha(v));for(d=a.length;d--;)h=A(a[d]),h[J]?e.push(h):K.push(h);h=ja(v,x(K,e));h.selector=v}return h},S=d.select=function(v,a,d,e){var h,l,c,f,u,Q="function"==typeof v&&v,q=!e&&
Ha(v=Q.selector||v);if(d=d||[],1===q.length){if(l=q[0]=q[0].slice(0),2<l.length&&"ID"===(c=l[0]).type&&na.getById&&9===a.nodeType&&G&&R.relative[l[1].type]){if(a=(R.find.ID(c.matches[0].replace(xb,yb),a)||[])[0],!a)return d;Q&&(a=a.parentNode);v=v.slice(l.shift().value.length)}for(h=K.needsContext.test(v)?0:l.length;h--&&(c=l[h],!R.relative[f=c.type]);)if((u=R.find[f])&&(e=u(c.matches[0].replace(xb,yb),Dc.test(l[0].type)&&t(a.parentNode)||a))){if(l.splice(h,1),v=e.length&&z(l),!v)return ka.apply(d,
e),d;break}}return(Q||E(v,q))(e,a,!G,d,!a||Dc.test(v)&&t(a.parentNode)||a),d},na.sortStable=J.split("").sort(P).join("")===J,na.detectDuplicates=!!H,Vb(),na.sortDetached=l(function(v){return 1&v.compareDocumentPosition(w.createElement("div"))}),l(function(v){return v.innerHTML="<a href='#'></a>","#"===v.firstChild.getAttribute("href")})||c("type|href|height|width",function(v,a,d){return d?void 0:v.getAttribute(a,"type"===a.toLowerCase()?1:2)}),na.attributes&&l(function(v){return v.innerHTML="<input/>",
v.firstChild.setAttribute("value",""),""===v.firstChild.getAttribute("value")})||c("value",function(v,a,d){return d||"input"!==v.nodeName.toLowerCase()?void 0:v.defaultValue}),l(function(v){return null==v.getAttribute("disabled")})||c("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(v,a,d){var e;return d?void 0:!0===v[a]?a.toLowerCase():(e=v.getAttributeNode(a))&&e.specified?e.value:null}),d}(k);w.find=Ia;w.expr=
Ia.selectors;w.expr[":"]=w.expr.pseudos;w.uniqueSort=w.unique=Ia.uniqueSort;w.text=Ia.getText;w.isXMLDoc=Ia.isXML;w.contains=Ia.contains;var Wa=function(a,d,e){for(var h=[],l=void 0!==e;(a=a[d])&&9!==a.nodeType;)if(1===a.nodeType){if(l&&w(a).is(e))break;h.push(a)}return h},Xb=function(a,d){for(var e=[];a;a=a.nextSibling)1===a.nodeType&&a!==d&&e.push(a);return e},zb=w.expr.match.needsContext,Yb=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Nb=/^.[^:#\[\.,]*$/;w.filter=function(a,d,e){var h=d[0];return e&&(a=":not("+
a+")"),1===d.length&&1===h.nodeType?w.find.matchesSelector(h,a)?[h]:[]:w.find.matches(a,w.grep(d,function(a){return 1===a.nodeType}))};w.fn.extend({find:function(a){var d,e=this.length,h=[],l=this;if("string"!=typeof a)return this.pushStack(w(a).filter(function(){for(d=0;e>d;d++)if(w.contains(l[d],this))return!0}));for(d=0;e>d;d++)w.find(a,l[d],h);return h=this.pushStack(1<e?w.unique(h):h),h.selector=this.selector?this.selector+" "+a:a,h},filter:function(a){return this.pushStack(m(this,a||[],!1))},
not:function(a){return this.pushStack(m(this,a||[],!0))},is:function(a){return!!m(this,"string"==typeof a&&zb.test(a)?w(a):a||[],!1).length}});var pb=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(w.fn.init=function(a,d,e){var h,l;if(!a)return this;if(e=e||qb,"string"==typeof a){if(h="<"===a[0]&&">"===a[a.length-1]&&3<=a.length?[null,a,null]:pb.exec(a),!h||!h[1]&&d)return!d||d.jquery?(d||e).find(a):this.constructor(d).find(a);if(h[1]){if(d=d instanceof w?d[0]:d,w.merge(this,w.parseHTML(h[1],d&&d.nodeType?
d.ownerDocument||d:T,!0)),Yb.test(h[1])&&w.isPlainObject(d))for(h in d)w.isFunction(this[h])?this[h](d[h]):this.attr(h,d[h]);return this}return l=T.getElementById(h[2]),l&&l.parentNode&&(this.length=1,this[0]=l),this.context=T,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):w.isFunction(a)?void 0!==e.ready?e.ready(a):a(w):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),w.makeArray(a,this))}).prototype=w.fn;var qb=w(T);var ib=/^(?:parents|prev(?:Until|All))/,
lc={children:!0,contents:!0,next:!0,prev:!0};w.fn.extend({has:function(a){var d=w(a,this),e=d.length;return this.filter(function(){for(var a=0;e>a;a++)if(w.contains(this,d[a]))return!0})},closest:function(a,d){for(var e,h=0,l=this.length,c=[],f=zb.test(a)||"string"!=typeof a?w(a,d||this.context):0;l>h;h++)for(e=this[h];e&&e!==d;e=e.parentNode)if(11>e.nodeType&&(f?-1<f.index(e):1===e.nodeType&&w.find.matchesSelector(e,a))){c.push(e);break}return this.pushStack(1<c.length?w.uniqueSort(c):c)},index:function(a){return a?
"string"==typeof a?Ha.call(w(a),this[0]):Ha.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,d){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(a,d))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});w.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return Wa(a,"parentNode")},parentsUntil:function(a,d,e){return Wa(a,"parentNode",e)},next:function(a){return n(a,
"nextSibling")},prev:function(a){return n(a,"previousSibling")},nextAll:function(a){return Wa(a,"nextSibling")},prevAll:function(a){return Wa(a,"previousSibling")},nextUntil:function(a,d,e){return Wa(a,"nextSibling",e)},prevUntil:function(a,d,e){return Wa(a,"previousSibling",e)},siblings:function(a){return Xb((a.parentNode||{}).firstChild,a)},children:function(a){return Xb(a.firstChild)},contents:function(a){return a.contentDocument||w.merge([],a.childNodes)}},function(a,d){w.fn[a]=function(e,h){var l=
w.map(this,d,e);return"Until"!==a.slice(-5)&&(h=e),h&&"string"==typeof h&&(l=w.filter(h,l)),1<this.length&&(lc[a]||w.uniqueSort(l),ib.test(a)&&l.reverse()),this.pushStack(l)}});var Ka=/\S+/g;w.Callbacks=function(a){a="string"==typeof a?p(a):w.extend({},a);var d,e,h,l,c=[],f=[],u=-1,q=function(){l=a.once;for(h=d=!0;f.length;u=-1)for(e=f.shift();++u<c.length;)!1===c[u].apply(e[0],e[1])&&a.stopOnFalse&&(u=c.length,e=!1);a.memory||(e=!1);d=!1;l&&(c=e?[]:"")},m={add:function(){return c&&(e&&!d&&(u=c.length-
1,f.push(e)),function wc(d){w.each(d,function(d,e){w.isFunction(e)?a.unique&&m.has(e)||c.push(e):e&&e.length&&"string"!==w.type(e)&&wc(e)})}(arguments),e&&!d&&q()),this},remove:function(){return w.each(arguments,function(a,d){for(var e;-1<(e=w.inArray(d,c,e));)c.splice(e,1),u>=e&&u--}),this},has:function(a){return a?-1<w.inArray(a,c):0<c.length},empty:function(){return c&&(c=[]),this},disable:function(){return l=f=[],c=e="",this},disabled:function(){return!c},lock:function(){return l=f=[],e||(c=e=
""),this},locked:function(){return!!l},fireWith:function(a,e){return l||(e=e||[],e=[a,e.slice?e.slice():e],f.push(e),d||q()),this},fire:function(){return m.fireWith(this,arguments),this},fired:function(){return!!h}};return m};w.extend({Deferred:function(a){var d=[["resolve","done",w.Callbacks("once memory"),"resolved"],["reject","fail",w.Callbacks("once memory"),"rejected"],["notify","progress",w.Callbacks("memory")]],e="pending",h={state:function(){return e},always:function(){return l.done(arguments).fail(arguments),
this},then:function(){var a=arguments;return w.Deferred(function(e){w.each(d,function(d,c){var f=w.isFunction(a[d])&&a[d];l[c[1]](function(){var a=f&&f.apply(this,arguments);a&&w.isFunction(a.promise)?a.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[c[0]+"With"](this===h?e.promise():this,f?[a]:arguments)})});a=null}).promise()},promise:function(a){return null!=a?w.extend(a,h):h}},l={};return h.pipe=h.then,w.each(d,function(a,c){var f=c[2],u=c[3];h[c[1]]=f.add;u&&f.add(function(){e=
u},d[1^a][2].disable,d[2][2].lock);l[c[0]]=function(){return l[c[0]+"With"](this===l?h:this,arguments),this};l[c[0]+"With"]=f.fireWith}),h.promise(l),a&&a.call(l,l),l},when:function(a){var d=0,e=Ca.call(arguments),h=e.length,l=1!==h||a&&w.isFunction(a.promise)?h:0,c=1===l?a:w.Deferred(),f=function(a,d,e){return function(h){d[a]=this;e[a]=1<arguments.length?Ca.call(arguments):h;e===q?c.notifyWith(d,e):--l||c.resolveWith(d,e)}},u;if(1<h){var q=Array(h);var m=Array(h);for(u=Array(h);h>d;d++)e[d]&&w.isFunction(e[d].promise)?
e[d].promise().progress(f(d,m,q)).done(f(d,u,e)).fail(c.reject):--l}return l||c.resolveWith(u,e),c.promise()}});var Xa;w.fn.ready=function(a){return w.ready.promise().done(a),this};w.extend({isReady:!1,readyWait:1,holdReady:function(a){a?w.readyWait++:w.ready(!0)},ready:function(a){(!0===a?--w.readyWait:w.isReady)||(w.isReady=!0,!0!==a&&0<--w.readyWait||(Xa.resolveWith(T,[w]),w.fn.triggerHandler&&(w(T).triggerHandler("ready"),w(T).off("ready"))))}});w.ready.promise=function(a){return Xa||(Xa=w.Deferred(),
"complete"===T.readyState||"loading"!==T.readyState&&!T.documentElement.doScroll?k.setTimeout(w.ready):(T.addEventListener("DOMContentLoaded",t),k.addEventListener("load",t))),Xa.promise(a)};w.ready.promise();var Ya=function(a,d,e,h,l,c,f){var u=0,q=a.length,m=null==e;if("object"===w.type(e))for(u in l=!0,e)Ya(a,d,u,e[u],!0,c,f);else if(void 0!==h&&(l=!0,w.isFunction(h)||(f=!0),m&&(f?(d.call(a,h),d=null):(m=d,d=function(a,d,e){return m.call(w(a),e)})),d))for(;q>u;u++)d(a[u],e,f?h:h.call(a[u],u,d(a[u],
e)));return l?a:m?d.call(a):q?d(a[0],e):c},rb=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};q.uid=1;q.prototype={register:function(a,d){d=d||{};return a.nodeType?a[this.expando]=d:Object.defineProperty(a,this.expando,{value:d,writable:!0,configurable:!0}),a[this.expando]},cache:function(a){if(!rb(a))return{};var d=a[this.expando];return d||(d={},rb(a)&&(a.nodeType?a[this.expando]=d:Object.defineProperty(a,this.expando,{value:d,configurable:!0}))),d},set:function(a,d,e){var h;a=
this.cache(a);if("string"==typeof d)a[d]=e;else for(h in d)a[h]=d[h];return a},get:function(a,d){return void 0===d?this.cache(a):a[this.expando]&&a[this.expando][d]},access:function(a,d,e){var h;return void 0===d||d&&"string"==typeof d&&void 0===e?(h=this.get(a,d),void 0!==h?h:this.get(a,w.camelCase(d))):(this.set(a,d,e),void 0!==e?e:d)},remove:function(a,d){var e,h,l=a[this.expando];if(void 0!==l){if(void 0===d)this.register(a);else for(w.isArray(d)?h=d.concat(d.map(w.camelCase)):(e=w.camelCase(d),
d in l?h=[d,e]:(h=e,h=h in l?[h]:h.match(Ka)||[])),e=h.length;e--;)delete l[h[e]];(void 0===d||w.isEmptyObject(l))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){a=a[this.expando];return void 0!==a&&!w.isEmptyObject(a)}};var V=new q,oa=new q,Ob=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ra=/[A-Z]/g;w.extend({hasData:function(a){return oa.hasData(a)||V.hasData(a)},data:function(a,d,e){return oa.access(a,d,e)},removeData:function(a,d){oa.remove(a,d)},_data:function(a,d,e){return V.access(a,
d,e)},_removeData:function(a,d){V.remove(a,d)}});w.fn.extend({data:function(d,e){var h,l,c,f=this[0],u=f&&f.attributes;if(void 0===d){if(this.length&&(c=oa.get(f),1===f.nodeType&&!V.get(f,"hasDataAttrs"))){for(h=u.length;h--;)u[h]&&(l=u[h].name,0===l.indexOf("data-")&&(l=w.camelCase(l.slice(5)),a(f,l,c[l])));V.set(f,"hasDataAttrs",!0)}return c}return"object"==typeof d?this.each(function(){oa.set(this,d)}):Ya(this,function(e){var h,l;if(f&&void 0===e){if((h=oa.get(f,d)||oa.get(f,d.replace(Ra,"-$&").toLowerCase()),
void 0!==h)||(l=w.camelCase(d),h=oa.get(f,l),void 0!==h)||(h=a(f,l,void 0),void 0!==h))return h}else l=w.camelCase(d),this.each(function(){var a=oa.get(this,l);oa.set(this,l,e);-1<d.indexOf("-")&&void 0!==a&&oa.set(this,d,e)})},null,e,1<arguments.length,null,!0)},removeData:function(a){return this.each(function(){oa.remove(this,a)})}});w.extend({queue:function(a,d,e){var h;return a?(d=(d||"fx")+"queue",h=V.get(a,d),e&&(!h||w.isArray(e)?h=V.access(a,d,w.makeArray(e)):h.push(e)),h||[]):void 0},dequeue:function(a,
d){d=d||"fx";var e=w.queue(a,d),h=e.length,l=e.shift(),c=w._queueHooks(a,d),f=function(){w.dequeue(a,d)};"inprogress"===l&&(l=e.shift(),h--);l&&("fx"===d&&e.unshift("inprogress"),delete c.stop,l.call(a,f,c));!h&&c&&c.empty.fire()},_queueHooks:function(a,d){var e=d+"queueHooks";return V.get(a,e)||V.access(a,e,{empty:w.Callbacks("once memory").add(function(){V.remove(a,[d+"queue",e])})})}});w.fn.extend({queue:function(a,d){var e=2;return"string"!=typeof a&&(d=a,a="fx",e--),arguments.length<e?w.queue(this[0],
a):void 0===d?this:this.each(function(){var e=w.queue(this,a,d);w._queueHooks(this,a);"fx"===a&&"inprogress"!==e[0]&&w.dequeue(this,a)})},dequeue:function(a){return this.each(function(){w.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,d){var e,h=1,l=w.Deferred(),c=this,f=this.length,u=function(){--h||l.resolveWith(c,[c])};"string"!=typeof a&&(d=a,a=void 0);for(a=a||"fx";f--;)(e=V.get(c[f],a+"queueHooks"))&&e.empty&&(h++,e.empty.add(u));return u(),l.promise(d)}});
var Zb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,eb=new RegExp("^(?:([+-])=|)("+Zb+")([a-z%]*)$","i"),Ea=["Top","Right","Bottom","Left"],Sa=function(a,d){return a=d||a,"none"===w.css(a,"display")||!w.contains(a.ownerDocument,a)},$b=/^(?:checkbox|radio)$/i,ta=/<([\w:-]+)/,qa=/^$|\/(?:java|ecma)script/i,pa={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>",
"</tr></tbody></table>"],_default:[0,"",""]};pa.optgroup=pa.option;pa.tbody=pa.tfoot=pa.colgroup=pa.caption=pa.thead;pa.th=pa.td;var Pb=/<|&#?\w+;/;!function(){var a=T.createDocumentFragment().appendChild(T.createElement("div")),d=T.createElement("input");d.setAttribute("type","radio");d.setAttribute("checked","checked");d.setAttribute("name","t");a.appendChild(d);da.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked;a.innerHTML="<textarea>x</textarea>";da.noCloneChecked=!!a.cloneNode(!0).lastChild.defaultValue}();
var La=/^key/,jb=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Kb=/^([^.]*)(?:\.(.+)|)/;w.event={global:{},add:function(a,d,e,h,l){var c,f,u,q,m,t,k,z;if(q=V.get(a))for(e.handler&&(c=e,e=c.handler,l=c.selector),e.guid||(e.guid=w.guid++),(u=q.events)||(u=q.events={}),(f=q.handle)||(f=q.handle=function(d){return"undefined"!=typeof w&&w.event.triggered!==d.type?w.event.dispatch.apply(a,arguments):void 0}),d=(d||"").match(Ka)||[""],q=d.length;q--;){var p=Kb.exec(d[q])||[];var n=z=p[1];p=(p[2]||"").split(".").sort();
n&&(t=w.event.special[n]||{},n=(l?t.delegateType:t.bindType)||n,t=w.event.special[n]||{},m=w.extend({type:n,origType:z,data:h,handler:e,guid:e.guid,selector:l,needsContext:l&&w.expr.match.needsContext.test(l),namespace:p.join(".")},c),(k=u[n])||(k=u[n]=[],k.delegateCount=0,t.setup&&!1!==t.setup.call(a,h,p,f)||a.addEventListener&&a.addEventListener(n,f)),t.add&&(t.add.call(a,m),m.handler.guid||(m.handler.guid=e.guid)),l?k.splice(k.delegateCount++,0,m):k.push(m),w.event.global[n]=!0)}},remove:function(a,
d,e,h,l){var c,f,u,q,m,t,k,z,p=V.hasData(a)&&V.get(a);if(p&&(q=p.events)){d=(d||"").match(Ka)||[""];for(m=d.length;m--;)if(u=Kb.exec(d[m])||[],t=z=u[1],k=(u[2]||"").split(".").sort(),t){var n=w.event.special[t]||{};t=(h?n.delegateType:n.bindType)||t;var C=q[t]||[];u=u[2]&&new RegExp("(^|\\.)"+k.join("\\.(?:.*\\.|)")+"(\\.|$)");for(f=c=C.length;c--;){var A=C[c];!l&&z!==A.origType||e&&e.guid!==A.guid||u&&!u.test(A.namespace)||h&&h!==A.selector&&("**"!==h||!A.selector)||(C.splice(c,1),A.selector&&C.delegateCount--,
n.remove&&n.remove.call(a,A))}f&&!C.length&&(n.teardown&&!1!==n.teardown.call(a,k,p.handle)||w.removeEvent(a,t,p.handle),delete q[t])}else for(t in q)w.event.remove(a,t+d[m],e,h,!0);w.isEmptyObject(q)&&V.remove(a,"handle events")}},dispatch:function(a){a=w.event.fix(a);var d,e,h,l,c=Ca.call(arguments);var f=(V.get(this,"events")||{})[a.type]||[];var u=w.event.special[a.type]||{};if(c[0]=a,a.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,a)){var q=w.event.handlers.call(this,a,f);
for(f=0;(h=q[f++])&&!a.isPropagationStopped();)for(a.currentTarget=h.elem,d=0;(l=h.handlers[d++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(l.namespace)||(a.handleObj=l,a.data=l.data,e=((w.event.special[l.origType]||{}).handle||l.handler).apply(h.elem,c),void 0!==e&&!1===(a.result=e)&&(a.preventDefault(),a.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,a),a.result}},handlers:function(a,d){var e,h=[],l=d.delegateCount,c=a.target;if(l&&c.nodeType&&("click"!==
a.type||isNaN(a.button)||1>a.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&(!0!==c.disabled||"click"!==a.type)){var f=[];for(e=0;l>e;e++){var u=d[e];var q=u.selector+" ";void 0===f[q]&&(f[q]=u.needsContext?-1<w(q,this).index(c):w.find(q,this,null,[c]).length);f[q]&&f.push(u)}f.length&&h.push({elem:c,handlers:f})}return l<d.length&&h.push({elem:this,handlers:d.slice(l)}),h},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,d){return null==a.which&&(a.which=null!=d.charCode?d.charCode:d.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,d){var e,h,l,c=d.button;return null==a.pageX&&null!=d.clientX&&(e=a.target.ownerDocument||T,h=e.documentElement,l=e.body,a.pageX=d.clientX+(h&&h.scrollLeft||l&&l.scrollLeft||0)-(h&&h.clientLeft||l&&l.clientLeft||
0),a.pageY=d.clientY+(h&&h.scrollTop||l&&l.scrollTop||0)-(h&&h.clientTop||l&&l.clientTop||0)),a.which||void 0===c||(a.which=1&c?1:2&c?3:4&c?2:0),a}},fix:function(a){if(a[w.expando])return a;var d=a.type;var e=a,h=this.fixHooks[d];h||(this.fixHooks[d]=h=jb.test(d)?this.mouseHooks:La.test(d)?this.keyHooks:{});var l=h.props?this.props.concat(h.props):this.props;a=new w.Event(e);for(d=l.length;d--;){var c=l[d];a[c]=e[c]}return a.target||(a.target=T),3===a.target.nodeType&&(a.target=a.target.parentNode),
h.filter?h.filter(a,e):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==C()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===C()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&w.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return w.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&
(a.originalEvent.returnValue=a.result)}}}};w.removeEvent=function(a,d,e){a.removeEventListener&&a.removeEventListener(d,e)};w.Event=function(a,d){return this instanceof w.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?u:z):this.type=a,d&&w.extend(this,d),this.timeStamp=a&&a.timeStamp||w.now(),void(this[w.expando]=!0)):new w.Event(a,d)};w.Event.prototype={constructor:w.Event,isDefaultPrevented:z,isPropagationStopped:z,
isImmediatePropagationStopped:z,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=u;a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=u;a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=u;a&&!this.isSimulated&&a.stopImmediatePropagation();this.stopPropagation()}};w.each({mouseenter:"mouseover",mouseleave:"mouseout",
pointerenter:"pointerover",pointerleave:"pointerout"},function(a,d){w.event.special[a]={delegateType:d,bindType:d,handle:function(a){var e,h=a.relatedTarget,l=a.handleObj;return h&&(h===this||w.contains(this,h))||(a.type=l.origType,e=l.handler.apply(this,arguments),a.type=d),e}}});w.fn.extend({on:function(a,d,e,h){return D(this,a,d,e,h)},one:function(a,d,e,h){return D(this,a,d,e,h,1)},off:function(a,d,e){var h,l;if(a&&a.preventDefault&&a.handleObj)return h=a.handleObj,w(a.delegateTarget).off(h.namespace?
h.origType+"."+h.namespace:h.origType,h.selector,h.handler),this;if("object"==typeof a){for(l in a)this.off(l,d,a[l]);return this}return!1!==d&&"function"!=typeof d||(e=d,d=void 0),!1===e&&(e=z),this.each(function(){w.event.remove(this,a,e,d)})}});var Da=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Ab=/<script|<style|<link/i,ab=/checked\s*(?:[^=]|=\s*.checked.)/i,ca=/^true\/(.*)/,Ma=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;w.extend({htmlPrefilter:function(a){return a.replace(Da,
"<$1></$2>")},clone:function(a,e,h){var c,f=a.cloneNode(!0),u=w.contains(a.ownerDocument,a);if(!(da.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||w.isXMLDoc(a))){var q=l(f);var m=l(a);var t=0;for(c=m.length;c>t;t++){var k=m[t],z=q[t],p=z.nodeName.toLowerCase();"input"===p&&$b.test(k.type)?z.checked=k.checked:"input"!==p&&"textarea"!==p||(z.defaultValue=k.defaultValue)}}if(e)if(h)for(m=m||l(a),q=q||l(f),t=0,c=m.length;c>t;t++)A(m[t],q[t]);else A(a,f);return q=l(f,"script"),0<q.length&&d(q,!u&&l(a,
"script")),f},cleanData:function(a){for(var d,e,h,l=w.event.special,c=0;void 0!==(e=a[c]);c++)if(rb(e)){if(d=e[V.expando]){if(d.events)for(h in d.events)l[h]?w.event.remove(e,h):w.removeEvent(e,h,d.handle);e[V.expando]=void 0}e[oa.expando]&&(e[oa.expando]=void 0)}}});w.fn.extend({domManip:G,detach:function(a){return B(this,a,!0)},remove:function(a){return B(this,a)},text:function(a){return Ya(this,function(a){return void 0===a?w.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&
9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return G(this,arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||x(this,a).appendChild(a)})},prepend:function(){return G(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var d=x(this,a);d.insertBefore(a,d.firstChild)}})},before:function(){return G(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return G(this,
arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,d=0;null!=(a=this[d]);d++)1===a.nodeType&&(w.cleanData(l(a,!1)),a.textContent="");return this},clone:function(a,d){return a=null==a?!1:a,d=null==d?a:d,this.map(function(){return w.clone(this,a,d)})},html:function(a){return Ya(this,function(a){var d=this[0]||{},e=0,h=this.length;if(void 0===a&&1===d.nodeType)return d.innerHTML;if("string"==typeof a&&!Ab.test(a)&&!pa[(ta.exec(a)||["",
""])[1].toLowerCase()]){a=w.htmlPrefilter(a);try{for(;h>e;e++)d=this[e]||{},1===d.nodeType&&(w.cleanData(l(d,!1)),d.innerHTML=a);d=0}catch(uc){}}d&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return G(this,arguments,function(d){var e=this.parentNode;0>w.inArray(this,a)&&(w.cleanData(l(this)),e&&e.replaceChild(d,this))},a)}});w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,d){w.fn[a]=
function(a){for(var e=[],h=w(a),l=h.length-1,c=0;l>=c;c++)a=c===l?this:this.clone(!0),w(h[c])[d](a),ya.apply(e,a.get());return this.pushStack(e)}});var bb,hc={HTML:"block",BODY:"block"},Aa=/^margin/,Qb=new RegExp("^("+Zb+")(?!px)[a-z%]+$","i"),Gb=function(a){var d=a.ownerDocument.defaultView;return d&&d.opener||(d=k),d.getComputedStyle(a)},Fa=function(a,d,e,h){var l,c={};for(l in d)c[l]=a.style[l],a.style[l]=d[l];e=e.apply(a,h||[]);for(l in d)a.style[l]=c[l];return e},Za=T.documentElement;!function(){var a,
d,e,h,l=T.createElement("div"),c=T.createElement("div");if(c.style){var f=function(){c.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%";c.innerHTML="";Za.appendChild(l);var f=k.getComputedStyle(c);a="1%"!==f.top;h="2px"===f.marginLeft;d="4px"===f.width;c.style.marginRight="50%";e="4px"===f.marginRight;Za.removeChild(l)};c.style.backgroundClip="content-box";c.cloneNode(!0).style.backgroundClip=
"";da.clearCloneStyle="content-box"===c.style.backgroundClip;l.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute";l.appendChild(c);w.extend(da,{pixelPosition:function(){return f(),a},boxSizingReliable:function(){return null==d&&f(),d},pixelMarginRight:function(){return null==d&&f(),e},reliableMarginLeft:function(){return null==d&&f(),h},reliableMarginRight:function(){var a,d=c.appendChild(T.createElement("div"));return d.style.cssText=c.style.cssText=
"-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",d.style.marginRight=d.style.width="0",c.style.width="1px",Za.appendChild(l),a=!parseFloat(k.getComputedStyle(d).marginRight),Za.removeChild(l),c.removeChild(d),a}})}}();var Na=/^(none|table(?!-c[ea]).+)/,Oa={position:"absolute",visibility:"hidden",display:"block"},ac={letterSpacing:"0",fontWeight:"400"},N=["Webkit","O","Moz","ms"],vb=T.createElement("div").style;w.extend({cssHooks:{opacity:{get:function(a,
d){if(d)return a=M(a,"opacity"),""===a?"1":a}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,d,e,l){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var c,f,u,q=w.camelCase(d),m=a.style;return d=w.cssProps[q]||(w.cssProps[q]=J(q)||q),u=w.cssHooks[d]||w.cssHooks[q],void 0===e?u&&"get"in u&&void 0!==(c=u.get(a,!1,l))?c:
m[d]:(f=typeof e,"string"===f&&(c=eb.exec(e))&&c[1]&&(e=h(a,d,c),f="number"),null!=e&&e===e&&("number"===f&&(e+=c&&c[3]||(w.cssNumber[q]?"":"px")),da.clearCloneStyle||""!==e||0!==d.indexOf("background")||(m[d]="inherit"),u&&"set"in u&&void 0===(e=u.set(a,e,l))||(m[d]=e)),void 0)}},css:function(a,d,e,h){var l,c,f,u=w.camelCase(d);return d=w.cssProps[u]||(w.cssProps[u]=J(u)||u),f=w.cssHooks[d]||w.cssHooks[u],f&&"get"in f&&(l=f.get(a,!0,e)),void 0===l&&(l=M(a,d,h)),"normal"===l&&d in ac&&(l=ac[d]),""===
e||e?(c=parseFloat(l),!0===e||isFinite(c)?c||0:l):l}});w.each(["height","width"],function(a,d){w.cssHooks[d]={get:function(a,e,h){return e?Na.test(w.css(a,"display"))&&0===a.offsetWidth?Fa(a,Oa,function(){return U(a,d,h)}):U(a,d,h):void 0},set:function(a,e,h){var l,c=h&&Gb(a);h=h&&W(a,d,h,"border-box"===w.css(a,"boxSizing",!1,c),c);return h&&(l=eb.exec(e))&&"px"!==(l[3]||"px")&&(a.style[d]=e,e=w.css(a,d)),P(a,e,h)}}});w.cssHooks.marginLeft=L(da.reliableMarginLeft,function(a,d){return d?(parseFloat(M(a,
"marginLeft"))||a.getBoundingClientRect().left-Fa(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px":void 0});w.cssHooks.marginRight=L(da.reliableMarginRight,function(a,d){return d?Fa(a,{display:"inline-block"},M,[a,"marginRight"]):void 0});w.each({margin:"",padding:"",border:"Width"},function(a,d){w.cssHooks[a+d]={expand:function(e){var h=0,l={};for(e="string"==typeof e?e.split(" "):[e];4>h;h++)l[a+Ea[h]+d]=e[h]||e[h-2]||e[0];return l}};Aa.test(a)||(w.cssHooks[a+d].set=P)});
w.fn.extend({css:function(a,d){return Ya(this,function(a,d,e){var h,l={},c=0;if(w.isArray(d)){e=Gb(a);for(h=d.length;h>c;c++)l[d[c]]=w.css(a,d[c],!1,e);return l}return void 0!==e?w.style(a,d,e):w.css(a,d)},a,d,1<arguments.length)},show:function(){return Z(this,!0)},hide:function(){return Z(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){Sa(this)?w(this).show():w(this).hide()})}});w.Tween=X;X.prototype={constructor:X,init:function(a,d,e,h,l,c){this.elem=
a;this.prop=e;this.easing=l||w.easing._default;this.options=d;this.start=this.now=this.cur();this.end=h;this.unit=c||(w.cssNumber[e]?"":"px")},cur:function(){var a=X.propHooks[this.prop];return a&&a.get?a.get(this):X.propHooks._default.get(this)},run:function(a){var d,e=X.propHooks[this.prop];return this.options.duration?this.pos=d=w.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=d=a,this.now=(this.end-this.start)*d+this.start,this.options.step&&this.options.step.call(this.elem,
this.now,this),e&&e.set?e.set(this):X.propHooks._default.set(this),this}};X.prototype.init.prototype=X.prototype;X.propHooks={_default:{get:function(a){var d;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(d=w.css(a.elem,a.prop,""),d&&"auto"!==d?d:0)},set:function(a){w.fx.step[a.prop]?w.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[w.cssProps[a.prop]]&&!w.cssHooks[a.prop]?a.elem[a.prop]=a.now:w.style(a.elem,a.prop,a.now+a.unit)}}};X.propHooks.scrollTop=
X.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};w.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"};w.fx=X.prototype.init;w.fx.step={};var y,wa,Bb=/^(?:toggle|show|hide)$/,bc=/queueHooks$/;w.Animation=w.extend(O,{tweeners:{"*":[function(a,d){var e=this.createTween(a,d);return h(e.elem,a,eb.exec(d),e),e}]},tweener:function(a,d){w.isFunction(a)?(d=a,a=["*"]):a=a.match(Ka);for(var e,h=0,l=a.length;l>
h;h++)e=a[h],O.tweeners[e]=O.tweeners[e]||[],O.tweeners[e].unshift(d)},prefilters:[function(a,d,e){var h,l,c,f,u,q,m,t=this,k={},z=a.style,p=a.nodeType&&Sa(a),n=V.get(a,"fxshow");e.queue||(f=w._queueHooks(a,"fx"),null==f.unqueued&&(f.unqueued=0,u=f.empty.fire,f.empty.fire=function(){f.unqueued||u()}),f.unqueued++,t.always(function(){t.always(function(){f.unqueued--;w.queue(a,"fx").length||f.empty.fire()})}));1===a.nodeType&&("height"in d||"width"in d)&&(e.overflow=[z.overflow,z.overflowX,z.overflowY],
q=w.css(a,"display"),m="none"===q?V.get(a,"olddisplay")||I(a.nodeName):q,"inline"===m&&"none"===w.css(a,"float")&&(z.display="inline-block"));e.overflow&&(z.overflow="hidden",t.always(function(){z.overflow=e.overflow[0];z.overflowX=e.overflow[1];z.overflowY=e.overflow[2]}));for(h in d)if(l=d[h],Bb.exec(l)){if(delete d[h],c=c||"toggle"===l,l===(p?"hide":"show")){if("show"!==l||!n||void 0===n[h])continue;p=!0}k[h]=n&&n[h]||w.style(a,h)}else q=void 0;if(w.isEmptyObject(k))"inline"===("none"===q?I(a.nodeName):
q)&&(z.display=q);else for(h in n?"hidden"in n&&(p=n.hidden):n=V.access(a,"fxshow",{}),c&&(n.hidden=!p),p?w(a).show():t.done(function(){w(a).hide()}),t.done(function(){var d;V.remove(a,"fxshow");for(d in k)w.style(a,d,k[d])}),k)d=va(p?n[h]:0,h,t),h in n||(n[h]=d.start,p&&(d.end=d.start,d.start="width"===h||"height"===h?1:0))}],prefilter:function(a,d){d?O.prefilters.unshift(a):O.prefilters.push(a)}});w.speed=function(a,d,e){var h=a&&"object"==typeof a?w.extend({},a):{complete:e||!e&&d||w.isFunction(a)&&
a,duration:a,easing:e&&d||d&&!w.isFunction(d)&&d};return h.duration=w.fx.off?0:"number"==typeof h.duration?h.duration:h.duration in w.fx.speeds?w.fx.speeds[h.duration]:w.fx.speeds._default,null!=h.queue&&!0!==h.queue||(h.queue="fx"),h.old=h.complete,h.complete=function(){w.isFunction(h.old)&&h.old.call(this);h.queue&&w.dequeue(this,h.queue)},h};w.fn.extend({fadeTo:function(a,d,e,h){return this.filter(Sa).css("opacity",0).show().end().animate({opacity:d},a,e,h)},animate:function(a,d,e,h){var l=w.isEmptyObject(a),
c=w.speed(d,e,h);d=function(){var d=O(this,w.extend({},a),c);(l||V.get(this,"finish"))&&d.stop(!0)};return d.finish=d,l||!1===c.queue?this.each(d):this.queue(c.queue,d)},stop:function(a,d,e){var h=function(a){var d=a.stop;delete a.stop;d(e)};return"string"!=typeof a&&(e=d,d=a,a=void 0),d&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var d=!0,l=null!=a&&a+"queueHooks",c=w.timers,f=V.get(this);if(l)f[l]&&f[l].stop&&h(f[l]);else for(l in f)f[l]&&f[l].stop&&bc.test(l)&&h(f[l]);for(l=c.length;l--;)c[l].elem!==
this||null!=a&&c[l].queue!==a||(c[l].anim.stop(e),d=!1,c.splice(l,1));!d&&e||w.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var d=V.get(this),e=d[a+"queue"];var h=d[a+"queueHooks"];var l=w.timers,c=e?e.length:0;d.finish=!0;w.queue(this,a,[]);h&&h.stop&&h.stop.call(this,!0);for(h=l.length;h--;)l[h].elem===this&&l[h].queue===a&&(l[h].anim.stop(!0),l.splice(h,1));for(h=0;c>h;h++)e[h]&&e[h].finish&&e[h].finish.call(this);delete d.finish})}});w.each(["toggle","show",
"hide"],function(a,d){var e=w.fn[d];w.fn[d]=function(a,h,l){return null==a||"boolean"==typeof a?e.apply(this,arguments):this.animate(Ba(d,!0),a,h,l)}});w.each({slideDown:Ba("show"),slideUp:Ba("hide"),slideToggle:Ba("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,d){w.fn[a]=function(a,e,h){return this.animate(d,a,e,h)}});w.timers=[];w.fx.tick=function(){var a=0,d=w.timers;for(y=w.now();a<d.length;a++){var e=d[a];e()||d[a]!==e||d.splice(a--,1)}d.length||
w.fx.stop();y=void 0};w.fx.timer=function(a){w.timers.push(a);a()?w.fx.start():w.timers.pop()};w.fx.interval=13;w.fx.start=function(){wa||(wa=k.setInterval(w.fx.tick,w.fx.interval))};w.fx.stop=function(){k.clearInterval(wa);wa=null};w.fx.speeds={slow:600,fast:200,_default:400};w.fn.delay=function(a,d){return a=w.fx?w.fx.speeds[a]||a:a,d=d||"fx",this.queue(d,function(d,e){var h=k.setTimeout(d,a);e.stop=function(){k.clearTimeout(h)}})};(function(){var a=T.createElement("input"),d=T.createElement("select"),
e=d.appendChild(T.createElement("option"));a.type="checkbox";da.checkOn=""!==a.value;da.optSelected=e.selected;d.disabled=!0;da.optDisabled=!e.disabled;a=T.createElement("input");a.value="t";a.type="radio";da.radioValue="t"===a.value})();var Ja=w.expr.attrHandle;w.fn.extend({attr:function(a,d){return Ya(this,w.attr,a,d,1<arguments.length)},removeAttr:function(a){return this.each(function(){w.removeAttr(this,a)})}});w.extend({attr:function(a,d,e){var h,l,c=a.nodeType;if(3!==c&&8!==c&&2!==c)return"undefined"==
typeof a.getAttribute?w.prop(a,d,e):(1===c&&w.isXMLDoc(a)||(d=d.toLowerCase(),l=w.attrHooks[d]||(w.expr.match.bool.test(d)?mc:void 0)),void 0!==e?null===e?void w.removeAttr(a,d):l&&"set"in l&&void 0!==(h=l.set(a,e,d))?h:(a.setAttribute(d,e+""),e):l&&"get"in l&&null!==(h=l.get(a,d))?h:(h=w.find.attr(a,d),null==h?void 0:h))},attrHooks:{type:{set:function(a,d){if(!da.radioValue&&"radio"===d&&w.nodeName(a,"input")){var e=a.value;return a.setAttribute("type",d),e&&(a.value=e),d}}}},removeAttr:function(a,
d){var e=0,h=d&&d.match(Ka);if(h&&1===a.nodeType)for(;d=h[e++];){var l=w.propFix[d]||d;w.expr.match.bool.test(d)&&(a[l]=!1);a.removeAttribute(d)}}});var mc={set:function(a,d,e){return!1===d?w.removeAttr(a,e):a.setAttribute(e,e),e}};w.each(w.expr.match.bool.source.match(/\w+/g),function(a,d){var e=Ja[d]||w.find.attr;Ja[d]=function(a,d,h){var l,c;return h||(c=Ja[d],Ja[d]=l,l=null!=e(a,d,h)?d.toLowerCase():null,Ja[d]=c),l}});var Ua=/^(?:input|select|textarea|button)$/i,sc=/^(?:a|area)$/i;w.fn.extend({prop:function(a,
d){return Ya(this,w.prop,a,d,1<arguments.length)},removeProp:function(a){return this.each(function(){delete this[w.propFix[a]||a]})}});w.extend({prop:function(a,d,e){var h,l,c=a.nodeType;if(3!==c&&8!==c&&2!==c)return 1===c&&w.isXMLDoc(a)||(d=w.propFix[d]||d,l=w.propHooks[d]),void 0!==e?l&&"set"in l&&void 0!==(h=l.set(a,e,d))?h:a[d]=e:l&&"get"in l&&null!==(h=l.get(a,d))?h:a[d]},propHooks:{tabIndex:{get:function(a){var d=w.find.attr(a,"tabindex");return d?parseInt(d,10):Ua.test(a.nodeName)||sc.test(a.nodeName)&&
a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});da.optSelected||(w.propHooks.selected={get:function(a){a=a.parentNode;return a&&a.parentNode&&a.parentNode.selectedIndex,null},set:function(a){a=a.parentNode;a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex)}});w.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){w.propFix[this.toLowerCase()]=this});var Cb=/[\t\r\n\f]/g;w.fn.extend({addClass:function(a){var d,
e,h,l,c,f,u=0;if(w.isFunction(a))return this.each(function(d){w(this).addClass(a.call(this,d,S(this)))});if("string"==typeof a&&a)for(d=a.match(Ka)||[];e=this[u++];)if(l=S(e),h=1===e.nodeType&&(" "+l+" ").replace(Cb," ")){for(f=0;c=d[f++];)0>h.indexOf(" "+c+" ")&&(h+=c+" ");h=w.trim(h);l!==h&&e.setAttribute("class",h)}return this},removeClass:function(a){var d,e,h,l,c,f,u=0;if(w.isFunction(a))return this.each(function(d){w(this).removeClass(a.call(this,d,S(this)))});if(!arguments.length)return this.attr("class",
"");if("string"==typeof a&&a)for(d=a.match(Ka)||[];e=this[u++];)if(l=S(e),h=1===e.nodeType&&(" "+l+" ").replace(Cb," ")){for(f=0;c=d[f++];)for(;-1<h.indexOf(" "+c+" ");)h=h.replace(" "+c+" "," ");h=w.trim(h);l!==h&&e.setAttribute("class",h)}return this},toggleClass:function(a,d){var e=typeof a;return"boolean"==typeof d&&"string"===e?d?this.addClass(a):this.removeClass(a):w.isFunction(a)?this.each(function(e){w(this).toggleClass(a.call(this,e,S(this),d),d)}):this.each(function(){var d,h;if("string"===
e){var l=0;var c=w(this);for(h=a.match(Ka)||[];d=h[l++];)c.hasClass(d)?c.removeClass(d):c.addClass(d)}else void 0!==a&&"boolean"!==e||(d=S(this),d&&V.set(this,"__className__",d),this.setAttribute&&this.setAttribute("class",d||!1===a?"":V.get(this,"__className__")||""))})},hasClass:function(a){var d,e=0;for(a=" "+a+" ";d=this[e++];)if(1===d.nodeType&&-1<(" "+S(d)+" ").replace(Cb," ").indexOf(a))return!0;return!1}});var Db=/\r/g,tc=/[\x20\t\r\n\f]+/g;w.fn.extend({val:function(a){var d,e,h,l=this[0];
if(arguments.length)return h=w.isFunction(a),this.each(function(e){var l;1===this.nodeType&&(l=h?a.call(this,e,w(this).val()):a,null==l?l="":"number"==typeof l?l+="":w.isArray(l)&&(l=w.map(l,function(a){return null==a?"":a+""})),d=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()],d&&"set"in d&&void 0!==d.set(this,l,"value")||(this.value=l))});if(l)return d=w.valHooks[l.type]||w.valHooks[l.nodeName.toLowerCase()],d&&"get"in d&&void 0!==(e=d.get(l,"value"))?e:(e=l.value,"string"==typeof e?
e.replace(Db,""):null==e?"":e)}});w.extend({valHooks:{option:{get:function(a){var d=w.find.attr(a,"value");return null!=d?d:w.trim(w.text(a)).replace(tc," ")}},select:{get:function(a){for(var d,e=a.options,h=a.selectedIndex,l="select-one"===a.type||0>h,c=l?null:[],f=l?h+1:e.length,u=0>h?f:l?h:0;f>u;u++)if(d=e[u],!(!d.selected&&u!==h||(da.optDisabled?d.disabled:null!==d.getAttribute("disabled"))||d.parentNode.disabled&&w.nodeName(d.parentNode,"optgroup"))){if(a=w(d).val(),l)return a;c.push(a)}return c},
set:function(a,d){for(var e,h=a.options,l=w.makeArray(d),c=h.length;c--;)d=h[c],(d.selected=-1<w.inArray(w.valHooks.option.get(d),l))&&(e=!0);return e||(a.selectedIndex=-1),l}}}});w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(a,d){return w.isArray(d)?a.checked=-1<w.inArray(w(a).val(),d):void 0}};da.checkOn||(w.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var Eb=/^(?:focusinfocus|focusoutblur)$/;w.extend(w.event,{trigger:function(a,d,
e,h){var l,c,f,u,q,m=[e||T],t=cb.call(a,"type")?a.type:a;var z=cb.call(a,"namespace")?a.namespace.split("."):[];if(l=c=e=e||T,3!==e.nodeType&&8!==e.nodeType&&!Eb.test(t+w.event.triggered)&&(-1<t.indexOf(".")&&(z=t.split("."),t=z.shift(),z.sort()),f=0>t.indexOf(":")&&"on"+t,a=a[w.expando]?a:new w.Event(t,"object"==typeof a&&a),a.isTrigger=h?2:3,a.namespace=z.join("."),a.rnamespace=a.namespace?new RegExp("(^|\\.)"+z.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,a.result=void 0,a.target||(a.target=e),d=null==
d?[a]:w.makeArray(d,[a]),q=w.event.special[t]||{},h||!q.trigger||!1!==q.trigger.apply(e,d))){if(!h&&!q.noBubble&&!w.isWindow(e)){var p=q.delegateType||t;for(Eb.test(p+t)||(l=l.parentNode);l;l=l.parentNode)m.push(l),c=l;c===(e.ownerDocument||T)&&m.push(c.defaultView||c.parentWindow||k)}for(z=0;(l=m[z++])&&!a.isPropagationStopped();)a.type=1<z?p:q.bindType||t,(u=(V.get(l,"events")||{})[a.type]&&V.get(l,"handle"))&&u.apply(l,d),(u=f&&l[f])&&u.apply&&rb(l)&&(a.result=u.apply(l,d),!1===a.result&&a.preventDefault());
return a.type=t,h||a.isDefaultPrevented()||q._default&&!1!==q._default.apply(m.pop(),d)||!rb(e)||f&&w.isFunction(e[t])&&!w.isWindow(e)&&(c=e[f],c&&(e[f]=null),w.event.triggered=t,e[t](),w.event.triggered=void 0,c&&(e[f]=c)),a.result}},simulate:function(a,d,e){a=w.extend(new w.Event,e,{type:a,isSimulated:!0});w.event.trigger(a,null,d)}});w.fn.extend({trigger:function(a,d){return this.each(function(){w.event.trigger(a,d,this)})},triggerHandler:function(a,d){var e=this[0];return e?w.event.trigger(a,
d,e,!0):void 0}});w.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,d){w.fn[d]=function(a,e){return 0<arguments.length?this.on(d,null,a,e):this.trigger(d)}});w.fn.extend({hover:function(a,d){return this.mouseenter(a).mouseleave(d||a)}});da.focusin="onfocusin"in k;da.focusin||w.each({focus:"focusin",blur:"focusout"},function(a,
d){var e=function(a){w.event.simulate(d,a.target,w.event.fix(a))};w.event.special[d]={setup:function(){var h=this.ownerDocument||this,l=V.access(h,d);l||h.addEventListener(a,e,!0);V.access(h,d,(l||0)+1)},teardown:function(){var h=this.ownerDocument||this,l=V.access(h,d)-1;l?V.access(h,d,l):(h.removeEventListener(a,e,!0),V.remove(h,d))}}});var kb=k.location,Lb=w.now(),db=/\?/;w.parseJSON=function(a){return JSON.parse(a+"")};w.parseXML=function(a){if(!a||"string"!=typeof a)return null;try{var d=(new k.DOMParser).parseFromString(a,
"text/xml")}catch(oc){d=void 0}return d&&!d.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+a),d};var sa=/#.*$/,cc=/([?&])_=[^&]*/,nc=/^(.*?):[ \t]*([^\r\n]*)$/gm,lb=/^(?:GET|HEAD)$/,Fb=/^\/\//,sb={},Rb={},mb="*/".concat("*"),tb=T.createElement("a");tb.href=kb.href;w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:kb.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(kb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",
accepts:{"*":mb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":w.parseJSON,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,d){return d?xa(xa(a,w.ajaxSettings),d):xa(w.ajaxSettings,a)},ajaxPrefilter:ba(sb),ajaxTransport:ba(Rb),
ajax:function(a,d){function e(a,d,e,c){var q,A,x,E=d;if(2!==D){D=2;f&&k.clearTimeout(f);h=void 0;l=c||"";S.readyState=0<a?4:0;c=200<=a&&300>a||304===a;if(e){var I=m;for(var H=S,ba,G,F,O,M=I.contents,J=I.dataTypes;"*"===J[0];)J.shift(),void 0===ba&&(ba=I.mimeType||H.getResponseHeader("Content-Type"));if(ba)for(G in M)if(M[G]&&M[G].test(ba)){J.unshift(G);break}if(J[0]in e)F=J[0];else{for(G in e){if(!J[0]||I.converters[G+" "+J[0]]){F=G;break}O||(O=G)}F=F||O}I=F?(F!==J[0]&&J.unshift(F),e[F]):void 0}a:{e=
m;ba=I;G=S;F=c;var L,fa,ea;I={};H=e.dataTypes.slice();if(H[1])for(L in e.converters)I[L.toLowerCase()]=e.converters[L];for(O=H.shift();O;)if(e.responseFields[O]&&(G[e.responseFields[O]]=ba),!ea&&F&&e.dataFilter&&(ba=e.dataFilter(ba,e.dataType)),ea=O,O=H.shift())if("*"===O)O=ea;else if("*"!==ea&&ea!==O){if(L=I[ea+" "+O]||I["* "+O],!L)for(y in I)if(fa=y.split(" "),fa[1]===O&&(L=I[ea+" "+fa[0]]||I["* "+fa[0]])){!0===L?L=I[y]:!0!==I[y]&&(O=fa[0],H.unshift(fa[1]));break}if(!0!==L)if(L&&e["throws"])ba=
L(ba);else try{ba=L(ba)}catch(Jc){var y={state:"parsererror",error:L?Jc:"No conversion from "+ea+" to "+O};break a}}y={state:"success",data:ba}}I=y;c?(m.ifModified&&(x=S.getResponseHeader("Last-Modified"),x&&(w.lastModified[B]=x),x=S.getResponseHeader("etag"),x&&(w.etag[B]=x)),204===a||"HEAD"===m.type?E="nocontent":304===a?E="notmodified":(E=I.state,q=I.data,A=I.error,c=!A)):(A=E,!a&&E||(E="error",0>a&&(a=0)));S.status=a;S.statusText=(d||E)+"";c?p.resolveWith(t,[q,E,S]):p.rejectWith(t,[S,E,A]);S.statusCode(C);
C=void 0;u&&z.trigger(c?"ajaxSuccess":"ajaxError",[S,m,c?q:A]);n.fireWith(t,[S,E]);u&&(z.trigger("ajaxComplete",[S,m]),--w.active||w.event.trigger("ajaxStop"))}}"object"==typeof a&&(d=a,a=void 0);d=d||{};var h,l,c,f,u,q,m=w.ajaxSetup({},d),t=m.context||m,z=m.context&&(t.nodeType||t.jquery)?w(t):w.event,p=w.Deferred(),n=w.Callbacks("once memory"),C=m.statusCode||{},A={},x={},D=0,E="canceled",S={readyState:0,getResponseHeader:function(a){var d;if(2===D){if(!c)for(c={};d=nc.exec(l);)c[d[1].toLowerCase()]=
d[2];d=c[a.toLowerCase()]}return null==d?null:d},getAllResponseHeaders:function(){return 2===D?l:null},setRequestHeader:function(a,d){var e=a.toLowerCase();return D||(a=x[e]=x[e]||a,A[a]=d),this},overrideMimeType:function(a){return D||(m.mimeType=a),this},statusCode:function(a){var d;if(a)if(2>D)for(d in a)C[d]=[C[d],a[d]];else S.always(a[S.status]);return this},abort:function(a){a=a||E;return h&&h.abort(a),e(0,a),this}};if(p.promise(S).complete=n.add,S.success=S.done,S.error=S.fail,m.url=((a||m.url||
kb.href)+"").replace(sa,"").replace(Fb,kb.protocol+"//"),m.type=d.method||d.type||m.method||m.type,m.dataTypes=w.trim(m.dataType||"*").toLowerCase().match(Ka)||[""],null==m.crossDomain){a=T.createElement("a");try{a.href=m.url,a.href=a.href,m.crossDomain=tb.protocol+"//"+tb.host!=a.protocol+"//"+a.host}catch(jc){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=w.param(m.data,m.traditional)),fa(sb,m,d,S),2===D)return S;(u=w.event&&m.global)&&0===w.active++&&w.event.trigger("ajaxStart");
m.type=m.type.toUpperCase();m.hasContent=!lb.test(m.type);var B=m.url;m.hasContent||(m.data&&(B=m.url+=(db.test(B)?"&":"?")+m.data,delete m.data),!1===m.cache&&(m.url=cc.test(B)?B.replace(cc,"$1_="+Lb++):B+(db.test(B)?"&":"?")+"_="+Lb++));m.ifModified&&(w.lastModified[B]&&S.setRequestHeader("If-Modified-Since",w.lastModified[B]),w.etag[B]&&S.setRequestHeader("If-None-Match",w.etag[B]));(m.data&&m.hasContent&&!1!==m.contentType||d.contentType)&&S.setRequestHeader("Content-Type",m.contentType);S.setRequestHeader("Accept",
m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+mb+"; q=0.01":""):m.accepts["*"]);for(q in m.headers)S.setRequestHeader(q,m.headers[q]);if(m.beforeSend&&(!1===m.beforeSend.call(t,S,m)||2===D))return S.abort();E="abort";for(q in{success:1,error:1,complete:1})S[q](m[q]);if(h=fa(Rb,m,d,S)){if(S.readyState=1,u&&z.trigger("ajaxSend",[S,m]),2===D)return S;m.async&&0<m.timeout&&(f=k.setTimeout(function(){S.abort("timeout")},m.timeout));try{D=1,h.send(A,e)}catch(jc){if(!(2>
D))throw jc;e(-1,jc)}}else e(-1,"No Transport");return S},getJSON:function(a,d,e){return w.get(a,d,e,"json")},getScript:function(a,d){return w.get(a,void 0,d,"script")}});w.each(["get","post"],function(a,d){w[d]=function(a,e,h,l){return w.isFunction(e)&&(l=l||h,h=e,e=void 0),w.ajax(w.extend({url:a,type:d,dataType:l,data:e,success:h},w.isPlainObject(a)&&a))}});w._evalUrl=function(a){return w.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})};w.fn.extend({wrapAll:function(a){var d;
return w.isFunction(a)?this.each(function(d){w(this).wrapAll(a.call(this,d))}):(this[0]&&(d=w(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&d.insertBefore(this[0]),d.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return w.isFunction(a)?this.each(function(d){w(this).wrapInner(a.call(this,d))}):this.each(function(){var d=w(this),e=d.contents();e.length?e.wrapAll(a):d.append(a)})},wrap:function(a){var d=w.isFunction(a);
return this.each(function(e){w(this).wrapAll(d?a.call(this,e):a)})},unwrap:function(){return this.parent().each(function(){w.nodeName(this,"body")||w(this).replaceWith(this.childNodes)}).end()}});w.expr.filters.hidden=function(a){return!w.expr.filters.visible(a)};w.expr.filters.visible=function(a){return 0<a.offsetWidth||0<a.offsetHeight||0<a.getClientRects().length};var Mb=/%20/g,Sb=/\[\]$/,Va=/\r?\n/g,dc=/^(?:submit|button|image|reset|file)$/i,ec=/^(?:input|select|textarea|keygen)/i;w.param=function(a,
d){var e,h=[],l=function(a,d){d=w.isFunction(d)?d():null==d?"":d;h[h.length]=encodeURIComponent(a)+"="+encodeURIComponent(d)};if(void 0===d&&(d=w.ajaxSettings&&w.ajaxSettings.traditional),w.isArray(a)||a.jquery&&!w.isPlainObject(a))w.each(a,function(){l(this.name,this.value)});else for(e in a)ma(e,a[e],d,l);return h.join("&").replace(Mb,"+")};w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=w.prop(this,"elements");
return a?w.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!w(this).is(":disabled")&&ec.test(this.nodeName)&&!dc.test(a)&&(this.checked||!$b.test(a))}).map(function(a,d){a=w(this).val();return null==a?null:w.isArray(a)?w.map(a,function(a){return{name:d.name,value:a.replace(Va,"\r\n")}}):{name:d.name,value:a.replace(Va,"\r\n")}}).get()}});w.ajaxSettings.xhr=function(){try{return new k.XMLHttpRequest}catch(aa){}};var fc={0:200,1223:204},Pa=w.ajaxSettings.xhr();da.cors=!!Pa&&
"withCredentials"in Pa;da.ajax=Pa=!!Pa;w.ajaxTransport(function(a){var d,e;return da.cors||Pa&&!a.crossDomain?{send:function(h,l){var c,f=a.xhr();if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(c in a.xhrFields)f[c]=a.xhrFields[c];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType);a.crossDomain||h["X-Requested-With"]||(h["X-Requested-With"]="XMLHttpRequest");for(c in h)f.setRequestHeader(c,h[c]);d=function(a){return function(){d&&(d=e=f.onload=f.onerror=f.onabort=
f.onreadystatechange=null,"abort"===a?f.abort():"error"===a?"number"!=typeof f.status?l(0,"error"):l(f.status,f.statusText):l(fc[f.status]||f.status,f.statusText,"text"!==(f.responseType||"text")||"string"!=typeof f.responseText?{binary:f.response}:{text:f.responseText},f.getAllResponseHeaders()))}};f.onload=d();e=f.onerror=d("error");void 0!==f.onabort?f.onabort=e:f.onreadystatechange=function(){4===f.readyState&&k.setTimeout(function(){d&&e()})};d=d("abort");try{f.send(a.hasContent&&a.data||null)}catch(vc){if(d)throw vc;
}},abort:function(){d&&d()}}:void 0});w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return w.globalEval(a),a}}});w.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type="GET")});w.ajaxTransport("script",function(a){if(a.crossDomain){var d,e;return{send:function(h,l){d=w("<script>").prop({charset:a.scriptCharset,
src:a.url}).on("load error",e=function(a){d.remove();e=null;a&&l("error"===a.type?404:200,a.type)});T.head.appendChild(d[0])},abort:function(){e&&e()}}}});var ea=[],Qa=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=ea.pop()||w.expando+"_"+Lb++;return this[a]=!0,a}});w.ajaxPrefilter("json jsonp",function(a,d,e){var h,l,c,f=!1!==a.jsonp&&(Qa.test(a.url)?"url":"string"==typeof a.data&&0===(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&Qa.test(a.data)&&
"data");return f||"jsonp"===a.dataTypes[0]?(h=a.jsonpCallback=w.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,f?a[f]=a[f].replace(Qa,"$1"+h):!1!==a.jsonp&&(a.url+=(db.test(a.url)?"&":"?")+a.jsonp+"="+h),a.converters["script json"]=function(){return c||w.error(h+" was not called"),c[0]},a.dataTypes[0]="json",l=k[h],k[h]=function(){c=arguments},e.always(function(){void 0===l?w(k).removeProp(h):k[h]=l;a[h]&&(a.jsonpCallback=d.jsonpCallback,ea.push(h));c&&w.isFunction(l)&&l(c[0]);c=l=
void 0}),"script"):void 0});w.parseHTML=function(a,d,h){if(!a||"string"!=typeof a)return null;"boolean"==typeof d&&(h=d,d=!1);d=d||T;var l=Yb.exec(a);h=!h&&[];return l?[d.createElement(l[1])]:(l=e([a],d,h),h&&h.length&&w(h).remove(),w.merge([],l.childNodes))};var ja=w.fn.load;w.fn.load=function(a,d,e){if("string"!=typeof a&&ja)return ja.apply(this,arguments);var h,l,c,f=this,u=a.indexOf(" ");return-1<u&&(h=w.trim(a.slice(u)),a=a.slice(0,u)),w.isFunction(d)?(e=d,d=void 0):d&&"object"==typeof d&&(l=
"POST"),0<f.length&&w.ajax({url:a,type:l||"GET",dataType:"html",data:d}).done(function(a){c=arguments;f.html(h?w("<div>").append(w.parseHTML(a)).find(h):a)}).always(e&&function(a,d){f.each(function(){e.apply(this,c||[a.responseText,d,a])})}),this};w.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,d){w.fn[d]=function(a){return this.on(d,a)}});w.expr.filters.animated=function(a){return w.grep(w.timers,function(d){return a===d.elem}).length};w.offset={setOffset:function(a,
d,e){var h,l,c,f=w.css(a,"position"),u=w(a),q={};"static"===f&&(a.style.position="relative");var m=u.offset();var t=w.css(a,"top");var z=w.css(a,"left");("absolute"===f||"fixed"===f)&&-1<(t+z).indexOf("auto")?(h=u.position(),c=h.top,l=h.left):(c=parseFloat(t)||0,l=parseFloat(z)||0);w.isFunction(d)&&(d=d.call(a,e,w.extend({},m)));null!=d.top&&(q.top=d.top-m.top+c);null!=d.left&&(q.left=d.left-m.left+l);"using"in d?d.using.call(a,q):u.css(q)}};w.fn.extend({offset:function(a){if(arguments.length)return void 0===
a?this:this.each(function(d){w.offset.setOffset(this,a,d)});var d,e,h=this[0],l={top:0,left:0},c=h&&h.ownerDocument;if(c)return d=c.documentElement,w.contains(d,h)?(l=h.getBoundingClientRect(),e=ra(c),{top:l.top+e.pageYOffset-d.clientTop,left:l.left+e.pageXOffset-d.clientLeft}):l},position:function(){if(this[0]){var a,d,e=this[0],h={top:0,left:0};return"fixed"===w.css(e,"position")?d=e.getBoundingClientRect():(a=this.offsetParent(),d=this.offset(),w.nodeName(a[0],"html")||(h=a.offset()),h.top+=w.css(a[0],
"borderTopWidth",!0),h.left+=w.css(a[0],"borderLeftWidth",!0)),{top:d.top-h.top-w.css(e,"marginTop",!0),left:d.left-h.left-w.css(e,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&"static"===w.css(a,"position");)a=a.offsetParent;return a||Za})}});w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,d){var e="pageYOffset"===d;w.fn[a]=function(h){return Ya(this,function(a,h,l){var c=ra(a);return void 0===l?c?c[d]:a[h]:void(c?c.scrollTo(e?
c.pageXOffset:l,e?l:c.pageYOffset):a[h]=l)},a,h,arguments.length)}});w.each(["top","left"],function(a,d){w.cssHooks[d]=L(da.pixelPosition,function(a,e){return e?(e=M(a,d),Qb.test(e)?w(a).position()[d]+"px":e):void 0})});w.each({Height:"height",Width:"width"},function(a,d){w.each({padding:"inner"+a,content:d,"":"outer"+a},function(e,h){w.fn[h]=function(h,l){var c=arguments.length&&(e||"boolean"!=typeof h),f=e||(!0===h||!0===l?"margin":"border");return Ya(this,function(d,e,h){var l;return w.isWindow(d)?
d.document.documentElement["client"+a]:9===d.nodeType?(l=d.documentElement,Math.max(d.body["scroll"+a],l["scroll"+a],d.body["offset"+a],l["offset"+a],l["client"+a])):void 0===h?w.css(d,e,f):w.style(d,e,h,f)},d,c?h:void 0,c,null)}})});w.fn.extend({bind:function(a,d,e){return this.on(a,null,d,e)},unbind:function(a,d){return this.off(a,null,d)},delegate:function(a,d,e,h){return this.on(d,a,e,h)},undelegate:function(a,d,e){return 1===arguments.length?this.off(a,"**"):this.off(d,a||"**",e)},size:function(){return this.length}});
w.fn.andSelf=w.fn.addBack;"function"==typeof define&&define.amd&&define("jquery",[],function(){return w});var Ga=k.jQuery,ka=k.$;return w.noConflict=function(a){return k.$===w&&(k.$=ka),a&&k.jQuery===w&&(k.jQuery=Ga),w},c||(k.jQuery=k.$=w),w});
define("app/utilities/promise",["module"],function(k){function c(c,t,q){q=q||[];if("function"===typeof c&&!f.debugMode)try{return c.apply(t||null,q)}catch(a){m&&(a.callback=c,a.context=t,a.arguments=q,m.error(a))}else if("function"===typeof c)return c.apply(t||null,q)}var f={},m,n=function(f){function m(){"pending"!==a&&("rejected"===a&&"function"===typeof e?e.apply(null,[l]):"fulfilled"===a&&"function"===typeof d&&d.apply(null,[l]))}var q=Array.prototype.slice.call(arguments,1),a="pending",h=0,l=
[],d,e,u=0;"function"===typeof f?f=[f]:Array.isArray(f)&&!f.length&&(f=void 0);var z=f?f.length:0;q.push(function(){++h>z-1&&(a="fulfilled");l=l.concat(Array.prototype.slice.call(arguments,0));m()},function(){a="rejected";l=l.concat(Array.prototype.slice.call(arguments,0));m()});if(f)for(;u<z;u++)c(f[u],null,q);else a="fulfilled";return{then:function(a,h){if("function"!==typeof a||h&&"function"!==typeof h)throw Error("You must pass functions as arguments");"function"===typeof a&&(d=a);"function"===
typeof h&&(e=h);m()}}};n.configure=function(c,t){f=$.extend(f,c.configure(k.id));m=t};return n});
define("app/events",["jquery","module","app/utilities/promise"],function(k,c,f){function m(a,l,d){d=d||[];if("function"===typeof a&&!t.debugMode)try{return a.apply(l||null,d)}catch(e){q&&(e.callback=a,e.context=l,e.arguments=d,q.error(e))}else if("function"===typeof a)return a.apply(l||null,d)}var n={},p={},t={},q;var a=function(a,l){var d=document.createEvent("CustomEvent");l=l||{bubbles:!1,cancelable:!1,detail:void 0};d.initCustomEvent(a,l.bubbles,l.cancelable,l.detail);return d};"undefined"!==
typeof window.CustomEvent&&(a.prototype=window.CustomEvent.prototype);window.CustomEvent=a;c=function(){this.config={handlerAmountThreshold:20};this.init=function(){var a=this;this.trigger("events.init:before",this);this.on("configuration.loaded",function(h){a.config=k.extend(a.config,h.configure("events"));t=a.config;f.configure(h,q)});this.trigger("events.init:after",this)}};c.prototype.on=function(a,l){a=a.trim();if(-1!==a.indexOf(" "))return a.split(" ").forEach(function(a){this.on(a,l)},this),
this;n[a]=n[a]||[];-1!==n[a].indexOf(l)&&q&&q.warn('The event "'+a+'" already has the following handler attached to it: \n'+l);n[a].push(l);n[a].length>this.config.handlerAmountThreshold&&q&&q.warn('The event "'+a+'" has an abnormal number of handlers attached to it: '+n[a].length+" in total.");p[a]&&m(l,null,p[a]);return this};c.prototype.off=function(a,l){if(!a)return n={},this;var d=n[a];if(!d)return this;if(!l)return n[a]=[],this;for(var e=0;e<d.length;e++)if(d[e]===l)return n[a].splice(e,1),
this};c.prototype.trigger=function(h,l){var d=n[h],e;var c=Array.prototype.slice.call(arguments,("boolean"===typeof l?2:1)|0||0);!0===l&&(p[h]=c);if(d){var f=d.slice(0);var k=0;for(e=f.length;k<e;k++)-1!==d.indexOf(f[k])&&m(f[k],null,c)}d=new a(h,{bubbles:!1,cancelable:!1,detail:c});document.dispatchEvent(d);q&&t.debugMode&&q.log("Event triggered: "+h);return h};c.prototype.triggerCheckEvent=function(a){var h=Array.prototype.slice.call(arguments,1);return new f(n[a],h)};c.prototype.cease=function(a){delete p[a];
return a};c=new c;c.trigger("events.loaded",!0,c);c.on("XyTools.loaded",function(a){q=a});return c});
define("app/configuration",["module","jquery","app/events"],function(k,c,f){var m={},n=window.XYLEME_MODULES_CONFIG||{},p=n[k.config().globalSelector]||{};var t=function(){this.config={};this.init=function(){f.trigger("configuration.init:before",this);this.config=c.extend(this.config,this.configure(k.id));f.trigger("configuration.init:after",this);return this}};t.prototype.configure=function(q,a){var h=n[q]||{};f.trigger("configuration.configure:before");q=q.toLowerCase();m[q]=m[q]||{};var l=c.extend({},
p,h,m[q]);if(void 0===a)return l;q===k.config().globalSelector&&(p=c.extend({},p,a));m[q]=c.extend(m[q],h,a);return m[q]};t=new t;f.trigger("configuration.loaded",!0,t);return t});
(function(){function k(a){return function(d,e,h,l){e=E(e,l,4);var c=!M(d)&&x.keys(d),f=(c||d).length,u=0<a?0:f-1;3>arguments.length&&(h=d[c?c[u]:u],u+=a);for(var q=e,m=h;0<=u&&u<f;u+=a){var t=c?c[u]:u;m=q(m,d[t],t,d)}return m}}function c(a){return function(d,e,h){e=H(e,h);h=I(d);for(var l=0<a?0:h-1;0<=l&&l<h;l+=a)if(e(d[l],l,d))return l;return-1}}function f(a,d,e){return function(l,c,f){var u=0,q=I(l);if("number"==typeof f)0<a?u=0<=f?f:Math.max(f+q,u):q=0<=f?Math.min(f+1,q):f+q+1;else if(e&&f&&q)return f=
e(l,c),l[f]===c?f:-1;if(c!==c)return f=d(h.call(l,u,q),x.isNaN),0<=f?f+u:-1;for(f=0<a?u:q-1;0<=f&&f<q;f+=a)if(l[f]===c)return f;return-1}}function m(a,d){var e=U.length,h=a.constructor;h=x.isFunction(h)&&h.prototype||q;var l="constructor";for(x.has(a,l)&&!x.contains(d,l)&&d.push(l);e--;)l=U[e],l in a&&a[l]!==h[l]&&!x.contains(d,l)&&d.push(l)}var n=this,p=n._,t=Array.prototype,q=Object.prototype,a=t.push,h=t.slice,l=q.toString,d=q.hasOwnProperty,e=Array.isArray,u=Object.keys,z=Function.prototype.bind,
C=Object.create,D=function(){},x=function(a){if(a instanceof x)return a;if(!(this instanceof x))return new x(a);this._wrapped=a};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=x),exports._=x):n._=x;x.VERSION="1.8.3";var E=function(a,d,e){if(void 0===d)return a;switch(null==e?3:e){case 1:return function(e){return a.call(d,e)};case 2:return function(e,h){return a.call(d,e,h)};case 3:return function(e,h,l){return a.call(d,e,h,l)};case 4:return function(e,
h,l,c){return a.call(d,e,h,l,c)}}return function(){return a.apply(d,arguments)}},H=function(a,d,e){return null==a?x.identity:x.isFunction(a)?E(a,d,e):x.isObject(a)?x.matcher(a):x.property(a)};x.iteratee=function(a,d){return H(a,d,Infinity)};var A=function(a,d){return function(e){var h=arguments.length;if(2>h||null==e)return e;for(var l=1;l<h;l++)for(var c=arguments[l],f=a(c),u=f.length,q=0;q<u;q++){var m=f[q];d&&void 0!==e[m]||(e[m]=c[m])}return e}},G=function(a){if(!x.isObject(a))return{};if(C)return C(a);
D.prototype=a;a=new D;D.prototype=null;return a},B=function(a){return function(d){return null==d?void 0:d[a]}},F=Math.pow(2,53)-1,I=B("length"),M=function(a){a=I(a);return"number"==typeof a&&0<=a&&a<=F};x.each=x.forEach=function(a,d,e){d=E(d,e);var h;if(M(a))for(e=0,h=a.length;e<h;e++)d(a[e],e,a);else{var l=x.keys(a);e=0;for(h=l.length;e<h;e++)d(a[l[e]],l[e],a)}return a};x.map=x.collect=function(a,d,e){d=H(d,e);e=!M(a)&&x.keys(a);for(var h=(e||a).length,l=Array(h),c=0;c<h;c++){var f=e?e[c]:c;l[c]=
d(a[f],f,a)}return l};x.reduce=x.foldl=x.inject=k(1);x.reduceRight=x.foldr=k(-1);x.find=x.detect=function(a,d,e){d=M(a)?x.findIndex(a,d,e):x.findKey(a,d,e);if(void 0!==d&&-1!==d)return a[d]};x.filter=x.select=function(a,d,e){var h=[];d=H(d,e);x.each(a,function(a,e,l){d(a,e,l)&&h.push(a)});return h};x.reject=function(a,d,e){return x.filter(a,x.negate(H(d)),e)};x.every=x.all=function(a,d,e){d=H(d,e);e=!M(a)&&x.keys(a);for(var h=(e||a).length,l=0;l<h;l++){var c=e?e[l]:l;if(!d(a[c],c,a))return!1}return!0};
x.some=x.any=function(a,d,e){d=H(d,e);e=!M(a)&&x.keys(a);for(var h=(e||a).length,l=0;l<h;l++){var c=e?e[l]:l;if(d(a[c],c,a))return!0}return!1};x.contains=x.includes=x.include=function(a,d,e,h){M(a)||(a=x.values(a));if("number"!=typeof e||h)e=0;return 0<=x.indexOf(a,d,e)};x.invoke=function(a,d){var e=h.call(arguments,2),l=x.isFunction(d);return x.map(a,function(a){var h=l?d:a[d];return null==h?h:h.apply(a,e)})};x.pluck=function(a,d){return x.map(a,x.property(d))};x.where=function(a,d){return x.filter(a,
x.matcher(d))};x.findWhere=function(a,d){return x.find(a,x.matcher(d))};x.max=function(a,d,e){var h=-Infinity,l=-Infinity,c;if(null==d&&null!=a){a=M(a)?a:x.values(a);for(var f=0,u=a.length;f<u;f++)e=a[f],e>h&&(h=e)}else d=H(d,e),x.each(a,function(a,e,f){c=d(a,e,f);if(c>l||-Infinity===c&&-Infinity===h)h=a,l=c});return h};x.min=function(a,d,e){var h=Infinity,l=Infinity,c;if(null==d&&null!=a){a=M(a)?a:x.values(a);for(var f=0,u=a.length;f<u;f++)e=a[f],e<h&&(h=e)}else d=H(d,e),x.each(a,function(a,e,f){c=
d(a,e,f);if(c<l||Infinity===c&&Infinity===h)h=a,l=c});return h};x.shuffle=function(a){a=M(a)?a:x.values(a);for(var d=a.length,e=Array(d),h=0,l;h<d;h++)l=x.random(0,h),l!==h&&(e[h]=e[l]),e[l]=a[h];return e};x.sample=function(a,d,e){return null==d||e?(M(a)||(a=x.values(a)),a[x.random(a.length-1)]):x.shuffle(a).slice(0,Math.max(0,d))};x.sortBy=function(a,d,e){d=H(d,e);return x.pluck(x.map(a,function(a,e,h){return{value:a,index:e,criteria:d(a,e,h)}}).sort(function(a,d){var e=a.criteria,h=d.criteria;if(e!==
h){if(e>h||void 0===e)return 1;if(e<h||void 0===h)return-1}return a.index-d.index}),"value")};var L=function(a){return function(d,e,h){var l={};e=H(e,h);x.each(d,function(h,c){c=e(h,c,d);a(l,h,c)});return l}};x.groupBy=L(function(a,d,e){x.has(a,e)?a[e].push(d):a[e]=[d]});x.indexBy=L(function(a,d,e){a[e]=d});x.countBy=L(function(a,d,e){x.has(a,e)?a[e]++:a[e]=1});x.toArray=function(a){return a?x.isArray(a)?h.call(a):M(a)?x.map(a,x.identity):x.values(a):[]};x.size=function(a){return null==a?0:M(a)?a.length:
x.keys(a).length};x.partition=function(a,d,e){d=H(d,e);var h=[],l=[];x.each(a,function(a,e,c){(d(a,e,c)?h:l).push(a)});return[h,l]};x.first=x.head=x.take=function(a,d,e){if(null!=a)return null==d||e?a[0]:x.initial(a,a.length-d)};x.initial=function(a,d,e){return h.call(a,0,Math.max(0,a.length-(null==d||e?1:d)))};x.last=function(a,d,e){if(null!=a)return null==d||e?a[a.length-1]:x.rest(a,Math.max(0,a.length-d))};x.rest=x.tail=x.drop=function(a,d,e){return h.call(a,null==d||e?1:d)};x.compact=function(a){return x.filter(a,
x.identity)};var J=function(a,d,e,h){var l=[],c=0;h=h||0;for(var f=I(a);h<f;h++){var u=a[h];if(M(u)&&(x.isArray(u)||x.isArguments(u))){d||(u=J(u,d,e));var q=0,m=u.length;for(l.length+=m;q<m;)l[c++]=u[q++]}else e||(l[c++]=u)}return l};x.flatten=function(a,d){return J(a,d,!1)};x.without=function(a){return x.difference(a,h.call(arguments,1))};x.uniq=x.unique=function(a,d,e,h){x.isBoolean(d)||(h=e,e=d,d=!1);null!=e&&(e=H(e,h));h=[];for(var l=[],c=0,f=I(a);c<f;c++){var u=a[c],q=e?e(u,c,a):u;d?(c&&l===
q||h.push(u),l=q):e?x.contains(l,q)||(l.push(q),h.push(u)):x.contains(h,u)||h.push(u)}return h};x.union=function(){return x.uniq(J(arguments,!0,!0))};x.intersection=function(a){for(var d=[],e=arguments.length,h=0,l=I(a);h<l;h++){var c=a[h];if(!x.contains(d,c)){for(var f=1;f<e&&x.contains(arguments[f],c);f++);f===e&&d.push(c)}}return d};x.difference=function(a){var d=J(arguments,!0,!0,1);return x.filter(a,function(a){return!x.contains(d,a)})};x.zip=function(){return x.unzip(arguments)};x.unzip=function(a){for(var d=
a&&x.max(a,I).length||0,e=Array(d),h=0;h<d;h++)e[h]=x.pluck(a,h);return e};x.object=function(a,d){for(var e={},h=0,l=I(a);h<l;h++)d?e[a[h]]=d[h]:e[a[h][0]]=a[h][1];return e};x.findIndex=c(1);x.findLastIndex=c(-1);x.sortedIndex=function(a,d,e,h){e=H(e,h,1);d=e(d);h=0;for(var l=I(a);h<l;){var c=Math.floor((h+l)/2);e(a[c])<d?h=c+1:l=c}return h};x.indexOf=f(1,x.findIndex,x.sortedIndex);x.lastIndexOf=f(-1,x.findLastIndex);x.range=function(a,d,e){null==d&&(d=a||0,a=0);e=e||1;d=Math.max(Math.ceil((d-a)/
e),0);for(var h=Array(d),l=0;l<d;l++,a+=e)h[l]=a;return h};var P=function(a,d,e,h,l){if(!(h instanceof d))return a.apply(e,l);d=G(a.prototype);a=a.apply(d,l);return x.isObject(a)?a:d};x.bind=function(a,d){if(z&&a.bind===z)return z.apply(a,h.call(arguments,1));if(!x.isFunction(a))throw new TypeError("Bind must be called on a function");var e=h.call(arguments,2),l=function(){return P(a,l,d,this,e.concat(h.call(arguments)))};return l};x.partial=function(a){var d=h.call(arguments,1),e=function(){for(var h=
0,l=d.length,c=Array(l),f=0;f<l;f++)c[f]=d[f]===x?arguments[h++]:d[f];for(;h<arguments.length;)c.push(arguments[h++]);return P(a,e,this,this,c)};return e};x.bindAll=function(a){var d,e=arguments.length;if(1>=e)throw Error("bindAll must be passed function names");for(d=1;d<e;d++){var h=arguments[d];a[h]=x.bind(a[h],a)}return a};x.memoize=function(a,d){var e=function(h){var l=e.cache,c=""+(d?d.apply(this,arguments):h);x.has(l,c)||(l[c]=a.apply(this,arguments));return l[c]};e.cache={};return e};x.delay=
function(a,d){var e=h.call(arguments,2);return setTimeout(function(){return a.apply(null,e)},d)};x.defer=x.partial(x.delay,x,1);x.throttle=function(a,d,e){var h,l,c,f=null,u=0;e||(e={});var q=function(){u=!1===e.leading?0:x.now();f=null;c=a.apply(h,l);f||(h=l=null)};return function(){var m=x.now();u||!1!==e.leading||(u=m);var t=d-(m-u);h=this;l=arguments;0>=t||t>d?(f&&(clearTimeout(f),f=null),u=m,c=a.apply(h,l),f||(h=l=null)):f||!1===e.trailing||(f=setTimeout(q,t));return c}};x.debounce=function(a,
d,e){var h,l,c,f,u,q=function(){var m=x.now()-f;m<d&&0<=m?h=setTimeout(q,d-m):(h=null,e||(u=a.apply(c,l),h||(c=l=null)))};return function(){c=this;l=arguments;f=x.now();var m=e&&!h;h||(h=setTimeout(q,d));m&&(u=a.apply(c,l),c=l=null);return u}};x.wrap=function(a,d){return x.partial(d,a)};x.negate=function(a){return function(){return!a.apply(this,arguments)}};x.compose=function(){var a=arguments,d=a.length-1;return function(){for(var e=d,h=a[d].apply(this,arguments);e--;)h=a[e].call(this,h);return h}};
x.after=function(a,d){return function(){if(1>--a)return d.apply(this,arguments)}};x.before=function(a,d){var e;return function(){0<--a&&(e=d.apply(this,arguments));1>=a&&(d=null);return e}};x.once=x.partial(x.before,2);var W=!{toString:null}.propertyIsEnumerable("toString"),U="valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString".split(" ");x.keys=function(a){if(!x.isObject(a))return[];if(u)return u(a);var d=[],e;for(e in a)x.has(a,e)&&d.push(e);W&&m(a,d);return d};x.allKeys=
function(a){if(!x.isObject(a))return[];var d=[],e;for(e in a)d.push(e);W&&m(a,d);return d};x.values=function(a){for(var d=x.keys(a),e=d.length,h=Array(e),l=0;l<e;l++)h[l]=a[d[l]];return h};x.mapObject=function(a,d,e){d=H(d,e);e=x.keys(a);for(var h=e.length,l={},c,f=0;f<h;f++)c=e[f],l[c]=d(a[c],c,a);return l};x.pairs=function(a){for(var d=x.keys(a),e=d.length,h=Array(e),l=0;l<e;l++)h[l]=[d[l],a[d[l]]];return h};x.invert=function(a){for(var d={},e=x.keys(a),h=0,l=e.length;h<l;h++)d[a[e[h]]]=e[h];return d};
x.functions=x.methods=function(a){var d=[],e;for(e in a)x.isFunction(a[e])&&d.push(e);return d.sort()};x.extend=A(x.allKeys);x.extendOwn=x.assign=A(x.keys);x.findKey=function(a,d,e){d=H(d,e);e=x.keys(a);for(var h,l=0,c=e.length;l<c;l++)if(h=e[l],d(a[h],h,a))return h};x.pick=function(a,d,e){var h={},l=a;if(null==l)return h;if(x.isFunction(d)){var c=x.allKeys(l);var f=E(d,e)}else c=J(arguments,!1,!1,1),f=function(a,d,e){return d in e},l=Object(l);for(var u=0,q=c.length;u<q;u++){var m=c[u],t=l[m];f(t,
m,l)&&(h[m]=t)}return h};x.omit=function(a,d,e){if(x.isFunction(d))d=x.negate(d);else{var h=x.map(J(arguments,!1,!1,1),String);d=function(a,d){return!x.contains(h,d)}}return x.pick(a,d,e)};x.defaults=A(x.allKeys,!0);x.create=function(a,d){a=G(a);d&&x.extendOwn(a,d);return a};x.clone=function(a){return x.isObject(a)?x.isArray(a)?a.slice():x.extend({},a):a};x.tap=function(a,d){d(a);return a};x.isMatch=function(a,d){var e=x.keys(d),h=e.length;if(null==a)return!h;a=Object(a);for(var l=0;l<h;l++){var c=
e[l];if(d[c]!==a[c]||!(c in a))return!1}return!0};var Z=function(a,d,e,h){if(a===d)return 0!==a||1/a===1/d;if(null==a||null==d)return a===d;a instanceof x&&(a=a._wrapped);d instanceof x&&(d=d._wrapped);var c=l.call(a);if(c!==l.call(d))return!1;switch(c){case "[object RegExp]":case "[object String]":return""+a===""+d;case "[object Number]":return+a!==+a?+d!==+d:0===+a?1/+a===1/d:+a===+d;case "[object Date]":case "[object Boolean]":return+a===+d}c="[object Array]"===c;if(!c){if("object"!=typeof a||
"object"!=typeof d)return!1;var f=a.constructor,u=d.constructor;if(f!==u&&!(x.isFunction(f)&&f instanceof f&&x.isFunction(u)&&u instanceof u)&&"constructor"in a&&"constructor"in d)return!1}e=e||[];h=h||[];for(f=e.length;f--;)if(e[f]===a)return h[f]===d;e.push(a);h.push(d);if(c){f=a.length;if(f!==d.length)return!1;for(;f--;)if(!Z(a[f],d[f],e,h))return!1}else{c=x.keys(a);f=c.length;if(x.keys(d).length!==f)return!1;for(;f--;)if(u=c[f],!x.has(d,u)||!Z(a[u],d[u],e,h))return!1}e.pop();h.pop();return!0};
x.isEqual=function(a,d){return Z(a,d)};x.isEmpty=function(a){return null==a?!0:M(a)&&(x.isArray(a)||x.isString(a)||x.isArguments(a))?0===a.length:0===x.keys(a).length};x.isElement=function(a){return!(!a||1!==a.nodeType)};x.isArray=e||function(a){return"[object Array]"===l.call(a)};x.isObject=function(a){var d=typeof a;return"function"===d||"object"===d&&!!a};x.each("Arguments Function String Number Date RegExp Error".split(" "),function(a){x["is"+a]=function(d){return l.call(d)==="[object "+a+"]"}});
x.isArguments(arguments)||(x.isArguments=function(a){return x.has(a,"callee")});"function"!=typeof/./&&"object"!=typeof Int8Array&&(x.isFunction=function(a){return"function"==typeof a||!1});x.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};x.isNaN=function(a){return x.isNumber(a)&&a!==+a};x.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"===l.call(a)};x.isNull=function(a){return null===a};x.isUndefined=function(a){return void 0===a};x.has=function(a,e){return null!=a&&
d.call(a,e)};x.noConflict=function(){n._=p;return this};x.identity=function(a){return a};x.constant=function(a){return function(){return a}};x.noop=function(){};x.property=B;x.propertyOf=function(a){return null==a?function(){}:function(d){return a[d]}};x.matcher=x.matches=function(a){a=x.extendOwn({},a);return function(d){return x.isMatch(d,a)}};x.times=function(a,d,e){var h=Array(Math.max(0,a));d=E(d,e,1);for(e=0;e<a;e++)h[e]=d(e);return h};x.random=function(a,d){null==d&&(d=a,a=0);return a+Math.floor(Math.random()*
(d-a+1))};x.now=Date.now||function(){return(new Date).getTime()};e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};A=x.invert(e);B=function(a){var d=function(d){return a[d]},e="(?:"+x.keys(a).join("|")+")",h=RegExp(e),l=RegExp(e,"g");return function(a){a=null==a?"":""+a;return h.test(a)?a.replace(l,d):a}};x.escape=B(e);x.unescape=B(A);x.result=function(a,d,e){d=null==a?void 0:a[d];void 0===d&&(d=e);return x.isFunction(d)?d.call(a):d};var X=0;x.uniqueId=function(a){var d=
++X+"";return a?a+d:d};x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var R=/(.)^/,Ba={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},va=/\\|'|\r|\n|\u2028|\u2029/g,la=function(a){return"\\"+Ba[a]};x.template=function(a,d,e){!d&&e&&(d=e);d=x.defaults({},d,x.templateSettings);e=RegExp([(d.escape||R).source,(d.interpolate||R).source,(d.evaluate||R).source].join("|")+"|$","g");var h=0,l="__p+='";a.replace(e,function(d,
e,c,f,u){l+=a.slice(h,u).replace(va,la);h=u+d.length;e?l+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'":c?l+="'+\n((__t=("+c+"))==null?'':__t)+\n'":f&&(l+="';\n"+f+"\n__p+='");return d});l+="';\n";d.variable||(l="with(obj||{}){\n"+l+"}\n");l="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+l+"return __p;\n";try{var c=new Function(d.variable||"obj","_",l)}catch(ha){throw ha.source=l,ha;}e=function(a){return c.call(this,a,x)};e.source="function("+(d.variable||
"obj")+"){\n"+l+"}";return e};x.chain=function(a){a=x(a);a._chain=!0;return a};var O=function(a,d){return a._chain?x(d).chain():d};x.mixin=function(d){x.each(x.functions(d),function(e){var h=x[e]=d[e];x.prototype[e]=function(){var d=[this._wrapped];a.apply(d,arguments);return O(this,h.apply(x,d))}})};x.mixin(x);x.each("pop push reverse shift sort splice unshift".split(" "),function(a){var d=t[a];x.prototype[a]=function(){var e=this._wrapped;d.apply(e,arguments);"shift"!==a&&"splice"!==a||0!==e.length||
delete e[0];return O(this,e)}});x.each(["concat","join","slice"],function(a){var d=t[a];x.prototype[a]=function(){return O(this,d.apply(this._wrapped,arguments))}});x.prototype.value=function(){return this._wrapped};x.prototype.valueOf=x.prototype.toJSON=x.prototype.value;x.prototype.toString=function(){return""+this._wrapped};"function"===typeof define&&define.amd&&define("underscore",[],function(){return x})}).call(this);
define("app/utilities/has",["app/events","app/configuration"],function(k,c){var f=new function(){var f=this;this.config={};this.init=function(){k.trigger("has.init:before",this);this.config=c.configure("has");k.trigger("has.init:after",this)};this.calc=function(){k.trigger("has.calc:before",this);if(null==this.hasCalc){for(var c=document.createElement("div"),m="",t=["-webkit-","-moz-","-ms-",""],q=0,a=t.length;q<a;q++)m+="width:"+t[q]+"calc(10px);";c.style.cssText=m;f.hasCalc=!!c.style.length}k.trigger("has.calc:after",
this);return this.hasCalc};this.whichTransitionEnd=function(){k.trigger("has.whichTransitionEnd:before",this);if(null==this.transitionEndType){var c=document.createElement("div"),m={transition:"transitionend",MSTransition:"msTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"},t;for(t in m)if(void 0!==c.style[t]){f.transitionEndType=m[t];break}}k.trigger("has.whichTransitionEnd:after",this);return this.transitionEndType};this.cssProperty=function(){var c=document.createElement("div"),
f=["Webkit","Moz","Ms","Khtml"],m=f.length;k.trigger("has.cssProperty:before",this);k.trigger("has.cssProperty:after",this);return function(q){var a=m;if(q in c.style)return!0;for(q=q.replace(/^[a-z]/,function(a){return a.toUpperCase()});a--;)if(f[a]+q in c.style)return!0;return!1}}()};k.trigger("has.loaded",!0,f);return f});
define("app/utilities/ajax",["jquery","app/events","app/configuration","fileCache"],function(k,c,f,m){var n;var p={list:m,setItem:function(c,f){p.list[c]=f},getItem:function(c){return p.list[c]||p.list[c.replace(".html","")]||!1},removeItem:function(c){p.list[c]&&delete p.list[c]},key:function(c){return p.list.keys()[c]},clear:function(){p.list={}}};m=new function(){try{var m=window.sessionStorage}catch(a){}try{var q=window.localStorage}catch(a){}this.requestMap={};this.init=function(){var a={getItem:function(){},
setItem:function(){},removeItem:function(){},key:function(){},clear:function(){}},h=window.Xyleme.environment.IS_DEPLOY?!0:window.Xyleme.environment.ALLOW_PREVIEW_CACHING,l;c.trigger("ajax.init:before",this);this.config={cache:h,clearCacheOnReload:!h,useBrowserCache:!0,storage:[p,m,q],consolidateRequests:!0,minLoadingTime:200};this.config=k.extend(this.config,f.configure("ajax"));n=this.config.storage;n.length||(n=[]);h=0;for(l=n.length;h<l;h+=1)n[h]||(n[h]=a);if(this.config.clearCacheOnReload)for(h=
0,l=n.length;h<l;h+=1)"function"===typeof n.clear&&n[h].clear();c.trigger("ajax.init:after",this)};this.load=function(a,h){var l=this;c.trigger("ajax.load:before",this);var d={type:"get",cache:this.config.useBrowserCache};var e={providedSuccess:a.success,providedError:a.error,providedComplete:a.complete,success:function(d,e,h){c.trigger("ajax.load:success",d,e,h,l);a.providedSuccess=Array.isArray(a.providedSuccess)?a.providedSuccess:[a.providedSuccess];a.providedSuccess.forEach(function(a,l){"function"===
typeof a&&a(d,e,h)});l.config.cache&&l.setToStorage(a.url,d)},error:function(d,e,h){c.trigger("ajax.load:error",d,e,h,l);a.providedError=Array.isArray(a.providedError)?a.providedError:[a.providedError];a.providedError.forEach(function(a,l){"function"===typeof a&&a(d,e,h)})},complete:function(d,e){c.trigger("ajax.load:complete",d,e,l);a.providedComplete=Array.isArray(a.providedComplete)?a.providedComplete:[a.providedComplete];a.providedComplete.forEach(function(a,h){"function"===typeof a&&a(d,e)})}};
a=k.extend(!0,{},d,a);d=k.extend(!0,{},a,e);c.trigger("ajax.load:after");return h||/^false$/i.test(l.config.consolidateRequests)?k.ajax(d):l.registerRequest(a)};this.registerRequest=function(a){function h(d,e){e=Array.isArray(e)?e:[e];e.forEach(function(e,h){"function"===typeof e&&l.requestMap[a.cleanUrl][d].push(e)})}var l=this,d;a.cleanUrl=a.url.split("?")[0];var e={providedSuccess:a.success,providedError:a.error,providedComplete:a.complete,success:function(a,d,e){e.url=this.url;e.cleanUrl=this.url.split("?")[0];
l.succeedRequest.call(l,a,d,e)},error:function(a,d,e){a.url=this.url;a.cleanUrl=this.url.split("?")[0];l.failRequest.call(l,a,d,e)},complete:function(a,d){a.url=this.url;a.cleanUrl=this.url.split("?")[0];l.completeRequest.call(l,a,d)}};if(!this.requestMap[a.cleanUrl])if(this.requestMap[a.cleanUrl]={success:[],error:[],complete:[]},this.requestMap[a.cleanUrl].startTime=+new Date,this.requestMap[a.cleanUrl].callbackQueue=[],(d=this.getFromStorage(a.url))&&this.config.cache){var c=function(d){l.succeedRequest.call(l,
d,"success",{url:a.url,cleanUrl:a.cleanUrl});l.completeRequest.call(l,{url:a.url,cleanUrl:a.cleanUrl},"success")};d.then?d.then(c):setTimeout(function(){c(d)},0)}else k.ajax(k.extend({},a,e));h("success",e.providedSuccess);h("error",e.providedError);h("complete",e.providedComplete)};this.succeedRequest=function(a,h,l){var d=l.cleanUrl||l.url.split("?")[0],e=this.requestMap[d]&&this.requestMap[d].success;this.waitFor(d,function(){c.trigger("ajax.load:success",a,h,l,this);e.forEach(function(d,e){"function"===
typeof d&&d(a,h,l)});this.config.cache&&this.setToStorage(l.url,a)})};this.failRequest=function(a,h,l){var d=a.cleanUrl||a.url.split("?")[0],e=this.requestMap[d]&&this.requestMap[d].error;this.waitFor(d,function(){c.trigger("ajax.load:error",a,h,l,this);e.forEach(function(d,e){"function"===typeof d&&d(a,h,l)})})};this.completeRequest=function(a,h){var l=a.cleanUrl||a.url.split("?")[0],d=this.requestMap[l]&&this.requestMap[l].complete;this.waitFor(l,function(){c.trigger("ajax.load:complete",a,h,this);
d.forEach(function(d,l){"function"===typeof d&&d(a,h)});delete this.requestMap[l]})};this.waitFor=function(a,h){function l(a){c.requestMap[a].callbackQueue.forEach(function(a){a()});c.requestMap[a]&&(c.requestMap[a].callbackQueue=[])}var d=this.requestMap[a]&&this.requestMap[a].startTime,e=+new Date,c=this;h=h.bind(this);d||h();e-d<this.config.minLoadingTime||0<this.requestMap[a].callbackQueue.length?(0===this.requestMap[a].callbackQueue.length&&setTimeout(function(){l(a)},this.config.minLoadingTime-
(e-d)),this.requestMap[a].callbackQueue.push(h)):h()};this.getFromStorage=function(a){var h=a.match(new RegExp(window.Xyleme.environment.GUID_REGEX.source+"(/?|.html?)$")),l,d;a=h&&h[0]?h[0].replace(/(\/|\.html)$/,"")+".html":a;h=0;for(l=n.length;h<l;h+=1)if(d=n[h].getItem(a))return d;return!1};this.setToStorage=function(a,h){var l;var d=0;for(l=n.length;d<l;d+=1)if(n[d]&&"function"===typeof n[d].setItem)return n[d].setItem(a,h),!0;return!1}};c.trigger("ajax.loaded",!0,m);return m});
define("app/utilities/fetchContent",["jquery","app/events","app/configuration","app/utilities/ajax"],function(k,c,f,m){m=new function(){this.config={};this.init=function(){c.trigger("fetchContent.init:before",this);this.config=f.configure("fetchContent");c.trigger("fetchContent.init:after",this)};this.fetch=function(f,m,t){c.trigger("fetchContent.fetch:before");"boolean"===typeof m||/^(true|false)$/i.test(m)?(t=!/^false$/i.test(m),m=this.config.contentContainerSelector):(t=!/^false$/i.test(t),m=m||
this.config.contentContainerSelector);f=k(f);var q=f.filter(m);q.length||(q=f.find(m));t||(q=q.contents().unwrap());c.trigger("fetchContent.fetch:after");return q}};c.trigger("fetchContent.loaded",!0,m);return m});
define("app/utilities/detect",[],function(){function k(c){c||(c=navigator.userAgent);var f={},m={},n=c.match(/Web[kK]it[\/]{0,1}([\d.]+)/),p=c.match(/(Android);?[\s\/]+([\d.]+)?/),t=!!c.match(/\(Macintosh; Intel /),q=c.match(/(iPad).*OS\s([\d_]+)/),a=c.match(/(iPod)(.*OS\s([\d_]+))?/),h=!q&&c.match(/(iPhone\sOS)\s([\d_]+)/),l=c.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),d=l&&c.match(/TouchPad/),e=c.match(/Kindle\/([\d.]+)/),u=c.match(/Silk\/([\d._]+)/),z=c.match(/(BlackBerry).*Version\/([\d.]+)/),C=c.match(/(BB10).*Version\/([\d.]+)/),
D=c.match(/(RIM\sTablet\sOS)\s([\d.]+)/),x=c.match(/PlayBook/),E=c.match(/Chrome\/([\d.]+)/)||c.match(/CriOS\/([\d.]+)/),H=c.match(/Firefox\/([\d.]+)/),A=c.match(/MSIE\s([\d.]+)/)||c.match(/Trident\/[\d](?=[^\?]+).*rv:([0-9.].)/),G=c.match(/Edge\/(\d+)/),B=!E&&c.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/),F=B||c.match(/Version\/([\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari))/);if(m.webkit=!!n)m.version=n[1];p&&(f.android=!0,f.version=p[2]);h&&!a&&(f.ios=f.iphone=!0,f.version=h[2].replace(/_/g,
"."));q&&(f.ios=f.ipad=!0,f.version=q[2].replace(/_/g,"."));a&&(f.ios=f.ipod=!0,f.version=a[3]?a[3].replace(/_/g,"."):null);l&&(f.webos=!0,f.version=l[2]);d&&(f.touchpad=!0);z&&(f.blackberry=!0,f.version=z[2]);C&&(f.bb10=!0,f.version=C[2]);D&&(f.rimtabletos=!0,f.version=D[2]);x&&(m.playbook=!0);e&&(f.kindle=!0,f.version=e[1]);u&&(m.silk=!0,m.version=u[1]);!u&&f.android&&c.match(/Kindle Fire/)&&(m.silk=!0);E&&(m.chrome=!0,m.version=E[1]);H&&(m.firefox=!0,m.version=H[1]);A&&(m.ie=!0,m.version=A[1]);
G&&(m.edge=!0,m.version=G[1]);F&&(t||f.ios)&&(m.safari=!0,t&&(m.version=F[1]));B&&(m.webview=!0);f.tablet=!!(q||x||p&&!c.match(/Mobile/)||H&&c.match(/Tablet/)||A&&!c.match(/Phone/)&&c.match(/Touch/));f.phone=!(f.tablet||f.ipod||!(p||h||l||z||C||E&&c.match(/Android/)||E&&c.match(/CriOS\/([\d.]+)/)||H&&c.match(/Mobile/)||A&&c.match(/Touch/)));return{os:f,browser:m,device:f.phone||f.tablet||f.ipod,detect:k,touchDevice:"ontouchstart"in document}}return k(navigator.userAgent)});
define("app/utilities/XyTools","module jquery underscore app/configuration app/events app/utilities/has app/utilities/ajax app/utilities/fetchContent app/utilities/detect".split(" "),function(k,c,f,m,n,p,t,q,a){var h=function(){this.config={debugMode:!1,showWarnings:!1,mediaQueries:{narrow:"(min-width: 740px) and (min-device-width: 740px), (max-device-width: 800px) and (min-width: 740px) and (orientation:landscape)",normal:"(min-width: 980px) and (min-device-width: 980px), all and (max-device-width: 1024px) and (min-width: 1024px) and (orientation:landscape)",
wide:"(min-width: 1220px)"},mediaQueryWatcherClass:"Xyleme-media-state-watcher"};this.has=p;this.ajax=t;this.fetchContent=q;this.detect=a;this.allPageMediaLoaded=!1;this.config.showWarnings|="localhost"===window.location.hostname;this.init=function(){n.trigger("XyTools.init:before",this);this.determineMediaQueries();this.determineCurrentMediaState();this.config=c.extend(this.config,m.configure(k.id));this.allPageMediaLoaded=!1;[this.has,this.ajax,this.fetchContent,this.detect].forEach(function(a){"function"===
typeof a.init&&a.init()});n.trigger("XyTools.init:before",this);n.trigger("XyTools.init:after",this);n.on("content.loaded",function(a){l.isContentContainer(a)&&l.trackPageMediaLoadProgress()});n.on("content.remove",this.resetPageMediaLoadProgress)}};h.prototype.trackPageMediaLoadProgress=function(){var a=c(l.config.contentScrollingContainerSelector).find("img"),e=0,h=a.length;h?a.load(function(){e++;e===h&&(this.allPageMediaLoaded=!0,n.trigger("allPageMedia.loaded",!0))}).error(function(){e++;e===
h&&(this.allPageMediaLoaded=!0,n.trigger("allPageMedia.loaded",!0))}):(this.allPageMediaLoaded=!0,n.trigger("allPageMedia.skipped",!0))};h.prototype.determineMediaQueries=function(){var a=document.createElement("div");a.id="Xyleme-narrow-screen-query";a.className=this.config.mediaQueryWatcherClass;var e=document.createElement("div");e.id="Xyleme-normal-screen-query";e.className=this.config.mediaQueryWatcherClass;var h=document.createElement("div");h.id="Xyleme-wide-screen-query";h.className=this.config.mediaQueryWatcherClass;
document.body.appendChild(a);document.body.appendChild(e);document.body.appendChild(h);this.config.mediaQueries.narrow=window.getComputedStyle(a).fontFamily.replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,"")||this.config.mediaQueries.narrow;this.config.mediaQueries.normal=window.getComputedStyle(e).fontFamily.replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,"")||this.config.mediaQueries.normal;this.config.mediaQueries.wide=window.getComputedStyle(h).fontFamily.replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,"")||this.config.mediaQueries.wide};
h.prototype.determineCurrentMediaState=function(){var a=this,e;var h=function(){var d=c("."+a.config.mediaQueryWatcherClass).filter(function(){return"inline"===c(this).css("display")});d=d.length?d.eq(0)[0].id.replace("Xyleme-","").replace("-screen-query",""):"mobile";e=a.currentMediaState;a.currentMediaState=d;e!==d&&n.trigger("content.mediaState:changed",d,e);return d};var l=f.debounce(h,300);c(window).on("resize.XyTools",l);return h()};h.prototype.log=function(){if(!this.config.debugMode)return!0;
if(window.console)if("function"===typeof window.console.log||"object"===typeof window.console.log){var a=Function.prototype.bind.call(window.console.log,window.console);a.apply(window.console,arguments)}else return!1;else return!1};h.prototype.logGroup=function(a){if(!this.config.debugMode)return!0;if(window.console)"function"===typeof window.console.group?window.console.group(a):"function"===typeof window.console.log&&this.log(a);else return!1};h.prototype.logGroupCollapsed=function(a){if(!this.config.debugMode)return!0;
if(window.console)"function"===typeof window.console.groupCollapsed?window.console.groupCollapsed(a):"function"===typeof window.console.log&&this.log(a);else return!1};h.prototype.logGroupEnd=function(){if(!this.config.debugMode)return!0;if(window.console&&"function"===typeof window.console.groupEnd)window.console.groupEnd();else return!1};h.prototype.timeStamp=function(a){if(!this.config.debugMode)return!0;if(window.console)"function"===typeof window.console.timeStamp?window.console.timeStamp(a):
"function"===typeof window.console.log&&this.log(a+": "+(new Date).getTime());else return!1};h.prototype.time=function(a){if(!this.config.debugMode)return!0};h.prototype.timeEnd=function(a){if(!this.config.debugMode)return!0};h.prototype.warn=function(a){this.config.showWarnings&&("function"===typeof window.console.warn||"object"===typeof window.console.warn?console.warn(a):this.log(a))};h.prototype.error=function(a){var d="string"===typeof a?a:a.name+": "+a.message+" in\n"+a.callback;if(this.config.debugMode)if(this.warn(d),
"function"===typeof window.console.error||"object"===typeof window.console.error){if(a instanceof Error)throw a;window.console.error(a)}else this.warn(a);else this.warn(d)};h.prototype.getJqueryObject=function(a){var d=c([]),h;if(null==a)return this.warn("getJqueryObject: Invalid object provided. Object must not be null or undefined"),d;a=this.toArray(a);var l=0;for(h=a.length;l<h;l+=1)a[l]instanceof c?d=d.add(a[l]):a[l].nodeType?d=d.add(c(a[l])):/^window$/i.test(a[l])||a[l]===window?d=d.add(c(window)):
/^document$/i.test(a[l])?d=d.add(c(document)):(a[l]+="",a[l]=c(a[l]),a[l].length&&(d=d.add(a[l])));return d};h.prototype.extend=function(){function a(d,e){for(var h in e)e.hasOwnProperty(h)&&(/^(object|array)$/.test(c(e[h]))&&e[h]!==e?(/^(object|array)$/.test(c(d[h]))||(d[h]=e[h]instanceof Array?[]:{}),a(d[h],e[h])):d[h]=e[h]);return d}var e=0,h,l={},c=this.type;for(h=arguments.length;e<h;e++)l=a(l,arguments[e]);return l};h.prototype.copy=function(a){return this.extend(a)};h.prototype.capitalize=
function(a){return a.replace(/(?:^|\s)\S/g,function(a){return a.toUpperCase()})};h.prototype.parseTemplate=function(a,e){var d=0;if(e instanceof Array)a.replace(/\{\d*\}/g,function(a){var h=e[parseInt(a.replace(/\{|\}/g,""),"")];"undefined"===typeof h&&(h=a.replace(/\{|\}/g,""));d++;return h});else if("string"===typeof e||"number"===typeof e)a=a.replace("{0}",e);return a};h.prototype.setUrlQuery=function(a,e,h){var d=new RegExp("([?&])"+e+"=.*?(&|$)","i"),l=-1!==a.indexOf("?")?"&":"?";return a.match(d)?
a.replace(d,"$1"+e+"="+h+"$2"):a+l+e+"="+h};h.prototype.getUrlQuery=function(a){var d=window.location.search.substring(1).split("&"),h;var l=0;for(h=d.length;l<h;l+=1){var c=d[l].split("=");if(c[0]===a)return c[1]}return!1};h.prototype.fetch=function(a,e,h){var d=h.success,c=h.error;n.trigger("XyTools.fetch:before",a,e,h);"object"===typeof e&&(h=e,e=null);h.url=a;h.success=function(l,c,f){n.trigger("XyTools.fetch:success",a,l,e,h);"function"===typeof d&&d(q.fetch(l,e,h.inclusive))};h.error=function(d,
l,f){n.trigger("XyTools.fetch:error",a,l,f,e,h);"function"===typeof c&&c(d,l,f)};h.statusCode={401:function(){var a=window.location.hash,d=a.replace("#","");a=l.setUrlQuery(window.location.href.replace(a,""),"destination",d);d=l.getUrlQuery("v");sessionStorage.setItem("xyNewSession","true");window.location.href=d?l.setUrlQuery(a,"v",d):a}};t.load(h);n.trigger("XyTools.fetch:after",a,e,h)};h.prototype.getLanguageDirection=function(){return document.body.dir||"ltr"};h.prototype.getURLParams=function(a,
e){return decodeURIComponent(a||window.location.search.slice(1)).replace(/.*\?/,"").split("&").reduce(function(a,d){d=d.split("=");if(e||d[1]&&""!==d[1])a[d[0]]=d[1]||"";return a},{})};h.prototype.type=function(a){return"number"===typeof a&&isNaN(a)?"nan":Object.prototype.toString.call(a).match(/\[object (.*?)\]/)[1].toLowerCase()};h.prototype.toArray=function(a){return"array"===this.type(a)?a:[a]};h.prototype.evaluateExpression=function(a){if("string"!==typeof a)return NaN;try{a=a.replace(/([\+\-\*\/])/g,
" $1 ");var d=eval(a);/\.\d*(0|9){5,}\d*$/.test(d)&&(d=+d.toFixed((d+"").replace(/^\d+\./,"").search(/(0{5,}|9{5,})\d*$/g)))}catch(u){d=NaN}return d};h.prototype.normalizeType=function(a){return/^(true|false)$/i.test(a)?/^true$/i.test(a):isNaN(+a)||+a!==parseFloat(a)?a:+a};h.prototype.normalizeTypes=function(a){var d,h={};if("object"!==this.type(a))return a;for(d in a)h[d]=this.normalizeType(a[d]);return h};h.prototype.randomizeArray=function(a,e){function d(a,e){e&&a.forEach(function(a,e,h){Array.isArray(h[e])&&
(h[e]=d(h[e],!0))});do e=f.shuffle(a);while(f.isEqual(a,e));return e}if(!a.length)return a;a=a.slice();return d(a,/^true$/i.test(e))};h.prototype.isContentContainer=function(a){a=this.getJqueryObject(a);return a.length?this.config.contentContainerSelector.replace("#","")==a[0].id||a.hasClass(this.config.contentContainerSelector.replace(".",""))?!0:!1:!1};h.prototype.getTouchPointFromEvent=function(a){var d={};a=a.originalEvent;a.targetTouches?(d.x=a.targetTouches[0].clientX,d.y=a.targetTouches[0].clientY):
(d.x=a.clientX,d.y=a.clientY);return d};h.prototype.getScrollableParent=function(a){var d=window.getComputedStyle(a);return a===document?c(document):"auto"==d.getPropertyValue("overflow")||"scroll"==d.getPropertyValue("overflow")||"auto"==d.getPropertyValue("overflow-y")||"scroll"==d.getPropertyValue("overflow-y")?c(a):h.prototype.getScrollableParent(a.parentNode)};h.prototype.getScrollingContainer=function(a,e){var d=window.getComputedStyle(a),l=window.getComputedStyle(c(a).parent()[0]),f=document.createElement("div");
l=c(a).parent()[0].clientHeight-parseFloat(l.paddingTop)-parseFloat(l.paddingBottom)==c(a).outerHeight();d="auto"==d.getPropertyValue("overflow")||"scroll"==d.getPropertyValue("overflow")||"auto"==d.getPropertyValue("overflow-y")||"scroll"==d.getPropertyValue("overflow-y");if(a.scrollHeight>a.clientHeight)return c(a);f.setAttribute("style","position: relative; height: 100%; width: 100%;");document.body.appendChild(f);var q=a.cloneNode(!1);f.appendChild(q);var m=q.clientHeight;c(q).append('<div class="scaleTextHeightCheck" style="display: block; height: '+
(m+1)+"px; width: 1px; content: '';\"></div>");q=q.clientHeight==m?!1:!0;f.remove();l&&d&&q?e=e?e:a:!l&&q&&(e=null);return a===document.body?c(document.body):d&&!q&&null==e?c(a):d&&!q&&e?c(e):h.prototype.getScrollingContainer(a.parentNode,e)};h.prototype.convertMillisToSCORM2004Time=function(a){0>a&&this.log("Negative time/duration received");var d=new Date(Math.abs(a)),h=d.getUTCFullYear()-1970,l=d.getUTCMonth(),c=d.getUTCDate()-1,f=d.getUTCHours(),q=d.getUTCMinutes(),m=d.getUTCSeconds(),t=d.getUTCMilliseconds();
d="";h&&(d+=h+"Y");l&&(d+=l+"M");c&&(d+=c+"D");var k;0!==t&&(10>t?h=0:100>t?h="0"+Math.trunc(t/10):(h=Math.trunc(t/10),0===h%10&&(h/=10)),0===h||isNaN(h)||(k="."+h));if(f||q||m||k)d+="T";f&&(d+=f+"H");q&&(d+=q+"M");k?d+=m+k+"S":m&&(d+=m+"S");""===d&&(d="T0S");d="P"+d;return 0>a?"-"+d:d};h.prototype.resetPageMediaLoadProgress=function(){n.cease("allPageMedia.loaded");l.allPageMediaLoaded=!1};h.prototype.isAllPageMediaLoaded=function(){return this.allPageMediaLoaded};h.prototype.generateUUID=function(){var a=
(new Date).getTime(),e="undefined"!==typeof performance&&performance.now&&1E3*performance.now()||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(d){var h=16*Math.random();0<a?(h=(a+h)%16|0,a=Math.floor(a/16)):(h=(e+h)%16|0,e=Math.floor(e/16));return("x"===d?h:h&3|8).toString(16)})};var l=new h;window.tools=l;n.trigger("XyTools.loaded",!0,l);return l});
define("lang/lang",["app/events","app/configuration","app/utilities/XyTools","locales"],function(k,c,f,m){c=new function(){this.config={language:document.getElementsByTagName("body")[0].getAttribute("lang")};this.t=function(c,k){var t=m[this.config.language];if(!t)return f.error('Cannot translate string, desired language "'+this.config.language+'" not loaded.'),!1;"undefined"===typeof k&&(k=null);c=this.getTranslation(c,t);"undefined"===typeof c&&(c="");if(k instanceof Array)c=c.replace(/\{\d*\}/g,
function(c){var a=k[parseInt(c.replace(/\{|\}/g,""),"")];"undefined"===typeof a&&(a=c.replace(/\{|\}/g,""));return a});else if("string"===typeof k||"number"===typeof k)c=c.replace("{0}",k);return c};this.getTranslation=function(c,k){k||(k=m[this.config.language]);if(c)return/\.message$/.test(c)||(c+=".message"),k=c.split(".").reduce(function(c,f){if("undefined"!==typeof c)return c[f]},k),void 0===k&&f.warn('translation for "'+c+'" not found'),k};this.loadLanguage=function(c){}};window.lang=c;k.trigger("lang.loaded",
!0,c);return c});
(function(k,c){function f(a){if("function"==typeof require&&"undefined"!==typeof module&&module.exports)try{return require(a.toLowerCase())}catch(E){}else return k[a]}function m(a,d){return null===a?"null"===d:void 0===a?"undefined"===d:a.is&&a instanceof t?"element"===d:7<Object.prototype.toString.call(a).toLowerCase().indexOf(d)}function n(a){var h,l,c,f;if(a instanceof n)return a;m(a,"array")||(a=String(a).replace(/\s/g,"").toLowerCase().match(/(?:\+,|[^,])+/g));var u=0;for(h=a.length;u<h;++u){m(a[u],
"array")||(a[u]=String(a[u]).match(/(?:\+\/|[^\/])+/g));var q=[];for(l=a[u].length;l--;){var t=a[u][l];var k={jwertyCombo:String(t),shiftKey:!1,ctrlKey:!1,altKey:!1,metaKey:!1};m(t,"array")||(t=String(t).toLowerCase().match(/(?:(?:[^\+])+|\+\+|^\+$)/g));for(c=t.length;c--;)"++"===t[c]&&(t[c]="+"),t[c]in e.mods?k[d[e.mods[t[c]]]]=!0:t[c]in e.keys?k.keyCode=e.keys[t[c]]:f=t[c].match(/^\[([^-]+\-?[^-]*)-([^-]+\-?[^-]*)\]$/);if(m(k.keyCode,"undefined"))if(f&&f[1]in e.keys&&f[2]in e.keys){f[2]=e.keys[f[2]];
f[1]=e.keys[f[1]];for(c=f[1];c<f[2];++c)q.push({altKey:k.altKey,shiftKey:k.shiftKey,metaKey:k.metaKey,ctrlKey:k.ctrlKey,keyCode:c,jwertyCombo:String(t)});k.keyCode=c}else k.keyCode=0;q.push(k)}this[u]=q}this.length=u;return this}var p=k.document,t=f("jquery")||f("zepto")||f("ender")||p;if(t===p){var q=function(a,d){return a?t.querySelector(a,d||t):t};var a=function(a,d){a.addEventListener("keydown",d,!1)};var h=function(a,d){a.removeEventListener("keydown",d,!1)};var l=function(a,d){var e=p.createEvent("Event"),
h;e.initEvent("keydown",!0,!0);for(h in d)e[h]=d[h];return(a||t).dispatchEvent(e)}}else q=function(a,d){return t(a||p,d)},a=function(a,d){t(a).bind("keydown.jwerty",d)},h=function(a,d){t(a).unbind("keydown.jwerty",d)},l=function(a,d){t(a||p).trigger(t.Event("keydown",d))};for(var d={16:"shiftKey",17:"ctrlKey",18:"altKey",91:"metaKey"},e={mods:{"\u21e7":16,shift:16,"\u2303":17,ctrl:17,"\u2325":18,alt:18,option:18,"\u2318":91,meta:91,cmd:91,"super":91,win:91},keys:{"\u232b":8,backspace:8,"\u21e5":9,
"\u21c6":9,tab:9,"\u21a9":13,"return":13,enter:13,"\u2305":13,pause:19,"pause-break":19,"\u21ea":20,caps:20,"caps-lock":20,"\u238b":27,escape:27,esc:27,space:32,"\u2196":33,pgup:33,"page-up":33,"\u2198":34,pgdown:34,"page-down":34,"\u21df":35,end:35,"\u21de":36,home:36,ins:45,insert:45,del:46,"delete":46,"\u2190":37,left:37,"arrow-left":37,"\u2191":38,up:38,"arrow-up":38,"\u2192":39,right:39,"arrow-right":39,"\u2193":40,down:40,"arrow-down":40,"*":106,star:106,asterisk:106,multiply:106,"+":107,plus:107,
"-":109,subtract:109,"num-.":110,"num-period":110,"num-dot":110,"num-full-stop":110,"num-delete":110,";":186,semicolon:186,"=":187,equals:187,",":188,comma:188,".":190,period:190,"full-stop":190,"/":191,slash:191,"forward-slash":191,"`":192,tick:192,"back-quote":192,"[":219,"open-bracket":219,"\\":220,"back-slash":220,"]":221,"close-bracket":221,"'":222,quote:222,apostraphe:222}},u=47,z=0;106>++u;)e.keys[z]=u,e.keys["num-"+z]=u+48,++z;u=111;for(z=1;136>++u;)e.keys["f"+z]=u,++z;for(u=64;91>++u;)e.keys[String.fromCharCode(u).toLowerCase()]=
u;var C=["input","textarea"],D=c.jwerty={event:function(a,d,e){if(m(d,"boolean")){var h=d;d=function(){return h}}a=new n(a);var l=0,c=a.length-1,f,u;return function(h){var q=h.target.nodeName.toLowerCase();-1===C.indexOf(q)&&((u=D.is(a,h,l))?l<c?++l:(f=d.call(e||this,h,u),!1===f&&h.preventDefault(),l=0):l=D.is(a,h)?1:0)}},is:function(a,d,e){a=new n(a);a=a[e||0];d=d.originalEvent||d;e=a.length;for(var h=!1;e--;){h=a[e].jwertyCombo;for(var l in a[e])"jwertyCombo"!==l&&d[l]!=a[e][l]&&(h=!1);if(!1!==
h)break}return h},key:function(d,e,l,c,f){var u=m(l,"element")||m(l,"string")?l:c,t=u===l?k:l;l=u===l?c:f;var z=m(u,"element")?u:q(u,l),p=D.event(d,e,t);a(z,p);return{unbind:function(){h(z,p)}}},fire:function(a,d,e,h){a=new n(a);h=m(e,"number")?e:h;l(m(d,"element")?d:q(d,e),a[h||0][0])},KEYS:e}})("undefined"!==typeof global&&global.window||this,"undefined"!==typeof module&&module.exports?module.exports:this);define("jwerty",function(k){return function(){return k.jwerty}}(this));
define("app/hotkeys","module jquery jwerty app/events app/configuration app/utilities/XyTools".split(" "),function(k,c,f,m,n,p){var t=function(){this.config={allowMultiBinding:!1,defaultBindConfig:{selector:"document",selectorScope:null,handlerContext:null,showTooltip:!0,tooltipTarget:null,tooltipMessage:null}};this.eventMap={}};t.prototype.init=function(){m.trigger("hotkeys.init:before",this);this.config=c.extend(!0,this.config,n.configure(k.id));m.trigger("hotkeys.init:after",this);return this};
t.prototype.createIdentifier=function(c,a,h){m.trigger("hotkeys.createIdentifier:before",this,c,a,h);var l=window.encodeURIComponent(""+c+a+h).toLowerCase();m.trigger("hotkeys.createIdentifier:after",this,c,a,h);return l};t.prototype.bind=function(c,a,h){m.trigger("hotkeys.bind:before",this,c,a,h);this.eventMap[this.createIdentifier(c,h.selector,h.selectorScope)]={handler:f.key(c,a,h.handlerContext),tooltipEl:p.getJqueryObject(h.tooltipTarget),tooltipMessage:h.tooltipMessage};m.trigger("hotkeys.bind:after",
this,c,a,h);return this};t.prototype.unbind=function(c){m.trigger("hotkeys.unbind:before",this,c);c.handler.unbind();m.trigger("hotkeys.unbind:after",this,c);return this};t.prototype.register=function(f,a,h){m.trigger("hotkeys.register:before",this,f,a,h);h=c.extend({},this.config.defaultBindConfig,h);var l=p.getJqueryObject(h.selector);var d=p.getJqueryObject(h.selectorScope);if(!c(l,d).length)return p.error("The target for the following hotkey is non-existent or cannot be accessed: "+f),!1;h.tooltipMessage=
h.tooltipMessage||f;this.bind(f,a,h);this.setupRollover(h);this.setupAria(f,h);m.trigger("hotkeys.register:after",this,f,a,h);return this};t.prototype.unregister=function(c,a,h){m.trigger("hotkeys.unregister:before",this,c,a,h);a||(a=this.config.defaultBindConfig.selector);h||(h=this.config.defaultBindConfig.selectorScope);var l=this.eventMap[this.createIdentifier(c,a,h)];if(!l)return!1;this.unbind(l);this.removeRollover(l);this.removeAria(l);m.trigger("hotkeys.unregister:after",this,c,a,h);return this};
t.prototype.setupRollover=function(c){var a=p.getJqueryObject(c.tooltipTarget),h=c.tooltipMessage,l;if(!a.length)return!1;(l=a.attr("title"))&&(h=c.tooltipMessage+" "+l);m.trigger("hotkeys.setupRollover:before",this,c,h);a[0].setAttribute("title",h);m.trigger("hotkeys.setupRollover:after",this);return this};t.prototype.setupAria=function(c,a){a=p.getJqueryObject(a.tooltipTarget);if(!a.length)return!1;m.trigger("hotkeys.setupAria:before",this,c);a.attr("aria-keyshortcuts",c);m.trigger("hotkeys.setupAria:after",
this);return this};t.prototype.removeRollover=function(c){var a=c.tooltipEl;m.trigger("hotkeys.removeRollover:before",this,c);if(!a.length)return!1;a[0].setAttribute("title",a[0].getAttribute("title").replace(c.tooltipMessage+" ",""));m.trigger("hotkeys.removeRollover:after",this);return this};t.prototype.removeAria=function(c){var a=c.tooltipEl;if(!a.length)return!1;m.trigger("hotkeys.removeAria:before",this,c);a.attr("aria-keyshortcuts",null);m.trigger("hotkeys.removeAria:after",this);return this};
t=new t;m.trigger("hotkeys.loaded",!0,t);return t});
define("skin/regions/region/region","module jquery app/utilities/XyTools app/configuration app/events lang/lang app/hotkeys".split(" "),function(k,c,f,m,n,p,t){var q=function(){this.config={name:"region",id:k.id,displayName:"Region",regionSelector:"",regionButtonSelector:"",components:{},baseClass:"Region",componentLinkDisplay:{text:!0,icon:!0,safe:!1},startVisible:!0,hotkeyCombination:"",hotkeyHandler:null,hotkeyConfiguration:{},visibleClass:"Open",showingClass:"Opening",hiddenClass:"Closed",hidingClass:"Closing",
clickHandlerNS:"XylemeRegionIcon",enabled:!0,role:"",regionTabIndex:-1,zIndex:100};this.initialized=this.isMoving=!1;this.id=null};q.prototype.init=function(){n.trigger(this.config.name+".init:before",this);this.config=c.extend(this.config,m.configure(this.config.id));this.isOpen=this.config.startVisible;this.config.displayName=p.t("regions."+this.config.name+".title")||this.config.displayName;this.$wrapper=f.getJqueryObject(this.config.regionSelector);this.$links=f.getJqueryObject(this.config.regionButtonSelector);
this.$wrapper[0]&&(this.id=this.config.regionSelector.startsWith("#")?this.config.regionSelector.slice(1):this.$wrapper[0].id||!1,this.id||(this.id=this.$wrapper[0].id=this.config.name+Date.now()));this.render();this.handleAria();this.handleHotkeys();this.setupComponents();var a=this.handleMediaStateChange.bind(this);n.on("content.mediaState:changed",a);a(f.currentMediaState);n.trigger(this.config.name+".init:after",this);this.initialized=!0;n.trigger(this.config.name+".initialized",!0,this)};q.prototype.render=
function(a,h){var l=this;"function"===typeof this.config.renderBefore?this.config.renderBefore.call(this):"function"===typeof this[this.config.renderBefore]&&this[this.config.renderBefore].call(this);a=a||this.$wrapper;h=h||this.$links;n.trigger(this.config.name+".render:before",this);this.config.visibleClass=this.config.visibleClass.replace(".","");this.config.hiddenClass=this.config.hiddenClass.replace(".","");var d=this.isOpen?this.config.visibleClass:this.config.hiddenClass;a.css({"z-index":l.config.zIndex}).addClass(d).addClass(this.config.baseClass);
h.on("click."+l.config.clickHandlerNS,function(a){a.preventDefault();n.trigger(l.config.name+".iconClick",l,this);l.isOpen?l.hide():l.show()});"function"===typeof this.config.renderAfter?this.config.renderAfter.call(this):"function"===typeof this[this.config.renderAfter]&&this[this.config.renderAfter].call(this);n.trigger(this.config.name+".render:after",this);n.trigger(this.config.name+".rendered",!0,this)};q.prototype.handleAria=function(){var a=this.$wrapper.attr("role")||this.config.role,h=this.$wrapper.attr("aria-label")||
this.config.name;this.$links.length&&(this.$links.attr({"aria-disabled":!this.config.enabled,"aria-expanded":this.isOpen,"aria-controls":this.id}),this.$links.each(function(){var a=c(this);a.attr("tabindex")||a.attr("tabindex",0)}));this.$wrapper.length&&(this.$wrapper.attr({"aria-disabled":!this.config.enabled,"aria-hidden":!this.isOpen,"aria-label":h,role:a}),0!==this.config.regionTabIndex&&-1!==this.config.regionTabIndex||this.$wrapper.attr({tabindex:this.config.regionTabIndex}))};q.prototype.handleHotkeys=
function(){if(this.config.hotkeyCombination){var a="function"===typeof this.config.hotkeyHandler?this.config.hotkeyHandler:"function"===typeof this[this.config.hotkeyHandler]?this[this.config.hotkeyHandler]:this.toggle;var h=f.copy(this.config.hotkeyConfiguration);h.tooltipTarget=h.tooltipTarget||this.$links;h.handlerContext=h.handlerContext||this;t.register(this.config.hotkeyCombination,a,h)}};q.prototype.show=function(a){!0===this.config.enabled&&(n.trigger(this.config.name+".show:before",this),
a="function"===typeof a?a:function(){return!0},this.$wrapper.hasClass(this.config.visibleClass)||(this.$wrapper.focus(),this.$wrapper.removeClass(this.config.hiddenClass).addClass(this.config.visibleClass).attr("aria-hidden",!1),this.$links.attr("aria-expanded",!0),n.trigger(this.config.name+".show:after",this)),this.isOpen=!0,a())};q.prototype.hide=function(a){n.trigger(this.config.name+".hide:before",this);a="function"===typeof a?a:function(){return!0};this.$wrapper.hasClass(this.config.hiddenClass)||
(this.$wrapper.removeClass(this.config.visibleClass).addClass(this.config.hiddenClass).attr("aria-hidden",!0),this.$links.attr("aria-expanded",!1),n.trigger("media.pause",this.$wrapper),n.trigger(this.config.name+".hide:after",this));this.isOpen=this.config.enabled?!1:this.isOpen;this.$links.length?this.$links.eq(0).focus():c('[role="main"]').focus();a()};q.prototype.toggle=function(a){n.trigger(this.config.name+".toggle:before",this);this.isOpen?this.hide(a):this.show(a);n.trigger(this.config.name+
".toggle:after",this)};q.prototype.enable=function(a){n.trigger(this.config.name+".enable:before",this);this.config.enabled=!0;this.$links.attr("aria-disabled",!1);this.$wrapper.attr("aria-disabled",!1);!0===this.isOpen&&this.show(a);n.trigger(this.config.name+".enable:after",this)};q.prototype.disable=function(a){n.trigger(this.config.name+".disable:before",this);this.config.enabled=!1;this.$links.attr("aria-disabled",!0);this.$wrapper.attr("aria-disabled",!0);this.hide(a);n.trigger(this.config.name+
".disable:after",this)};q.prototype.toggleState=function(a){n.trigger(this.config.name+".toggleState:before",this);this.config.enabled?this.disable(a):this.enable(a);n.trigger(this.config.name+".toggleState:after",this)};q.prototype.remove=function(a){n.trigger(this.config.name+".remove:before",this);this.$wrapper.attr({"aria-disabled":!0,"aria-hidden":!0}).hide();this.$links.attr({"aria-disabled":!0,"aria-hidden":!0,"aria-expanded":!1}).hide();n.trigger(this.config.name+".remove:after",this)};q.prototype.restore=
function(a){n.trigger(this.config.name+".restore:before",this);this.$wrapper.attr({"aria-disabled":!1,"aria-hidden":!1}).show();this.$links.attr({"aria-disabled":!1,"aria-hidden":!1,"aria-expanded":!0}).show();n.trigger(this.config.name+".restore:after",this)};q.prototype.setupComponents=function(){n.trigger(this.config.name+".setupComponents:before",this);this.$components=this.$wrapper.find(".ComponentLink");this.$componentContents=this.$wrapper.find(".ComponentContent");this.attachComponentEventHandlers();
this.configureComponentLinks();n.trigger(this.config.name+".setupComponents:after",this)};q.prototype.configureComponentLinks=function(){var a=this.config.componentLinkDisplay.icon,h=this.config.componentLinkDisplay.text;this.$components.trigger(a?"showIcon":"hideIcon").trigger(h?"showTitle":"hideTitle");this.config.componentLinkDisplay.safe&&(h?a||this.$components.trigger("showTitle"):this.$components.trigger("showIcon"));return this};q.prototype.attachComponentEventHandlers=function(){var a=this;
this.$componentContents.on("show",function(h,l){a.$components.not(l).trigger("setInactive").trigger("hideContent");a.isOpen||a.show()})};q.prototype.handleMediaStateChange=function(a,h){a="handle"+f.capitalize(a)+"Media";if("function"===typeof this[a])this[a](h)};q.prototype.handleMobileMedia=function(a){};q.prototype.handleNarrowMedia=function(a){};q.prototype.handleNormalMedia=function(a){};q.prototype.handleWideMedia=function(a){};n.trigger("region.loaded",!0,q);return q});
define("skin/components/component/component","module jquery app/configuration app/events app/utilities/XyTools lang/lang app/hotkeys".split(" "),function(k,c,f,m,n,p,t){var q={};var a=function(a,l){this.config=c.extend({},this.config,a);this.$el=l;q[this.config.name]=void 0!==q[this.config.name]?q[this.config.name]+1:1;this.instanceNumber=q[this.config.name];m.trigger(this.config.name+".create:before",this);this.isMoving=!1;this.isOpen=this.config.startVisible;this.isShowingExtendedContent=!1;m.trigger(this.config.name+
".create:after",this)};a.prototype.config={name:"component",id:k.id,displayName:"Component",type:"container",enabled:!0,startVisible:!1,domScope:"",linkSelector:"",linkTitleSelector:".ComponentLinkTitle",linkIconSelector:".ComponentLinkIcon",linkAction:"show",contentSelector:"",visibleClass:"Visible",hiddenClass:"Hidden",activeClass:"Active",inactiveClass:"Inactive",enabledClass:"Enabled",disabledClass:"Disabled",linkEvent:"click",eventHandlerNS:"XylemeComponentLink",hideLinksIfEmpty:!1,zIndex:100,
hotkeyCombination:"",hotkeyHandler:null,hotkeyConfiguration:{},initBefore:function(){},initAfter:function(){},renderBefore:function(){},renderAfter:function(){}};a.prototype.init=function(){var a=this.getElementConfig();m.trigger(this.config.name+".init:before",this);this.config=n.extend(this.config,f.configure(this.config.id),a);this.callFromConfig("initBefore");this.config.displayName=p.t("components."+this.config.name+".title")||this.config.displayName;this.uniqueId=this.config.name+this.instanceNumber;
n.logGroup(this.config.displayName+" Component");this.callFromConfig("initAfter");m.trigger(this.config.name+".init:after",this);m.trigger(this.config.name+".initialized",!0,this);n.logGroupEnd()};a.prototype.render=function(){n.logGroup(this.config.name+" render");m.trigger(this.config.name+".render:before",this);this.callFromConfig("renderBefore");this.$wrapper=this.config.domScope?n.getJqueryObject(this.config.domScope):c("body");this.$icon=this.$el.find(this.config.linkIconSelector);this.$title=
this.$el.find(this.config.linkTitleSelector);this.$content=this.$wrapper.find(this.config.contentSelector);this.$el[0].id=this.$el[0].id||this.uniqueId+"-link";this.$content.length&&(this.$content[0].id=this.$content[0].id||this.uniqueId+"-content");this.setUpAria();this.bindEvents();this.config.contentSelector&&!this.$content.html()&&this.disable();this.config.startVisible?(this.showLink(),this.showContent()):(this.hideLink(),this.hideContent());this.config.enabled||this.remove();if(this.config.hotkeyCombination){var a=
"function"===typeof this.config.hotkeyHandler?this.config.hotkeyHandler:"function"===typeof this[this.config.hotkeyHandler]?this[this.config.hotkeyHandler]:this.linkClick;var l=n.copy(this.config.hotkeyConfiguration);l.tooltipTarget=l.tooltipTarget||this.config.linkSelector;l.handlerContext=l.handlerContext||this;t.register(this.config.hotkeyCombination,a,l)}this.callFromConfig("renderAfter");m.trigger(this.config.name+".render:after",this);n.logGroupEnd(this.config.name+" render");return this.$el};
a.prototype.getElementConfig=function(){var a=this.$el.data()||{};return Object.keys(a).reduce(function(h,d){if(/^config/.test(d)){var e=d.replace(/^config(.)/,function(a,d){return d.toLowerCase()});h[e]=a[d]}return h},{})};a.prototype.setUpAria=function(){m.trigger(this.config.name+".setUpAria:before",this);this.$el.attr({"aria-controls":this.$content.length?this.$content[0].id:"","aria-hidden":this.isHidden(),"aria-active":this.$el.hasClass(this.config.activeClass),"aria-keyshortcuts":this.config.hotkeyCombination||
""});m.trigger(this.config.name+".setUpAria:after",this)};a.prototype.linkClick=function(a){m.trigger(this.config.name+".linkClick:before",this);if("string"===typeof this.config.linkAction&&"function"===typeof this[this.config.linkAction])this[this.config.linkAction](a);m.trigger(this.config.name+".linkClick:after",this)};a.prototype.show=function(){!0===this.config.enabled&&(m.trigger(this.config.name+".show:before",this),this.showLink(),this.setActive(),this.showContent(),this.$content.trigger("show",
this.$el),m.trigger(this.config.name+".show:after",this))};a.prototype.hide=function(){m.trigger(this.config.name+".hide:before",this);this.hideLink();this.hideContent();this.setInactive();m.trigger(this.config.name+".hide:after",this)};a.prototype.hideAllButLinks=function(){m.trigger(this.config.name+".hide:before",this);this.hideContent();this.setInactive();m.trigger(this.config.name+".hide:after",this)};a.prototype.showLink=function(){this.$el.removeClass(this.config.hiddenClass).addClass(this.config.visibleClass).attr("aria-hidden",
!1)};a.prototype.hideLink=function(){this.$el.removeClass(this.config.visibleClass).addClass(this.config.hiddenClass).attr("aria-hidden",!0)};a.prototype.isHidden=function(){return this.$el.hasClass(this.config.hiddenClass)};a.prototype.showContent=function(){this.$content.removeClass(this.config.hiddenClass).addClass(this.config.visibleClass).attr("aria-hidden",!1);this.$content.length&&this.focusContentFirstItem();this.$el.attr("aria-expanded",!0)};a.prototype.focusContentFirstItem=function(){m.trigger(this.config.name+
".focusFirstItem:before",this);this.$content.first()[0].focus();m.trigger(this.config.name+".focusFirstItem:after",this)};a.prototype.hideContent=function(){m.trigger("media.pause",this.$content);this.$content.removeClass(this.config.visibleClass).addClass(this.config.hiddenClass).attr("aria-hidden",!0);this.$el.attr("aria-expanded",!1)};a.prototype.setActive=function(){this.$el.removeClass(this.config.inactiveClass).addClass(this.config.activeClass).attr("aria-active",!0)};a.prototype.setInactive=
function(){this.$el.removeClass(this.config.activeClass).addClass(this.config.inactiveClass).attr("aria-active",!1)};a.prototype.showIcon=function(){this.$icon.removeClassSVG(this.config.hiddenClass).addClassSVG(this.config.visibleClass)};a.prototype.hideIcon=function(){this.$icon.removeClassSVG(this.config.visibleClass).addClassSVG(this.config.hiddenClass)};a.prototype.showTitle=function(){this.$title.removeClass(this.config.hiddenClass).addClass(this.config.visibleClass)};a.prototype.hideTitle=
function(){this.$title.removeClass(this.config.visibleClass).addClass(this.config.hiddenClass)};a.prototype.toggle=function(a){m.trigger(this.config.name+".toggle:before",this);this.isOpen?this.hide(a):this.show(a);m.trigger(this.config.name+".toggle:after",this)};a.prototype.enable=function(){m.trigger(this.config.name+".enable:before",this);this.config.enabled=!0;this.$el.removeClass(this.config.disabledClass).addClass(this.config.enabledClass);!0===this.isOpen&&this.show();m.trigger(this.config.name+
".enable:after",this)};a.prototype.disable=function(){m.trigger(this.config.name+".disable:before",this);this.config.enabled=!1;this.$el.removeClass(this.config.enabledClass).addClass(this.config.disabledClass);m.trigger(this.config.name+".disable:after",this)};a.prototype.toggleState=function(){m.trigger(this.config.name+".toggleState:before",this);this.config.enabled?this.disable():this.enable();m.trigger(this.config.name+".toggleState:after",this)};a.prototype.remove=function(a){m.trigger(this.config.name+
".remove:before",this);this.hideLink();this.hideContent();this.setInactive();this.disable();m.trigger(this.config.name+".remove:after",this)};a.prototype.restore=function(){m.trigger(this.config.name+".restore:before",this);this.showLink();this.showContent();this.enable();m.trigger(this.config.name+".restore:after",this)};a.prototype.close=function(){};a.prototype.loadContent=function(){};a.prototype.bindEvents=function(){this.$el.on(this.config.linkEvent+"."+this.config.eventHandlerNS,this.linkClick.bind(this));
this.$el.on("keyup."+this.config.eventHandlerNS,function(a){13==a.keyCode&&this.linkClick.call(this,a)}.bind(this));for(var a in this)if("function"===typeof this[a])this.$el.on(a+"."+this.config.eventHandlerNS,this[a].bind(this));m.on(this.config.name+".close",this.close.bind(this))};a.prototype.callFromConfig=function(h){function l(a,d){return"function"===typeof a.config[d]?a.config[d]:"function"===typeof a[a.config[d]]?a[a.config[d]]:function(){}}var d=Array.prototype.slice.call(arguments,1);var e=
l(a.prototype,h);var c=l(this,h);e.apply(this,d);c.apply(this,d)};a.prototype.destroy=function(){void 0!==q[this.config.name]&&--q[this.config.name]};m.trigger("component.loaded",!0,a);return a});define("elements/popup/popup.template",[],function(){return'<div class="PopupWrapper <%= popupWrapperClass %>" tabindex="-1" style="<%=computedStyle%>" role="<%=role%>" aria-label="<%= title %>" aria-modal="<%=modal%>">                <div class="PopupTitlebar">                    <span class="PopupTitlebarTitle"><%= title %></span>                    <% if (closeButton) {%>                        <a href="#" class="PopupTitlebarClose" title="<%= closeButtonLabel %>"></a>                    <% }%>                </div>                <div class="PopupContentWrapper">                    <div class="PopupContent clearfix <%= popupContentClass %>" id="<%= _.uniqueId(\'Popup\') %>"></div>                </div>                <% if (buttons && buttons.length > 0) { %>                     <div class="PopupButtonsWrapper">                        <div class="PopupButtons">                            <% _.each(buttons, function(button) {%>                                <button class="PopupButton <%=button.buttonClass%>" alt="<%=button.text%>" title="<%=button.text%>">                                    <%=button.text%>                                </button>                            <%})%>                        </div>                    </div>                <% } %>             </div>'});
define("vendor/jquery/extensions/custom/jquery.drags",["jquery"],function(k){k.fn.drags=function(c){c=k.extend({activeClass:"draggable",handleClass:"active-handle",handle:null,cursor:"move",svg:!1,zIndex:1E3,ondragstart:function(){},ondrag:function(){},ondragstop:function(){},contentWrapper:null},c);return this.each(function(){var f=null==c.handle?k(this):c.handle;null!=this.ownerSVGElement&&(c.svg=!0);k(this).css("cursor",c.cursor).on("mousedown touchstart",function(m){for(var n=f.outerHeight(),
p=f.outerWidth(),t=f.offset().top+n-(m.pageY||m.originalEvent.changedTouches[0].pageY),q=f.offset().left+p-(m.pageX||m.originalEvent.changedTouches[0].pageX),a=m.clientX||m.originalEvent.changedTouches[0].clientX,h=m.clientY||m.originalEvent.changedTouches[0].clientY,l=(k(this).attr("transform")||"matrix(1 0 0 1 0 0)").slice(7,-1).split(" "),d=0,e=l.length;d<e;d++)l[d]=+l[d];if(!f.hasClass("movingNow")&&(f.addClass(c.activeClass).css("z-index",c.zIndex).parents().on("mousemove touchmove",function(d){if(c.svg){var e=
d.clientX||d.originalEvent.changedTouches[0].clientX;var u=d.clientY||d.originalEvent.changedTouches[0].clientY;l[4]+=e-a;l[5]+=u-h;a=e;h=u;f.attr("transform","matrix("+l.join(" ")+")")}else e=(d.pageX||d.originalEvent.changedTouches[0].pageX)+q-p,u=(d.pageY||d.originalEvent.changedTouches[0].pageY)+t-n,f.offset({top:u,left:e});c.ondrag.call(this,d)}),c.contentWrapper))c.contentWrapper.on("mouseleave",function(a){f.parents().off("mousemove touchmove mouseup touchend");k(this).off("mouseleave");f.removeClass(c.activeClass).css("z-index",
"");c.ondragstop.call(f,a)}).on("mouseup touchend",function(a){f.parents().off("mousemove touchmove");k(this).off("mouseleave mouseup touchend");a.offsetX=10;a.offsetY=10;f.trigger(a)});m.preventDefault();c.ondragstart.call(this,m)}).on("mouseup touchend",function(m){k(this).parents().off("mousemove touchmove");c.contentWrapper&&c.contentWrapper.off("mouseleave mouseup touchend");f.removeClass(c.activeClass).css("z-index","");c.ondragstop.call(this,m)})})}});
define("vendor/jquery/extensions/custom/jquery.rotate",["jquery"],function(k){k.fn.rotate=function(c){var f=k.extend({degree:360,animate:!0,duration:1E3,infinite:!0,easing:"linear",complete:function(){}},c);return this.each(function(){var c=k(this);(function p(){c.is(":visible")?!0===f.animate?k({deg:0}).animate({deg:f.degree},{duration:f.duration,step:function(f){c.css({transform:"rotate("+f+"deg)"})},complete:function(){f.complete.call(c,c);f.infinite&&p()},easing:f.easing}):(c.css({transform:"rotate("+
f.degree+"deg)"}),f.complete.call(c,c)):f.complete.call(c,c)})()})}});
define("vendor/jquery/extensions/custom/jquery.SVGclass",["jquery"],function(k){k.fn.addClassSVG=function(c){if(!c)return this;c=c.split(" ");return this.each(function(f,m){var k="undefined"!==typeof m.className.baseVal?m.className.baseVal:m.className;c.forEach(function(c){m.classList?m.classList.add(c):-1===k.indexOf(c)&&(c=k+" "+c,m.setAttribute("class",c),k=c)})})};k.fn.removeClassSVG=function(c){if(!c)return this;c=c.split(" ");return this.each(function(f,m){var k="undefined"!==typeof m.className.baseVal?
m.className.baseVal:m.className;c.forEach(function(c){m.classList?m.classList.remove(c):(c=k.replace(c,""),m.setAttribute("class",c),k=c)})})};k.fn.toggleClassSVG=function(c,f){if(!c)return this;if("boolean"===typeof f)return f?this.addClassSVG(c):this.removeClassSVG(c);c=c.split(" ");return this.each(function(f,n){var m="undefined"!==typeof n.className.baseVal?n.className.baseVal:n.className;c.forEach(function(c){n.classList?n.classList.toggle(c):-1===m.indexOf(c)?k(n).addClassSVG(c):k(n).removeClassSVG(c)})})}});
define("vendor/jquery/extensions/custom/jquery.swipe",["jquery"],function(k){k.fn.swipe=function(c){c=k.extend({thresholdX:100,listenTo:document,touchstart:function(){},touchmove:function(){},touchend:function(){},swipeLeft:function(){},swipeRight:function(){}},c);return this.each(function(){function f(a){e=q(a);var h=Math.abs(d.x-e.x);var f=Math.abs(d.y-e.y);if(l)a.preventDefault();else if(h>f)a.preventDefault(),l=!0;else{n();return}p(c.touchmove,a)}function m(a){if(!(a.touches&&0<a.touches.length))if(l&&
e){a.preventDefault();l=!1;var h=d.x-e.x;p(c.touchend);n();Math.abs(h)>c.thresholdX&&p(c[0<h?"swipeLeft":"swipeRight"],a)}else n()}function n(){h.off("touchmove.swipe",f);h.off("touchend.swipe",m)}function p(d){d.apply(a,[].slice.call(arguments,1))}function t(d){if(k(d)[0]===a[0])return!1;if(1.1<(window.outerWidth||document.documentElement.clientWidth)/window.innerWidth||d.clientWidth<d.scrollWidth)return!0;var e;a:{if(e=k._data(d,"events"))for(var h in e)if(e.hasOwnProperty(h)&&/^(touchstart|touchmove)/.test(h)){e=
!0;break a}e=!1}return e?!0:t(d.parentNode)}function q(a){var d={};a=a.originalEvent;a.targetTouches?(d.x=a.targetTouches[0].clientX,d.y=a.targetTouches[0].clientY):(d.x=a.clientX,d.y=a.clientY);return d}var a=k(this),h=k(c.listenTo),l=!1,d,e;k(this).on("touchstart",function(a){a.touches&&1<a.touches.length||t(a.target)||(h.on("touchmove.swipe",f),h.one("touchend.swipe touchcancel.swipe",m),d=q(a),p(c.touchstart,a))})})}});
(function(k){"function"===typeof define&&define.amd?define("vendor/jquery/extensions/custom/jquery.slick",["jquery"],k):"undefined"!==typeof exports?module.exports=k(require("jquery")):k(jQuery)})(function(k){var c=window.Slick||{};c=function(){var c=0;return function(f,n){this.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:k(f),appendDots:k(f),arrows:!0,asNavFor:null,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next</button>',
autoplay:!1,autoplaySpeed:3E3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(c,f){return k('<button type="button" />').text(f+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,focusOnChange:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,
swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1E3};this.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:!1,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,swiping:!1,$list:null,
touchObject:{},transformsEnabled:!1,unslicked:!1};k.extend(this,this.initials);this.animProp=this.animType=this.activeBreakpoint=null;this.breakpoints=[];this.breakpointSettings=[];this.interrupted=this.focussed=this.cssTransitions=!1;this.hidden="hidden";this.paused=!0;this.respondTo=this.positionProp=null;this.rowCount=1;this.shouldClick=!0;this.$slider=k(f);this.transitionType=this.transformType=this.$slidesCache=null;this.visibilityChange="visibilitychange";this.windowWidth=0;this.windowTimer=
null;f=k(f).data("slick")||{};this.options=k.extend({},this.defaults,n,f);this.currentSlide=this.options.initialSlide;this.originalSettings=this.options;"undefined"!==typeof document.mozHidden?(this.hidden="mozHidden",this.visibilityChange="mozvisibilitychange"):"undefined"!==typeof document.webkitHidden&&(this.hidden="webkitHidden",this.visibilityChange="webkitvisibilitychange");this.autoPlay=k.proxy(this.autoPlay,this);this.autoPlayClear=k.proxy(this.autoPlayClear,this);this.autoPlayIterator=k.proxy(this.autoPlayIterator,
this);this.changeSlide=k.proxy(this.changeSlide,this);this.clickHandler=k.proxy(this.clickHandler,this);this.selectHandler=k.proxy(this.selectHandler,this);this.setPosition=k.proxy(this.setPosition,this);this.swipeHandler=k.proxy(this.swipeHandler,this);this.dragHandler=k.proxy(this.dragHandler,this);this.keyHandler=k.proxy(this.keyHandler,this);this.instanceUid=c++;this.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/;this.registerBreakpoints();this.init(!0)}}();c.prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})};
c.prototype.addSlide=c.prototype.slickAdd=function(c,m,n){if("boolean"===typeof m)n=m,m=null;else if(0>m||m>=this.slideCount)return!1;this.unload();"number"===typeof m?0===m&&0===this.$slides.length?k(c).appendTo(this.$slideTrack):n?k(c).insertBefore(this.$slides.eq(m)):k(c).insertAfter(this.$slides.eq(m)):!0===n?k(c).prependTo(this.$slideTrack):k(c).appendTo(this.$slideTrack);this.$slides=this.$slideTrack.children(this.options.slide);this.$slideTrack.children(this.options.slide).detach();this.$slideTrack.append(this.$slides);
this.$slides.each(function(c,f){k(f).attr("data-slick-index",c)});this.$slidesCache=this.$slides;this.reinit()};c.prototype.animateHeight=function(){if(1===this.options.slidesToShow&&!0===this.options.adaptiveHeight&&!1===this.options.vertical){var c=this.$slides.eq(this.currentSlide).outerHeight(!0);this.$list.animate({height:c},this.options.speed)}};c.prototype.animateSlide=function(c,m){var f={},p=this;p.animateHeight();!0===p.options.rtl&&!1===p.options.vertical&&(c=-c);!1===p.transformsEnabled?
!1===p.options.vertical?p.$slideTrack.animate({left:c},p.options.speed,p.options.easing,m):p.$slideTrack.animate({top:c},p.options.speed,p.options.easing,m):!1===p.cssTransitions?(!0===p.options.rtl&&(p.currentLeft=-p.currentLeft),k({animStart:p.currentLeft}).animate({animStart:c},{duration:p.options.speed,easing:p.options.easing,step:function(c){c=Math.ceil(c);f[p.animType]=!1===p.options.vertical?"translate("+c+"px, 0px)":"translate(0px,"+c+"px)";p.$slideTrack.css(f)},complete:function(){m&&m.call()}})):
(p.applyTransition(),c=Math.ceil(c),f[p.animType]=!1===p.options.vertical?"translate3d("+c+"px, 0px, 0px)":"translate3d(0px,"+c+"px, 0px)",p.$slideTrack.css(f),m&&setTimeout(function(){p.disableTransition();m.call()},p.options.speed))};c.prototype.getNavTarget=function(){var c=this.options.asNavFor;c&&null!==c&&(c=k(c).not(this.$slider));return c};c.prototype.asNavFor=function(c){var f=this.getNavTarget();null!==f&&"object"===typeof f&&f.each(function(){var f=k(this).slick("getSlick");f.unslicked||
f.slideHandler(c,!0)})};c.prototype.applyTransition=function(c){var f={};f[this.transitionType]=!1===this.options.fade?this.transformType+" "+this.options.speed+"ms "+this.options.cssEase:"opacity "+this.options.speed+"ms "+this.options.cssEase;!1===this.options.fade?this.$slideTrack.css(f):this.$slides.eq(c).css(f)};c.prototype.autoPlay=function(){this.autoPlayClear();this.slideCount>this.options.slidesToShow&&(this.autoPlayTimer=setInterval(this.autoPlayIterator,this.options.autoplaySpeed))};c.prototype.autoPlayClear=
function(){this.autoPlayTimer&&clearInterval(this.autoPlayTimer)};c.prototype.autoPlayIterator=function(){var c=this.currentSlide+this.options.slidesToScroll;this.paused||this.interrupted||this.focussed||(!1===this.options.infinite&&(1===this.direction&&this.currentSlide+1===this.slideCount-1?this.direction=0:0===this.direction&&(c=this.currentSlide-this.options.slidesToScroll,0===this.currentSlide-1&&(this.direction=1))),this.slideHandler(c))};c.prototype.buildArrows=function(){!0===this.options.arrows&&
(this.$prevArrow=k(this.options.prevArrow).addClass("slick-arrow"),this.$nextArrow=k(this.options.nextArrow).addClass("slick-arrow"),this.slideCount>this.options.slidesToShow?(this.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),this.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),this.htmlExpr.test(this.options.prevArrow)&&this.$prevArrow.prependTo(this.options.appendArrows),this.htmlExpr.test(this.options.nextArrow)&&this.$nextArrow.appendTo(this.options.appendArrows),
!0!==this.options.infinite&&this.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):this.$prevArrow.add(this.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))};c.prototype.buildDots=function(){var c;if(!0===this.options.dots&&this.slideCount>this.options.slidesToShow){this.$slider.addClass("slick-dotted");var m=k("<ul />").addClass(this.options.dotsClass);for(c=0;c<=this.getDotCount();c+=1)m.append(k("<li />").append(this.options.customPaging.call(this,
this,c)));this.$dots=m.appendTo(this.options.appendDots);this.$dots.find("li").first().addClass("slick-active")}};c.prototype.buildOut=function(){this.$slides=this.$slider.children(this.options.slide+":not(.slick-cloned)").addClass("slick-slide");this.slideCount=this.$slides.length;this.$slides.each(function(c,m){k(m).attr("data-slick-index",c).data("originalStyling",k(m).attr("style")||"")});this.$slider.addClass("slick-slider");this.$slideTrack=0===this.slideCount?k('<div class="slick-track"/>').appendTo(this.$slider):
this.$slides.wrapAll('<div class="slick-track"/>').parent();this.$list=this.$slideTrack.wrap('<div class="slick-list"/>').parent();this.$slideTrack.css("opacity",0);if(!0===this.options.centerMode||!0===this.options.swipeToSlide)this.options.slidesToScroll=1;k("img[data-lazy]",this.$slider).not("[src]").addClass("slick-loading");this.setupInfinite();this.buildArrows();this.buildDots();this.updateDots();this.setSlideClasses("number"===typeof this.currentSlide?this.currentSlide:0);!0===this.options.draggable&&
this.$list.addClass("draggable")};c.prototype.buildRows=function(){var c,m,k;var p=document.createDocumentFragment();var t=this.$slider.children();if(0<this.options.rows){var q=this.options.slidesPerRow*this.options.rows;var a=Math.ceil(t.length/q);for(c=0;c<a;c++){var h=document.createElement("div");for(m=0;m<this.options.rows;m++){var l=document.createElement("div");for(k=0;k<this.options.slidesPerRow;k++){var d=c*q+(m*this.options.slidesPerRow+k);t.get(d)&&l.appendChild(t.get(d))}h.appendChild(l)}p.appendChild(h)}this.$slider.empty().append(p);
this.$slider.children().children().children().css({width:100/this.options.slidesPerRow+"%",display:"inline-block"})}};c.prototype.checkResponsive=function(c,m){var f,p,t=!1;var q=this.$slider.width();var a=window.innerWidth||k(window).width();"window"===this.respondTo?p=a:"slider"===this.respondTo?p=q:"min"===this.respondTo&&(p=Math.min(a,q));if(this.options.responsive&&this.options.responsive.length&&null!==this.options.responsive){q=null;for(f in this.breakpoints)this.breakpoints.hasOwnProperty(f)&&
(!1===this.originalSettings.mobileFirst?p<this.breakpoints[f]&&(q=this.breakpoints[f]):p>this.breakpoints[f]&&(q=this.breakpoints[f]));if(null!==q)if(null!==this.activeBreakpoint){if(q!==this.activeBreakpoint||m)this.activeBreakpoint=q,"unslick"===this.breakpointSettings[q]?this.unslick(q):(this.options=k.extend({},this.originalSettings,this.breakpointSettings[q]),!0===c&&(this.currentSlide=this.options.initialSlide),this.refresh(c)),t=q}else this.activeBreakpoint=q,"unslick"===this.breakpointSettings[q]?
this.unslick(q):(this.options=k.extend({},this.originalSettings,this.breakpointSettings[q]),!0===c&&(this.currentSlide=this.options.initialSlide),this.refresh(c)),t=q;else null!==this.activeBreakpoint&&(this.activeBreakpoint=null,this.options=this.originalSettings,!0===c&&(this.currentSlide=this.options.initialSlide),this.refresh(c),t=q);c||!1===t||this.$slider.trigger("breakpoint",[this,t])}};c.prototype.changeSlide=function(c,m){var f=k(c.currentTarget);f.is("a")&&c.preventDefault();f.is("li")||
(f=f.closest("li"));var p=0!==this.slideCount%this.options.slidesToScroll?0:(this.slideCount-this.currentSlide)%this.options.slidesToScroll;switch(c.data.message){case "previous":f=0===p?this.options.slidesToScroll:this.options.slidesToShow-p;this.slideCount>this.options.slidesToShow&&this.slideHandler(this.currentSlide-f,!1,m);break;case "next":f=0===p?this.options.slidesToScroll:p;this.slideCount>this.options.slidesToShow&&this.slideHandler(this.currentSlide+f,!1,m);break;case "index":c=0===c.data.index?
0:c.data.index||f.index()*this.options.slidesToScroll,this.slideHandler(this.checkNavigable(c),!1,m),f.children().trigger("focus")}};c.prototype.checkNavigable=function(c){var f=this.getNavigableIndexes();var k=0;if(c>f[f.length-1])c=f[f.length-1];else for(var p in f){if(c<f[p]){c=k;break}k=f[p]}return c};c.prototype.cleanUpEvents=function(){this.options.dots&&null!==this.$dots&&(k("li",this.$dots).off("click.slick",this.changeSlide).off("mouseenter.slick",k.proxy(this.interrupt,this,!0)).off("mouseleave.slick",
k.proxy(this.interrupt,this,!1)),!0===this.options.accessibility&&this.$dots.off("keydown.slick",this.keyHandler));this.$slider.off("focus.slick blur.slick");!0===this.options.arrows&&this.slideCount>this.options.slidesToShow&&(this.$prevArrow&&this.$prevArrow.off("click.slick",this.changeSlide),this.$nextArrow&&this.$nextArrow.off("click.slick",this.changeSlide),!0===this.options.accessibility&&(this.$prevArrow&&this.$prevArrow.off("keydown.slick",this.keyHandler),this.$nextArrow&&this.$nextArrow.off("keydown.slick",
this.keyHandler)));this.$list.off("touchstart.slick mousedown.slick",this.swipeHandler);this.$list.off("touchmove.slick mousemove.slick",this.swipeHandler);this.$list.off("touchend.slick mouseup.slick",this.swipeHandler);this.$list.off("touchcancel.slick mouseleave.slick",this.swipeHandler);this.$list.off("click.slick",this.clickHandler);k(document).off(this.visibilityChange,this.visibility);this.cleanUpSlideEvents();!0===this.options.accessibility&&this.$list.off("keydown.slick",this.keyHandler);
!0===this.options.focusOnSelect&&k(this.$slideTrack).children().off("click.slick",this.selectHandler);k(window).off("orientationchange.slick.slick-"+this.instanceUid,this.orientationChange);k(window).off("resize.slick.slick-"+this.instanceUid,this.resize);k("[draggable!=true]",this.$slideTrack).off("dragstart",this.preventDefault);k(window).off("load.slick.slick-"+this.instanceUid,this.setPosition)};c.prototype.cleanUpSlideEvents=function(){this.$list.off("mouseenter.slick",k.proxy(this.interrupt,
this,!0));this.$list.off("mouseleave.slick",k.proxy(this.interrupt,this,!1))};c.prototype.cleanUpRows=function(){if(0<this.options.rows){var c=this.$slides.children().children();c.removeAttr("style");this.$slider.empty().append(c)}};c.prototype.clickHandler=function(c){!1===this.shouldClick&&(c.stopImmediatePropagation(),c.stopPropagation(),c.preventDefault())};c.prototype.destroy=function(c){this.autoPlayClear();this.touchObject={};this.cleanUpEvents();k(".slick-cloned",this.$slider).detach();this.$dots&&
this.$dots.remove();this.$prevArrow&&this.$prevArrow.length&&(this.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),this.htmlExpr.test(this.options.prevArrow)&&this.$prevArrow.remove());this.$nextArrow&&this.$nextArrow.length&&(this.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),this.htmlExpr.test(this.options.nextArrow)&&this.$nextArrow.remove());
this.$slides&&(this.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){k(this).attr("style",k(this).data("originalStyling"))}),this.$slideTrack.children(this.options.slide).detach(),this.$slideTrack.detach(),this.$list.detach(),this.$slider.append(this.$slides));this.cleanUpRows();this.$slider.removeClass("slick-slider");this.$slider.removeClass("slick-initialized");this.$slider.removeClass("slick-dotted");
this.unslicked=!0;c||this.$slider.trigger("destroy",[this])};c.prototype.disableTransition=function(c){var f={};f[this.transitionType]="";!1===this.options.fade?this.$slideTrack.css(f):this.$slides.eq(c).css(f)};c.prototype.fadeSlide=function(c,m){var f=this;!1===f.cssTransitions?(f.$slides.eq(c).css({zIndex:f.options.zIndex}),f.$slides.eq(c).animate({opacity:1},f.options.speed,f.options.easing,m)):(f.applyTransition(c),f.$slides.eq(c).css({opacity:1,zIndex:f.options.zIndex}),m&&setTimeout(function(){f.disableTransition(c);
m.call()},f.options.speed))};c.prototype.fadeSlideOut=function(c){!1===this.cssTransitions?this.$slides.eq(c).animate({opacity:0,zIndex:this.options.zIndex-2},this.options.speed,this.options.easing):(this.applyTransition(c),this.$slides.eq(c).css({opacity:0,zIndex:this.options.zIndex-2}))};c.prototype.filterSlides=c.prototype.slickFilter=function(c){null!==c&&(this.$slidesCache=this.$slides,this.unload(),this.$slideTrack.children(this.options.slide).detach(),this.$slidesCache.filter(c).appendTo(this.$slideTrack),
this.reinit())};c.prototype.focusHandler=function(){var c=this;c.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*",function(f){f.stopImmediatePropagation();var m=k(this);setTimeout(function(){c.options.pauseOnFocus&&(c.focussed=m.is(":focus"),c.autoPlay())},0)})};c.prototype.getCurrent=c.prototype.slickCurrentSlide=function(){return this.currentSlide};c.prototype.getDotCount=function(){var c=0,m=0,k=0;if(!0===this.options.infinite)if(this.slideCount<=this.options.slidesToShow)++k;
else for(;c<this.slideCount;)++k,c=m+this.options.slidesToScroll,m+=this.options.slidesToScroll<=this.options.slidesToShow?this.options.slidesToScroll:this.options.slidesToShow;else if(!0===this.options.centerMode)k=this.slideCount;else if(this.options.asNavFor)for(;c<this.slideCount;)++k,c=m+this.options.slidesToScroll,m+=this.options.slidesToScroll<=this.options.slidesToShow?this.options.slidesToScroll:this.options.slidesToShow;else k=1+Math.ceil((this.slideCount-this.options.slidesToShow)/this.options.slidesToScroll);
return k-1};c.prototype.getLeft=function(c){var f=0;this.slideOffset=0;var k=this.$slides.first().outerHeight(!0);!0===this.options.infinite?(this.slideCount>this.options.slidesToShow&&(this.slideOffset=this.slideWidth*this.options.slidesToShow*-1,f=-1,!0===this.options.vertical&&!0===this.options.centerMode&&(2===this.options.slidesToShow?f=-1.5:1===this.options.slidesToShow&&(f=-2)),f*=k*this.options.slidesToShow),0!==this.slideCount%this.options.slidesToScroll&&c+this.options.slidesToScroll>this.slideCount&&
this.slideCount>this.options.slidesToShow&&(c>this.slideCount?(this.slideOffset=(this.options.slidesToShow-(c-this.slideCount))*this.slideWidth*-1,f=(this.options.slidesToShow-(c-this.slideCount))*k*-1):(this.slideOffset=this.slideCount%this.options.slidesToScroll*this.slideWidth*-1,f=this.slideCount%this.options.slidesToScroll*k*-1))):c+this.options.slidesToShow>this.slideCount&&(this.slideOffset=(c+this.options.slidesToShow-this.slideCount)*this.slideWidth,f=(c+this.options.slidesToShow-this.slideCount)*
k);this.slideCount<=this.options.slidesToShow&&(f=this.slideOffset=0);!0===this.options.centerMode&&this.slideCount<=this.options.slidesToShow?this.slideOffset=this.slideWidth*Math.floor(this.options.slidesToShow)/2-this.slideWidth*this.slideCount/2:!0===this.options.centerMode&&!0===this.options.infinite?this.slideOffset+=this.slideWidth*Math.floor(this.options.slidesToShow/2)-this.slideWidth:!0===this.options.centerMode&&(this.slideOffset=0,this.slideOffset+=this.slideWidth*Math.floor(this.options.slidesToShow/
2));k=!1===this.options.vertical?c*this.slideWidth*-1+this.slideOffset:c*k*-1+f;!0===this.options.variableWidth&&(f=this.slideCount<=this.options.slidesToShow||!1===this.options.infinite?this.$slideTrack.children(".slick-slide").eq(c):this.$slideTrack.children(".slick-slide").eq(c+this.options.slidesToShow),k=!0===this.options.rtl?f[0]?-1*(this.$slideTrack.width()-f[0].offsetLeft-f.width()):0:f[0]?-1*f[0].offsetLeft:0,!0===this.options.centerMode&&(f=this.slideCount<=this.options.slidesToShow||!1===
this.options.infinite?this.$slideTrack.children(".slick-slide").eq(c):this.$slideTrack.children(".slick-slide").eq(c+this.options.slidesToShow+1),k=!0===this.options.rtl?f[0]?-1*(this.$slideTrack.width()-f[0].offsetLeft-f.width()):0:f[0]?-1*f[0].offsetLeft:0,k+=(this.$list.width()-f.outerWidth())/2));return k};c.prototype.getOption=c.prototype.slickGetOption=function(c){return this.options[c]};c.prototype.getNavigableIndexes=function(){var c=0,m=0,k=[];if(!1===this.options.infinite)var p=this.slideCount;
else c=-1*this.options.slidesToScroll,m=-1*this.options.slidesToScroll,p=2*this.slideCount;for(;c<p;)k.push(c),c=m+this.options.slidesToScroll,m+=this.options.slidesToScroll<=this.options.slidesToShow?this.options.slidesToScroll:this.options.slidesToShow;return k};c.prototype.getSlick=function(){return this};c.prototype.getSlideCount=function(){var c=this,m,n;var p=!0===c.options.centerMode?c.slideWidth*Math.floor(c.options.slidesToShow/2):0;return!0===c.options.swipeToSlide?(c.$slideTrack.find(".slick-slide").each(function(f,
q){if(q.offsetLeft-p+k(q).outerWidth()/2>-1*c.swipeLeft)return n=q,!1}),m=Math.abs(k(n).attr("data-slick-index")-c.currentSlide)||1):c.options.slidesToScroll};c.prototype.goTo=c.prototype.slickGoTo=function(c,m){this.changeSlide({data:{message:"index",index:parseInt(c)}},m)};c.prototype.init=function(c){k(this.$slider).hasClass("slick-initialized")||(k(this.$slider).addClass("slick-initialized"),this.buildRows(),this.buildOut(),this.setProps(),this.startLoad(),this.loadSlider(),this.initializeEvents(),
this.updateArrows(),this.updateDots(),this.checkResponsive(!0),this.focusHandler());c&&this.$slider.trigger("init",[this]);!0===this.options.accessibility&&this.initADA();this.options.autoplay&&(this.paused=!1,this.autoPlay())};c.prototype.initADA=function(){var c=this,m=Math.ceil(c.slideCount/c.options.slidesToShow),n=c.getNavigableIndexes().filter(function(f){return 0<=f&&f<c.slideCount});c.$slides.add(c.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"});
null!==c.$dots&&(c.$slides.not(c.$slideTrack.find(".slick-cloned")).each(function(f){var a=n.indexOf(f);k(this).attr({role:"tabpanel",id:"slick-slide"+c.instanceUid+f,tabindex:-1});-1!==a&&(f="slick-slide-control"+c.instanceUid+a,k("#"+f).length&&k(this).attr({"aria-describedby":f}))}),c.$dots.attr("role","tablist").find("li").each(function(f){var a=n[f];k(this).attr({role:"presentation"});k(this).find("button").first().attr({role:"tab",id:"slick-slide-control"+c.instanceUid+f,"aria-controls":"slick-slide"+
c.instanceUid+a,"aria-label":f+1+" of "+m,"aria-selected":null,tabindex:"-1"})}).eq(c.currentSlide).find("button").attr({"aria-selected":"true",tabindex:"0"}).end());for(var p=c.currentSlide,t=p+c.options.slidesToShow;p<t;p++)c.options.focusOnChange?c.$slides.eq(p).attr({tabindex:"0"}):c.$slides.eq(p).removeAttr("tabindex");c.activateADA()};c.prototype.initArrowEvents=function(){!0===this.options.arrows&&this.slideCount>this.options.slidesToShow&&(this.$prevArrow.off("click.slick").on("click.slick",
{message:"previous"},this.changeSlide),this.$nextArrow.off("click.slick").on("click.slick",{message:"next"},this.changeSlide),!0===this.options.accessibility&&(this.$prevArrow.on("keydown.slick",this.keyHandler),this.$nextArrow.on("keydown.slick",this.keyHandler)))};c.prototype.initDotEvents=function(){if(!0===this.options.dots&&this.slideCount>this.options.slidesToShow&&(k("li",this.$dots).on("click.slick",{message:"index"},this.changeSlide),!0===this.options.accessibility))this.$dots.on("keydown.slick",
this.keyHandler);if(!0===this.options.dots&&!0===this.options.pauseOnDotsHover&&this.slideCount>this.options.slidesToShow)k("li",this.$dots).on("mouseenter.slick",k.proxy(this.interrupt,this,!0)).on("mouseleave.slick",k.proxy(this.interrupt,this,!1))};c.prototype.initSlideEvents=function(){this.options.pauseOnHover&&(this.$list.on("mouseenter.slick",k.proxy(this.interrupt,this,!0)),this.$list.on("mouseleave.slick",k.proxy(this.interrupt,this,!1)))};c.prototype.initializeEvents=function(){this.initArrowEvents();
this.initDotEvents();this.initSlideEvents();this.$list.on("touchstart.slick mousedown.slick",{action:"start"},this.swipeHandler);this.$list.on("touchmove.slick mousemove.slick",{action:"move"},this.swipeHandler);this.$list.on("touchend.slick mouseup.slick",{action:"end"},this.swipeHandler);this.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},this.swipeHandler);this.$list.on("click.slick",this.clickHandler);k(document).on(this.visibilityChange,k.proxy(this.visibility,this));if(!0===this.options.accessibility)this.$list.on("keydown.slick",
this.keyHandler);if(!0===this.options.focusOnSelect)k(this.$slideTrack).children().on("click.slick",this.selectHandler);k(window).on("orientationchange.slick.slick-"+this.instanceUid,k.proxy(this.orientationChange,this));k(window).on("resize.slick.slick-"+this.instanceUid,k.proxy(this.resize,this));k("[draggable!=true]",this.$slideTrack).on("dragstart",this.preventDefault);k(window).on("load.slick.slick-"+this.instanceUid,this.setPosition);k(this.setPosition)};c.prototype.initUI=function(){!0===this.options.arrows&&
this.slideCount>this.options.slidesToShow&&(this.$prevArrow.show(),this.$nextArrow.show());!0===this.options.dots&&this.slideCount>this.options.slidesToShow&&this.$dots.show()};c.prototype.keyHandler=function(c){c.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===c.keyCode&&!0===this.options.accessibility?this.changeSlide({data:{message:!0===this.options.rtl?"next":"previous"}}):39===c.keyCode&&!0===this.options.accessibility&&this.changeSlide({data:{message:!0===this.options.rtl?"previous":"next"}}))};
c.prototype.lazyLoad=function(){function c(a){k("img[data-lazy]",a).each(function(){var a=k(this),d=k(this).attr("data-lazy"),e=k(this).attr("data-srcset"),h=k(this).attr("data-sizes")||m.$slider.attr("data-sizes"),c=document.createElement("img");c.onload=function(){a.animate({opacity:0},100,function(){e&&(a.attr("srcset",e),h&&a.attr("sizes",h));a.attr("src",d).animate({opacity:1},200,function(){a.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")});m.$slider.trigger("lazyLoaded",
[m,a,d])})};c.onerror=function(){a.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error");m.$slider.trigger("lazyLoadError",[m,a,d])};c.src=d})}var m=this;if(!0===m.options.centerMode)if(!0===m.options.infinite){var n=m.currentSlide+(m.options.slidesToShow/2+1);var p=n+m.options.slidesToShow+2}else n=Math.max(0,m.currentSlide-(m.options.slidesToShow/2+1)),p=2+(m.options.slidesToShow/2+1)+m.currentSlide;else n=m.options.infinite?m.options.slidesToShow+m.currentSlide:
m.currentSlide,p=Math.ceil(n+m.options.slidesToShow),!0===m.options.fade&&(0<n&&n--,p<=m.slideCount&&p++);var t=m.$slider.find(".slick-slide").slice(n,p);if("anticipated"===m.options.lazyLoad){--n;for(var q=m.$slider.find(".slick-slide"),a=0;a<m.options.slidesToScroll;a++)0>n&&(n=m.slideCount-1),t=t.add(q.eq(n)),t=t.add(q.eq(p)),n--,p++}c(t);m.slideCount<=m.options.slidesToShow?(t=m.$slider.find(".slick-slide"),c(t)):m.currentSlide>=m.slideCount-m.options.slidesToShow?(t=m.$slider.find(".slick-cloned").slice(0,
m.options.slidesToShow),c(t)):0===m.currentSlide&&(t=m.$slider.find(".slick-cloned").slice(-1*m.options.slidesToShow),c(t))};c.prototype.loadSlider=function(){this.setPosition();this.$slideTrack.css({opacity:1});this.$slider.removeClass("slick-loading");this.initUI();"progressive"===this.options.lazyLoad&&this.progressiveLazyLoad()};c.prototype.next=c.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})};c.prototype.orientationChange=function(){this.checkResponsive();this.setPosition()};
c.prototype.pause=c.prototype.slickPause=function(){this.autoPlayClear();this.paused=!0};c.prototype.play=c.prototype.slickPlay=function(){this.autoPlay();this.options.autoplay=!0;this.interrupted=this.focussed=this.paused=!1};c.prototype.postSlide=function(c){this.unslicked||(this.$slider.trigger("afterChange",[this,c]),this.animating=!1,this.slideCount>this.options.slidesToShow&&this.setPosition(),this.swipeLeft=null,this.options.autoplay&&this.autoPlay(),!0===this.options.accessibility&&(this.initADA(),
this.options.focusOnChange&&k(this.$slides.get(this.currentSlide)).attr("tabindex",0).focus()))};c.prototype.prev=c.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})};c.prototype.preventDefault=function(c){c.preventDefault()};c.prototype.progressiveLazyLoad=function(c){c=c||1;var f=this,n=k("img[data-lazy]",f.$slider);if(n.length){var p=n.first();var t=p.attr("data-lazy");var q=p.attr("data-srcset");var a=p.attr("data-sizes")||f.$slider.attr("data-sizes");n=document.createElement("img");
n.onload=function(){q&&(p.attr("srcset",q),a&&p.attr("sizes",a));p.attr("src",t).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading");!0===f.options.adaptiveHeight&&f.setPosition();f.$slider.trigger("lazyLoaded",[f,p,t]);f.progressiveLazyLoad()};n.onerror=function(){3>c?setTimeout(function(){f.progressiveLazyLoad(c+1)},500):(p.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),f.$slider.trigger("lazyLoadError",[f,p,t]),f.progressiveLazyLoad())};
n.src=t}else f.$slider.trigger("allImagesLoaded",[f])};c.prototype.refresh=function(c){var f=this.slideCount-this.options.slidesToShow;!this.options.infinite&&this.currentSlide>f&&(this.currentSlide=f);this.slideCount<=this.options.slidesToShow&&(this.currentSlide=0);f=this.currentSlide;this.destroy(!0);k.extend(this,this.initials,{currentSlide:f});this.init();c||this.changeSlide({data:{message:"index",index:f}},!1)};c.prototype.registerBreakpoints=function(){var c=this,m,n,p=c.options.responsive||
null;if("array"===k.type(p)&&p.length){c.respondTo=c.options.respondTo||"window";for(m in p){var t=c.breakpoints.length-1;if(p.hasOwnProperty(m)){for(n=p[m].breakpoint;0<=t;)c.breakpoints[t]&&c.breakpoints[t]===n&&c.breakpoints.splice(t,1),t--;c.breakpoints.push(n);c.breakpointSettings[n]=p[m].settings}}c.breakpoints.sort(function(f,a){return c.options.mobileFirst?f-a:a-f})}};c.prototype.reinit=function(){this.$slides=this.$slideTrack.children(this.options.slide).addClass("slick-slide");this.slideCount=
this.$slides.length;this.currentSlide>=this.slideCount&&0!==this.currentSlide&&(this.currentSlide-=this.options.slidesToScroll);this.slideCount<=this.options.slidesToShow&&(this.currentSlide=0);this.registerBreakpoints();this.setProps();this.setupInfinite();this.buildArrows();this.updateArrows();this.initArrowEvents();this.buildDots();this.updateDots();this.initDotEvents();this.cleanUpSlideEvents();this.initSlideEvents();this.checkResponsive(!1,!0);if(!0===this.options.focusOnSelect)k(this.$slideTrack).children().on("click.slick",
this.selectHandler);this.setSlideClasses("number"===typeof this.currentSlide?this.currentSlide:0);this.setPosition();this.focusHandler();this.paused=!this.options.autoplay;this.autoPlay();this.$slider.trigger("reInit",[this])};c.prototype.resize=function(){var c=this;k(window).width()!==c.windowWidth&&(clearTimeout(c.windowDelay),c.windowDelay=window.setTimeout(function(){c.windowWidth=k(window).width();c.checkResponsive();c.unslicked||c.setPosition()},50))};c.prototype.removeSlide=c.prototype.slickRemove=
function(c,m,k){c="boolean"===typeof c?!0===c?0:this.slideCount-1:!0===m?--c:c;if(1>this.slideCount||0>c||c>this.slideCount-1)return!1;this.unload();!0===k?this.$slideTrack.children().remove():this.$slideTrack.children(this.options.slide).eq(c).remove();this.$slides=this.$slideTrack.children(this.options.slide);this.$slideTrack.children(this.options.slide).detach();this.$slideTrack.append(this.$slides);this.$slidesCache=this.$slides;this.reinit()};c.prototype.setCSS=function(c){var f={};!0===this.options.rtl&&
(c=-c);var k="left"==this.positionProp?Math.ceil(c)+"px":"0px";var p="top"==this.positionProp?Math.ceil(c)+"px":"0px";f[this.positionProp]=c;!1!==this.transformsEnabled&&(f={},f[this.animType]=!1===this.cssTransitions?"translate("+k+", "+p+")":"translate3d("+k+", "+p+", 0px)");this.$slideTrack.css(f)};c.prototype.setDimensions=function(){!1===this.options.vertical?!0===this.options.centerMode&&this.$list.css({padding:"0px "+this.options.centerPadding}):(this.$list.height(this.$slides.first().outerHeight(!0)*
this.options.slidesToShow),!0===this.options.centerMode&&this.$list.css({padding:this.options.centerPadding+" 0px"}));this.listWidth=this.$list.width();this.listHeight=this.$list.height();!1===this.options.vertical&&!1===this.options.variableWidth?(this.slideWidth=Math.ceil(this.listWidth/this.options.slidesToShow),this.$slideTrack.width(Math.ceil(this.slideWidth*this.$slideTrack.children(".slick-slide").length))):!0===this.options.variableWidth?this.$slideTrack.width(5E3*this.slideCount):(this.slideWidth=
Math.ceil(this.listWidth),this.$slideTrack.height(Math.ceil(this.$slides.first().outerHeight(!0)*this.$slideTrack.children(".slick-slide").length)));var c=this.$slides.first().outerWidth(!0)-this.$slides.first().width();!1===this.options.variableWidth&&this.$slideTrack.children(".slick-slide").width(this.slideWidth-c)};c.prototype.setFade=function(){var c=this,m;c.$slides.each(function(f,p){m=c.slideWidth*f*-1;!0===c.options.rtl?k(p).css({position:"relative",right:m,top:0,zIndex:c.options.zIndex-
2,opacity:0}):k(p).css({position:"relative",left:m,top:0,zIndex:c.options.zIndex-2,opacity:0})});c.$slides.eq(c.currentSlide).css({zIndex:c.options.zIndex-1,opacity:1})};c.prototype.setHeight=function(){if(1===this.options.slidesToShow&&!0===this.options.adaptiveHeight&&!1===this.options.vertical){var c=this.$slides.eq(this.currentSlide).outerHeight(!0);this.$list.css("height",c)}};c.prototype.setOption=c.prototype.slickSetOption=function(c,m,n){var f=this,t,q=!1;if("object"===k.type(c)){var a=c;
q=m;var h="multiple"}else if("string"===k.type(c)){a=c;var l=m;q=n;"responsive"===c&&"array"===k.type(m)?h="responsive":"undefined"!==typeof m&&(h="single")}if("single"===h)f.options[a]=l;else if("multiple"===h)k.each(a,function(a,e){f.options[a]=e});else if("responsive"===h)for(t in l)if("array"!==k.type(f.options.responsive))f.options.responsive=[l[t]];else{for(c=f.options.responsive.length-1;0<=c;)f.options.responsive[c].breakpoint===l[t].breakpoint&&f.options.responsive.splice(c,1),c--;f.options.responsive.push(l[t])}q&&
(f.unload(),f.reinit())};c.prototype.setPosition=function(){this.setDimensions();this.setHeight();!1===this.options.fade?this.setCSS(this.getLeft(this.currentSlide)):this.setFade();this.$slider.trigger("setPosition",[this])};c.prototype.setProps=function(){var c=document.body.style;this.positionProp=!0===this.options.vertical?"top":"left";"top"===this.positionProp?this.$slider.addClass("slick-vertical"):this.$slider.removeClass("slick-vertical");void 0===c.WebkitTransition&&void 0===c.MozTransition&&
void 0===c.msTransition||!0!==this.options.useCSS||(this.cssTransitions=!0);this.options.fade&&("number"===typeof this.options.zIndex?3>this.options.zIndex&&(this.options.zIndex=3):this.options.zIndex=this.defaults.zIndex);void 0!==c.OTransform&&(this.animType="OTransform",this.transformType="-o-transform",this.transitionType="OTransition",void 0===c.perspectiveProperty&&void 0===c.webkitPerspective&&(this.animType=!1));void 0!==c.MozTransform&&(this.animType="MozTransform",this.transformType="-moz-transform",
this.transitionType="MozTransition",void 0===c.perspectiveProperty&&void 0===c.MozPerspective&&(this.animType=!1));void 0!==c.webkitTransform&&(this.animType="webkitTransform",this.transformType="-webkit-transform",this.transitionType="webkitTransition",void 0===c.perspectiveProperty&&void 0===c.webkitPerspective&&(this.animType=!1));void 0!==c.msTransform&&(this.animType="msTransform",this.transformType="-ms-transform",this.transitionType="msTransition",void 0===c.msTransform&&(this.animType=!1));
void 0!==c.transform&&!1!==this.animType&&(this.transformType=this.animType="transform",this.transitionType="transition");this.transformsEnabled=this.options.useTransform&&null!==this.animType&&!1!==this.animType};c.prototype.setSlideClasses=function(c){var f=this.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true");this.$slides.eq(c).addClass("slick-current");if(!0===this.options.centerMode){var k=0===this.options.slidesToShow%2?1:0;var p=
Math.floor(this.options.slidesToShow/2);if(!0===this.options.infinite){if(c>=p&&c<=this.slideCount-1-p)this.$slides.slice(c-p+k,c+p+1).addClass("slick-active").attr("aria-hidden","false");else{var t=this.options.slidesToShow+c;f.slice(t-p+1+k,t+p+2).addClass("slick-active").attr("aria-hidden","false")}0===c?f.eq(f.length-1-this.options.slidesToShow).addClass("slick-center"):c===this.slideCount-1&&f.eq(this.options.slidesToShow).addClass("slick-center")}this.$slides.eq(c).addClass("slick-center")}else 0<=
c&&c<=this.slideCount-this.options.slidesToShow?this.$slides.slice(c,c+this.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):f.length<=this.options.slidesToShow?f.addClass("slick-active").attr("aria-hidden","false"):(p=this.slideCount%this.options.slidesToShow,t=!0===this.options.infinite?this.options.slidesToShow+c:c,this.options.slidesToShow==this.options.slidesToScroll&&this.slideCount-c<this.options.slidesToShow?f.slice(t-(this.options.slidesToShow-p),t+p).addClass("slick-active").attr("aria-hidden",
"false"):f.slice(t,t+this.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"));"ondemand"!==this.options.lazyLoad&&"anticipated"!==this.options.lazyLoad||this.lazyLoad()};c.prototype.setupInfinite=function(){var c;!0===this.options.fade&&(this.options.centerMode=!1);if(!0===this.options.infinite&&!1===this.options.fade){var m=null;if(this.slideCount>this.options.slidesToShow){var n=!0===this.options.centerMode?this.options.slidesToShow+1:this.options.slidesToShow;for(c=this.slideCount;c>
this.slideCount-n;--c)m=c-1,k(this.$slides[m]).clone(!0).attr("id","").attr("data-slick-index",m-this.slideCount).prependTo(this.$slideTrack).addClass("slick-cloned").find(".AVscript").remove();for(c=0;c<n+this.slideCount;c+=1)m=c,k(this.$slides[m]).clone(!0).attr("id","").attr("data-slick-index",m+this.slideCount).appendTo(this.$slideTrack).addClass("slick-cloned").find(".AVscript").remove();this.$slideTrack.find(".slick-cloned").find("[id]").each(function(){k(this).attr("id","")})}}};c.prototype.interrupt=
function(c){c||this.autoPlay();this.interrupted=c};c.prototype.selectHandler=function(c){c=k(c.target).is(".slick-slide")?k(c.target):k(c.target).parents(".slick-slide");(c=parseInt(c.attr("data-slick-index")))||(c=0);this.slideCount<=this.options.slidesToShow?this.slideHandler(c,!1,!0):this.slideHandler(c)};c.prototype.slideHandler=function(c,m,k){var f=null,t=this;if(!0!==t.animating||!0!==t.options.waitForAnimate)if(!0!==t.options.fade||t.currentSlide!==c){!1===(m||!1)&&t.asNavFor(c);var q=c;f=
t.getLeft(q);m=t.getLeft(t.currentSlide);t.currentLeft=null===t.swipeLeft?m:t.swipeLeft;if(!1===t.options.infinite&&!1===t.options.centerMode&&(0>c||c>t.getDotCount()*t.options.slidesToScroll))!1===t.options.fade&&(q=t.currentSlide,!0!==k&&t.slideCount>t.options.slidesToShow?t.animateSlide(m,function(){t.postSlide(q)}):t.postSlide(q));else if(!1===t.options.infinite&&!0===t.options.centerMode&&(0>c||c>t.slideCount-t.options.slidesToScroll))!1===t.options.fade&&(q=t.currentSlide,!0!==k&&t.slideCount>
t.options.slidesToShow?t.animateSlide(m,function(){t.postSlide(q)}):t.postSlide(q));else{t.options.autoplay&&clearInterval(t.autoPlayTimer);var a=0>q?0!==t.slideCount%t.options.slidesToScroll?t.slideCount-t.slideCount%t.options.slidesToScroll:t.slideCount+q:q>=t.slideCount?0!==t.slideCount%t.options.slidesToScroll?0:q-t.slideCount:q;t.animating=!0;t.$slider.trigger("beforeChange",[t,t.currentSlide,a]);c=t.currentSlide;t.currentSlide=a;t.setSlideClasses(t.currentSlide);t.options.asNavFor&&(m=t.getNavTarget(),
m=m.slick("getSlick"),m.slideCount<=m.options.slidesToShow&&m.setSlideClasses(t.currentSlide));t.updateDots();t.updateArrows();!0===t.options.fade?(!0!==k?(t.fadeSlideOut(c),t.fadeSlide(a,function(){t.postSlide(a)})):t.postSlide(a),t.animateHeight()):!0!==k&&t.slideCount>t.options.slidesToShow?t.animateSlide(f,function(){t.postSlide(a)}):t.postSlide(a)}}};c.prototype.startLoad=function(){!0===this.options.arrows&&this.slideCount>this.options.slidesToShow&&(this.$prevArrow.hide(),this.$nextArrow.hide());
!0===this.options.dots&&this.slideCount>this.options.slidesToShow&&this.$dots.hide();this.$slider.addClass("slick-loading")};c.prototype.swipeDirection=function(){var c=Math.round(180*Math.atan2(this.touchObject.startY-this.touchObject.curY,this.touchObject.startX-this.touchObject.curX)/Math.PI);0>c&&(c=360-Math.abs(c));return 45>=c&&0<=c||360>=c&&315<=c?!1===this.options.rtl?"left":"right":135<=c&&225>=c?!1===this.options.rtl?"right":"left":!0===this.options.verticalSwiping?35<=c&&135>=c?"down":
"up":"vertical"};c.prototype.swipeEnd=function(c){this.swiping=this.dragging=!1;if(this.scrolling)return this.scrolling=!1;this.interrupted=!1;this.shouldClick=10<this.touchObject.swipeLength?!1:!0;if(void 0===this.touchObject.curX)return!1;!0===this.touchObject.edgeHit&&this.$slider.trigger("edge",[this,this.swipeDirection()]);if(this.touchObject.swipeLength>=this.touchObject.minSwipe){c=this.swipeDirection();switch(c){case "left":case "down":var f=this.options.swipeToSlide?this.checkNavigable(this.currentSlide+
this.getSlideCount()):this.currentSlide+this.getSlideCount();this.currentDirection=0;break;case "right":case "up":f=this.options.swipeToSlide?this.checkNavigable(this.currentSlide-this.getSlideCount()):this.currentSlide-this.getSlideCount(),this.currentDirection=1}"vertical"!=c&&(this.slideHandler(f),this.touchObject={},this.$slider.trigger("swipe",[this,c]))}else this.touchObject.startX!==this.touchObject.curX&&(this.slideHandler(this.currentSlide),this.touchObject={})};c.prototype.swipeHandler=
function(c){if(!(!1===this.options.swipe||"ontouchend"in document&&!1===this.options.swipe||!1===this.options.draggable&&-1!==c.type.indexOf("mouse")))switch(this.touchObject.fingerCount=c.originalEvent&&void 0!==c.originalEvent.touches?c.originalEvent.touches.length:1,this.touchObject.minSwipe=this.listWidth/this.options.touchThreshold,!0===this.options.verticalSwiping&&(this.touchObject.minSwipe=this.listHeight/this.options.touchThreshold),c.data.action){case "start":this.swipeStart(c);break;case "move":this.swipeMove(c);
break;case "end":this.swipeEnd(c)}};c.prototype.swipeMove=function(c){var f=void 0!==c.originalEvent?c.originalEvent.touches:null;if(!this.dragging||this.scrolling||f&&1!==f.length)return!1;var k=this.getLeft(this.currentSlide);this.touchObject.curX=void 0!==f?f[0].pageX:c.clientX;this.touchObject.curY=void 0!==f?f[0].pageY:c.clientY;this.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(this.touchObject.curX-this.touchObject.startX,2)));f=Math.round(Math.sqrt(Math.pow(this.touchObject.curY-this.touchObject.startY,
2)));if(!this.options.verticalSwiping&&!this.swiping&&4<f)return this.scrolling=!0,!1;!0===this.options.verticalSwiping&&(this.touchObject.swipeLength=f);f=this.swipeDirection();void 0!==c.originalEvent&&4<this.touchObject.swipeLength&&(this.swiping=!0,c.preventDefault());var p=(!1===this.options.rtl?1:-1)*(this.touchObject.curX>this.touchObject.startX?1:-1);!0===this.options.verticalSwiping&&(p=this.touchObject.curY>this.touchObject.startY?1:-1);c=this.touchObject.swipeLength;this.touchObject.edgeHit=
!1;!1===this.options.infinite&&(0===this.currentSlide&&"right"===f||this.currentSlide>=this.getDotCount()&&"left"===f)&&(c=this.touchObject.swipeLength*this.options.edgeFriction,this.touchObject.edgeHit=!0);this.swipeLeft=!1===this.options.vertical?k+c*p:k+c*(this.$list.height()/this.listWidth)*p;!0===this.options.verticalSwiping&&(this.swipeLeft=k+c*p);if(!0===this.options.fade||!1===this.options.touchMove)return!1;if(!0===this.animating)return this.swipeLeft=null,!1;this.setCSS(this.swipeLeft)};
c.prototype.swipeStart=function(c){var f;this.interrupted=!0;if(1!==this.touchObject.fingerCount||this.slideCount<=this.options.slidesToShow)return this.touchObject={},!1;void 0!==c.originalEvent&&void 0!==c.originalEvent.touches&&(f=c.originalEvent.touches[0]);this.touchObject.startX=this.touchObject.curX=void 0!==f?f.pageX:c.clientX;this.touchObject.startY=this.touchObject.curY=void 0!==f?f.pageY:c.clientY;this.dragging=!0};c.prototype.unfilterSlides=c.prototype.slickUnfilter=function(){null!==
this.$slidesCache&&(this.unload(),this.$slideTrack.children(this.options.slide).detach(),this.$slidesCache.appendTo(this.$slideTrack),this.reinit())};c.prototype.unload=function(){k(".slick-cloned",this.$slider).remove();this.$dots&&this.$dots.remove();this.$prevArrow&&this.htmlExpr.test(this.options.prevArrow)&&this.$prevArrow.remove();this.$nextArrow&&this.htmlExpr.test(this.options.nextArrow)&&this.$nextArrow.remove();this.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden",
"true").css("width","")};c.prototype.unslick=function(c){this.$slider.trigger("unslick",[this,c]);this.destroy()};c.prototype.updateArrows=function(){!0===this.options.arrows&&this.slideCount>this.options.slidesToShow&&!this.options.infinite&&(this.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),this.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===this.currentSlide?(this.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),this.$nextArrow.removeClass("slick-disabled").attr("aria-disabled",
"false")):this.currentSlide>=this.slideCount-this.options.slidesToShow&&!1===this.options.centerMode?(this.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),this.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):this.currentSlide>=this.slideCount-1&&!0===this.options.centerMode&&(this.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),this.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))};c.prototype.updateDots=function(){null!==
this.$dots&&(this.$dots.find("li").removeClass("slick-active").end(),this.$dots.find("li").eq(Math.floor(this.currentSlide/this.options.slidesToScroll)).addClass("slick-active"))};c.prototype.visibility=function(){this.options.autoplay&&(this.interrupted=document[this.hidden]?!0:!1)};k.fn.slick=function(){var f=arguments[0],m=Array.prototype.slice.call(arguments,1),k=this.length,p,t;for(p=0;p<k;p++)if("object"==typeof f||"undefined"==typeof f?this[p].slick=new c(this[p],f):t=this[p].slick[f].apply(this[p].slick,
m),"undefined"!=typeof t)return t;return this}});define("vendor/jquery/extensions/vendor/jquery.dbltap",["jquery"],function(k){k.event.special.dbltap={bindType:"touchend",delegateType:"touchend",handle:function(c){var f=c.handleObj,m=k.data(c.target),n=(new Date).getTime(),p=m.lastTouch?n-m.lastTouch:0;300>p&&30<p?(m.lastTouch=null,c.type=f.origType,["clientX","clientY","pageX","pageY"].forEach(function(f){c[f]=c.originalEvent.changedTouches[0][f]}),f.handler.apply(this,arguments)):m.lastTouch=n}}});
define("vendor/jquery/extensions/vendor/jquery.placeholder",["jquery"],function(k){(function(c,f,m){function k(a){var d={},e=/^jQuery\d+$/;m.each(a.attributes,function(a,h){h.specified&&!e.test(h.name)&&(d[h.name]=h.value)});return d}function p(a,d){var e=m(this);if(this.value==e.attr("placeholder")&&e.hasClass("placeholder"))if(e.data("placeholder-password")){e=e.hide().next().show().attr("id",e.removeAttr("id").data("placeholder-id"));if(!0===a)return e[0].value=d;e.focus()}else this.value="",e.removeClass("placeholder"),
this==q()&&this.select()}function t(){var a=m(this),d=this.id;if(""==this.value){if("password"==this.type){if(!a.data("placeholder-textinput")){try{var e=a.clone().attr({type:"text"})}catch(D){e=m("<input>").attr(m.extend(k(this),{type:"text"}))}e.removeAttr("name").data({"placeholder-password":a,"placeholder-id":d}).bind("focus.placeholder",p);a.data({"placeholder-textinput":e,"placeholder-id":d}).before(e)}a=a.removeAttr("id").hide().prev().attr("id",d).show()}a.addClass("placeholder");a[0].value=
a.attr("placeholder")}else a.removeClass("placeholder")}function q(){try{return f.activeElement}catch(u){}}var a="undefined"!==typeof c.operamini,h="placeholder"in f.createElement("input")&&!a;a="placeholder"in f.createElement("textarea")&&!a;var l=m.fn,d=m.valHooks,e=m.propHooks;h&&a?(l=l.placeholder=function(){return this},l.input=l.textarea=!0):(l=l.placeholder=function(){this.filter((h?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":p,"blur.placeholder":t}).data("placeholder-enabled",
!0).trigger("blur.placeholder");return this},l.input=h,l.textarea=a,l={get:function(a){var d=m(a),e=d.data("placeholder-password");return e?e[0].value:d.data("placeholder-enabled")&&d.hasClass("placeholder")?"":a.value},set:function(a,d){var e=m(a),h=e.data("placeholder-password");if(h)return h[0].value=d;if(!e.data("placeholder-enabled"))return a.value=d;""==d?(a.value=d,a!=q()&&t.call(a)):e.hasClass("placeholder")?p.call(a,!0,d)||(a.value=d):a.value=d;return e}},h||(d.input=l,e.value=l),a||(d.textarea=
l,e.value=l),m(function(){m(f).delegate("form","submit.placeholder",function(){var a=m(".placeholder",this).each(p);setTimeout(function(){a.each(t)},10)})}),m(c).bind("beforeunload.placeholder",function(){m(".placeholder").each(function(){this.value=""})}))})(window,document,k)});
define("vendor/jquery/extensions/vendor/jquery.threesixty",["jquery"],function(k){(function(c){c.ThreeSixty=function(f,m){var k=this,p,t=[];k.$el=c(f);k.el=f;k.$el.data("ThreeSixty",k);k.init=function(){p=c.extend({},c.ThreeSixty.defaultOptions,m);p.disableSpin&&(p.currentFrame=1,p.endFrame=1);k.initProgress();k.loadImages()};k.resize=function(){};k.initProgress=function(){k.$el.css({width:p.width+"px",height:p.height+"px","background-image":"none !important"});p.styles&&k.$el.css(p.styles);k.responsive();
k.$el.find(p.progress).css({marginTop:p.height/2-15+"px"});k.$el.find(p.progress).fadeIn("slow");k.$el.find(p.imgList).hide()};k.loadImages=function(){var f=document.createElement("li");var a=p.zeroBased?0:1;a=p.imgArray?p.imgArray[p.loadedImages]:p.domain+p.imagePath+p.filePrefix+k.zeroPad(p.loadedImages+a)+p.ext+(k.browser.isIE()?"?"+(new Date).getTime():"");var h=new Image;h.onload=function(){k.imageLoaded()};h=c(h);h.attr("src",a).addClass("previous-image").appendTo(f);t.push(h);k.$el.find(p.imgList).append(f)};
k.imageLoaded=function(){p.loadedImages+=1;c(p.progress+" span").text(Math.floor(p.loadedImages/p.totalFrames*100)+"%");p.loadedImages>=p.totalFrames?(p.disableSpin&&t[0].removeClass("previous-image").addClass("current-image"),c(p.progress).fadeOut("slow",function(){c(this).hide();k.showImages();k.showNavigation()})):k.loadImages()};k.showImages=function(){k.$el.find(".txtC").fadeIn();k.$el.find(p.imgList).fadeIn();k.ready=!0;p.ready=!0;p.drag&&k.initEvents();k.refresh();k.initPlugins();p.onReady();
setTimeout(function(){k.responsive()},50)};k.initPlugins=function(){c.each(p.plugins,function(f,a){if("function"===typeof c[a])c[a].call(k,k.$el,p);else throw Error(a+" not available.");})};k.showNavigation=function(){if(p.navigation&&!p.navigation_init){var f=c("<div/>").attr("class","nav_bar");var a=c("<a/>").attr({href:"#","class":"nav_bar_next"}).html("next");var h=c("<a/>").attr({href:"#","class":"nav_bar_previous"}).html("previous");var l=c("<a/>").attr({href:"#","class":"nav_bar_play"}).html("play");
f.append(h);f.append(l);f.append(a);k.$el.prepend(f);a.bind("mousedown touchstart",k.next);h.bind("mousedown touchstart",k.previous);l.bind("mousedown touchstart",k.play_stop);p.navigation_init=!0}};k.play_stop=function(f){f.preventDefault();p.autoplay?(p.autoplay=!1,c(f.currentTarget).removeClass("nav_bar_stop").addClass("nav_bar_play"),clearInterval(p.play),p.play=null):(p.autoplay=!0,p.play=setInterval(k.moveToNextFrame,p.playSpeed),c(f.currentTarget).removeClass("nav_bar_play").addClass("nav_bar_stop"))};
k.next=function(c){c&&c.preventDefault();p.endFrame-=5;k.refresh()};k.previous=function(c){c&&c.preventDefault();p.endFrame+=5;k.refresh()};k.play=function(c){c=c||p.playSpeed;p.autoplay||(p.autoplay=!0,p.play=setInterval(k.moveToNextFrame,c))};k.stop=function(){p.autoplay&&(p.autoplay=!1,clearInterval(p.play),p.play=null)};k.moveToNextFrame=function(){p.autoplayDirection+1&&!p.dirReverse?--p.endFrame:p.endFrame+=1;k.refresh()};k.gotoAndPlay=function(c){if(p.disableWrap)p.endFrame=c,k.refresh();else{var a=
Math.ceil(p.endFrame/p.totalFrames);0===a&&(a=1);a=1<a?p.endFrame-(a-1)*p.totalFrames:p.endFrame;var h=p.totalFrames-a;h=0<c-a?c-a<a+(p.totalFrames-c)?p.endFrame+(c-a):p.endFrame-(a+(p.totalFrames-c)):a-c<h+c?p.endFrame-(a-c):p.endFrame+(h+c);a!==c&&(p.endFrame=h,k.refresh())}};k.initEvents=function(){k.$el.bind("mousedown touchstart touchmove touchend mousemove click",function(c){c.preventDefault();"mousedown"===c.type&&1===c.which||"touchstart"===c.type?(p.pointerStartPosX=k.getPointerEvent(c).pageX,
p.dragging=!0):"touchmove"===c.type?k.trackPointer(c):"touchend"===c.type&&(p.dragging=!1)});c(document).bind("mouseup",function(f){p.dragging=!1;c(this).css("cursor","none")});c(window).bind("resize",function(c){k.responsive()});c(document).bind("mousemove",function(c){p.dragging?(c.preventDefault(),!k.browser.isIE&&p.showCursor&&k.$el.css("cursor","url(assets/images/hand_closed.png), auto")):!k.browser.isIE&&p.showCursor&&k.$el.css("cursor","url(assets/images/hand_open.png), auto");k.trackPointer(c)});
c(window).resize(function(){k.resize()})};k.getPointerEvent=function(c){return c.originalEvent.targetTouches?c.originalEvent.targetTouches[0]:c};k.trackPointer=function(c){if(p.ready&&p.dragging&&(p.pointerEndPosX=k.getPointerEvent(c).pageX,p.monitorStartTime<(new Date).getTime()-p.monitorInt)){p.pointerDistance=p.pointerEndPosX-p.pointerStartPosX;if(p.dirReverse){var a=Math.ceil;var h=Math.floor;var l=-1}else a=Math.floor,h=Math.ceil,l=1;p.endFrame=0<p.pointerDistance?p.currentFrame+h((p.totalFrames-
1)*p.speedMultiplier*(l*p.pointerDistance/k.$el.width())):p.currentFrame+a((p.totalFrames-1)*p.speedMultiplier*(l*p.pointerDistance/k.$el.width()));p.disableWrap&&(p.endFrame=Math.min(p.totalFrames-(p.zeroBased?1:0),p.endFrame),p.endFrame=Math.max(p.zeroBased?0:1,p.endFrame));k.refresh();p.monitorStartTime=(new Date).getTime();p.pointerStartPosX=k.getPointerEvent(c).pageX}};k.refresh=function(){0===p.ticker&&(p.ticker=setInterval(k.render,Math.round(1E3/p.framerate)))};k.render=function(){if(p.currentFrame!==
p.endFrame){var c=p.endFrame<p.currentFrame?Math.floor(.1*(p.endFrame-p.currentFrame)):Math.ceil(.1*(p.endFrame-p.currentFrame));k.hidePreviousFrame();p.currentFrame+=c;k.showCurrentFrame();k.$el.trigger("frameIndexChanged",[k.getNormalizedCurrentFrame(),p.totalFrames])}else window.clearInterval(p.ticker),p.ticker=0};k.hidePreviousFrame=function(){t[k.getNormalizedCurrentFrame()].removeClass("current-image").addClass("previous-image")};k.showCurrentFrame=function(){t[k.getNormalizedCurrentFrame()].removeClass("previous-image").addClass("current-image")};
k.getNormalizedCurrentFrame=function(){if(p.disableWrap){var c=Math.min(p.currentFrame,p.totalFrames-(p.zeroBased?1:0));var a=Math.min(p.endFrame,p.totalFrames-(p.zeroBased?1:0));c=Math.max(c,p.zeroBased?0:1);a=Math.max(a,p.zeroBased?0:1);p.currentFrame=c;p.endFrame=a}else c=Math.ceil(p.currentFrame%p.totalFrames),0>c&&(c+=p.totalFrames-(p.zeroBased?1:0));return c};k.getCurrentFrame=function(){return p.currentFrame};k.responsive=function(){p.responsive&&k.$el.css({height:k.$el.find(".current-image").first().css("height"),
width:"100%"})};k.zeroPad=function(c){var a=Math.floor(Math.round(Math.log(p.totalFrames)/Math.LN10*1E3)/1E3)+1;c=c.toString();if(p.zeroPadding)for(;c.length<a;)c="0"+c;return c};k.browser={};k.browser.isIE=function(){var c=-1;"Microsoft Internet Explorer"===navigator.appName&&null!==/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(navigator.userAgent)&&(c=parseFloat(RegExp.$1));return-1!==c};k.getConfig=function(){return p};c.ThreeSixty.defaultOptions={dragging:!1,ready:!1,pointerStartPosX:0,pointerEndPosX:0,
pointerDistance:0,monitorStartTime:0,monitorInt:10,ticker:0,speedMultiplier:7,totalFrames:180,currentFrame:0,endFrame:0,loadedImages:0,framerate:60,domains:null,domain:"",parallel:!1,queueAmount:8,idle:0,filePrefix:"",ext:"png",height:300,width:300,styles:{},navigation:!1,autoplay:!1,autoplayDirection:1,disableSpin:!1,disableWrap:!1,responsive:!1,zeroPadding:!1,zeroBased:!1,plugins:[],showCursor:!1,drag:!0,onReady:function(){},imgList:".threesixty_images",imgArray:null,playSpeed:100,dirReverse:!1};
k.init()};c.fn.ThreeSixty=function(f){return Object.create(new c.ThreeSixty(this,f))}})(k)});
define("vendor/jquery/extensions/vendor/jquery.imgloaded",["jquery"],function(k){k.event.special.load={add:function(){var c=this;1===c.nodeType&&"IMG"===c.nodeName.toUpperCase()&&""!==c.src&&(c.complete||void 0===c.complete?setTimeout(function(){var f=c.src;c.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";c.src=f},0):"uninitialized"===c.readyState&&0===c.src.indexOf("data:")&&k(c).trigger("error"))}}});
(function(k){"function"===typeof define&&define.amd?define("vendor/jquery/extensions/vendor/jquery.sticky",["jquery"],k):"object"===typeof module&&module.exports?module.exports=k(require("jquery")):k(jQuery)})(function(k){var c=Array.prototype.slice,f=Array.prototype.splice,m={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper",center:!1,getWidthFrom:"",widthFromWrapper:!0,responsiveWidth:!1,zIndex:"inherit"},n=k(window),p=k(document),t=[],q=n.height(),a=function(){var a=
n.scrollTop(),e=p.height(),c=e-q;c=a>c?c-a:0;for(var h=0,l=t.length;h<l;h++){var f=t[h],m=f.stickyWrapper.offset().top-f.topSpacing-c;f.stickyWrapper.css("height",f.stickyElement.outerHeight());f.stickyElement.css("height",f.stickyElement.outerHeight());if(a<=m)null!==f.currentTop&&(f.stickyElement.css({width:"",position:"",top:"","z-index":"",height:""}),f.stickyElement.parent().removeClass(f.className),f.stickyElement.trigger("sticky-end",[f]),f.currentTop=null);else{m=e-f.stickyElement.outerHeight()-
f.topSpacing-f.bottomSpacing-a-c;m=0>m?m+f.topSpacing:f.topSpacing;if(f.currentTop!==m){if(f.getWidthFrom){padding=f.stickyElement.innerWidth()-f.stickyElement.width();var E=k(f.getWidthFrom).width()-padding||null}else f.widthFromWrapper&&(E=f.stickyWrapper.width());null==E&&(E=f.stickyElement.width());f.stickyElement.css("width",E).css("position","fixed").css("top",m).css("z-index",f.zIndex);f.stickyElement.parent().addClass(f.className);null===f.currentTop?f.stickyElement.trigger("sticky-start",
[f]):f.stickyElement.trigger("sticky-update",[f]);f.currentTop===f.topSpacing&&f.currentTop>m||null===f.currentTop&&m<f.topSpacing?f.stickyElement.trigger("sticky-bottom-reached",[f]):null!==f.currentTop&&m===f.topSpacing&&f.currentTop<m&&f.stickyElement.trigger("sticky-bottom-unreached",[f]);f.currentTop=m}var H=f.stickyWrapper.parent();f.stickyElement.offset().top+f.stickyElement.outerHeight()>=H.offset().top+H.outerHeight()&&f.stickyElement.offset().top<=f.topSpacing?f.stickyElement.css("position",
"absolute").css("top","").css("bottom",0).css("z-index",""):f.stickyElement.css("position","fixed").css("top",m).css("bottom","").css("z-index",f.zIndex)}f.stickyElement.css("height","")}},h=function(){q=n.height();for(var a=0,e=t.length;a<e;a++){var c=t[a],h=null;c.getWidthFrom?c.responsiveWidth&&(h=k(c.getWidthFrom).width()):c.widthFromWrapper&&(h=c.stickyWrapper.width());null!=h&&c.stickyElement.css("width",h)}},l={init:function(a){return this.each(function(){var d=k.extend({},m,a),c=k(this),h=
c.attr("id"),f=h?h+"-"+m.wrapperClassName:m.wrapperClassName,q=k("<div></div>").attr("id",f).addClass(d.wrapperClassName);c.wrapAll(function(){if(0==k(this).parent("#"+f).length)return q});h=c.parent();d.center&&h.css({width:c.outerWidth(),marginLeft:"auto",marginRight:"auto"});"right"===c.css("float")&&c.css({"float":"none"}).parent().css({"float":"right"});d.stickyElement=c;d.stickyWrapper=h;d.currentTop=null;t.push(d);l.setWrapperHeight(this);l.setupChangeListeners(this)})},setWrapperHeight:function(a){a=
k(a);var d=a.parent();d&&d.css("height",a.outerHeight())},setupChangeListeners:function(a){window.MutationObserver?(new window.MutationObserver(function(d){(d[0].addedNodes.length||d[0].removedNodes.length)&&l.setWrapperHeight(a)})).observe(a,{subtree:!0,childList:!0}):window.addEventListener?(a.addEventListener("DOMNodeInserted",function(){l.setWrapperHeight(a)},!1),a.addEventListener("DOMNodeRemoved",function(){l.setWrapperHeight(a)},!1)):window.attachEvent&&(a.attachEvent("onDOMNodeInserted",function(){l.setWrapperHeight(a)}),
a.attachEvent("onDOMNodeRemoved",function(){l.setWrapperHeight(a)}))},update:a,unstick:function(a){return this.each(function(){for(var a=k(this),d=-1,c=t.length;0<c--;)t[c].stickyElement.get(0)===this&&(f.call(t,c,1),d=c);-1!==d&&(a.unwrap(),a.css({width:"",position:"",top:"","float":"","z-index":""}))})}};window.addEventListener?window.addEventListener("resize",h,!1):window.attachEvent&&window.attachEvent("onresize",h);k.fn.sticky=function(a){if(l[a])return l[a].apply(this,c.call(arguments,1));if("object"!==
typeof a&&a)k.error("Method "+a+" does not exist on jQuery.sticky");else return l.init.apply(this,arguments)};k.fn.unstick=function(a){if(l[a])return l[a].apply(this,c.call(arguments,1));if("object"!==typeof a&&a)k.error("Method "+a+" does not exist on jQuery.sticky");else return l.unstick.apply(this,arguments)};k(function(){setTimeout(a,0)})});
define("vendor/jquery/extensions/vendor/jquery.scrollIntoView",["jquery"],function(k){var c={vertical:{x:!1,y:!0},horizontal:{x:!0,y:!1},both:{x:!0,y:!0},x:{x:!0,y:!1},y:{x:!1,y:!0}},f={duration:"fast",direction:"both"},m=/^(?:html)$/i,n=function(c){var f=k(window),a=m.test(c[0].nodeName);if(a)var h={top:0,left:0,bottom:0,right:0};else{var l=c[0];var d=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(l,null):l.currentStyle;var e=document.defaultView&&
document.defaultView.getComputedStyle?!0:!1;h=parseFloat(e?d.borderTopWidth:k.css(l,"borderTopWidth"))||0;var u=parseFloat(e?d.borderLeftWidth:k.css(l,"borderLeftWidth"))||0,t=parseFloat(e?d.borderBottomWidth:k.css(l,"borderBottomWidth"))||0;l=parseFloat(e?d.borderRightWidth:k.css(l,"borderRightWidth"))||0;h={top:h,left:u,bottom:t,right:l,vertical:h+t,horizontal:u+l}}f={top:(a?f:c).scrollTop(),left:(a?f:c).scrollLeft()};u={right:a?0:c.innerWidth()-c[0].clientWidth,bottom:a?0:c.innerHeight()-c[0].clientHeight};
t=c[0].getBoundingClientRect();return{border:h,scroll:f,scrollbar:u,rect:{top:a?0:t.top,left:a?0:t.left,bottom:a?c[0].clientHeight:t.bottom,right:a?c[0].clientWidth:t.right}}};k.fn.extend({scrollintoview:function(t){t=k.extend({},f,t);t.direction=c["string"===typeof t.direction&&t.direction.toLowerCase()]||c.both;var q="";!0===t.direction.x&&(q="horizontal");!0===t.direction.y&&(q=q?"both":"vertical");var a=this.eq(0),h=a.closest(":scrollable("+q+")");if(0<h.length){h=h.eq(0);var l=n(a);q=n(h);a=
l.rect.top-(q.rect.top+q.border.top);var d=q.rect.bottom-q.border.bottom-q.scrollbar.bottom-l.rect.bottom,e=l.rect.left-(q.rect.left+q.border.left);l=q.rect.right-q.border.right-q.scrollbar.right-l.rect.right;var u={};!0===t.direction.y&&(0>a?u.scrollTop=q.scroll.top+a:0<a&&0>d&&(u.scrollTop=q.scroll.top+Math.min(a,-d)));!0===t.direction.x&&(0>e?u.scrollLeft=q.scroll.left+e-20:0<e&&0>l&&(u.scrollLeft=q.scroll.left+Math.min(e,-l)+20));k.isEmptyObject(u)?k.isFunction(t.complete)&&t.complete.call(h[0]):
(m.test(h[0].nodeName)&&(h=k("html,body")),h.animate(u,t.duration).eq(0).queue(function(a){k.isFunction(t.complete)&&t.complete.call(h[0]);a()}))}return this}});var p={auto:!0,scroll:!0,visible:!1,hidden:!1};k.extend(k.expr[":"],{scrollable:function(f,k,a,h){k=c["string"===typeof a[3]&&a[3].toLowerCase()]||c.both;a=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(f,null):f.currentStyle;var l=p[a.overflowX.toLowerCase()]||!1,d=p[a.overflowY.toLowerCase()]||
!1,e=m.test(f.nodeName);if(!l&&!d&&!e)return!1;f={height:{scroll:f.scrollHeight,client:f.clientHeight},width:{scroll:f.scrollWidth,client:f.clientWidth},scrollableX:function(){return(l||e)&&this.width.scroll>this.width.client},scrollableY:function(){return(d||e)&&this.height.scroll>this.height.client}};return k.y&&f.scrollableY()||k.x&&f.scrollableX()}})});
define("jquery.extensions","jquery vendor/jquery/extensions/custom/jquery.drags vendor/jquery/extensions/custom/jquery.rotate vendor/jquery/extensions/custom/jquery.SVGclass vendor/jquery/extensions/custom/jquery.swipe vendor/jquery/extensions/custom/jquery.slick vendor/jquery/extensions/vendor/jquery.dbltap vendor/jquery/extensions/vendor/jquery.placeholder vendor/jquery/extensions/vendor/jquery.threesixty vendor/jquery/extensions/vendor/jquery.imgloaded vendor/jquery/extensions/vendor/jquery.sticky vendor/jquery/extensions/vendor/jquery.scrollIntoView".split(" "),function(k){return k});
define("popup","module jquery underscore app/configuration app/utilities/XyTools app/events lang/lang elements/popup/popup.template jquery.extensions".split(" "),function(k,c,f,m,n,p,t,q){function a(a,d){var e=c("<div />");d.contentUrl?(a.html('<div class="Spinner"></div>').attr({"aria-live":"polite","aria-busy":!0}),n.fetch(d.contentUrl,this.config.contentContainerSelector,{async:d.async,success:function(a){e.html(a)},error:function(a,c){c=c+" "+a.status+':"'+d.contentUrl+'"';"404"==a.status&&(c=
t.t("elements.xref.404.message")+' "'+d.contentUrl+'"');e.html(c).attr("aria-busy",!1);n.error("Popup load error. url: "+d.contentUrl)},complete:function(){a.html(e).attr("aria-busy",!1);d.ajaxComplete.call(null,e)},inclusive:/^true$/i.test(this.config.inclusive)})):(d.contentSelector&&(e=n.getJqueryObject(d.contentSelector)),d.content&&e.html(d.content),a.html(e))}function h(){"mediaPlayer"==this.config.owner&&this._remove()}var l={popupWrapperClass:"",popupContentClass:"",closeButtonLabel:t.t("general.close")||
"Close",moduleName:"popup",appendTo:"body",title:"",content:"",contentSelector:"",contentUrl:"",inclusive:!1,role:"dialog",returnFocusItem:null,async:!0,modal:!1,modalBlur:!1,trapFocus:!0,modalBlurClass:"modalBlur",modalBlurAppendTo:"#PageMain",draggable:!0,autoOpen:!1,closeButton:!0,closeOnEscape:!0,closeOnContentRemove:!0,closeOnOverlayClick:!1,zIndex:1E3,position:[],buttons:[],timestamp:"",hasAttachedContent:!1,detachOnClose:!0,animateClose:!0,openAnimationDuration:500,closeAnimationDuration:800,
owner:"Generic",triggerType:"",height:"",maxHeight:"",minHeight:"",width:"",maxWidth:"",minWidth:"",close:function(){},beforeClose:function(){},create:function(){},open:function(){},resize:function(){},ajaxComplete:function(){},drag:function(){},dragStart:function(){},dragStop:function(){}},d=function(a){p.trigger(l.moduleName+".init:before",this);this.originalConfig=n.copy(a);this.defaultConfig=n.copy(l);this.config=n.extend(l,m.configure(k.id),a);this.config.popupWrapperClass=this.config.popupWrapperClass+
" "+this.config.owner+"-Popup";var d=a=this.config,e="",c,h={width:"width",maxWidth:"max-width",minWidth:"min-width",height:"height",maxHeight:"max-height",minHeight:"min-height"};for(c in h)d[c]&&(e+=h[c]+": "+d[c]+";");a.computedStyle=e;this.render();p.trigger(l.moduleName+".init:after",this)};d.prototype.resize=function(){this.handlePosition(this.content.get(0).scrollWidth)};d.prototype.render=function(){var a=this.popup,d=this,h=this.handlePosition.bind(this);this.popup=a=c(f.template(q)(this.config)).hide();
this.modal=c('<div class="PopupOverlay" />');this.content=a.find(".PopupContent");this.opened=this.opened||!1;this.cursorOnPopup=!1;this.handleButtons();p.trigger("media.pause",this.content);this.config.create.call(this);!0===this.config.autoOpen&&this.open();this.config.closeOnContentRemove&&(this._remove=function(){this.close();this.destroy()}.bind(this),p.on("content.remove",this._remove));var l=this.config.ajaxComplete;this.config.ajaxComplete=function(){l.apply(null,arguments);d.handlePosition()};
c(window).on("orientationchange",h);return this};d.prototype.triggerInstanceEvent=function(a,d){if(this.config.moduleName===this.defaultConfig.moduleName||!a)return this;p.trigger(this.config.moduleName+"."+a,d);return this};d.prototype.open=function(d,l){var e=this,u=this.popup,k=u.find(".PopupTitlebar"),m=k.find(".PopupTitlebarClose"),q=a.bind(this),t=h.bind(this),n=!!c("#PageBody .Tabs #"+this.config.appendTo.id).length;this.config.returnFocusItem&&this.config.returnFocusItem.length||(this.config.returnFocusItem=
c(document.activeElement));this.config.detachOnClose&&q(this.content,this.config);!0===this.config.modal&&(this.modal.appendTo("body"),this.config.modalBlur&&c(this.config.modalBlurAppendTo).addClass(this.config.modalBlurClass));!0===this.config.modal&&c(this.config.modalBlurAppendTo).attr("inert",!0);if(!0===this.config.trapFocus)c(document).on("focus.popupFocus",function(a){u.contains(a.target)||(a.stopPropagation(),u.focus())});u.finish();n?u.appendTo("body"):u.appendTo(this.config.appendTo);this.handlePosition();
this.config.draggable&&k.drags({handle:u,zIndex:e.config.zIndex});"roll-over"===this.config.triggerType&&(u.on("mouseenter",function(a){e.cursorOnPopup=!0}),u.on("mouseleave",function(a){e.cursorOnPopup=!1;e.close(a)}));if(this.config.closeOnEscape)c(document).on("keydown."+this.config.moduleName,function(a){27===a.keyCode&&e.close(a)});if(this.config.closeOnOverlayClick)c(document).on("click."+this.config.moduleName,function(a){c(a.target).parents(".PopupWrapper").length||e.close(a)});if(m.length)m.on("click touchstart",
function(a){a.preventDefault();e.close(a)});this.triggerInstanceEvent("open",this);p.trigger(this.defaultConfig.moduleName+".open",this);this.config.hasAttachedContent||(this.triggerInstanceEvent("contentAttached",this.content,this),p.trigger(this.defaultConfig.moduleName+".contentAttached",this.content,this));p.trigger("media.resumeAutoplay",this.content);this.opened=!0;this.config.open.call(this,d);this.handlePosition();this.config.timestamp&&(u.addClass("tm-"+this.config.timestamp),this.modal.addClass("tm-"+
this.config.timestamp),this.config.isFirstConfirm||(u.hide(),this.modal.hide()));this.resizeHandler=f.debounce(this.resize.bind(this),100);window.addEventListener("resize",this.resizeHandler);window.addEventListener("orientationchange",this.resizeHandler);l&&(d=c(l,this.content),d.length&&this.popup.find(".PopupContentWrapper").animate({scrollTop:d[0].offsetTop-100}));this.resetFocus();p.on("narration.close",t);return this};d.prototype.resetFocus=function(){var a=this.popup,d=a.find(".PopupButton"),
c;d.length&&(c=d.eq(0));c&&c.length&&!c[0].disabled?c[0].focus():a.focus()};d.prototype.close=function(a){var d=this.popup;if(!this.isOpen())return this;this.config.beforeClose.call(this,a);p.trigger("media.pause",this.content);window.removeEventListener("resize",this.resizeHandler);window.removeEventListener("orientationchange",this.resizeHandler);!0===this.config.trapFocus&&c(document).off("focus.popupFocus");this.config.detachOnClose&&(this.config.animateClose?d.fadeOut(this.config.closeAnimationDuration,
function(){c(this).detach()}):d.detach());this.modal.remove();this.config.modalBlur&&c(this.config.modalBlurAppendTo).removeClass(this.config.modalBlurClass);!0===this.config.modal&&c(this.config.modalBlurAppendTo).attr("inert",null);"roll-over"!==this.config.triggerType&&(this.config.returnFocusItem=this.config.returnFocusItem instanceof c?this.config.returnFocusItem:c(this.config.returnFocusItem),""===this.config.returnFocusItem.attr("tabindex")&&this.config.returnFocusItem.attr("tabindex",-1),
this.config.returnFocusItem.focus());c(document).off("keydown."+this.config.moduleName);c(document).off("click."+this.config.moduleName);d.off("mouseenter");d.off("mouseleave");p.trigger(this.defaultConfig.moduleName+".close",this);this.triggerInstanceEvent("close",this);this.opened=!1;this.config.close.call(this,a);return this};d.prototype.toggle=function(){this.isOpen()?this.close():this.open()};d.prototype.option=function(a,d){var e={};"object"===typeof a?e=a:"string"===typeof a&&(e[a]=d);this.config=
n.extend(this.config,e);if(e.hasOwnProperty("buttons")&&e.buttons instanceof Array){var h=this.popup.find(".PopupButtons").find(".PopupButton").off("click.popup").end().empty();e.buttons.forEach(function(a){c('<button alt="'+a.text+'" title="'+a.text+'" class="PopupButton '+a.buttonClass+'">'+a.text+"</button>").appendTo(h)});this.handleButtons()}e.hasOwnProperty("title")&&(this.popup.find(".PopupTitlebarTitle").text(e.title),this.popup.attr("title",e.title));!this.popup.find(".PopupTitlebarClose").length&&
e.closeButton&&this.popup.children(".PopupTitlebar").append('<a href="#" class=".PopupTitlebarClose"></a>');a=Object.keys(e).reduce(function(a,d){/width|height/ig.test(d)&&(a[d]=e[d]);return a},{});Object.keys(a).length&&this.popup.css(a);return this};d.prototype.handlePosition=function(a){var d=document.documentElement,e=document.body,h=d&&d.scrollLeft||e&&e.scrollLeft||0;d=d&&d.scrollTop||e&&e.scrollTop||0;e=this.popup;var l=c(window).width(),f=c(window).height();var k=this.popup.find(".PopupButtons .PopupButton").length?
this.popup.find(".PopupButtonsWrapper").outerHeight(!0):0;var m=this.popup.find(".PopupContentWrapper");this.config.height&&"auto"!==this.config.height?this.content.height()>this.popup.height()&&!this.config.height&&this.popup.css("height","inherit"):m.offset().top+this.content.outerHeight()+k>c(window).height()?(this.popup.css("height",q),m.css("height",this.popup.height()-k+"px")):(this.popup.css("height","auto"),m.css("height","100%"));var q=e.outerHeight();k=a||e.width();this.config.position.length?
(d=this.config.position[0],h=this.config.position[1]):(d=f/2+d-q/2,h=l/2+h-k/2);h+k>l&&(h=l-k-10);d+q>f&&(d=f-q-10);e.css({top:d,left:h}).fadeIn(this.config.openAnimationDuration);this.handlePositionOnImageVideoLoad(a)};d.prototype.handlePositionOnImageVideoLoad=function(a){var d=this,e=this.content.find("img"),h=this.content.find("video"),l=0,f=0;var k=e.filter(function(a,d){return!d.complete});var m=h.filter(function(a,d){return d.readyState===HTMLMediaElement.HAVE_NOTHING});if(k.length||m.length)[].forEach.call(m,
function(e){e.addEventListener("loadeddata",function(){++l===m.length&&(d.handlePosition(a),c(window).trigger("resize"))})}),[].forEach.call(k,function(e){e.addEventListener("load",function(){++f===k.length&&d.handlePosition(a)})})};d.prototype.handleButtons=function(){var a=this;this.popup.find(".PopupButton").each(function(d){if(a.config.buttons&&a.config.buttons[d]&&"function"===typeof a.config.buttons[d].click)c(this).on("click.popup",a.config.buttons[d].click.bind(a))})};d.prototype.isOpen=function(){return this.opened};
d.prototype.destroy=function(){this.popup.find(".PopupButton").off("click.popup");this.modal.remove();this.popup.remove();c(document).off("keydown."+this.config.moduleName);p.off("content.remove",this._remove)};p.trigger(l.moduleName+".loaded",!0,d);return d});
define("skin/components/narration/narration","module jquery skin/components/component/component app/events popup app/utilities/XyTools lang/lang".split(" "),function(k,c,f,m,n,p,t){var q={name:"narration",id:k.id,displayName:"Narration",linkSelector:".NarrationLink",linkAction:"openPopup",contentSelector:".NarrationContent",popupModuleName:"narrationPopup",enabled:!1,startVisible:!1,height:"auto",width:"auto",minWidth:"30%",title:t.t("components.narration.title")||"Narration",modal:!1,draggable:!0,
closeOnEscape:!0,hotkeyCombination:"CTRL+ALT+J",renderAfter:"renderAfter",elementsSelector:".AVscript"};k=function(a){f.call(this,q,a)};k.prototype=Object.create(f.prototype);k.constructor=k;k.config=q;k.prototype.renderAfter=function(){var a=this;this.hideContent();this.initPopup();m.on("content.loaded",function(){a.collectAVElements();a.initPopup()});m.on("narration.showAVScript",this.showAVScript.bind(this))};k.prototype.showAVScript=function(a){this.popup.content.find(this.config.elementsSelector).hide();
this.popup.content.find(a).show();this.popup.open()};k.prototype.revealPopupContents=function(){this.popup.content.find(this.config.elementsSelector).show()};k.prototype.hideContent=function(){this.popup&&!this.popup.isOpen()&&this.$content.removeClass(this.config.visibleClass).addClass(this.config.hiddenClass)};k.prototype.initPopup=function(){m.trigger("Narration.initPopup:before",this);this.popup=new n({width:this.config.width,minWidth:this.config.minWidth,height:this.config.height,content:this.$content,
title:this.config.title,modal:this.config.modal,draggable:this.config.draggable,closeOnEscape:this.config.closeOnEscape,moduleName:this.config.popupModuleName,animateClose:!1,popupWrapperClass:"NarrationPopup",close:this.revealPopupContents.bind(this)});m.trigger("Narration.initPopup:after",this)};k.prototype.collectAVElements=function(){m.trigger("Narration.collectAVElements:before",this);this.$content.empty();var a=c(this.config.contentContainerSelector+" "+this.config.elementsSelector);this.$content.html(a.clone());
0<a.length?this.restore():this.remove();m.trigger("Narration.collectAVElements:after",this)};k.prototype.updatePopup=function(){this.popup.option("content",this.$content);this.popup.content.html(this.$content)};k.prototype.openPopup=function(a){this.collectAVElements();this.config.enabled&&(this.updatePopup(),this.$content.removeClass(this.config.hiddenClass).addClass(this.config.visibleClass),this.popup.open(null,a))};k.prototype.close=function(){this.popup.close()};m.trigger("narration.loaded",
!0,k);return k});
define("skin/regions/header/header",["module","app/utilities/XyTools","skin/regions/region/region","skin/components/narration/narration","app/events"],function(k,c,f,m,n){var p=new f;p.config=c.extend(p.config,{name:"header",id:k.id,displayName:"Header",regionSelector:"#PageHeader",role:"banner",regionButtonSelector:"",headerContentWrapperSelector:".ContentWrapper",headerTitleSelector:".Title",expandTitleOnClick:!0,expandedClass:"Expanded",componentLinkDisplay:{text:!0,icon:!1},components:{},componentLinksWrapperSelector:"#PageHeader",
clickHandlerNS:"HeaderRegionLink"});p.setupTitleExpansion=function(c){p.$wrapper.height();n.trigger("header.setupTitleExpansion:before",p);if(p.config.expandTitleOnClick){p.$contentWrapper=p.$wrapper.find(p.config.headerContentWrapperSelector);p.$title=p.$wrapper.find(p.config.headerTitleSelector);p.$title.css({cursor:"pointer"});var f=function(a){a.target!==p.$title[0]&&(p.$wrapper.removeClass(p.config.expandedClass),$(document).off(".headerExpansion"))};p.$title.on("click touchend",function(){p.$wrapper.hasClass(p.config.expandedClass)||
(p.$wrapper.addClass(p.config.expandedClass),$(document).on("mousedown.headerExpansion touchstart.headerExpansion",f))})}n.trigger("header.setupTitleExpansion:after",p)};n.on("header.render:after",p.setupTitleExpansion);n.trigger("header.loaded",!0,p);return p});
define("skin/regions/sidebarLeft/sidebarLeft",["module","app/utilities/XyTools","skin/regions/region/region","app/events"],function(k,c,f,m){f=new f;f.config=c.extend(f.config,{name:"sidebarLeft",id:k.id,displayName:"Sidebar Left",regionSelector:".SidebarLeft",role:"complementary",regionButtonSelector:"",componentLinkDisplay:{text:!1,icon:!0},clickHandlerNS:"SidebarLeftRegionLink",zIndex:""});m.trigger("sidebarLeft.loaded",!0,f);return f});
define("skin/regions/innerHeader/innerHeader",["module","app/utilities/XyTools","skin/regions/region/region","app/events"],function(k,c,f,m){f=new f;f.config=c.extend(f.config,{name:"innerHeader",id:k.id,displayName:"Inner Header",regionSelector:".InnerHeader",role:"complementary",regionButtonSelector:"",clickHandlerNS:"InnerHeader"});m.trigger("innerHeader.loaded",!0,f);return f});
define("skin/regions/menu/menu","module jquery underscore app/utilities/XyTools skin/regions/region/region app/events".split(" "),function(k,c,f,m,n,p){var t=new n;t.config=m.extend(t.config,{name:"menu",id:k.id,displayName:"Menu",regionSelector:"#MainMenuWrapper",role:"navigation",regionButtonSelector:["#MainMenuIcon","#InsideMenuIcon"],componentLinkDisplay:{text:!0,icon:!0},clickHandlerNS:"XylemeMenuIcon",startVisible:!1,zIndex:102,enabled:!1,resizeComponentLinks:!0,numberOfVisibleComponents:2,
dropDownIconWidth:10,dropDownIconSelector:".DropDownIcon",dropDownWrapperClass:"MenuComponentLinkExtensions",dropDownIconElement:"div",hideOnContentLoad:!0,adaptToLanguageDirection:!0,areaBeforeSelector:".Before",areaTopSelector:".Top",areaMiddleSelector:".Middle",areaBottomSelector:".Bottom",areaAfterSelector:".After",audioSelector:"audio, .mejs-audio",openFromClass:"FromLeft",hotkeyCombination:"ALT+M",renderAfter:"renderAfter",renderBefore:"renderBefore"});t.initAfter=function(){var f=t.$links.eq(0).attr("title");
f&&t.$links.each(function(){c(this).attr("title",f)})};t.renderAfter=function(){this.$areas={$before:this.$wrapper.find(this.config.areaBeforeSelector),$top:this.$wrapper.find(this.config.areaTopSelector),$middle:this.$wrapper.find(this.config.areaMiddleSelector),$bottom:this.$wrapper.find(this.config.areaBottomSelector),$after:this.$wrapper.find(this.config.areaAfterSelector)};this.audio=this.$areas.$bottom.find(this.config.audioSelector);c(window).on("resize",f.debounce(this.resize.bind(this),200));
p.on(this.config.name+".initialized",this.initAfter)};t.addAnimationClass=function(){var c=this.config.openFromClass,a=m.getLanguageDirection();this.config.adaptToLanguageDirection&&"rtl"===a&&"FromLeft"===c&&(c="FromRight");m.getJqueryObject(this.config.regionSelector).addClass(c)};t.resize=function(){this.resizeSubAreas();this.resizeComponentLinks();setTimeout(function(){this.audio.trigger("media.resize")}.bind(this),300);p.trigger("menu.resize:after",this)};t.resizeSubAreas=function(){var c={before:this.$areas.$before.outerHeight(),
top:this.$areas.$top.outerHeight(),middle:this.$areas.$middle.outerHeight(),bottom:this.$areas.$bottom.outerHeight(),after:this.$areas.$after.outerHeight()},a=this.$wrapper.height(),h=Object.keys(c).map(function(a){return c[a]}).reduce(function(a,d){return a+d},0);this.$areas.$bottom.height(a-h+c.bottom)};t.resizeComponentLinks=function(){if(this.config.resizeComponentLinks){var f=this.$components.filter(".Visible");var a=f.length;c("."+t.config.dropDownWrapperClass).children().unwrap();c(t.config.dropDownIconSelector).children().unwrap();
1===a?f.width("100%"):a<=this.config.numberOfVisibleComponents?f.width(Math.floor(100/a)+"%"):(f.slice(0,this.config.numberOfVisibleComponents).width(Math.floor(100/this.config.numberOfVisibleComponents-+this.config.dropDownIconWidth/this.config.numberOfVisibleComponents)+"%"),f.slice(this.config.numberOfVisibleComponents).width("inherit").wrapAll("<"+this.config.dropDownIconElement+' class="'+this.config.dropDownIconSelector.replace(".","")+'" tabindex="0" role="menu" ><div class="'+this.config.dropDownWrapperClass+
'" >'),this.$wrapper.find(t.config.dropDownIconSelector).width(t.config.dropDownIconWidth+"%"))}};t.show=function(){var c=this;setTimeout(function(){c.resize()},50);this.addAnimationClass();n.prototype.show.call(this);this.$components.filter(".Active").length||this.$components.filter(".NavigationTreeLink").trigger("click");p.trigger("menu.open:after",this)};t.resetMenu=function(){"undefined"!==typeof SCORM_TYPE&&"non-scorm-player"!==SCORM_TYPE&&this.initialized&&(this.$wrapper?(window.setTimeout(this.resizeComponentLinks.bind(this),
0),this.enable()):window.setTimeout(this.resetMenu,100))};t.disableMenu=function(){"undefined"!==typeof SCORM_TYPE&&"non-scorm-player"!==SCORM_TYPE&&this.$wrapper&&(this.disable(),this.isOpen=!1)};p.on("content.loaded",function(){t.resetMenu()});p.on("content.remove",function(){t.disableMenu()});p.trigger("menu.loaded",!0,t);return t});define("babel",{});define("es6",{load:function(k){throw Error("Dynamic load not allowed: "+k);}});
define("app/utilities/promiseA",["module"],function(k){function c(){}function f(a,e){return function(){a.apply(e,arguments)}}function m(a,e){for(;3===a._state;)a=a._value;0===a._state?a._deferreds.push(e):(a._handled=!0,l._immediateFn(function(){var d=1===a._state?e.onFulfilled:e.onRejected;if(null===d)(1===a._state?n:p)(e.promise,a._value);else{try{var c=d(a._value)}catch(C){p(e.promise,C);return}n(e.promise,c)}}))}function n(d,e){try{if(e===d)throw new TypeError("A promise cannot be resolved with itself.");
if(e&&("object"===typeof e||"function"===typeof e)){var c=e.then;if(e instanceof l){d._state=3;d._value=e;t(d);return}if("function"===typeof c){a(f(c,e),d);return}}d._state=1;d._value=e;t(d)}catch(z){p(d,z)}}function p(a,e){a._state=2;a._value=e;t(a)}function t(a){2===a._state&&0===a._deferreds.length&&l._immediateFn(function(){a._handled||l._unhandledRejectionFn(a._value)});for(var d=0,c=a._deferreds.length;d<c;d++)m(a,a._deferreds[d]);a._deferreds=null}function q(a,e,c){this.onFulfilled="function"===
typeof a?a:null;this.onRejected="function"===typeof e?e:null;this.promise=c}function a(a,e){var d=!1;try{a(function(a){d||(d=!0,n(e,a))},function(a){d||(d=!0,p(e,a))})}catch(z){d||(d=!0,p(e,z))}}var h=setTimeout,l=function(d){if(!(this instanceof l))throw new TypeError("Promises must be constructed via new");if("function"!==typeof d)throw new TypeError("not a function");this._state=0;this._handled=!1;this._value=void 0;this._deferreds=[];a(d,this)};l.prototype["catch"]=function(a){return this.then(null,
a)};l.prototype.then=function(a,e){var d=new this.constructor(c);m(this,new q(a,e,d));return d};l.prototype["finally"]=function(a){var d=this.constructor;return this.then(function(e){return d.resolve(a()).then(function(){return e})},function(e){return d.resolve(a()).then(function(){return d.reject(e)})})};l.all=function(a){return new l(function(d,c){function e(a,f){try{if(f&&("object"===typeof f||"function"===typeof f)){var k=f.then;if("function"===typeof k){k.call(f,function(d){e(a,d)},c);return}}h[a]=
f;0===--l&&d(h)}catch(G){c(G)}}if(!a||"undefined"===typeof a.length)throw new TypeError("Promise.all accepts an array");var h=Array.prototype.slice.call(a);if(0===h.length)return d([]);for(var l=h.length,f=0;f<h.length;f++)e(f,h[f])})};l.resolve=function(a){return a&&"object"===typeof a&&a.constructor===l?a:new l(function(d){d(a)})};l.reject=function(a){return new l(function(d,c){c(a)})};l.race=function(a){return new Promise(function(d,c){for(var e=0,h=a.length;e<h;e++)a[e].then(d,c)})};l._immediateFn=
"function"===typeof setImmediate&&function(a){setImmediate(a)}||function(a){h(a,0)};l._unhandledRejectionFn=function(a){"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",a)};window.Promise||(window.Promise=l);return l});
define("es6!app/utilities/promiseUtils",["module","app/utilities/promiseA"],function(k,c){return{waitAndExecute:function(f){var k=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){},p=void 0,t=void 0,q=new c(function(a,c){t=c;p=setTimeout(a,f)});c.all([n,q]).then(function(a){return a[0]&&"function"===typeof a[0]&&a[0]()},function(){return c.reject("Error in waitAndExecute")}).cancel=function(){if(!p)return k;clearTimeout(p);p=null;t(Error("Delay canceled"))}}}});
define("es6!app/utilities/animate.es6",["jquery","app/events","app/configuration","app/utilities/promiseA","es6!app/utilities/promiseUtils"],function(k,c,f,m,n){function p(a,c){k(a).data("animation-data",c)}function t(a){var c=k(a).data("animation-data");a.classList.remove(c.className,c.activeClassName);a.style.animationDuration="";clearTimeout(c.timeout);k(a).data("animation-data",!1)}var q=n.waitAndExecute;f=function(a){var c=k(a.element)[0],l=a.name,d=a.timeout,e=a.fillMode||"both",f=a.callback,
z=a.beforeActiveCallback||function(){},n=a.afterAnimateCallback||function(){};c&&c instanceof HTMLElement||tools.error(Error("Valid HTML element should be provided"));if(d){k(c).data("animation-data")&&t(c);var D=a.className||l;var x=a.activeClassName||D+"-active";m.resolve().then(function(){return q(0,function(){c.style.animationDuration=d+"ms";c.style.animationFillMode=e;c.classList.add(x);return c})}).then(function(){return q(0,function(){z();c.classList.add(D);return c})}).then(function(){return q(d,
function(){n();t(c);"function"===typeof f&&f()})});p(c,{className:D,activeClassName:x,timeout:void 0,callback:f})}else tools.error(Error("Timeout should be provided"))};c.trigger("animation.loaded",!0,f);return f});define("app/utilities/animate",["es6!app/utilities/animate.es6"],function(k){return k});
define("app/courseApi",["app/events","app/utilities/XyTools","player","lang/lang"],function(k,c,f,m){var n=function(){};n.prototype=c.extend(n.prototype,{isCDSDeploy:function(){return f.isCDSDeploy()},resolveCDSDeployState:function(){f.isCDSDeploy()?(window.Xyleme.environment.IS_DEPLOY=!0,document.getElementsByTagName("body")[0].setAttribute("data-deploy",!0)):(window.Xyleme.environment.IS_DEPLOY=!1,document.getElementsByTagName("body")[0].setAttribute("data-deploy",!1))}(),getRoot:function(c){return f.getRootActivity(c)},
getCurrentActivity:function(c){return f.getCurrentActivity(c)},getParentActivity:function(c,k){return f.getParentActivity(c,k)},getActivityById:function(c,k){return f.getActivityBy("id",c,k)},getCourseName:function(){return this.getRoot("name")},getCoursePagesCount:function(){return f.getCoursePagesCount()||0},getPageIndexInCourse:function(c){return f.getPageIndexInCourse(c)},getActivityId:function(c){return c?f.getActivityBy("guid",c,"id",0):this.getCurrentActivity("id")},getMenuItems:function(){var c=
f.getMenuItems();return null!=c?(c.forEach(function(c){"CheckPoint Questions"===c.title&&(c.title=m.t("sections.checkPointQuestions.title"));"CheckPoint Question"===c.title&&(c.title=m.t("sections.checkPointQuestion.title"));"SCORECARD"===c.title&&(c.title=m.t("sections.scoreCard.title"))}),c.splice(1)):null},getPrecedingLinkedPagesCount:function(c){return f.getPrecedingLinkedPagesCount(c)},checkPageExistence:function(c){return f.checkPageExistence(c)},isPageAvailable:function(c){var f=this.getMenuItems().filter(function(f){return c===
f.id});return 0===f.length?!1:f[0].enabled&&!f[0].hidden},processScorecard:function(c,k){var q=k?k:this.getParentActivity("id"),a=f.getActivityBy("id",q,"guid"),h=function(a){a&&a.pages&&a.pages.forEach(function(a){"CheckPoint Questions"===a.title&&(a.title=m.t("sections.checkPointQuestions.title"));"CheckPoint Question"===a.title&&(a.title=m.t("sections.checkPointQuestion.title"));"SCORECARD"===a.title&&(a.title=m.t("sections.scoreCard.title"))});a&&a.containers&&a.containers.forEach(h)};k=null;
a&&f.cache["processScorecard:"+a]&&!c||(k=f.processScorecardContainer(q),a&&k&&(f.cache["processScorecard:"+a]=k));c=(c=a?f.cache["processScorecard:"+a]:null)?c:k?k:{};h(c);return c},getSectionStatusData:function(c){return f.getSectionStatusData(c)},hasUnansweredQuestions:function(){return f.hasUnansweredQuestions()},hasAttemptedQuestions:function(){return f.hasAttemptedQuestions()},getNextPage:function(){return f.getNextPage()},getPreviousPage:function(){return f.getPreviousPage()},getFollowingPageId:function(){return f.getFollowingPageId()},
getPrecedingPageId:function(){return f.getPrecedingPageId()},isScorecard:function(c){c||(c=this.getCurrentActivity("id"));return f.isScorecard(c)},isSubmitAllMode:function(c){return f.isSubmitAllMode(c)},isAssessment:function(c){return f.isAssessment(c)},isAnyAssessment:function(c){return f.isAnyAssessment(c)},hasSubassessments:function(){return f.hasSubassessments()},saveSubmitAllStatus:function(c){f.saveSubmitAllStatus(c)},isSubmitAllStatusSaved:function(){return f.isSubmitAllStatusSaved()},findScorecard:function(){return f.findScorecard()},
getCurrentTime:function(){return f.getCurrentTime()},hasQuestions:function(){return f.hasQuestions()},getCurrentPageNumberInContainer:function(){return f.getCurrentPageNumberInContainer()},getContainerPagesCount:function(){return f.getContainerPagesCount()},isSibling:function(c){return f.isSibling(c)},getBookmarkType:function(){return f.getBookmarkType()},wasRandomizationApplied:function(c){return f.wasRandomizationApplied(c)},comesAfterCurrent:function(c){return f.comesAfterCurrent(c)},getInteractionsData:function(c){return f.getInteractionsData(c)},
getExitMessage:function(c){return f.getExitMessage(c)},getExitConfirmation:function(c,k){return f.getExitConfirmation(c,k)},storeAdditionalData:function(c,k){var m=f.retrieveAdditionalData()||"{}";m=JSON.parse(m);null!=k&&""!==k?m[c]=k:delete m[c];f.storeAdditionalData(JSON.stringify(m))},retrieveAdditionalData:function(c){var k=f.retrieveAdditionalData()||"{}";k=JSON.parse(k);return k[c]}});c=new n;window.courseApi=c;k.trigger("courseApi.loaded",!0,c);return c});
define("app/utilities/prefetch","underscore app/utilities/ajax app/events app/configuration app/courseApi module".split(" "),function(k,c,f,m,n,p){m=new function(){this.config={parallelRequestCount:2,prefetchAmount:2,debounceTime:500};this.prefetchPages=k.debounce(function(f){function k(h){e+=1;d+=1;h="Javascript"===window.PLAYER_TYPE?h+".html":h;c.load({url:h,success:a,error:a})}function a(){--d;d<h.config.parallelRequestCount&&e<m.length&&k(m[e].href)}var h=this;f=n.getActivityId(f.split("?")[0].match(new RegExp("("+
window.Xyleme.environment.GUID_REGEX.source+")(/?|.html?)$"))[1]);var l=n.getMenuItems(),d=0,e=0,m=[];m=this.determineSubsequentPages(f,this.config.prefetchAmount,l);for(l=0;l<this.config.parallelRequestCount;l+=1)(f=m[e])&&k(f.href)},this.config.debounceTime);this.determineSubsequentPages=function(c,f,a){var h=null,l=[],d;f?"Object"==typeof f&&(a=f,f=this.config.prefetchAmount):(f=this.config.prefetchAmount,a=n.getMenuItems());a=a.filter(function(a){return a.isLeaf});var e=a.length-1;for(d=0;d<e;d+=
1)if(a[d].id===c){h=d;break}null!=h&&(l=a.slice(h+1,h+1+f));return l}};f.trigger("prefetch.loaded",!0,m);return m});
define("app/player/dataHandler",["module","jquery","app/configuration","app/events","app/utilities/XyTools"],function(k,c,f,m,n){var p;var t=function(){this.config={useFailedStatus:!0,sendSuccessStatus:"always"};this.initialized=!1;this.successStatus=this.completionStatus=this.score=this.suspendData=this.bookmark="";this.interactions=[];this.startTime=null;this.noLMS=!1;this.userName=this.userId="";this.scrollPosition=null};t.prototype.init=function(){var a="";this.config=c.extend(this.config,f.configure(k.id));
"undefined"===typeof IS_AICC&&"undefined"===typeof SCORM_TYPE||"non-scorm-player"===SCORM_TYPE?m.trigger("externaldata.recieved",!0,q):(0<=SCORM_TYPE.indexOf("2004")&&(this.config.useFailedStatus=!0,this.config.sendSuccessStatus="always"),IS_AICC?a="app/player/aiccAPIWrapper":0<=SCORM_TYPE.indexOf("1.2")?a="app/player/scorm12APIWrapper":0<=SCORM_TYPE.indexOf("2004")&&(a="app/player/scorm2004APIWrapper"),window.Xyleme.environment.IS_DEPLOY?(require([a],function(a){p=a;p&&p.isProxySco()?"true"===p.ProxyScoLMSInitialize()&&
(q.initialized=!0,q.suspendData=p.getSuspendData(),q.bookmark=p.getBookmark(),q.userId=p.getLearnerId(),q.userName=p.getLearnerName()):(n.log("Failed to find external SCORM API"),q.noLMS=!0);m.trigger("externaldata.recieved",!0,q)}),this.startTime=performance.now()):(sessionStorage&&(this.initialized=!0,"true"===sessionStorage.getItem("xyNewSession")&&sessionStorage.getItem("xyUrl")===window.location.pathname&&(this.suspendData=sessionStorage.getItem("xySuspendData"),this.bookmark=sessionStorage.getItem("xyBookmark"),
sessionStorage.removeItem("xyNewSession"),sessionStorage.removeItem("xySuspendData"),sessionStorage.removeItem("xyBookmark"),sessionStorage.removeItem("xyUrl"),/Retake|Review/.test(this.bookmark)&&(this.bookmark=this.bookmark.substring(0,this.bookmark.indexOf("_"))))),m.trigger("externaldata.recieved",!0,q)))};t.prototype.saveDataToLMS=function(a){var c=!0,l=0<=SCORM_TYPE.indexOf("2004");if(window.Xyleme.environment.IS_DEPLOY&&"undefined"!==typeof p){""!==a.completionStatus&&(a.completionStatus?p.setCompletionStatus("completed"):
p.setCompletionStatus("incomplete"));p.setSuspendData(a.suspendData);p.setCmiExitMode(a.cmiExitMode);p.setBookmark(a.bookmark);"number"===typeof a.score&&p.setScore(a.score);"forCredit"===this.config.sendSuccessStatus?c=p.getCredit():"noMasteryScore"===this.config.sendSuccessStatus?c=""===p.getMasteryScore():"never"===this.config.sendSuccessStatus&&(c=!1);if(l&&"number"===typeof a.score||a.completionStatus&&""!==a.successStatus&&c)a.successStatus?p.setSuccessStatus("passed"):this.config.useFailedStatus&&
p.setSuccessStatus("failed");p.setTime(performance.now()-this.startTime);p.setInteractions(this.interactions.filter(function(a){return!a.hadAnswer}));p.ProxyScoLMSCommit()}};t.prototype.saveData=function(a){window.Xyleme.environment.IS_DEPLOY&&"undefined"!==typeof p?(this.saveDataToLMS(a),p.ProxyScoLMSFinish()):sessionStorage&&/^true$/i.test(sessionStorage.getItem("xyNewSession"))&&(sessionStorage.setItem("xySuspendData",a.suspendData),sessionStorage.setItem("xyBookmark",a.bookmark),sessionStorage.setItem("xyUrl",
window.location.pathname))};t.prototype.saveSuspendData=function(a){window.Xyleme.environment.IS_DEPLOY&&"undefined"!==typeof p&&(p.setSuspendData(a.suspendData),p.setCmiExitMode(a.cmiExitMode),p.setBookmark(a.bookmark),p.setCompletionStatus("incomplete"),p.ProxyScoLMSCommit())};t.prototype.addInteraction=function(a){var c=!1;this.interactions.forEach(function(h,d,e){h.reportId===a.reportId&&(a.hadAnswer=h.hadAnswer,e[d]=a,c=!0)});c||(n.log("Interaction added: "+JSON.stringify(a)),this.interactions.push(a))};
var q=new t;m.trigger("player.dataHandler:loaded",!0,q);return q});
define("app/player/integration","module jquery app/configuration app/events app/utilities/XyTools app/player/dataHandler player".split(" "),function(k,c,f,m,n,p,t){n=function(){this.config={levelsUpCountToBroadcast:3}};n.prototype.init=function(){this.config=c.extend(this.config,f.configure(k.id));this.courseLoaded=!1;m.on("navigation.section:changed",function(a,c){for(var h=0,d=window.parent,e=window;h<q.config.levelsUpCountToBroadcast;)if(h++,d!==e)d.postMessage({page:a,section:c,typeMessage:"navigation",
playerType:PLAYER_TYPE},"*"),e=d,d=d.parent;else break});p.init();m.on("externaldata.recieved",function(a){var c;try{if(c=q.determineCustomInitialDestination())a.bookmark=c,a.isHashBookmark=!0,a.scrollPosition=window.location.hash.replace("#","");t.initialize()}catch(l){m.trigger("player.start:failed",l)}if(a.initialized)m.on("course.unload",function(){m.trigger("course.unload:before");m.trigger("content.remove");m.trigger("player.unload:before");t.unload()})})};n.prototype.requestNext=function(){t.next()};
n.prototype.requestPrevious=function(){t.previous()};n.prototype.requestChoose=function(a){t.choose(a)};n.prototype.exitContainer=function(a){t.exitContainer(a)};n.prototype.retake=function(a){t.retake(a);m.trigger("player.retake:triggered",a)};n.prototype.resetChoiceBranch=function(){t.resetChoiceBranch();m.trigger("player.resetChoiceBranch:triggered")};n.prototype.determineCustomInitialDestination=function(){var a=this.getUrlQuery("destination");return a?a=Array.isArray(a)?a[0].replace(/-/g,"."):
a.replace(/-/g,"."):!1};n.prototype.getUrlQuery=function(a){var c=window.location.search.substring(1).split("&"),l;var d=0;for(l=c.length;d<l;d+=1){var e=c[d].split("=");if(e[0]===a)return e[1]}return!1};var q=new n;m.trigger("player.integration:loaded",!0,q);return q});
(function(k){var c="object"==typeof self&&self.self==self&&self||"object"==typeof global&&global.global==global&&global;if("function"===typeof define&&define.amd)define("backbone",["underscore","jquery","exports"],function(f,m,t){c.Backbone=k(c,t,f,m)});else if("undefined"!==typeof exports){var f=require("underscore");try{var m=require("jquery")}catch(n){}k(c,exports,f,m)}else c.Backbone=k(c,{},c._,c.jQuery||c.Zepto||c.ender||c.$)})(function(k,c,f,m){var n=k.Backbone,p=Array.prototype.slice;c.VERSION=
"1.2.3";c.$=m;c.noConflict=function(){k.Backbone=n;return this};c.emulateHTTP=!1;c.emulateJSON=!1;var t=function(d,e,c){switch(d){case 1:return function(){return f[e](this[c])};case 2:return function(a){return f[e](this[c],a)};case 3:return function(d,h){return f[e](this[c],a(d,this),h)};case 4:return function(d,h,l){return f[e](this[c],a(d,this),h,l)};default:return function(){var a=p.call(arguments);a.unshift(this[c]);return f[e].apply(f,a)}}},q=function(a,d,e){f.each(d,function(d,c){f[c]&&(a.prototype[c]=
t(d,c,e))})},a=function(a,d){return f.isFunction(a)?a:f.isObject(a)&&!d._isModel(a)?h(a):f.isString(a)?function(d){return d.get(a)}:a},h=function(a){var d=f.matches(a);return function(a){return d(a.attributes)}};m=c.Events={};var l=/\s+/,d=function(a,e,c,h,k){var m=0,u;if(c&&"object"===typeof c)for(void 0!==h&&("context"in k)&&void 0===k.context&&(k.context=h),u=f.keys(c);m<u.length;m++)e=d(a,e,u[m],c[u[m]],k);else if(c&&l.test(c))for(u=c.split(l);m<u.length;m++)e=a(e,u[m],h,k);else e=a(e,c,h,k);
return e};m.on=function(a,d,c){return e(this,a,d,c)};var e=function(a,e,c,h,l){a._events=d(u,a._events||{},e,c,{context:h,ctx:a,listening:l});l&&((a._listeners||(a._listeners={}))[l.id]=l);return a};m.listenTo=function(a,d,c){if(!a)return this;var h=a._listenId||(a._listenId=f.uniqueId("l")),l=this._listeningTo||(this._listeningTo={}),k=l[h];k||(k=this._listenId||(this._listenId=f.uniqueId("l")),k=l[h]={obj:a,objId:h,id:k,listeningTo:l,count:0});e(a,d,c,this,k);return this};var u=function(a,d,e,c){if(e){d=
a[d]||(a[d]=[]);var h=c.context,l=c.ctx;(c=c.listening)&&c.count++;d.push({callback:e,context:h,ctx:h||l,listening:c})}return a};m.off=function(a,e,c){if(!this._events)return this;this._events=d(z,this._events,a,e,{context:c,listeners:this._listeners});return this};m.stopListening=function(a,d,e){var c=this._listeningTo;if(!c)return this;a=a?[a._listenId]:f.keys(c);for(var h=0;h<a.length;h++){var l=c[a[h]];if(!l)break;l.obj.off(d,e,this)}f.isEmpty(c)&&(this._listeningTo=void 0);return this};var z=
function(a,d,e,c){if(a){var h=0,l=c.context;c=c.listeners;if(d||e||l){for(var k=d?[d]:f.keys(a);h<k.length;h++){d=k[h];var m=a[d];if(!m)break;for(var u=[],q=0;q<m.length;q++){var t=m[q];e&&e!==t.callback&&e!==t.callback._callback||l&&l!==t.context?u.push(t):(t=t.listening)&&0===--t.count&&(delete c[t.id],delete t.listeningTo[t.objId])}u.length?a[d]=u:delete a[d]}if(f.size(a))return a}else for(a=f.keys(c);h<a.length;h++)t=c[a[h]],delete c[t.id],delete t.listeningTo[t.objId]}};m.once=function(a,e,c){a=
d(C,{},a,e,f.bind(this.off,this));return this.on(a,void 0,c)};m.listenToOnce=function(a,e,c){e=d(C,{},e,c,f.bind(this.stopListening,this,a));return this.listenTo(a,e)};var C=function(a,d,e,c){if(e){var h=a[d]=f.once(function(){c(d,h);e.apply(this,arguments)});h._callback=e}return a};m.trigger=function(a){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),c=Array(e),h=0;h<e;h++)c[h]=arguments[h+1];d(D,this._events,a,void 0,c);return this};var D=function(a,d,e,c){if(a){e=a[d];var h=
a.all;e&&h&&(h=h.slice());e&&x(e,c);h&&x(h,[d].concat(c))}return a},x=function(a,d){var e,c=-1,h=a.length,l=d[0],f=d[1],k=d[2];switch(d.length){case 0:for(;++c<h;)(e=a[c]).callback.call(e.ctx);break;case 1:for(;++c<h;)(e=a[c]).callback.call(e.ctx,l);break;case 2:for(;++c<h;)(e=a[c]).callback.call(e.ctx,l,f);break;case 3:for(;++c<h;)(e=a[c]).callback.call(e.ctx,l,f,k);break;default:for(;++c<h;)(e=a[c]).callback.apply(e.ctx,d)}};m.bind=m.on;m.unbind=m.off;f.extend(c,m);var E=c.Model=function(a,d){var e=
a||{};d||(d={});this.cid=f.uniqueId(this.cidPrefix);this.attributes={};d.collection&&(this.collection=d.collection);d.parse&&(e=this.parse(e,d)||{});e=f.defaults({},e,f.result(this,"defaults"));this.set(e,d);this.changed={};this.initialize.apply(this,arguments)};f.extend(E.prototype,m,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(a){return f.clone(this.attributes)},sync:function(){return c.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},
escape:function(a){return f.escape(this.get(a))},has:function(a){return null!=this.get(a)},matches:function(a){return!!f.iteratee(a,this)(this.attributes)},set:function(a,d,e){if(null==a)return this;if("object"===typeof a){var c=a;e=d}else(c={})[a]=d;e||(e={});if(!this._validate(c,e))return!1;var h=e.unset;a=e.silent;var l=[],k=this._changing;this._changing=!0;k||(this._previousAttributes=f.clone(this.attributes),this.changed={});var m=this.attributes,u=this.changed,q=this._previousAttributes,t;for(t in c)d=
c[t],f.isEqual(m[t],d)||l.push(t),f.isEqual(q[t],d)?delete u[t]:u[t]=d,h?delete m[t]:m[t]=d;this.id=this.get(this.idAttribute);if(!a)for(l.length&&(this._pending=e),d=0;d<l.length;d++)this.trigger("change:"+l[d],this,m[l[d]],e);if(k)return this;if(!a)for(;this._pending;)e=this._pending,this._pending=!1,this.trigger("change",this,e);this._changing=this._pending=!1;return this},unset:function(a,d){return this.set(a,void 0,f.extend({},d,{unset:!0}))},clear:function(a){var d={},e;for(e in this.attributes)d[e]=
void 0;return this.set(d,f.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!f.isEmpty(this.changed):f.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?f.clone(this.changed):!1;var d=this._changing?this._previousAttributes:this.attributes,e={},c;for(c in a){var h=a[c];f.isEqual(d[c],h)||(e[c]=h)}return f.size(e)?e:!1},previous:function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return f.clone(this._previousAttributes)},
fetch:function(a){a=f.extend({parse:!0},a);var d=this,e=a.success;a.success=function(c){var h=a.parse?d.parse(c,a):c;if(!d.set(h,a))return!1;e&&e.call(a.context,d,c,a);d.trigger("sync",d,c,a)};la(this,a);return this.sync("read",this,a)},save:function(a,d,e){if(null==a||"object"===typeof a){var c=a;e=d}else(c={})[a]=d;e=f.extend({validate:!0,parse:!0},e);var h=e.wait;if(c&&!h){if(!this.set(c,e))return!1}else if(!this._validate(c,e))return!1;var l=this,k=e.success,m=this.attributes;e.success=function(a){l.attributes=
m;var d=e.parse?l.parse(a,e):a;h&&(d=f.extend({},c,d));if(d&&!l.set(d,e))return!1;k&&k.call(e.context,l,a,e);l.trigger("sync",l,a,e)};la(this,e);c&&h&&(this.attributes=f.extend({},m,c));a=this.isNew()?"create":e.patch?"patch":"update";"patch"!==a||e.attrs||(e.attrs=c);a=this.sync(a,this,e);this.attributes=m;return a},destroy:function(a){a=a?f.clone(a):{};var d=this,e=a.success,c=a.wait,h=function(){d.stopListening();d.trigger("destroy",d,d.collection,a)};a.success=function(l){c&&h();e&&e.call(a.context,
d,l,a);d.isNew()||d.trigger("sync",d,l,a)};var l=!1;this.isNew()?f.defer(a.success):(la(this,a),l=this.sync("delete",this,a));c||h();return l},url:function(){var a=f.result(this,"urlRoot")||f.result(this.collection,"url")||va();if(this.isNew())return a;var d=this.get(this.idAttribute);return a.replace(/[^\/]$/,"$&/")+encodeURIComponent(d)},parse:function(a,d){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(a){return this._validate({},
f.defaults({validate:!0},a))},_validate:function(a,d){if(!d.validate||!this.validate)return!0;a=f.extend({},this.attributes,a);a=this.validationError=this.validate(a,d)||null;if(!a)return!0;this.trigger("invalid",this,a,f.extend(d,{validationError:a}));return!1}});q(E,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var H=c.Collection=function(a,d){d||(d={});d.model&&(this.model=d.model);void 0!==d.comparator&&(this.comparator=d.comparator);this._reset();this.initialize.apply(this,
arguments);a&&this.reset(a,f.extend({silent:!0},d))},A={add:!0,remove:!0,merge:!0},G={add:!0,remove:!1},B=function(a,d,e){e=Math.min(Math.max(e,0),a.length);for(var c=Array(a.length-e),h=d.length,l=0;l<c.length;l++)c[l]=a[l+e];for(l=0;l<h;l++)a[l+e]=d[l];for(l=0;l<c.length;l++)a[l+h+e]=c[l]};f.extend(H.prototype,m,{model:E,initialize:function(){},toJSON:function(a){return this.map(function(d){return d.toJSON(a)})},sync:function(){return c.sync.apply(this,arguments)},add:function(a,d){return this.set(a,
f.extend({merge:!1},d,G))},remove:function(a,d){d=f.extend({},d);var e=!f.isArray(a);a=e?[a]:f.clone(a);a=this._removeModels(a,d);!d.silent&&a&&this.trigger("update",this,d);return e?a[0]:a},set:function(a,d){if(null!=a){d=f.defaults({},d,A);d.parse&&!this._isModel(a)&&(a=this.parse(a,d));var e=!f.isArray(a);a=e?[a]:a.slice();var c=d.at;null!=c&&(c=+c);0>c&&(c+=this.length+1);for(var h=[],l=[],k=[],m={},u=d.add,q=d.merge,t=d.remove,p=!1,z=this.comparator&&null==c&&!1!==d.sort,n=f.isString(this.comparator)?
this.comparator:null,C,x=0;x<a.length;x++){C=a[x];var D=this.get(C);D?(q&&C!==D&&(C=this._isModel(C)?C.attributes:C,d.parse&&(C=D.parse(C,d)),D.set(C,d),z&&!p&&(p=D.hasChanged(n))),m[D.cid]||(m[D.cid]=!0,h.push(D)),a[x]=D):u&&(C=a[x]=this._prepareModel(C,d))&&(l.push(C),this._addReference(C,d),m[C.cid]=!0,h.push(C))}if(t){for(x=0;x<this.length;x++)C=this.models[x],m[C.cid]||k.push(C);k.length&&this._removeModels(k,d)}m=!1;h.length&&!z&&u&&t?(m=this.length!=h.length||f.some(this.models,function(a,
d){return a!==h[d]}),this.models.length=0,B(this.models,h,0),this.length=this.models.length):l.length&&(z&&(p=!0),B(this.models,l,null==c?this.length:c),this.length=this.models.length);p&&this.sort({silent:!0});if(!d.silent){for(x=0;x<l.length;x++)null!=c&&(d.index=c+x),C=l[x],C.trigger("add",C,this,d);(p||m)&&this.trigger("sort",this,d);(l.length||k.length)&&this.trigger("update",this,d)}return e?a[0]:a}},reset:function(a,d){d=d?f.clone(d):{};for(var e=0;e<this.models.length;e++)this._removeReference(this.models[e],
d);d.previousModels=this.models;this._reset();a=this.add(a,f.extend({silent:!0},d));d.silent||this.trigger("reset",this,d);return a},push:function(a,d){return this.add(a,f.extend({at:this.length},d))},pop:function(a){var d=this.at(this.length-1);return this.remove(d,a)},unshift:function(a,d){return this.add(a,f.extend({at:0},d))},shift:function(a){var d=this.at(0);return this.remove(d,a)},slice:function(){return p.apply(this.models,arguments)},get:function(a){if(null!=a){var d=this.modelId(this._isModel(a)?
a.attributes:a);return this._byId[a]||this._byId[d]||this._byId[a.cid]}},at:function(a){0>a&&(a+=this.length);return this.models[a]},where:function(a,d){return this[d?"find":"filter"](a)},findWhere:function(a){return this.where(a,!0)},sort:function(a){var d=this.comparator;if(!d)throw Error("Cannot sort a set without a comparator");a||(a={});var e=d.length;f.isFunction(d)&&(d=f.bind(d,this));1===e||f.isString(d)?this.models=this.sortBy(d):this.models.sort(d);a.silent||this.trigger("sort",this,a);
return this},pluck:function(a){return f.invoke(this.models,"get",a)},fetch:function(a){a=f.extend({parse:!0},a);var d=a.success,e=this;a.success=function(c){e[a.reset?"reset":"set"](c,a);d&&d.call(a.context,e,c,a);e.trigger("sync",e,c,a)};la(this,a);return this.sync("read",this,a)},create:function(a,d){d=d?f.clone(d):{};var e=d.wait;a=this._prepareModel(a,d);if(!a)return!1;e||this.add(a,d);var c=this,h=d.success;d.success=function(a,d,l){e&&c.add(a,l);h&&h.call(l.context,a,d,l)};a.save(null,d);return a},
parse:function(a,d){return a},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(a){return a[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(a,d){if(this._isModel(a))return a.collection||(a.collection=this),a;d=d?f.clone(d):{};d.collection=this;a=new this.model(a,d);if(!a.validationError)return a;this.trigger("invalid",this,a.validationError,d);return!1},
_removeModels:function(a,d){for(var e=[],c=0;c<a.length;c++){var h=this.get(a[c]);if(h){var l=this.indexOf(h);this.models.splice(l,1);this.length--;d.silent||(d.index=l,h.trigger("remove",h,this,d));e.push(h);this._removeReference(h,d)}}return e.length?e:!1},_isModel:function(a){return a instanceof E},_addReference:function(a,d){this._byId[a.cid]=a;d=this.modelId(a.attributes);null!=d&&(this._byId[d]=a);a.on("all",this._onModelEvent,this)},_removeReference:function(a,d){delete this._byId[a.cid];d=
this.modelId(a.attributes);null!=d&&delete this._byId[d];this===a.collection&&delete a.collection;a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,d,e,c){if("add"!==a&&"remove"!==a||e===this){"destroy"===a&&this.remove(d,c);if("change"===a){var h=this.modelId(d.previousAttributes()),l=this.modelId(d.attributes);h!==l&&(null!=h&&delete this._byId[h],null!=l&&(this._byId[l]=d))}this.trigger.apply(this,arguments)}}});q(H,{forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,
foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3},"models");q=c.View=function(a){this.cid=f.uniqueId("view");f.extend(this,f.pick(a,I));this._ensureElement();this.initialize.apply(this,arguments)};var F=/^(\S+)\s*(.*)$/,
I="model collection el id attributes className tagName events".split(" ");f.extend(q.prototype,m,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){this._removeElement();this.stopListening();return this},_removeElement:function(){this.$el.remove()},setElement:function(a){this.undelegateEvents();this._setElement(a);this.delegateEvents();return this},_setElement:function(a){this.$el=a instanceof c.$?a:c.$(a);this.el=this.$el[0]},
delegateEvents:function(a){a||(a=f.result(this,"events"));if(!a)return this;this.undelegateEvents();for(var d in a){var e=a[d];f.isFunction(e)||(e=this[e]);if(e){var c=d.match(F);this.delegate(c[1],c[2],f.bind(e,this))}}return this},delegate:function(a,d,e){this.$el.on(a+".delegateEvents"+this.cid,d,e);return this},undelegateEvents:function(){this.$el&&this.$el.off(".delegateEvents"+this.cid);return this},undelegate:function(a,d,e){this.$el.off(a+".delegateEvents"+this.cid,d,e);return this},_createElement:function(a){return document.createElement(a)},
_ensureElement:function(){if(this.el)this.setElement(f.result(this,"el"));else{var a=f.extend({},f.result(this,"attributes"));this.id&&(a.id=f.result(this,"id"));this.className&&(a["class"]=f.result(this,"className"));this.setElement(this._createElement(f.result(this,"tagName")));this._setAttributes(a)}},_setAttributes:function(a){this.$el.attr(a)}});c.sync=function(a,d,e){var h=M[a];f.defaults(e||(e={}),{emulateHTTP:c.emulateHTTP,emulateJSON:c.emulateJSON});var l={type:h,dataType:"json"};e.url||
(l.url=f.result(d,"url")||va());null!=e.data||!d||"create"!==a&&"update"!==a&&"patch"!==a||(l.contentType="application/json",l.data=JSON.stringify(e.attrs||d.toJSON(e)));e.emulateJSON&&(l.contentType="application/x-www-form-urlencoded",l.data=l.data?{model:l.data}:{});if(e.emulateHTTP&&("PUT"===h||"DELETE"===h||"PATCH"===h)){l.type="POST";e.emulateJSON&&(l.data._method=h);var k=e.beforeSend;e.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",h);if(k)return k.apply(this,arguments)}}"GET"===
l.type||e.emulateJSON||(l.processData=!1);var m=e.error;e.error=function(a,d,c){e.textStatus=d;e.errorThrown=c;m&&m.call(e.context,a,d,c)};a=e.xhr=c.ajax(f.extend(l,e));d.trigger("request",d,a,e);return a};var M={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};c.ajax=function(){return c.$.ajax.apply(c.$,arguments)};var L=c.Router=function(a){a||(a={});a.routes&&(this.routes=a.routes);this._bindRoutes();this.initialize.apply(this,arguments)},J=/\((.*?)\)/g,P=/(\(\?)?:\w+/g,W=
/\*\w+/g,U=/[\-{}\[\]+?.,\\\^$|#\s]/g;f.extend(L.prototype,m,{initialize:function(){},route:function(a,d,e){f.isRegExp(a)||(a=this._routeToRegExp(a));f.isFunction(d)&&(e=d,d="");e||(e=this[d]);var h=this;c.history.route(a,function(l){l=h._extractParameters(a,l);!1!==h.execute(e,l,d)&&(h.trigger.apply(h,["route:"+d].concat(l)),h.trigger("route",d,l),c.history.trigger("route",h,d,l))});return this},execute:function(a,d,e){a&&a.apply(this,d)},navigate:function(a,d){c.history.navigate(a,d);return this},
_bindRoutes:function(){if(this.routes){this.routes=f.result(this,"routes");for(var a,d=f.keys(this.routes);null!=(a=d.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){a=a.replace(U,"\\$&").replace(J,"(?:$1)?").replace(P,function(a,d){return d?a:"([^/?]+)"}).replace(W,"([^?]*?)");return new RegExp("^"+a+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(a,d){var e=a.exec(d).slice(1);return f.map(e,function(a,d){return d===e.length-1?a||null:a?decodeURIComponent(a):null})}});var Z=
c.History=function(){this.handlers=[];this.checkUrl=f.bind(this.checkUrl,this);"undefined"!==typeof window&&(this.location=window.location,this.history=window.history)},X=/^[#\/]|\s+$/g,R=/^\/+|\/+$/g,Ba=/#.*$/;Z.started=!1;f.extend(Z.prototype,m,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(a){return decodeURI(a.replace(/%25/g,
"%2525"))},getSearch:function(){var a=this.location.href.replace(/#.*/,"").match(/\?.+/);return a?a[0]:""},getHash:function(a){return(a=(a||this).location.href.match(/#(.*)$/))?a[1]:""},getPath:function(){var a=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===a.charAt(0)?a.slice(1):a},getFragment:function(a){null==a&&(a=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash());return a.replace(X,"")},start:function(a){if(Z.started)throw Error("Backbone.history has already been started");
Z.started=!0;this.options=f.extend({root:"/"},this.options,a);this.root=this.options.root;this._wantsHashChange=!1!==this.options.hashChange;this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||7<document.documentMode);this._useHashChange=this._wantsHashChange&&this._hasHashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.history||!this.history.pushState);this._usePushState=this._wantsPushState&&this._hasPushState;this.fragment=this.getFragment();
this.root=("/"+this.root+"/").replace(R,"/");if(this._wantsHashChange&&this._wantsPushState)if(this._hasPushState||this.atRoot())this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});else return a=this.root.slice(0,-1)||"/",this.location.replace(a+"#"+this.getPath()),!0;this._hasHashChange||!this._wantsHashChange||this._usePushState||(this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1,a=document.body,
a=a.insertBefore(this.iframe,a.firstChild).contentWindow,a.document.open(),a.document.close(),a.location.hash="#"+this.fragment);a=window.addEventListener||function(a,d){return attachEvent("on"+a,d)};this._usePushState?a("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?a("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));if(!this.options.silent)return this.loadUrl()},stop:function(){var a=window.removeEventListener||
function(a,d){return detachEvent("on"+a,d)};this._usePushState?a("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&a("hashchange",this.checkUrl,!1);this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null);this._checkUrlInterval&&clearInterval(this._checkUrlInterval);Z.started=!1},route:function(a,d){this.handlers.unshift({route:a,callback:d})},checkUrl:function(a){a=this.getFragment();a===this.fragment&&this.iframe&&(a=this.getHash(this.iframe.contentWindow));if(a===this.fragment)return!1;
this.iframe&&this.navigate(a);this.loadUrl()},loadUrl:function(a){if(!this.matchRoot())return!1;a=this.fragment=this.getFragment(a);return f.some(this.handlers,function(d){if(d.route.test(a))return d.callback(a),!0})},navigate:function(a,d){if(!Z.started)return!1;d&&!0!==d||(d={trigger:!!d});a=this.getFragment(a||"");var e=this.root;if(""===a||"?"===a.charAt(0))e=e.slice(0,-1)||"/";e+=a;a=this.decodeFragment(a.replace(Ba,""));if(this.fragment!==a){this.fragment=a;if(this._usePushState)this.history[d.replace?
"replaceState":"pushState"]({},document.title,e);else if(this._wantsHashChange)this._updateHash(this.location,a,d.replace),this.iframe&&a!==this.getHash(this.iframe.contentWindow)&&(e=this.iframe.contentWindow,d.replace||(e.document.open(),e.document.close()),this._updateHash(e.location,a,d.replace));else return this.location.assign(e);if(d.trigger)return this.loadUrl(a)}},_updateHash:function(a,d,e){e?(e=a.href.replace(/(javascript:|#).*$/,""),a.replace(e+"#"+d)):a.hash="#"+d}});c.history=new Z;
E.extend=H.extend=L.extend=q.extend=Z.extend=function(a,d){var e=this;var c=a&&f.has(a,"constructor")?a.constructor:function(){return e.apply(this,arguments)};f.extend(c,e,d);d=function(){this.constructor=c};d.prototype=e.prototype;c.prototype=new d;a&&f.extend(c.prototype,a);c.__super__=e.prototype;return c};var va=function(){throw Error('A "url" property or function must be specified');},la=function(a,d){var e=d.error;d.error=function(c){e&&e.call(d.context,a,c,d);a.trigger("error",a,c,d)}};return c});
(function(k){k("elements/notification/toastr",["jquery"],function(c){return function(){function f(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1E3,hideEasing:"swing",onHidden:void 0,extendedTimeOut:1E3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5E3,
titleClass:"toast-title",messageClass:"toast-message",target:"body",closeHtml:"<button>&times;</button>",newestOnTop:!0}}function k(d){function e(d){if(!c(":focus",x).length||d)return x[k.hideMethod]({duration:k.hideDuration,easing:k.hideEasing,complete:function(){t(x);if(k.onHidden)k.onHidden();G.state="hidden";G.endTime=new Date;a&&a(G)}})}var k=p(),m=d.iconClass||k.iconClass;"undefined"!==typeof d.optionsOverride&&(k=c.extend(k,d.optionsOverride),m=d.optionsOverride.iconClass||m);m+=" "+f().iconClasses[d.type];
h++;q=n(k);var D=null,x=c("<div/>"),E=c("<div/>"),H=c("<div/>"),A=c(k.closeHtml),G={toastId:h,state:"visible",startTime:new Date,options:k,map:d};d.type===l.error||d.type===l.warning?x.attr("role","alert"):x.attr("role","status");d.iconClass&&x.addClass(k.toastClass).addClass(m);d.title&&(E.append(d.title).addClass(k.titleClass),x.append(E));d.message&&(H.append(d.message).addClass(k.messageClass),x.append(H));k.closeButton&&(A.addClass("toast-close-button"),x.prepend(A));x.hide();k.newestOnTop?q.prepend(x):
q.append(x);x[k.showMethod]({duration:k.showDuration,easing:k.showEasing,complete:k.onShown});0<k.timeOut&&(D=setTimeout(e,k.timeOut));x.hover(function(){clearTimeout(D);x.stop(!0,!0)[k.showMethod]({duration:k.showDuration,easing:k.showEasing})},function(){if(0<k.timeOut||0<k.extendedTimeOut)D=setTimeout(e,k.extendedTimeOut)});!k.onclick&&k.tapToDismiss&&x.click(e);k.closeButton&&A&&A.click(function(a){a.stopPropagation?a.stopPropagation():void 0!==a.cancelBubble&&!0!==a.cancelBubble&&(a.cancelBubble=
!0);e(!0)});k.onclick&&x.click(function(){k.onclick();e()});a&&a(G);k.debug&&console&&console.log(G);return x}function n(a){a||(a=p());q=c("#"+a.containerId);if(q.length)return q;q=c("<div/>").attr("id",a.containerId).addClass(a.positionClass);q.appendTo(c(a.target));return q}function p(a){return c.extend({},f(),d.options,a)}function t(a){q||(q=n());a.is(":visible")||(a.remove(),0===q.children().length&&q.remove())}var q,a,h=0,l={error:"error",info:"info",success:"success",warning:"warning"},d={clear:function(a){var d=
p();q||n(d);if(a&&0===c(":focus",a).length)a[d.hideMethod]({duration:d.hideDuration,easing:d.hideEasing,complete:function(){t(a)}});else if(q.children().length)q[d.hideMethod]({duration:d.hideDuration,easing:d.hideEasing,complete:function(){q.remove()}})},error:function(a,d,c){return k({type:l.error,iconClass:p(c).iconClasses.error,message:a,optionsOverride:c,title:d})},getContainer:n,info:function(a,d,c){return k({type:l.info,iconClass:p(c).iconClasses.info,message:a,optionsOverride:c,title:d})},
options:{},subscribe:function(d){a=d},success:function(a,d,c){return k({type:l.success,iconClass:p(c).iconClasses.success,message:a,optionsOverride:c,title:d})},version:"2.0.1",warning:function(a,d,c){return k({type:l.warning,iconClass:p(c).iconClasses.warning,message:a,optionsOverride:c,title:d})}};return d}()})})("function"===typeof define&&define.amd?define:function(k,c){"undefined"!==typeof module&&module.exports?module.exports=c(require("jquery")):window.toastr=c(window.jQuery)});
define("notification","module jquery popup elements/notification/toastr app/utilities/XyTools app/events app/configuration lang/lang".split(" "),function(k,c,f,m,n,p,t,q){function a(a){return Array.prototype.slice.call(a,0)}var h={popupWrapperClass:"NotificationWrapper",popupContentClass:"NotificationContent",title:"",closeButton:!1,modal:!0,modalBlur:!1,role:"dialog",draggable:!1,autoOpen:!0,minWidth:"300px",closeOnEscape:!1},l={popupWrapperClass:"NotificationWrapper AlertWrapper",popupContentClass:"NotificationContent AlertContent",
buttonTitle:q.t("elements.notification.ok")||"Ok",buttonClass:"NotificationButton AlertButton",role:"alertdialog"},d={popupWrapperClass:"NotificationWrapper ConfirmWrapper",popupContentClass:"NotificationContent ConfirmContent",buttonOkTitle:q.t("elements.notification.ok")||"Ok",buttonCancelTitle:q.t("elements.notification.cancel")||"Cancel",buttonOkClass:"NotificationButton ConfirmButton ConfirmOkButton",buttonCancelClass:"NotificationButton ConfirmButton ConfirmCancelButton",role:"dialog"},e={position:"bottom-right",
type:"info",sticky:!1,closeOnClick:!0,closeButton:!1,newestOnTop:!0,timeOut:4E3,appendTo:"body",notifyClass:"NotifyWrapper",notifyTitleClass:"NotifyTitle",notifyMessageClass:"NotifyMessage",notifyIconClasses:{error:"NotifyError",info:"NotifyInfo",success:"NotifySuccess",warning:"NotifyWarning"},showMethod:"fadeIn",showDuration:300,showEasing:"swing",hideMethod:"fadeOut",hideDuration:1E3,hideEasing:"swing",onShow:void 0,onHide:void 0};c=function(){this.config=n.extend(h,t.configure(k.id));this.alertConfig=
n.extend(h,l,t.configure(k.id+".alert"));this.confirmConfig=n.extend(h,d,t.configure(k.id+".confirm"));this.notifyConfig=n.extend(h,e,t.configure(k.id+".notify"))};c.prototype.alert=function(d,e,c){"object"===typeof e&&(c=e);c=n.extend(this.alertConfig,c||{});c.content=d||"";c.buttons=[{text:c.buttonTitle,buttonClass:c.buttonClass,click:function(){"function"===typeof e&&e.apply(this,a(arguments));this.close();this.destroy()}}];new f(c)};c.prototype.confirmPopupsRegister=[];c.prototype.confirmPopupsLookup=
{};c.prototype.confirm=function(d,e,c,h){function l(a){var d;a&&(u=k.confirmPopupsRegister.indexOf(a),k.confirmPopupsRegister.splice(u,1),(d=k.confirmPopupsLookup[k.confirmPopupsRegister[k.confirmPopupsRegister.length-1]])&&d.popup.show(function(){d.resetFocus()}))}var k=this,m=(new Date).getTime(),u;"object"===typeof e&&(h=e);"object"===typeof c&&(h=c);h=n.extend(this.confirmConfig,h||{});h.timestamp=m;2>k.confirmPopupsRegister.length&&(h.isFirstConfirm=!0);h.content=d||"";h.buttons&&h.buttons.length?
h.buttons.forEach(function(d){var e=d.click;d.click=function(){"function"===typeof e&&e.apply(this,a(arguments));l(h.timestamp);this.close();this.destroy()}}):h.buttons=[{text:h.buttonOkTitle,buttonClass:h.buttonOkClass,click:function(){"function"===typeof e&&e.apply(this,a(arguments));l(h.timestamp);this.close();this.destroy()}},{text:h.buttonCancelTitle,buttonClass:h.buttonCancelClass,click:function(){"function"===typeof c&&c.apply(this,a(arguments));l(h.timestamp);this.close();this.destroy()}}];
d=new f(h);k.confirmPopupsRegister.push(m);return k.confirmPopupsLookup[m]=d};c.prototype.notify=function(a,d,e,c){var h;a=a||"";"object"===typeof d?c=d:"function"===typeof d?h=d:d=d||"";"object"===typeof e?c=e:h="function"!==typeof e?function(){}:e;c=n.extend(this.notifyConfig,c||{});c=n.extend(c,{positionClass:"toast-"+c.position,timeOut:c.sticky?0:c.timeOut,extendedTimeOut:c.sticky?0:c.extendedTimeOut,tapToDismiss:c.closeOnClick,toastClass:c.notifyClass,titleClass:c.notifyTitleClass,messageClass:c.notifyMessageClass,
iconClasses:c.notifyIconClasses,target:c.appendTo,onShown:c.onShow,onHidden:c.onHide||h});c.sticky&&(c.timeOut=c.extendedTimeOut=0);if("function"===typeof m[c.type])m[c.type](a,d,c)};c=new c;p.trigger("notification.loaded",!0,c);return c});
define("app/navigation","module jquery underscore app/configuration app/events app/utilities/animate app/utilities/XyTools app/utilities/prefetch app/player/integration lang/lang app/courseApi backbone notification jquery.extensions".split(" "),function(k,c,f,m,n,p,t,q,a,h,l,d,e){d=function(){this.config={contentContainerSelector:"#PageBody",contentMarker:h.t("general.content")||"Main Content",layoutMode:"",inclusiveContentFetch:!1,usePrefetch:window.Xyleme.environment.IS_DEPLOY||window.Xyleme.environment.FRAGMENT_CACHING_AVAILABLE,
loadIconDelay:400,animateOptions:{animate:!1,inTime:400,outTime:400,previous:{inAnimation:"slide-from-left",outAnimation:"slide-to-right"},next:{inAnimation:"slide-from-right",outAnimation:"slide-to-left"}},scrollSectionMargin:15,sectionsForScrollSpy:".ParaBlock, .Title, .QuestionBlock"};this.documentVersion=t.getUrlQuery("v");this.initialLoad=!0;this.currentSection=this.currentPage=null};d.prototype.init=function(){var a=u.loadNewContent.bind(this),d=u.completePageLoad.bind(this),e=u.allPageMediaLoaded.bind(this),
h=f.debounce(u.handlePageScroll.bind(this),750);n.trigger("navigation.init:before",this);this.goRender=!0;this.config=t.extend({},this.config,m.configure(k.id));this.contentContainer=c(this.config.contentContainerSelector);this.prevOverflow=this.contentContainer.parent()[0].style.overflow;var l=t.getUrlQuery("destination");l&&this.updateAddressBar(l,document.location.hash);this.initContentAnimation();n.on("content.url:changed",a);n.on("externalScripts.loaded",d);n.on("allPageMedia.loaded",e);n.on("allPageMedia.skipped",
e);n.on("content.remove",this.removeContent.bind(this));n.trigger("navigation.init:after",this);n.on("content.loaded",function(){var a=c(u.config.contentScrollingContainerSelector)[0];0<c(u.config.contentScrollingContainerSelector).find(u.config.sectionsForScrollSpy).length&&a.addEventListener("scroll",h,!1)});n.on("content.remove",function(){c(u.config.contentScrollingContainerSelector)[0].removeEventListener("scroll",h)})};d.prototype.loadNewContent=function(a,d,h){var l={};this.updateAddressBar(d.replace(/\./g,
"-"),h);n.trigger("navigation.loadNewContent:before",this);n.trigger("navigation.loadNewContent:request",a,this);l.url=a;l.async=!0;l.data={};this.documentVersion&&(l.data.v=this.documentVersion);l.success=function(l){function f(a,c){a.onload=function(){c.remove();t++;t===m.length&&n.trigger("externalScripts.loaded",k,d,h)};a.onerror=function(a){c.remove();t++;e.notify("Could not load external resource: "+a.srcElement.src,{type:"error",sticky:!0,closeButton:!0});t===m.length&&n.trigger("externalScripts.loaded",
k,d,h)}}var k=c(l),m=k.find("script[src]"),t=0;l=m.length;var p;n.trigger("navigation.loadNewContent:success",a,u);/^true$/i.test(u.config.usePrefetch)&&q.prefetchPages(a);if(0<l)for(p=0;p<l;p++){var z=c(m[p]);var C=z.attr("src");var x=document.createElement("script");x.setAttribute("src",C);x.setAttribute("class","WebComponentDependency");document.head.appendChild(x);f(x,z)}else n.trigger("externalScripts.loaded",k,d,h)};l.error=function(a,d,e){n.trigger("navigation.loadNewContent:error",u);u.enableNavigation();
t.log(e)};l.inclusive=this.config.inclusiveContentFetch;t.fetch(a,this.config.contentContainerSelector,l);n.trigger("navigation.loadNewContent:after",this)};d.prototype.completePageLoad=function(a,d,e){this.externalScriptsWasLoaded||(n.trigger("navigation.completePageLoad:before",a,d,this.contentContainer,this),this.animateContentIn(function(){clearTimeout(this.spinnerTimer);this.loadingNote&&(this.loadingNote.remove(),this.loadingNote=null);this.contentContainer.html(a);this.externalScriptsWasLoaded=
!0;this.scrollPositionForAnimateScroll=e?e.replace("#",""):"";u.updateAddressBar(d.replace(/\./g,"-"),e);n.trigger("content.loaded:before",this.contentContainer);n.trigger("content.loaded",this.contentContainer);c(window).trigger("load");n.trigger("navigation.completePageLoad:after",a,d,this.contentContainer,this)}.bind(this)));this.currentSection=null;n.trigger("navigation.section:changed",d.replace(/\./g,"-"),null)};d.prototype.allPageMediaLoaded=function(){if(this.scrollPositionForAnimateScroll){var a=
c(this.config.contentScrollingContainerSelector),d=c("#"+this.scrollPositionForAnimateScroll);a.animate({scrollTop:a[0].scrollTop+c(d).offset().top-100},100);this.scrollPositionForAnimateScroll=""}};d.prototype.handlePageScroll=function(){var a=c(this.config.contentScrollingContainerSelector)[0],d=c(this.config.contentScrollingContainerSelector).find(this.config.sectionsForScrollSpy).filter(function(){return c(this).text()}),e=[],h=0-u.config.scrollSectionMargin,l=document.documentElement.clientHeight-
a.getBoundingClientRect().top,f=a.getBoundingClientRect().top;Array.from(d).forEach(function(a,d){e.push({top:a.getBoundingClientRect().top-f,bottom:a.getBoundingClientRect().top+a.getBoundingClientRect().height-f,id:a.getAttribute("id"),index:d,section:a})});a=e.filter(function(a){return a.top>=h&&a.bottom<=l});0==a.length&&(a=e.filter(function(a){return a.top<=h&&a.bottom>=l}));0==a.length&&(a=e.filter(function(a){return a.top<=h&&a.bottom<=l&&a.bottom>=h}));0==a.length&&(a=e.filter(function(a){return a.top>=
h&&a.top<=l&&a.bottom>=l}));0<a.length&&(a=a[0],this.currentSection!==a.index&&(this.currentSection=a.index,a.id&&(u.updateHash(a.id),n.trigger("navigation.section:changed",this.currentPage,a.id))))};d.prototype.disableNavigation=function(){this.goRender=!1};d.prototype.enableNavigation=function(){this.goRender=!0};d.prototype.removeContent=function(){n.trigger("navigation.removeContent:before",this);n.trigger("content.unload:before",u.contentContainer);this.externalScriptsWasLoaded=!1;this.animateContentOut(function(){n.trigger("content.unload:after",
u.contentContainer);n.trigger("navigation.removeContent:after",this);u.contentContainer.empty();u.spinnerTimer=setTimeout(function(){u.goRender||u.loadingNote||(u.loadingNote=c(".Spinner"),u.loadingNote.length||(u.loadingNote=c('<div class="Spinner"/>').insertBefore(u.contentContainer)),t.has.cssProperty("animation")||u.loadingNote.rotate({degree:360,animate:!0,duration:600,infinite:!0}))},u.config.loadIconDelay)})};d.prototype.requestChoose=function(d){if(u.goRender)return u.disableNavigation(),
d=d.replace(".html",""),n.trigger("navigation:before","choice",d),n.trigger("content.remove"),a.requestChoose(d)};d.prototype.requestExitContainer=function(d){if(u.goRender)return u.disableNavigation(),n.trigger("content.remove"),a.exitContainer(d)};d.prototype.requestRetake=function(d){if(u.goRender)return u.disableNavigation(),n.trigger("content.remove"),a.retake(d)};d.prototype.requestNext=function(){if(u.goRender)return u.disableNavigation(),n.trigger("navigation:before","next"),n.trigger("content.remove"),
a.requestNext()};d.prototype.requestPrevious=function(){if(u.goRender)return u.disableNavigation(),n.trigger("navigation:before","next"),n.trigger("content.remove"),a.requestPrevious()};d.prototype.requestResetChoiceBranch=function(){if(u.goRender)return u.disableNavigation(),n.trigger("navigation:before","resetChoiceBranch"),n.trigger("content.remove"),a.resetChoiceBranch()};d.prototype.updateAddressBar=function(a,d){if(a&&this.currentPage!==a){this.currentPage=a;d=d?"#"+d.replace("#",""):"";var e=
new URLSearchParams(window.location.search);e.set("destination",a);window.history.replaceState({},"",window.location.pathname+"?"+e.toString()+d)}};d.prototype.updateHash=function(a){a&&(a=a?"#"+a.replace("#",""):"",window.history.replaceState({},"",window.location.pathname+window.location.search+a))};d.prototype.updateFromAddressBar=function(a){if(null==a)return!1;a=a.replace(/-/g,".");if(!l.checkPageExistence(a))return e.notify(h.t("general.navigation.noSuchPage")||"There is no page with this id"),
!1;if(!l.isPageAvailable(a))return e.notify(h.t("general.navigation.notAvailable")||"That page is not available"),!1;n.triggerCheckEvent("navigation.enabled:check").then(function(){n.trigger("navigation.updateFromAddressBar:before");u.requestChoose(a);n.trigger("navigation.updateFromAddressBar:after")})};d.prototype.initContentAnimation=function(){this.navigationDirection=null;this.config.animateOptions.animate&&(n.trigger("navigation.animateOut:after",!0),n.on("navigation.enabled:check",function(a,
d,e){this.navigationDirection=a[0];d()}.bind(this)))};d.prototype.animateContentIn=function(a){var d="previous"===this.navigationDirection?this.config.animateOptions.previous.inAnimation:this.config.animateOptions.next.inAnimation;n.trigger("navigation.animateIn:before");if(this.config.animateOptions.animate){var e=this.contentContainer.parent();e[0].style.overflow="hidden";n.on("navigation.animateOut:after",function(){p({element:this.contentContainer,name:d,timeout:this.config.animateOptions.inTime,
beforeActiveCallback:function(){a()}.bind(this),callback:function(){e[0].style.overflow=this.prevOverflow;this.navigationDirection=null;n.trigger("navigation.animateIn:after");u.enableNavigation()}.bind(this)})}.bind(this))}else a(),this.enableNavigation(),n.trigger("navigation.animateIn:after")};d.prototype.animateContentOut=function(a){var d="previous"===this.navigationDirection?this.config.animateOptions.previous.outAnimation:this.config.animateOptions.next.outAnimation;n.trigger("navigation.animateOut:before");
if(this.config.animateOptions.animate){n.off("navigation.animateOut:after");n.cease("navigation.animateOut:after");var e=this.contentContainer.parent();e[0].style.overflow="hidden";p({element:this.contentContainer,name:d,timeout:this.config.animateOptions.outTime,afterAnimateCallback:a,callback:function(){e[0].style.overflow=this.prevOverflow;n.trigger("navigation.animateOut:after",!0)}.bind(this)})}else n.trigger("navigation.animateOut:after",!0),a()};var u=new d;n.trigger("navigation.loaded",!0,
u);return u});
define("app/utilities/scaleContainer",["module","jquery","app/events","app/configuration","app/utilities/XyTools"],function(k,c,f,m,n){var p={baseClass:"ScaleContainer",selector:"",width:500,height:500,noscrollSelector:"",eventNameSpace:"scaleContainer",throttle:10,scaleRegex:/scale\([\d\.]+\)/g,translateRegex:/translate[X|Y]?\([-\drempxcinvhwt%]+[,\s-\drempxcinvhwt%]+\)/g};var t=function(f){this.config=n.extend({},p,m.configure(k.id),f);this.$noscroll=n.getJqueryObject(this.config.noscrollSelector);this.$el=
f.$el&&f.$el.length&&f.$el instanceof c?f.$el:n.getJqueryObject(this.config.selector);if(!this.$el.length)return n.warn("Could not scale provided element/selector: "+this.config.selector),!1;this.instanceTimestamp=window.Date.now();this.refresh=this.refresh.bind(this);this.destroy=this.destroy.bind(this);this.$el.data("scaleContainer",this);this.$noscroll.length&&(this.prevOverflow=this.$noscroll[0].style.overflow,this.$noscroll.css("overflow","hidden"));this.prevTransform=this.$el[0].style.transform;
this.prevWidth=this.$el[0].style.width;this.prevHeight=this.$el[0].style.height;this.baseWidth="auto"===this.config.width?this.$el.outerWidth():this.config.width;this.baseHeight="auto"===this.config.height?this.$el.outerHeight():this.config.height;this.$el.addClass(this.config.baseClass);this.$el.outerWidth(this.baseWidth);this.$el.outerHeight(this.baseHeight);this.setupEvents();this.refresh();return this};t.prototype.setupEvents=function(){var f=c(window);f.on("resize."+this.config.eventNameSpace+
this.instanceTimestamp,_.throttle(this.refresh,this.config.throttle));f.on("orientationchange."+this.config.eventNameSpace+this.instanceTimestamp,this.refresh)};t.prototype.refresh=function(){var c=this.$el.parent();var a=this.$el[0].style.transform.replace(this.config.scaleRegex,"").replace(this.config.translateRegex,"");c=Math.min(c.outerWidth()/this.baseWidth,c.outerHeight()/this.baseHeight);this.$el[0].style.transform=a+" scale("+c+") translate(-50%, -50%)"};t.prototype.destroy=function(){var f=
c(window);f.off("resize."+this.config.eventNameSpace+this.instanceTimestamp);f.off("orientationchange."+this.config.eventNameSpace+this.instanceTimestamp);this.$el.data("scaleContainer",null);this.$el.removeClass(this.config.baseClass);this.$noscroll.length&&(this.$noscroll[0].style.overflow=this.prevOverflow);this.$el[0].style.transform=this.prevTransform;this.$el[0].style.width=this.prevWidth;this.$el[0].style.height=this.prevHeight};c.fn.scaleContainer=function(f){f.$el=c(this);return new t(f)};
f.trigger("constrainRadio.loaded",!0,t);return t});
define("app/utilities/animateContent","module jquery app/events app/configuration app/utilities/XyTools app/utilities/animate app/hotkeys".split(" "),function(k,c,f,m,n,p,t){var q={selector:"",auto:!1,autoDelay:1E3,inTime:200,outTime:200,inAnimation:"fade-grow-in",outAnimation:"fade-grow-out",skipHotkey:"enter",resetHotkey:"backspace",initClass:"AnimateInit",activeClass:"AnimateActive"};var a=function(a){this.config=n.extend({},q,m.configure(k.id),a);this.$content=c(this.config.contentContainerSelector);
this.$els=a.$els&&a.$els.length&&a.$els instanceof c?a.$els:this.$content.find(this.config.selector);this.$els.data("xyAnimateContent",this);this.elAmount=this.$els.length;this.elPointer=-1;this.handleNavigation=this.handleNavigation.bind(this);f.on("navigation.enabled:check",this.handleNavigation);this.setupHotkeys();this.initializeAnimation();return this};a.prototype.setupHotkeys=function(){t.register(this.config.skipHotkey,this.skip.bind(this),{showTooltip:!1});t.register(this.config.resetHotkey,
this.reset.bind(this),{showTooltip:!1})};a.prototype.removeHotkeys=function(){t.unregister(this.config.skipHotkey);t.unregister(this.config.resetHotkey)};a.prototype.initializeAnimation=function(){this.$els.addClass(this.config.initClass).removeClass(this.config.activeClass);f.trigger("media.pause",this.$els);this.config.auto&&(this.interval=window.setInterval(this.handleInterval.bind(this),this.config.autoDelay))};a.prototype.isAtBoundary=function(a){return"next"===a?this.elPointer>=this.elAmount-
1:0>this.elPointer};a.prototype.handleInterval=function(){this.isAtBoundary("next")?window.clearInterval(this.interval):this.animateNext()};a.prototype.handleNavigation=function(a,c,d){var e=a[0];if(a[1]||!this.elAmount)c();else switch(e){case "next":this.isAtBoundary(e)?c():(this.animateNext(),d());break;case "previous":this.isAtBoundary(e)?c():(this.animatePrevious(),d());break;default:c()}};a.prototype.animateNext=function(){this.elPointer++;var a=this.$els.eq(this.elPointer);this.isAtBoundary("next")&&
this.announceComplete();p({element:a,name:this.config.inAnimation,timeout:this.config.inTime,beforeActiveCallback:function(){a.addClass(this.config.activeClass)}.bind(this),afterAnimateCallback:function(){f.trigger("media.resumeAutoplay",a)}})};a.prototype.animatePrevious=function(){var a=this.$els.eq(this.elPointer);p({element:a,name:this.config.outAnimation,timeout:this.config.outTime,beforeActiveCallback:function(){a.removeClass(this.config.activeClass);f.trigger("media.pause",a)}.bind(this)});
this.elPointer--};a.prototype.skip=function(a){void 0===a&&(a=!0);this.$els.addClass(this.config.activeClass);f.trigger("media.resumeAutoplay",this.$els);a&&this.announceComplete();this.elPointer=this.elAmount-1};a.prototype.reset=function(){this.$els.addClass(this.config.initClass).removeClass(this.config.activeClass);f.trigger("media.pause",this.$els);this.elPointer=-1};a.prototype.announceComplete=function(){f.trigger("animateContent:complete",this.$content)};a.prototype.destroy=function(){this.skip(!1);
this.$els.data("xyAnimateContent",null);f.off("navigation.enabled:check",this.handleNavigation);this.removeHotkeys();this.$els=null};c.fn.animateContent=function(h){h.$els=c(this);return new a(h)};f.trigger("animateContent.loaded",!0,a);return a});
define("skin/regions/content/content","module jquery underscore app/navigation app/events app/configuration app/courseApi app/utilities/XyTools app/utilities/scaleContainer app/utilities/animateContent notification".split(" "),function(k,c,f,m,n,p,t,q,a,h,l){var d,e;n.on("questionApi.loaded",function(a){d=a});n.on("completionApi.loaded",function(a){e=a});var u=new function(){this.config={pageBodySelector:"#PageBody",enableSwipeNavigation:!1,enableSwipeContentDrag:!1,skipToContentLinkSelector:"#SkipToContentLink",
swipeCoefficient:1.5,adaptToLanguageDirection:!0,ariaLive:"polite",contentScrollingContainerSelector:"#PageBodyWrapper",scaling:{selector:"#PageBodyWrapper",enabled:!1,width:1280,height:720,noscrollSelector:"#PageBody"},animateContent:{enabled:!1,selector:".ParaBlock > *:not(.List):not(.ParaBlockContent), .ParaBlockContent > *:not(.List), li, .Title:not(:first-of-type), .SubTitle",auto:!1,autoDelay:1E3,inTime:200,outTime:200,inAnimation:"fade-grow-in",outAnimation:"fade-grow-out",skipHotkey:"enter",
resetHotkey:"backspace",contextAware:!0}};this.init=function(){var a=this;n.trigger("contentRegion.init:before",this);this.config=q.extend({},this.config,p.configure(k.id));this.config.scrolling&&this.config.scrolling.selector&&"string"===typeof this.config.scrolling.selector&&this.config.scrolling.selector.length&&(this.config.contentScrollingContainerSelector=this.config.scrolling.selector);c(this.render.bind(this));this.prevEnabled=this.nextEnabled=!0;this.animationCompletedPages=[];n.on("navigationButtons.state:changed",
function(d){a.nextEnabled=d.next.enabled;a.prevEnabled=d.previous.enabled});n.on("navigationButtons.loaded",function(d){a.config.disabledMessages=d.config.disabledMessages});n.trigger("contentRegion.init:after",this)};this.render=function(){n.trigger("contentRegion.render:before",this);this.$pageBody=c(this.config.pageBodySelector);this.$skipToContentLink=c(this.config.skipToContentLinkSelector);q.has.calc()||this.normalizeContentHeight();this.handleContainerScaling();this.handleSwipeNavigation();
this.handleScrolling();this.handleAria();this.$skipToContentLink.on("click",this.handleSkipToContentClick);n.on("navigation.completePageLoad:after",this.setupContentAnimation.bind(this));n.on("navigation.removeContent:after",this.removeContentAnimation.bind(this));n.on("content.unload:after",this.markBusy.bind(this));n.on("content.loaded:before",this.markUnbusy.bind(this));n.on("animateContent:complete",this.handleAnimateContentComplete.bind(this));n.trigger("contentRegion.render:after",this)};this.normalizeContentHeight=
function(){var a=c("#PageMain"),d=c("#PageHeader"),e=c("#PageOuterWrap"),h=c("#PageFooter"),l=f.debounce(function(){e.height(a.height()-d.height()-h.height())},200);l();c(window).on("resize",l);return this};this.handleContainerScaling=function(){/^true$/i.test(this.config.scaling.enabled)&&(this.scaler=new a({selector:this.config.scaling.selector,width:this.config.scaling.width,height:this.config.scaling.height,noscrollSelector:this.config.scaling.noscrollSelector}))};this.handleScrolling=function(){var a=
c(this.config.contentScrollingContainerSelector);this.$pageBody.on("scrollToElement",function(d,e){a.animate({scrollTop:a[0].scrollTop+c(e).offset().top-100},500)})};this.setupContentAnimation=function(a,c,l){/^true$/i.test(this.config.animateContent.enabled)&&this.isMainContainer(l)&&!e.hasRequiredActivitiesLeft()&&!d.hasIncompleteQuestions()&&this.nextEnabled&&(this.animationController=new h({selector:this.config.animateContent.selector,auto:this.config.animateContent.auto,autoDelay:this.config.animateContent.autoDelay,
inTime:this.config.animateContent.inTime,outTime:this.config.animateContent.outTime,inAnimation:this.config.animateContent.inAnimation,outAnimation:this.config.animateContent.outAnimation,skipHotkey:this.config.animateContent.skipHotkey,resetHotkey:this.config.animateContent.resetHotkey}),this.isContentAnimationCompleted(c)&&this.animationController.skip())};this.removeContentAnimation=function(){/^true$/i.test(this.config.animateContent.enabled)&&this.animationController&&(this.animationController.destroy(),
this.animationController=null)};this.handleSwipeNavigation=function(){var a=this,d,e,c=!1;if(this.config.enableSwipeNavigation){var h=q.getLanguageDirection();if(this.config.adaptToLanguageDirection&&"rtl"===h){var l="previous";var f="next"}else l="next",f="previous";var k=this.$pageBody[0];window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1E3/60)}}();this.$pageBody.swipe({thresholdX:k.clientWidth/
this.config.swipeCoefficient,touchstart:function(e){d=a.getTouchPointFromEvent(e);k.style.transition="initial"},touchmove:function(h){a.config.enableSwipeContentDrag&&!c&&(c=!0,e=a.getTouchPointFromEvent(h),window.requestAnimFrame(function(){if(c){var a="translateX("+(-(d.x-e.x)+"px)");k.style["-webkit-transform"]=a;k.style["-moz-transform"]=a;k.style.transform=a;c=!1}}))},touchend:function(){a.config.enableSwipeContentDrag&&(k.style.transition="all 150ms ease-out",window.requestAnimFrame(function(){k.style["-webkit-transform"]=
"translateX(0px)";k.style["-moz-transform"]="translateX(0px)";k.style.transform="translateX(0px)"}),setTimeout(function(){k.style.transform="none"},200))},swipeLeft:function(){a.navigateFromSwipe(l)},swipeRight:function(){a.navigateFromSwipe(f)}})}};this.navigateFromSwipe=function(a){"next"===a&&!this.nextEnabled||"previous"===a&&!this.prevEnabled?l.notify(this.config.disabledMessages[a]):n.triggerCheckEvent("navigation.enabled:check",a).then(function(){"next"===a?m.requestNext():m.requestPrevious()})};
this.isContentAnimationCompleted=function(a){if(this.config.animateContent.contextAware)return n.trigger("content.isContentAnimationCompleted:before"),0<=this.animationCompletedPages.indexOf(a)};this.handleAnimateContentComplete=function(a){this.config.animateContent.contextAware&&!this.$pageBody[0]!==a[0]&&(n.trigger("content.handleAnimateContentComplete:before"),a=t.getCurrentActivity("id"),this.isContentAnimationCompleted(a)||this.markContentAnimationCompleted(a),n.trigger("content.handleAnimateContentComplete:after"))};
this.markContentAnimationCompleted=function(a){this.config.animateContent.contextAware&&(n.trigger("content.markContentAnimationCompleted:before"),this.animationCompletedPages.push(a),n.trigger("content.markContentAnimationCompleted:after"))};this.handleAria=function(){this.$pageBody[0].ariaLive=this.config.ariaLive};this.markBusy=function(){this.$pageBody[0].ariaBusy=!0};this.markUnbusy=function(){this.$pageBody[0].ariaBusy=!1};this.handleSkipToContentClick=function(a){var d=c(this.getAttribute("href"));
a.preventDefault();a.stopPropagation();d.attr("tabindex")||d.attr("tabindex",-1);c(this.getAttribute("href")).focus()};this.isMainContainer=q.isContentContainer.bind(q);this.getTouchPointFromEvent=q.getTouchPointFromEvent.bind(q)};n.trigger("contentRegion.loaded",!0,u);return u});
define("skin/regions/innerFooter/innerFooter",["module","app/utilities/XyTools","skin/regions/region/region","app/events"],function(k,c,f,m){f=new f;f.config=c.extend(f.config,{name:"innerFooter",id:k.id,displayName:"Inner Footer",regionSelector:".InnerFooter",role:"contentinfo",regionButtonSelector:"",clickHandlerNS:"InnerFooter"});m.trigger("innerFooter.loaded",!0,f);return f});
define("skin/regions/sidebarRight/sidebarRight",["module","app/utilities/XyTools","skin/regions/region/region","app/events"],function(k,c,f,m){f=new f;f.config=c.extend(f.config,{name:"sidebarRight",id:k.id,displayName:"Sidebar Right",regionSelector:".SidebarRight",role:"complementary",regionButtonSelector:"",componentLinkDisplay:{text:!1,icon:!0},clickHandlerNS:"SidebarRightRegionLink",zIndex:""});m.trigger("sidebarRight.loaded",!0,f);return f});
define("skin/components/navigationButtons/navigationButtons","module jquery app/events skin/components/component/component app/utilities/XyTools app/navigation app/hotkeys notification lang/lang".split(" "),function(k,c,f,m,n,p,t,q,a){var h={name:"navigationButtons",id:k.id,displayName:"Navigation Buttons",enabled:!0,startVisible:!0,linkSelector:".NavigationButtonsLink",linkAction:"none",clickHandlerNS:"NavigationButton",zIndex:100,buttonDisabledClass:"Disabled",buttonEnabledClass:"Enabled",buttonInvisibleClass:"Invisible",
buttonVisibleClass:"Visible",initAfter:"setupNavButtons",previousButtonSelector:"#NavigationButtonPrevious",nextButtonSelector:"#NavigationButtonNext",previousHotkey:"ALT+Left",nextHotkey:"ALT+Right",showDisabledMessages:!0,disabledMessages:{next:a.t("components.navigationButtons.nextDisabledMessage")||"The next page is not available at this time. Use the table of contents to navigate to a different page.",previous:a.t("components.navigationButtons.backDisabledMessage")||"The previous page is not available at this time. Use the table of contents to navigate to a different page."}};
k=function(a){m.call(this,h,a)};k.prototype=Object.create(m.prototype);k.constructor=k;k.config=h;k.prototype.setupNavButtons=function(){var a=this,d=this.updateButtonsState.bind(this),e=this.registerRequiredActivity.bind(this),h=this.unregisterRequiredActivity.bind(this),k=this,m=a.config.previousHotkey.split("+"),q=a.config.nextHotkey.split("+"),p=m.concat(q);"rtl"===c("body").attr("dir")&&(-1!==m.indexOf("Left")&&(a.config.previousHotkey=a.config.previousHotkey.replace("Left","Right")),-1!==q.indexOf("Right")&&
(a.config.nextHotkey=a.config.nextHotkey.replace("Right","Left")));this.$el.attr("tabindex",-1);this.$previousButton=this.$el.find(this.config.previousButtonSelector);this.$nextButton=this.$el.find(this.config.nextButtonSelector);this.$nextButton.enabled=!1;this.$previousButton.enabled=!1;this.statusCollection={};this.$previousButton.length&&t.register(this.config.previousHotkey,function(){this.$previousButton.trigger("click")},{handlerContext:this,tooltipTarget:this.config.previousButtonSelector});
this.$nextButton.length&&t.register(this.config.nextHotkey,function(){this.$nextButton.trigger("click")},{handlerContext:this,tooltipTarget:this.config.nextButtonSelector});c("body").on("keyup keydown",function(a){(-1!==p.indexOf("ALT")&&a.altKey||-1!==p.indexOf("CTRL")&&a.ctrlKey)&&a.preventDefault()});this.$nextButton.add(this.$previousButton).on("click",function(){a.extendedContentLinkClick(c(this))});f.on("navigationButtons.state:changed",d);f.on("content.unload:before",function(){k.statusCollection=
{}});f.on("completionApi.hasRequiredActivities",e);f.on("questionApi.hasRequiredQuestions",e);f.on("completionApi.allPageActivitiesComplete",h);f.on("questionApi.allQuestionsAnswered",h)};k.prototype.extendedContentLinkClick=function(a){var d=this,e=a[0].getAttribute("data-navigation-direction").toLowerCase();a=Object.keys(this.statusCollection).filter(function(a){return/player/i.test(a)});f.trigger("navigationButtons.extendedContentLinkClick:before",this);if(0<a.length&&(a=this.statusCollection[a[0]],
!a[e].enabled)){this.config.showDisabledMessages&&q.notify(this.config.disabledMessages[e]);f.trigger("navigationButtons.extendedContentLinkClick:after",this);return}f.triggerCheckEvent("navigation.enabled:check",e).then(function(){switch(e){case "previous":d.$previousButton.enabled&&p.requestPrevious();break;case "next":d.$nextButton.enabled&&p.requestNext()}});f.trigger("navigationButtons.extendedContentLinkClick:after",this)};k.prototype.updateButtonsState=function(a){var d=!0,e=!0,h=!0,l=!0,f=
this.statusCollection;a&&(f[a.origin]=a);Object.keys(f).forEach(function(a){d&=f[a].next.enabled;e&=f[a].previous.enabled;h&=f[a].next.visible;l&=f[a].previous.visible});this.$nextButton=this.$nextButton||c(this.config.nextButtonSelector);this.$previousButton=this.$previousButton||c(this.config.previousButtonSelector);a=d?this.config.buttonEnabledClass:this.config.buttonDisabledClass;var k=e?this.config.buttonEnabledClass:this.config.buttonDisabledClass;var m=h?this.config.buttonVisibleClass:this.config.buttonInvisibleClass;
var q=l?this.config.buttonVisibleClass:this.config.buttonInvisibleClass;this.$nextButton.removeClass(this.config.buttonDisabledClass+" "+this.config.buttonEnabledClass+" "+this.config.buttonVisibleClass+" "+this.config.buttonInvisibleClass+" ").addClass(a+" "+m);this.$nextButton.enabled=d;this.$previousButton.removeClass(this.config.buttonDisabledClass+" "+this.config.buttonEnabledClass+" "+this.config.buttonVisibleClass+" "+this.config.buttonInvisibleClass+" ").addClass(k+" "+q);this.$previousButton.enabled=
e};k.prototype.registerRequiredActivity=function(a){this.updateButtonsState(a.getButtonsState())};k.prototype.unregisterRequiredActivity=function(a){delete this.statusCollection[a.getButtonsState().origin];this.updateButtonsState(null)};f.trigger("navigationButtons.loaded",!0,k);return k});
define("skin/components/courseProgress/courseProgress","module jquery underscore app/configuration app/events app/courseApi skin/components/component/component app/utilities/XyTools lang/lang".split(" "),function(k,c,f,m,n,p,t,q,a){var h={name:"courseProgress",id:k.id,displayName:"Course Progress",enabled:!0,startVisible:!0,linkSelector:".CourseProgressLink",linkAction:"none",compactMode:!1,compactModeDelimeter:a.t("components.courseProgress.delimeter"),lineMode:!1,showPagesCount:20,containerSelector:".CourseProgress",
listClass:"CourseProgressList",listItemClass:"CourseProgressListItem",rangeClass:"CourseProgressRange",lengthClass:"CourseProgressLength",currentItemClass:"CourseProgressCurrent",delimeterClass:"CourseProgressDelimeter",lineClass:"CourseProgressLine",item:{visibleClass:"Visible",hiddenClass:"Hidden",enabledClass:"Enabled",disabledClass:"Disabled",activeClass:"Active",progressClass:"Progress",completedClass:"Completed",incompletedClass:"Incompleted",satisfiedClass:"Satisfied",notSatisfiedClass:"NotSatisfied"},
initAfter:"checkScorm",renderAfter:"renderAfter"};k=function(a){t.call(this,h,a)};k.prototype=Object.create(t.prototype);k.constructor=k;k.config=h;k.prototype.renderAfter=function(){this.$el.attr("tabindex",-1)};k.prototype.checkScorm=function(){"undefined"!==typeof SCORM_TYPE&&"non-scorm-player"!==SCORM_TYPE&&(this.$container=this.$el.parent().find(this.config.containerSelector),n.on("content.loaded",this.generateProgress.bind(this)),n.on("player.start",this.generateProgress.bind(this)))};k.prototype.generateProgress=
function(){var a=p.getMenuItems();a=a.filter(function(a){return a&&null!=a.href&&""!==a.href&&!a.inaccessible});this.config.compactMode?this.generateCompactProgress(a,this.$container):this.config.lineMode?this.generateLineProgress(a,this.$container):this.generateExpandedProgress(a,this.$container)};k.prototype.generateCompactProgress=function(a,d){var e=f.find(a,function(a){return!0===a.active});e=f.indexOf(a,e)+1;a=a.length;e=c('<span class="'+this.config.currentItemClass+'">'+e+"</span>");var h=
c('<span class="'+this.config.delimeterClass+'">'+this.config.compactModeDelimeter+"</span>");a=c('<span class="'+this.config.lengthClass+'">'+a+"</span>");d.html(e.add(h).add(a))};k.prototype.generateLineProgress=function(a,d){var e=f.find(a,function(a){return!0===a.active});a=100*(f.indexOf(a,e)+1)/a.length;e=Math.ceil(a);d.attr("data-progress",e+"%");var h=d.find("."+this.config.lineClass);h.length?(h.width(a+"%"),h.attr("data-progress",e+"%")):d.html(c('<div class="'+this.config.lineClass+'">').width(a+
"%").attr("data-progress",e+"%"))};k.prototype.generateExpandedProgress=function(a,d){a=this.getRange(a);a=this.createList(a);var e=c('<span class="'+this.config.rangeClass+'">'+(this.startIndex+1)+" - "+this.endIndex+"</span>");var h=c('<span class="'+this.config.lengthClass+'">/'+this.length+"</span>");d.html(e.add(a).add(h))};k.prototype.getRange=function(a){var d=this.config.showPagesCount,e=a.length,c=0,h=0;c=f.find(a,function(a){return!0===a.active});c=(f.indexOf(a,c)/d|0)*d;h=c+d;h=h>e?e:h;
this.startIndex=c;this.endIndex=h;this.length=e;return a.slice(c,h)};k.prototype.createList=function(a){var d=c('<ul class="'+this.config.listClass+'">');f.each(a,function(a){var e=c('<li class="'+this.config.listItemClass+'" />');e=this.handleItemState(e,a);d.append(e)},this);return d};k.prototype.handleItemState=function(a,d){var e=this.config.item;a.attr("title",d.Title);d.visible?a.addClass(e.visibleClass).removeClass(e.hiddenClass):a.addClass(e.hiddenClass).removeClass(e.visibleClass);d.enabled?
a.addClass(e.enabledClass).removeClass(e.disabledClass):a.addClass(e.disabledClass).removeClass(e.enabledClass);d.progress?a.addClass(e.progressClass):a.removeClass(e.progressClass);d.active?a.addClass(e.activeClass):a.removeClass(e.activeClass);"unknown"!==d.satisfied&&(d.satisfied?a.addClass(e.satisfiedClass).removeClass(e.notSatisfiedClass):a.removeClass(e.satisfiedClass).addClass(e.notSatisfiedClass));"unknown"!==d.completed&&(d.completed?a.addClass(e.completedClass).removeClass(e.incompletedClass):
a.addClass(e.incompletedClass).removeClass(e.completedClass));return a};n.trigger("courseProgress.loaded",!0,k);return k});
define("app/sessionData",["module","app/courseApi","app/configuration","app/events","app/utilities/XyTools"],function(k,c,f,m,n){var p={};var t=function(){};t.prototype.init=function(){m.trigger("sessionData.init:before",this);this.config=n.extend(p,f.configure(k.id));m.trigger("sessionData.init:after",this)};t.prototype.getStatus=function(f){return c.processScorecard(!0,c.getParentActivity(c.findScorecard(),"id"))};t.prototype.getRecentStatus=function(){m.trigger("communication.saveQuestionsToPlayer");
return this.getStatus()};t.prototype.getRecentQuestionsStatus=function(){function c(a){var h=a.pages.reduce(function(a,e){return a.concat(e.questions)},[]);return h.concat.apply(h,a.containers.map(c))}var a=this.getRecentStatus();return c(a)};t=new t;m.trigger("sessionData.loaded",!0,t);return t});
define("app/submitAll","module jquery app/configuration app/events app/utilities/XyTools app/courseApi app/sessionData app/navigation notification lang/lang".split(" "),function(k,c,f,m,n,p,t,q,a,h){n=function(){this.config={infoMessage:h.t("components.submitAllButton.info")||"Please review your responses prior to submission. Once you have submitted your responses you will not be able to change them.",confirmMessage:h.t("components.submitAllButton.confirm")||"Do you really want to submit all your answers?",
acceptanceCheckMessage:h.t("components.submitAllButton.acceptanceCheck")||"I understand that any unanswered questions will also be submitted",submitAllButtonTitle:h.t("components.submitAllButton.title")||"Submit All",cancelButtonTitle:h.t("elements.notification.cancel")||"Cancel",confirmDialogOKButtonSelector:".ConfirmOkButton",confirmDialogCheckboxSelector:"input[type=checkbox]",confirmDialogLabelSelector:"label",statusContainerSelector:".SectionStatusContainer",sectionStatusSelector:".SectionStatus",
questionSelector:".QuestionItem",sectionStatusPlaceholderId:"sectionStatusPlaceholder",oneByOneContextualAwareness:!0};this.config.infoTemplate='<div class="SubmitAllConfirmationDialog"><p><b>'+this.config.infoMessage+'</b></p><div id="'+this.config.sectionStatusPlaceholderId+'"></div></div>';this.config.confirmTemplate='<div class="SubmitAllConfirmationDialog"><p><b>'+this.config.confirmMessage+'</b></p><label><input type="checkbox" /> '+this.config.acceptanceCheckMessage+"</label></div>";this.courseExit=
!1;this.sectionStatus=null};n.prototype.init=function(){var a=this;this.config=c.extend(this.config,f.configure(k.id));m.on("navigation.enabled:check",function(d,c,h){var e=d[0];d=d[1];var f=p.getBookmarkType();if(!l.isAssessment()||l.isStatusSaved())c();else if(/Resume/.test(f)&&"previous"===e)c();else if(/Resume/.test(f)||p.hasAttemptedQuestions())if(p.isScorecard())c();else{if(!d)"next"===e?d=p.isScorecard(p.getFollowingPageId())?p.getFollowingPageId():p.getNextPage():"previous"===e&&(d=p.getPreviousPage());
else if(/Resume/.test(f)&&(!p.isAssessment(d)||!p.isScorecard(d))&&(a.isSubmitAll()||a.hasUnansweredQuestions())){c();return}if(p.isAssessment(d)&&p.isScorecard(d)||d&&!p.isAssessment(d)){var k=p.findScorecard();if(k===d&&!a.isSubmitAll()&&p.hasSubassessments())c();else{var q=(q=a.questionApi.getPageData(p.getCurrentActivity("guid")).assessmentroot)?q.guid:null;a.isSubmitAll()||a.hasUnansweredQuestions()?a.promptUser(function(){m.trigger("submitAll.submit:before",!1,l,q);p.saveSubmitAllStatus(k);
m.trigger("submitAll.submit:after",!1,l,q);c()},h):(a.isSubmitAll()||a.hasUnansweredQuestions()||(m.trigger("submitAll.submit:before",!1,l,q),p.saveSubmitAllStatus(k),m.trigger("submitAll.submit:after",!1,l,q)),c())}}else c()}else c()});m.on("course.unload:before",function(){var d=a.questionApi.getPageData(p.getCurrentActivity("guid")).assessmentroot;d=d?d.guid:null;if(l.isAssessment()&&!l.isStatusSaved()){var c=p.getBookmarkType();(/Retake/.test(c)||/Review/.test(c))&&p.hasAttemptedQuestions()&&
(l.courseExit=!0,m.trigger("submitAll.submit:before",!1,l,d),p.saveSubmitAllStatus(p.findScorecard()),m.trigger("submitAll.submit:after",!1,l,d))}});m.on("sectionStatusInstance:created",function(d){a.sectionStatus=d});m.on("questionApi.loaded",function(d){a.questionApi=d})};n.prototype.promptUser=function(d,e){function c(){var a=l.config.buttons.length;l.close();e.apply(l);0<a&&l.config.buttons[a-1].click.apply(l);m.off("sectionStatus.navigate:before",c)}var h=this;m.trigger("sectionStatus.show:before",
h.sectionStatus);"undefined"===typeof d&&(d=this.submit);"function"!==typeof e&&(e=function(){});var l=a.confirm(this.config.infoTemplate,{buttons:[{text:h.config.submitAllButtonTitle,buttonClass:a.confirmConfig.buttonOkClass,click:h.confirmUser.bind(h,d,e)},{text:h.config.cancelButtonTitle,buttonClass:a.confirmConfig.buttonCancelClass,click:e}],open:function(){if(h.sectionStatus){var a=h.sectionStatus.$content.clone(!0).removeClass("Hidden");this.content.find("#"+h.config.sectionStatusPlaceholderId).append(a);
this.resize();m.on("sectionStatus.navigate:before",c)}},close:c});m.trigger("sectionStatus.show:after",h.sectionStatus)};n.prototype.confirmUser=function(d,e){var c=this;a.confirm(this.config.confirmTemplate,d,e,{open:function(){var a=this.popup.find(c.config.confirmDialogOKButtonSelector);var d=this.content.find(c.config.confirmDialogCheckboxSelector);c.hasUnansweredQuestions()?d[0].disabled||(a.addClass("Disabled")[0].disabled=!0,d.on("change",function(){this.checked&&(this.disabled=!0);a.removeClass("Disabled")[0].disabled=
!1})):this.content.find(c.config.confirmDialogLabelSelector).hide()}})};n.prototype.isAssessment=function(){return this.config.oneByOneContextualAwareness||0<this.questionApi.getTimeLimit()?p.isAssessment():p.isSubmitAllMode()};n.prototype.isSubmitAll=function(a){return p.isSubmitAllMode(a)};n.prototype.isStatusSaved=function(){return p.isSubmitAllStatusSaved()};n.prototype.submit=function(a,e){if(l.isSubmitAll()||l.config.oneByOneContextualAwareness||l.questionApi.getTimeLimit())"string"!==typeof a&&
(a=p.findScorecard()),"string"!==typeof e&&(e=(e=l.questionApi.getCurrentPageData().assessmentroot)?e.guid:""),m.trigger("submitAll.submit:before",!1,l,e),p.saveSubmitAllStatus(a),m.trigger("submitAll.submit:after",!1,l,e),q.requestExitContainer(a)};n.prototype.isLeavingAssessment=function(a,e){var d=p.getBookmarkType();if(!p.isAssessment()||/Resume/.test(d)&&"previous"===a)return!1;e||("next"===a?e=p.getNextPage():"previous"===a&&(e=p.getPreviousPage()));return p.isAssessment(e)&&p.isScorecard(e)?
!0:p.isAssessment(e)&&p.isScorecard(e)||e&&!p.isAssessment(e)};n.prototype.hasUnansweredQuestions=function(){return t.getRecentQuestionsStatus().some(function(a){return"Skipped"===a.status||"Not Attempted"===a.status})};n.prototype.hasContextAwareness=function(){return this.isSubmitAll()?!1:this.config.oneByOneContextualAwareness||0<this.questionApi.getTimeLimit()};var l=new n;m.trigger("submitAll.loaded",!0,l);return l});
define("skin/components/submitAllButton/submitAllButton","module app/navigation app/events app/courseApi app/submitAll skin/components/component/component app/utilities/XyTools notification lang/lang".split(" "),function(k,c,f,m,n,p,t,q,a){var h={name:"submitAllButton",id:k.id,displayName:"Submit All",type:"active",enabled:!1,startVisible:!1,linkSelector:".SubmitAllButtonLink",linkAction:"submitAll",zIndex:100,initAfter:"initAfter"};k=function(a){p.call(this,h,a)};k.prototype=Object.create(p.prototype);
k.constructor=k;k.config=h;k.prototype.initAfter=function(){"undefined"===typeof SCORM_TYPE||"non-scorm-player"===SCORM_TYPE?this.hideLink():(this.enable(),f.on("content.loaded",this.update.bind(this)))};k.prototype.submitAll=function(){n.promptUser()};k.prototype.update=function(){n.isSubmitAll()&&!n.isStatusSaved()&&m.hasQuestions()?this.showLink():this.hideLink()};f.trigger("submitAllButton.loaded",!0,k);return k});
define("app/courseExit","module app/configuration app/events app/utilities/XyTools lang/lang app/courseApi app/submitAll notification".split(" "),function(k,c,f,m,n,p,t,q){var a;n=function(){this.config={confirmDialogCheckboxSelector:"input[type=checkbox]",confirmDialogOKButtonSelector:".ConfirmOkButton",confirmDialogLabelSelector:"label"}};n.prototype.init=function(){f.trigger("courseExit.init:before",this);this.config=m.extend(this.config,c.configure(k.id));""!==window.PLAYER_TYPE&&(window.onbeforeunload=
this.captureExit.bind(this));window.onunload=this.announceExit;a=window.Xyleme.environment.IS_DEPLOY;f.trigger("courseExit.init:after",this)};n.prototype.captureExit=function(c){f.trigger("courseExit.captureExit:before",this);var h=p.getExitMessage(t.config.oneByOneContextualAwareness);c||(c=window.event||{});if(a&&h&&!this.wasNotified)return this.wasNotified=!0,setTimeout(function(){this.wasNotified=!1}.bind(this),1),c.returnValue=h,f.trigger("courseExit.captureExit:after",this),h;f.trigger("courseExit.captureExit:after",
this)};n.prototype.announceExit=function(){f.trigger("course.unload")};n.prototype.exitNow=function(){f.trigger("courseExit.exitNow:before",this);a?p.getExitConfirmation(this.closeWindow,t.config.oneByOneContextualAwareness):("Server-side"!==window.PLAYER_TYPE&&"CSPModern"!==window.PLAYER_TYPE&&top.close(),f.trigger("courseExit.exitNow:after",this))};n.prototype.closeWindow=function(){window.onbeforeunload="";window.onunload="";f.trigger("course.unload");if("Server-side"!==window.PLAYER_TYPE&&"CSPModern"!==
window.PLAYER_TYPE&&(!a||window.opener||top.opener))try{top.close()}catch(h){}};n=new n;f.trigger("courseExit.loaded",!0,n);return n});
define("skin/components/exitButton/exitButton","module app/navigation app/events app/courseExit skin/components/component/component app/utilities/XyTools lang/lang app/hotkeys".split(" "),function(k,c,f,m,n,p,t,q){var a={name:"exitButton",id:k.id,displayName:"Exit",type:"active",enabled:!0,hideLinksIfEmpty:!1,linkSelector:".ExitButtonLink",linkAction:"exit",zIndex:100,startVisible:!0,hotkeyCombination:"ALT+X"};k=function(c){n.call(this,a,c)};k.prototype=Object.create(n.prototype);k.constructor=k;
k.config=a;k.prototype.exit=function(){m.exitNow()};f.trigger("exitButton.loaded",!0,k);return k});
define("skin/regions/footer/footer","module app/utilities/XyTools skin/regions/region/region skin/components/navigationButtons/navigationButtons skin/components/courseProgress/courseProgress skin/components/submitAllButton/submitAllButton skin/components/exitButton/exitButton app/events".split(" "),function(k,c,f,m,n,p,t,q){f=new f;f.config=c.extend(f.config,{name:"footer",id:k.id,displayName:"Footer",regionSelector:"#PageFooter",role:"contentinfo",regionButtonSelector:"",componentLinkDisplay:{text:!0,
icon:!0},clickHandlerNS:"FooterRegionLink"});q.trigger("footer.loaded",!0,f);return f});
define("skin/regions/regions","module jquery app/configuration app/events app/utilities/XyTools skin/regions/header/header skin/regions/sidebarLeft/sidebarLeft skin/regions/innerHeader/innerHeader skin/regions/menu/menu skin/regions/content/content skin/regions/innerFooter/innerFooter skin/regions/sidebarRight/sidebarRight skin/regions/footer/footer".split(" "),function(k,c,f,m,n,p,t,q,a,h,l,d,e){var u=new function(){this.config={};this.modules=[p,t,q,a,h,l,d,e];this.init=function(){var a=this;this.config=
n.extend(this.config,f.configure(k.id));c(function(){a.initRegions()})};this.initRegions=function(){n.logGroup("Skin Regions");m.trigger("regions.init:before",this);this.modules.forEach(function(a){"function"===typeof a.init&&a.init()});m.trigger("regions.init:after",this);n.logGroupEnd()}};m.trigger("regions.loaded",!0,u);return u});
define("skin/components/calculator/calculator","module jquery skin/components/component/component app/events popup app/utilities/XyTools lang/lang".split(" "),function(k,c,f,m,n,p,t){var q={name:"calculator",id:k.id,displayName:"Calculator",linkSelector:".CalculatorLink",linkAction:"openPopup",contentSelector:".CalculatorContent",expressionSpan:".CalculatorExpression",expressionLineSelector:".CalculatorExpressionLine",expressionLineClass:"CalculatorExpressionLine",inputSelector:".CalculatorInput",
enabled:!0,hideLinksIfEmpty:!1,startVisible:!0,zIndex:100,height:"auto",minHeight:"300px",maxHeight:"auto",width:"250px",title:t.t("components.calculator.title")||"Calculator",modal:!1,trapFocus:!1,draggable:!0,closeOnEscape:!0,hotkeyCombination:"ALT+C",popupModuleName:"calculatorPopup",renderAfter:"renderAfter"};k=function(a){f.call(this,q,a)};k.prototype=Object.create(f.prototype);k.constructor=k;k.config=q;k.prototype.renderAfter=function(){this.state={};"show"===this.config.linkAction&&this.openInMenu()};
k.prototype.openInMenu=function(){this.bindButtonEvents();m.on("calculator.show:before",this.renderHistory.bind(this))};k.prototype.openPopup=function(){var a=this;a.hideContent();a.popup&&(a.popup.destroy(),a.popup=null);a.renderHistory();a.popup=new n({width:a.config.width,height:a.config.height,minHeight:a.$content.height()+a.$content.find(a.config.expressionSpan).height()+"px",content:a.$content.clone(!0).removeClass("Hidden"),title:a.config.title,modal:a.config.modal,trapFocus:a.config.trapFocus,
draggable:a.config.draggable,closeOnEscape:a.config.closeOnEscape,close:function(){a.saveExpression()},moduleName:a.config.popupModuleName});a.popup.open();a.bindButtonEvents();return!1};k.prototype.bindButtonEvents=function(){function a(a,e){function d(){return p.evaluateExpression(""+h.state.num1+h.state.lastFn+h.state.num2)}function f(a){A.html(a);l.val(a);isNaN(a)||q(a)||(h.state.num2=a)}function k(a){A=c("<span>"+a+"</span>");n.append(A)}function m(){var a=c('<span class="'+h.config.expressionLineClass+
'" style="display: none;"><span></span></span>');n.before(a);A=n.children("span").eq(0);n=a}function q(a){return void 0===a||""===a}var t=l.val(),n=h.popup?h.popup.content.find(h.config.expressionLineSelector).eq(0):h.$content.find(h.config.expressionLineSelector).eq(0),A=n.children("span").last();t.length-1||!t.match(/\*|\/|\+|-/)||(f(""),t="");if("undefined"!==a)JSON.stringify(h.state)===JSON.stringify({})&&(l.val(""),t="",n.show()),"."===h.state.lastFn&&(h.state.num2=h.state.num2||"0",-1===h.state.num2.indexOf(".")&&
(a="."+a,h.state.preLastFn&&(h.state.lastFn=h.state.preLastFn))),f(t+a);else if("undefined"!==e){switch(e){case "del":t=t.slice(0,-1);"."===t.slice(-1)&&(t=t.slice(0,-1));f(t);break;case "c":l.val("");n.empty();k("");h.state={};l.attr("placeholder","0");break;case "+/-":if(0===t.length)break;t="-"===t.charAt(0)?t.slice(1):"-"+t;f(t);break;case "+":case "-":case "/":case "*":JSON.stringify(h.state)===JSON.stringify({})?""!==l.val()&&(h.state.num1=l.val(),n.show(),k(h.state.num1),k(e),k(""),f("")):
q(h.state.num2)?q(h.state.num1)||(a=n.children("span"),q(h.state.num2)&&0<=["+","-","*","/"].indexOf(c(a[a.length-2]).text())&&(c(a[a.length-1]).remove(),c(a[a.length-2]).remove()),k(e),k("")):(q(h.state.num1)?h.state.num1=h.state.num2:h.state.num1=d(),h.state.num2=void 0,n.show(),k(e),k(""),f(""),l.attr("placeholder",e));break;case "=":q(h.state.num2)||q(h.state.num1)||(k("="),t=d(),k(t),m(),l.val(t),h.state={},l.attr("placeholder","0"))}"="!==e&&"c"!==e&&"+/-"!==e&&"del"!==e&&(h.state.preLastFn=
h.state.lastFn,h.state.lastFn=e)}}var h=this,l=c(h.config.inputSelector);m.trigger("Calculator.bindEvents:before",this);c(h.config.contentSelector).off("click").on("click","button",function(d){var e=c(this);d=e.data("digit")+"";e=e.data("sign");a(d,e)});c(h.config.contentSelector).off("keyup").on("keyup",function(d){var e="k"+d.keyCode,c={k48:"0",k49:"1",k50:"2",k51:"3",k52:"4",k53:"5",k54:"6",k55:"7",k56:"8",k57:"9",k96:"0",k97:"1",k98:"2",k99:"3",k100:"4",k101:"5",k102:"6",k103:"7",k104:"8",k105:"9"}[e]||
"undefined";e={k107:"+",k187:"+",k109:"-",k189:"-",k106:"*",k110:".",k111:"/",k191:"/",k13:"=",k8:"del"}[e]||"undefined";d.shiftKey&&"8"===c&&(c="undefined",e="*");a(c,e)});m.trigger("Calculator.bindEvents:after",this);return this};k.prototype.saveExpression=function(){this.history=c(this.popup.content).find(this.config.expressionSpan).html()};k.prototype.renderHistory=function(){var a=this.history?this.history:'<span class="'+this.config.expressionLineClass+'"><span></span></span>';this.$content.find(this.config.expressionSpan).html(a);
this.$content.find(this.config.inputSelector).val("").focus()};m.trigger("Calculator.loaded",!0,k);return k});
define("skin/components/resources/resources","module skin/components/component/component skin/regions/menu/menu popup app/events app/utilities/XyTools".split(" "),function(k,c,f,m,n,p){var t={name:"resources",id:k.id,displayName:"Resources",linkSelector:".CourseResourcesLink",openInPopup:!1,contentSelector:".CourseResourcesContent",startVisible:!1,supplementSelector:".Supplement",resourcesSelector:".Resources",mediaSelector:"video, audio",item:".Resource",itemContent:".SupplementItem",itemLink:".ResourcesItem",
itemActiveClass:"Active",itemOpenClass:"Open",itemClosedClass:"Closed",singleClickResources:["InternalLink","ExternalLink","EmbeddedPrintObject"],draggable:!0,closeOnEscape:!0,renderAfter:"renderAfter"};k=function(f){c.call(this,t,f)};k.prototype=Object.create(c.prototype);k.constructor=k;k.config=t;k.prototype.renderAfter=function(){var c=this;c.$currentItem="";c.renderItems();c.handleContent();c.$content.html().length&&c.restore();n.on(this.config.name+".openItem",function(a,h){c.openItemByGuid(a,
h)});this.config.openInPopup||setTimeout(function(){n.trigger("content.loaded",c.$content);n.trigger("media.pause",this.$content)},0)};k.prototype.initPopup=function(){var c=this;n.trigger(this.config.name+".initPopup:before",this);c.popup instanceof m&&(c.popup.destroy(),c.popup=null);c.popup=new m({width:c.config.width,height:c.config.height,content:c.$currentItem,title:c.config.title,modal:c.config.modal,draggable:c.config.draggable,closeOnEscape:c.config.closeOnEscape,moduleName:this.config.name+
"Popup",open:function(){n.trigger("content.loaded",this.content);this.content.find(c.config.mediaSelector).trigger("media.resize")},close:function(){c.$content.find("."+c.config.itemActiveClass).removeClass(c.config.itemActiveClass)},hasAttachedContent:!0});c.popup.open();n.trigger(this.config.name+".initPopup:after",this);return this};k.prototype.openItemByGuid=function(c,a){c=this.$content.find(this.config.itemContent+'[data-guid="'+c+'"]');n.trigger(this.config.name+".openItemByGuid:before",this);
f.show();this.show();this.openItem(c,a);c.find(this.config.mediaSelector).trigger("media.resize");n.trigger(this.config.name+".openItemByGuid:after",this)};k.prototype.openItem=function(c,a){var h=this.$content.find(this.config.itemContent),l=c.parents(this.config.item),d=l.find(this.config.itemLink),e=this.$content.find(this.config.item),f=c.find(".mejs-audio");n.trigger(this.config.name+".openItem:before",this);if(0>this.config.singleClickResources.indexOf(l.data("resourceType"))){e.removeClass(this.config.itemActiveClass).find(this.config.itemLink).attr("aria-expanded",
!1);l.addClass(this.config.itemActiveClass);d.attr("aria-expanded",!0);if(!this.config.openInPopup&&!a)h.removeClass(this.config.itemOpenClass).addClass(this.config.itemClosedClass),c.removeClass(this.config.itemClosedClass).addClass(this.config.itemOpenClass),c.find(this.config.mediaSelector).trigger("media.resize"),n.trigger("media.resumeAutoplay",c);else if(this.config.openInPopup||a)this.$currentItem=c.clone(!0),this.initPopup();0<f.length&&n.trigger("component.active",this.$content)}else c.children("a").eq(0)[0].click();
n.trigger("elements.resize",c,this.$content);n.trigger(this.config.name+".openItem:after",this)};k.prototype.closeItem=function(c,a){var h=c.parents(this.config.item),l=h.find(this.config.itemLink);n.trigger(this.config.name+".closeItem:before",this);this.config.openInPopup||a?(this.config.openInPopup||a)&&this.popup&&this.popup.close():(n.trigger("media.pause",c),c.removeClass(this.config.itemOpenClass).addClass(this.config.itemClosedClass),l.attr("aria-expanded",!1));h.removeClass(this.config.itemActiveClass);
n.trigger(this.config.name+".closeItem:after",this)};k.prototype.close=function(){this.popup&&this.popup.close();this.hideAllButLinks()};k.prototype.renderItems=function(){var c=this,a=c.$content.find(c.config.item);n.trigger(this.config.name+".renderItems:before",this);a.each(function(a){var h=$(this),d=h.find(c.config.itemLink).eq(0);""===d.text()&&d.text("Item "+(a+1));0<=c.config.singleClickResources.indexOf(h.data("resourceType"))&&d.attr({title:h.find(c.config.itemContent).children().eq(0).attr("title"),
"aria-controls":"","aria-expanded":""});d.on("click",function(a){var d=$(this),e=d.closest(c.config.item);d=d.nextAll(c.config.itemContent);a.preventDefault();e.hasClass(c.config.itemActiveClass)?c.closeItem(d):c.openItem(d)})});n.trigger(this.config.name+".renderItems:after",this)};k.prototype.handleContent=function(){var c=this;this.$content.on("click keypress",this.config.supplementSelector,function(a){/^key/.test(a.type)&&32!==a.keyCode&&13!==a.keyCode||(a.preventDefault(),$(a.currentTarget).attr("aria-expanded",
function(a,c){return"true"!==c}).next(c.config.resourcesSelector).toggleClass(c.config.itemClosedClass))})};n.trigger("resources.loaded",!0,k);return k});
define("skin/components/courseResources/courseResources","module skin/components/component/component skin/components/resources/resources skin/regions/menu/menu popup app/events app/utilities/XyTools".split(" "),function(k,c,f,m,n,p,t){var q={name:"courseResources",id:k.id,displayName:"Course Resources",linkSelector:".CourseResourcesLink",contentSelector:".CourseResourcesContent",startVisible:!1,hotkeyCombination:"CTRL+ALT+C"};k=function(a){q=t.extend(f.config,q);c.call(this,q,a)};k.prototype=Object.create(f.prototype);
k.constructor=k;k.config=q;p.trigger("courseResources.loaded",!0,k);k.prototype.renderAfter=function(){f.prototype.renderAfter.call(this);var a=this;a.$scrollableParent=t.getScrollableParent($(a.config.contentSelector)[0]);$(a.config.contentSelector).on("scrollCourseResourcesToElement",function(c,l){a.$scrollableParent.animate({scrollTop:l.offsetTop},500)})};return k});
define("skin/components/pageResources/pageResources","module skin/components/component/component skin/components/resources/resources skin/regions/menu/menu popup app/events app/utilities/XyTools".split(" "),function(k,c,f,m,n,p,t){var q={name:"pageResources",id:k.id,displayName:"Page Resources",linkSelector:".PageResourcesLink",contentSelector:".PageResourcesContent",startVisible:!1,initAfter:"initAfter",containerSelector:".PageResourcesContainer",openInPopup:!0,hotkeyCombination:"CTRL+ALT+R"};k=
function(a){q=t.extend(f.config,q);c.call(this,q,a)};k.prototype=Object.create(f.prototype);k.constructor=k;k.config=q;k.prototype.initAfter=function(){p.on("content.loaded:before",this.checkExistance.bind(this));p.trigger("pageResourcesComponent.initialized",!0,this)};k.prototype.checkExistance=function(a){var c=a.find(this.config.containerSelector);c.length||(c=a.filter(this.config.containerSelector));c.detach();c.length?(this.enable(),this.showLink(),this.renderContent(c)):(this.$content.html(""),
this.remove())};k.prototype.renderContent=function(a){var c=this;this.$content.empty().append(a.show());this.$resources=this.$content.find(this.config.supplementItemLinkSelector);this.config.openInPopup||setTimeout(function(){p.trigger("content.loaded",c.$content)},0);this.renderItems()};p.trigger("pageResources.loaded",!0,k);return k});
define("skin/components/glossary/glossary","module jquery underscore skin/components/component/component app/events lang/lang popup app/utilities/XyTools".split(" "),function(k,c,f,m,n,p,t,q){var a={name:"glossary",id:k.id,displayName:"Glossary",enabled:!1,startVisible:!1,linkSelector:".GlossaryLink",contentSelector:".GlossaryContent",glossarySelector:".Glossary",definitionSelector:".Definition",titleSelector:".Title",indexSelector:".Index",audioSelector:"audio",item:".GlossaryItem",itemContent:".Definition",
itemLnk:".GlossaryItemTerm",itemOpenClass:"Open",itemClosedClass:"Closed",popupModuleName:"glossaryPopup",horizontalIndex:!1,useFullAlphabet:!1,collapseSections:!1,openTermInPopup:!1,showPopupTitle:!1,alphabet:p.t("components.glossary.alphabet")||"A B C D E F G H I J K L M O N P Q R S T U V W X Y Z",alphabetShowAll:p.t("components.glossary.alphabetShowAll")||"All",popupWrapperClass:"glossaryPopup",clickHandlerNS:"XylemeGlossaryLink",hotkeyCombination:"ALT+G",renderAfter:"renderAfter"};k=function(c){m.call(this,
a,c)};k.prototype=Object.create(m.prototype);k.constructor=k;k.config=a;k.prototype.renderAfter=function(){var a=this;a.$alphaIndex=a.$content.find(a.config.indexSelector);a.$bottomContainer=a.$content.parents(".Bottom");a.$contents=a.$content.find(".Contents:first");a.$glossary=a.$content.find(a.config.glossarySelector);a.renderAlphabet();a.renderItems();0<a.$contents.html().length&&a.restore();c(a.config.contentSelector).on("scrollGlossaryToElement",function(h,d){a.scrollContent(c(d))});n.on("glossary.openItem",
function(c,d,e,h,f){"undefined"==f&&(f=!0);a.openItemByGuid(c,d,f,e,h)});setTimeout(function(){n.trigger("content.loaded",a.$content);n.trigger("media.pause",this.$content)},0)};k.prototype.renderAlphabet=function(){var a=this,l=a.config.alphabet.split(" "),d=parseFloat(a.$contents.parents(".GlossaryContainer").css("padding-top"));a.$scrollableParent=q.getScrollableParent(a.$contents[0].parentNode);a.$scrollableParent.off(".glossary").on("scroll.glossary",function(e){c(this).height()-d>a.$alphaIndex.innerHeight()&&
this.scrollHeight-d>a.$alphaIndex.innerHeight()+this.scrollTop?(a.$alphaIndex.css("margin-top",this.scrollTop+"px"),a.config.horizontalIndex&&a.$contents.css("margin-top",-this.scrollTop+"px")):a.config.horizontalIndex||a.$alphaIndex.css("margin-top",0)});n.on("menu.resize:after",function(d){d.$areas.$bottom.height()<a.$alphaIndex.innerHeight()&&!a.config.horizontalIndex&&a.$alphaIndex.css("margin-top",0);a.$scrollableParent.trigger("scroll")});n.trigger("glossary.renderAlphabet:before",this);a.$els=
a.$content.find(".Letter");a.$els.each(function(d,h){var e=c(h);d=c('<a href="#"></a>');d.text(e.text()).attr({"aria-keyshortcuts":"Enter",tabindex:0});d.on("click",function(d){d.preventDefault();a.scrollContent(e)});a.$alphaIndex.append(d)});a.config.horizontalIndex&&a.$glossary.addClass("Horizontal");a.config.useFullAlphabet&&(l.forEach(function(d,h){h=a.$alphaIndex.find("a:contains("+d+")");0==h.length?h=c('<a href="#"></a>').text(d).addClass("Disabled").attr("aria-disabled",!0):h.detach();a.$alphaIndex.append(h)}),
a.$alphaIndex.on("click","a",function(a){a.preventDefault();c(this).is(".Disabled")||c(this).addClass("Active").attr("aria-active",!0).siblings().removeClass("Active").attr("aria-active",!1)}));a.config.collapseSections&&(l=c('<a href="#">'+a.config.alphabetShowAll+"</a>").addClass("Reset").addClass("Active").attr("aria-active",!0),a.$alphaIndex.append(l),l.on("click",function(d){d.preventDefault();a.$content.find(".Contents > *").show()}));a.$alphaIndex.find("a").after(document.createTextNode(" "));
n.trigger("glossary.renderAlphabet:after",this);return a.$alphaIndex};k.prototype.scrollContent=function(a,c){var d=a.next();n.trigger("glossary.scrollContent:before",this);c="undefined"===typeof c?!0:c;this.config.collapseSections?(a.siblings().hide(),a.show(),d.show(),c&&a[0].focus()):this.$bottomContainer.animate({scrollTop:a[0].offsetTop},500,function(){c&&a[0].focus()});n.trigger("glossary.scrollContent:after",this)};k.prototype.openItemByGuid=function(a,c,d,e,f){var h=this.$content.find(this.config.item+
'[data-guid="'+a+'"]').find(this.config.itemContent);n.trigger("glossary.openItemByGuid:before",this);c&&!d&&this.show();this.openItem(h,void 0,d,e,f,a);n.trigger("glossary.openItemByGuid:after",this)};k.prototype.close=function(){this.popup&&(this.popup.destroy(),this.popup=null);this.hideAllButLinks()};k.prototype.openItem=function(a,l,d,e,f,k){var h=this.$content.find(this.config.itemContent);var m=a.find(this.config.audioSelector);if(this.config.openTermInPopup||d){this.popup&&(this.popup.destroy(),
this.popup=null);"undefined"===typeof l&&(l=a.siblings(this.config.itemLnk).first().html());d=a.parent();if("undefined"!==typeof l){var q=l.replace(/<br>/g,"\n").replace(/(<([^>]+)>)/ig,"");var u=c("<div>").append(a.clone(!0,!0).children()).wrap('<div guid="'+d.attr("guid")+'">').parent().prepend('<div class="Term"><h1 class="Title">'+l+"</h1></div><br />")}else"undefined"!==typeof e&&"undefined"!==typeof f&&(q=e.replace(/<br>/g,"\n").replace(/(<([^>]+)>)/ig,""),u=c('<div guid="'+k+'"></div>').append(f.clone(!0,
!0).children()).wrap('<div guid="'+d.attr("guid")+'">').parent().prepend('<div class="Term"><h1 class="Title">'+e+"</h1></div><br />"));a=this.config.showPopupTitle?q:"";this.popup=new t({title:a,content:u,popupWrapperClass:this.config.popupWrapperClass,moduleName:this.config.popupModuleName,role:"dialog"});this.popup.open()}else n.trigger("glossary.openItem:before",this),h.removeClass(this.config.itemOpenClass).addClass(this.config.itemClosedClass).attr("aria-hidden",!0).closest(this.config.item).attr({"aria-expanded":!1,
"aria-active":!1}),a.removeClass(this.config.itemClosedClass).addClass(this.config.itemOpenClass).attr("aria-hidden",!1).closest(this.config.item).attr({"aria-expanded":!0,"aria-active":!0}),a[0].focus(),n.trigger("elements.resize",a,this.$content),n.trigger("media.resumeAutoplay",a),n.trigger("glossary.openItem:after",this),this.scrollContent(a,!1);0<m.length&&m.trigger("media.resize")};k.prototype.closeItem=function(a){n.trigger("glossary.closeItem:before",this);n.trigger("media.pause",a);a.removeClass(this.config.itemOpenClass).addClass(this.config.itemClosedClass).attr("aria-hidden",
!0).closest(this.config.item).attr({"aria-expanded":!1,"aria-active":!1});n.trigger("glossary.closeItem:after",this)};k.prototype.renderItems=function(){var a=this;this.$itemLinks=a.$content.find(a.config.itemLnk);n.trigger("glossary.renderItems:before",this);var l=function(d,e){e=c(e);d=e.closest(a.config.item);e=e.nextAll(a.config.itemContent);e.hasClass(a.config.itemClosedClass)?(d.attr({"aria-expanded":!0,"aria-active":!0}),a.openItem(e)):(d.attr({"aria-expanded":!1,"aria-active":!1}),a.closeItem(e))};
this.$itemLinks.each(function(){a.config.openTermInPopup&&$this.attr("aria-haspopup","dialog");c(this).on("click",function(a){a.preventDefault();l(a,this)});c(this).closest(a.config.item).attr({"aria-keyshortcuts":"Enter","aria-expanded":!1,"aria-active":!1,"aria-haspopup":"dialog"})});n.trigger("glossary.renderItems:after",this)};k.prototype.focusContentFirstItem=function(){n.trigger(this.config.name+".focusFirstItem:before",this);this.$itemLinks.eq(0)[0].focus();n.trigger(this.config.name+".focusFirstItem:after",
this)};n.trigger("glossary.loaded",!0,k);return k});
define("skin/components/mute/mute",["module","jquery","app/events","skin/components/component/component","lang/lang"],function(k,c,f,m,n){var p=!1;var t={name:"mute",id:k.id,displayName:"Mute",type:"active",enabled:!0,startVisible:!0,linkSelector:".MuteLink",linkAction:"toggleMute",muteTitle:n.t("components.mute.mute")||"Mute",unmuteTitle:n.t("components.mute.unmute")||"Unmute",mutedClass:"Muted",unmutedClass:"Unmuted",iconHiddenClass:"IconHidden",mutedIcon:"#mutetoggle",unmutedIcon:"#unmutetoggle",
hotkeyCombination:"ALT+U",renderAfter:"renderAfter"};k=function(c){m.call(this,t,c)};k.prototype=Object.create(m.prototype);k.constructor=k;k.config=t;k.prototype.renderAfter=function(){var c=this;this.$el.addClass(this.config.unmutedClass);this.$icon.find(this.config.mutedIcon).addClass(this.config.iconHiddenClass);f.on("content.loaded",function(){c.updateStatus()})};k.prototype.toggleMute=function(){f.trigger("mute.toggleMute:before",this);p?this.unmuteMedia():this.muteMedia();p=!p;this.toggleDisplay(p);
f.trigger("mute.toggleMute:after",this)};k.prototype.muteMedia=function(){f.trigger("mute.muteMedia:before",this);f.trigger("media.mute",!1,!0,!0);f.trigger("mute.muteMedia:after",this)};k.prototype.unmuteMedia=function(){f.trigger("mute.unmuteMedia:before",this);f.trigger("media.mute",!1,!1,!0);f.trigger("mute.unmuteMedia:after",this)};k.prototype.updateStatus=function(){p&&this.muteMedia()};k.prototype.toggleDisplay=function(c){if(c){c=this.config.unmuteTitle;var a=this.config.mutedClass;var h=
this.config.mutedIcon}else c=this.config.muteTitle,a=this.config.unmutedClass,h=this.config.unmutedIcon;this.$title.text(c);this.$icon.find(this.config.mutedIcon+", "+this.config.unmutedIcon).addClass(this.config.iconHiddenClass);this.$icon.find(h).removeClass(this.config.iconHiddenClass);this.$el.attr("title",c+" "+this.config.hotkeyCombination).removeClass(this.config.mutedClass+" "+this.config.unmutedClass).addClass(a)};f.trigger("mute.loaded",!0,k);return k});
define("app/utilities/helper/helperCore",["underscore","backbone","app/utilities/XyTools","app/events"],function(k,c,f,m){var n=function(){this._decorate();this.initialize.apply(this,arguments)};n.extend=c.Model.extend;k.extend(n.prototype,{initialize:function(){},propagateEvents:!1,publish:function(c){var k;if(this.displayName)var q=this.displayName;else this.config&&this.config.displayName?q=this.config.displayName:this.constructor.displayName&&(q=this.constructor.displayName);var a=q?q+"."+c:c;
q=[].slice.call(arguments,0);var h=q.slice(1);if((k=h.pop())&&"object"===f.type(k)&&k.hasOwnProperty("ctx"))var l=k.ctx;else l=this,"undefined"!==f.type(k)&&h.push(k);m.trigger.apply(m,[a,l].concat(h));if(!this.propagateEvents)return this;this.constructor&&this.constructor.__super__&&this.constructor.__super__.propagateEvents&&this.publish.apply(this.constructor.__super__,q.concat([{ctx:l}]));return this},_getFromSuper:function(c,k){function m(a,c){if(a&&a.constructor&&a.constructor.__super__){var h=
k?a.constructor:a.constructor.__super__;return f.extend(m(a.constructor.__super__,c),h[c])}return{}}return m(this,c)},inherit:function(c,k){if(!c||"string"!==f.type(c))return this;var m=!0===k?this.constructor[c]:this[c];this[c]=f.extend(this._getFromSuper(c,k),m);return this},decorate:!0,_decoratorSkip:"delegateEvents inherit publish constructor decoratorSkipFilter decoratorBefore decoratorAfter".split(" "),_decoratorSkipFilter:function(c){return!/^_/.test(c)},_decorate:function(){if(!1===this.decorate)return this;
this._getInheritableMethods().forEach(function(c){var k=function(){};var m="function"===f.type(this.decoratorBefore)?this.decoratorBefore:k;var a="function"===f.type(this.decoratorAfter)?this.decoratorAfter:k;var h=this[c];this[c]=function(){this.publish(c+":before");m.apply(this,[c].concat(arguments));var l=h.apply(this,arguments);a.apply(this,[c].concat(arguments));this.publish(c+":after");return"undefined"!==typeof l?l:this}.bind(this)},this)},_getDecoratorSkipFilter:function(){var c=this.decoratorSkipFilter;
"function"!==f.type(c)&&(c=function(){return!0});return function(){return this._decoratorSkipFilter.apply(this,arguments)&&c.apply(this,arguments)}.bind(this)},_getDecoratorSkipMethods:function(){var c=[],f;for(f=this.constructor.prototype;f.constructor&&f.constructor.__super__;)c=k.union(c,f.decoratorSkip||[]),f=f.constructor.__super__;return c},_getInheritableMethods:function(){var c=[],f;var m=this._getDecoratorSkipFilter();var a=this._getDecoratorSkipMethods();a=k.union(a,this._decoratorSkip);
for(f=this.constructor.prototype;f.constructor&&f.constructor.__super__;)c.push.apply(c,Object.keys(f).filter(function(c){if("function"===typeof this[c]&&!k.contains(a,c))return m(c,this[c])},this)),f=f.constructor.__super__;return c.filter(function(a,l){return c.indexOf(a)===l})}});m.trigger("helperCore.loaded",!0,n);return n});
define("es6!app/utilities/pageThumbnailGenerator","module app/events app/configuration app/utilities/helper/helperCore app/utilities/XyTools fileCache jquery underscore app/utilities/promiseA".split(" "),function(k,c,f,m,n,p,t,q,a){var h=[],l={};k=m.extend({initialize:function(){this.inherit("config",!0);this.config.contentSelector=this.config.contentContainerSelector||this.config.contentSelector;this._handleLazyLoad=this._handleLazyLoad.bind(this);c.on("ajax.load:success",this._handleLazyLoad);this.wrapTemplate=
'<div class="'+this.config.outerWrapperClass+'"><div class="'+this.config.innerWrapperClass+'" /></div>'},generate:function(d,c){return new a(function(e){var l={},f=[],k,m=function(a,d){if(d.then)return d.then(function(d){return m(a,d)});d=this._handleLazyLoad(d,"success",{cleanUrl:a});return d[a].length?(l[a]=d[a],d[a]):null}.bind(this),u=function(){this._registerCallback(q.intersection(d,h),c)}.bind(this);d=Array.isArray(d)?d:[""+d];h=h.concat(d);if(this.config.useFileCache){var t=0;for(k=d.length;t<
k;t+=1){var n=d[t],G=p[n];G&&(n=m(n,G))&&f.push(n)}}a.all(f).then(function(){u();e(l)})}.bind(this))},_registerCallback:function(a,c){l[c]=l[c]||{};l[c].callback=c;l[c].urls=Array.isArray(l[c].urls)?l[c].urls.concat(a):a},_deregisterCallback:function(a,c){},_handleLazyLoad:function(a,c,f){var d=this,e;if(-1<h.indexOf(f.cleanUrl)||-1<h.indexOf(f.url)){var k=n.getJqueryObject(a);if(this.config.contentSelector&&(a=k.find(this.config.contentSelector),k=a.length?a:k.filter(this.config.contentSelector),
!k.length)){n.warn("Page thumbnails could not gather content for the following pending URL and selector:\nURL: "+f.cleanUrl+"\nselector: "+this.config.contentSelector);return}this.config.stubSelectors.forEach(function(a,c){k.find(a).each(function(){var a=t(this);var e=a.width()||d.config.defaultStubWidth;var h=a.height()||d.config.defaultStubHeight;e=t("<div />").addClass(d.config.stubClass).attr("data-placeholder-source",d.config.stubSelectors[c].replace(/\s/g,"")).css({width:e,height:h});a.before(e)}).remove()});
c=k.wrap(this.wrapTemplate).closest("."+this.config.outerWrapperClass);c=t(c[0].outerHTML.replace(/id="([\w-]+)"([\w\s-="]+)class="([\w\s-]+)"/g,'class="$3 $1"$2').replace(/class="([\w\s-]+)"([\w\s-="]+)id="([\w-]+)"/g,'class="$1 $3"$2').replace(/id="([\w-]+)"/g,'class="$1"'));a={};a[f.cleanUrl]=c;a[f.url]=c;for(e in l)if(-1<l[e].urls.indexOf(f.cleanUrl)||-1<l[e].urls.indexOf(f.url))l[e].callback(a),this._deregisterCallback(l[e],f.cleanUrl),this._deregisterCallback(l[e],f.url);f.url?h.splice(h.indexOf(f.url),
1):f.cleanUrl&&h.splice(h.indexOf(f.cleanUrl),1);return a}},cancel:function(){h=[];l={}}},{config:n.extend({useFileCache:!0,contentSelector:"#PageMain",stubSelectors:".Question;.FlashObject object;.FlashXML object;.Movie video;.Movie iframe;.Movie embed;.Movie object;.ImageMap .ImageMapOverlay;.ScoreCard;.WebComponent;.HtmlPage;.Slideshow;.ThreeSixty".split(";"),stubClass:"ThumbnailStub",defaultStubWidth:"100%",defaultStubHeight:"300px",outerWrapperClass:"PageThumbnailOuter",innerWrapperClass:"PageThumbnailInner"},
f.configure(k.id))});c.trigger("pageThumbnailGenerator.loaded",!0,k);return k});
define("skin/components/navigationTree/navigationTree","module jquery skin/components/component/component app/navigation app/courseApi app/events app/utilities/XyTools es6!app/utilities/pageThumbnailGenerator".split(" "),function(k,c,f,m,n,p,t,q){var a;var h={name:"navigationTree",id:k.id,displayName:"Navigation",contentSelector:".NavigationTreeContent",linkSelector:".NavigationTreeLink",treeSelector:".NavigationTree",contentItemsSelector:".NavigationNode",contentLinksSelector:".NavigationTreeItem",
wrapperClass:"NavigationTreeWrapper",clickHandlerNS:"XylemeNavigationTreeLink",startVisible:!0,collapseContainer:!1,manualExpansion:!1,showNumbering:!1,horizontalOrientation:!1,horizontalOrientationClass:"HorizontalTree",showLabels:!0,showLabelsClass:"ShowLabels",labelSelector:".NavgationTreeItemLabel",showContainerLabels:!0,showContainerLabelsClass:"ShowContainerLabels",showStatuses:!0,showStatusesClass:"ShowStatuses",showIndentationMargin:!0,showIndentationMarginClass:"ShowIndentationMargin",showIndentationGuides:!1,
showIndentationGuidesClass:"ShowIndentationGuides",autonumberClass:"AutoNumbered",expandIconSelector:".NavigationExpansionIcon",treeItem:{visibleClass:"Open",hiddenClass:"Closed",visiblyHiddenClass:"Invisible",expandedClass:"Expanded",collapsedClass:"Collapsed",enabledClass:"Enabled",disabledClass:"Disabled",activeClass:"Active",progressClass:"Progress",completedClass:"Completed",incompletedClass:"Incompleted",satisfiedClass:"Satisfied",notSatisfiedClass:"NotSatisfied",containerClass:"Container",
collapsedContainerClass:"Collapsable"},thumbnails:{showThumbnails:!1,showThumbnailsClass:"ShowThumbnails",largeThumbnailsClass:"LargeThumbnails",forceLargeThumbnails:!1,showStatuses:!0,showStatusesClass:"ShowThumbnailStatuses",selector:".NavigationThumbnail"},hotkeyCombination:"ALT+N",eachItem:function(){},initAfter:"setupEvents",renderAfter:"renderAfter"};k=function(a){f.call(this,h,a)};k.prototype=Object.create(f.prototype);k.constructor=k;k.config=h;k.prototype.setupEvents=function(){var a=this;
if("undefined"!==typeof SCORM_TYPE)p.on("content.loaded",function(){a.rerender()});this.updateThumbnails=this.updateThumbnails.bind(this);return this};k.prototype.renderAfter=function(){var a=this,d;this.hrefNodeMap={};this.$tree=this.$content.find(this.config.treeSelector);this.$treeMarker=this.$tree.parent();if(!this.$tree.length)return t.error("Navigation Tree could not be initialized with the provided tree selector"),!1;this.config.showLabels?this.$tree.addClass(this.config.showLabelsClass):this.$tree.removeClass(this.config.showLabelsClass);
this.config.showContainerLabels?this.$tree.addClass(this.config.showContainerLabelsClass):this.$tree.removeClass(this.config.showContainerLabelsClass);this.config.showStatuses?this.$tree.addClass(this.config.showStatusesClass):this.$tree.removeClass(this.config.showStatusesClass);this.config.showIndentationMargin?this.$tree.addClass(this.config.showIndentationMarginClass):this.$tree.removeClass(this.config.showIndentationMarginClass);this.config.showIndentationGuides?this.$tree.addClass(this.config.showIndentationGuidesClass):
this.$tree.removeClass(this.config.showIndentationGuidesClass);this.config.horizontalOrientation?this.$tree.addClass(this.config.horizontalOrientationClass):this.$tree.removeClass(this.config.horizontalOrientationClass);this.$links=this.$tree.find(this.config.contentLinksSelector);var e=0;for(d=this.$links.length;e<d;e+=1){var h=this.$links.eq(e);var f=h[0].getAttribute("data-target");f&&(this.hrefNodeMap[f]||(this.hrefNodeMap[f]=[]),this.hrefNodeMap[f].push(h))}this.handleAutonumbering();this.handleThumbnails();
this.$content.on("click tap keypress",this.config.contentItemsSelector,function(d){/^key/.test(d.type)&&13!==d.which||(d.preventDefault(),d.stopPropagation(),a.extendedContentLinkClick(c(this)))});this.$content.on("click tap keypress",this.config.expandIconSelector,function(d){/^key/.test(d.type)&&13!==d.which||(d.preventDefault(),d.stopPropagation(),a.toggleContainer(c(this)))})};k.prototype.rerender=function(){p.trigger("navigationTree.render:before");var a=n.getMenuItems();this.prepareTree();this.processItems(a);
this.$treeMarker.append(this.$tree);p.trigger("navigationTree.render:after")};k.prototype.extendedContentLinkClick=function(a){var d=t.getJqueryObject(a),c=d.attr("id")||d.find(this.config.contentLinksSelector).attr("id")||"";d.closest(this.config.contentItemsSelector).hasClass(this.config.disabledClass)||(c=c.replace(/-/g,"."),a=n.comesAfterCurrent(c)?"next":"previous",p.triggerCheckEvent("navigation.enabled:check",a,c).then(function(){p.trigger("navigationTree.extendedContentLinkClick:before",this,
d);m.requestChoose(c);p.trigger("navigationTree.extendedContentLinkClick:after",this,d)}))};k.prototype.toggleContainer=function(a){a=t.getJqueryObject(a);var d=a.closest(this.config.contentItemsSelector);p.trigger("navigationTree.toggleContainer:before",this,a);d.hasClass(this.config.treeItem.expandedClass)?d.removeClass(this.config.treeItem.expandedClass).addClass(this.config.treeItem.collapsedClass):d.addClass(this.config.treeItem.expandedClass).removeClass(this.config.treeItem.collapsedClass);
p.trigger("navigationTree.toggleContainer:before",this,a)};k.prototype.handleAutonumbering=function(){this.config.showNumbering&&this.$tree&&this.$tree.addClass(this.config.autonumberClass)};k.prototype.handleThumbnails=function(){if(!this.config.thumbnails.showThumbnails)return this.$tree.removeClass(this.config.thumbnails.showThumbnailsClass),!1;if(!this.$tree.length)return t.error("Navigation Tree Thumbnails could not be initialized with the provided tree selector"),!1;a=new q;var c=this.config.thumbnails.forceLargeThumbnails||
!this.config.showLabels&&!this.config.showNumbering;this.config.thumbnails.showThumbnails?(this.$tree.addClass(this.config.thumbnails.showThumbnailsClass),c?this.$tree.addClass(this.config.thumbnails.largeThumbnailsClass):this.$tree.removeClass(this.config.thumbnails.largeThumbnailsClass)):this.$tree.removeClass(this.config.thumbnails.showThumbnailsClass);this.config.thumbnails.showStatuses?this.$tree.addClass(this.config.thumbnails.showStatusesClass):this.$tree.removeClass(this.config.thumbnails.showStatusesClass);
c=a.generate(Object.keys(this.hrefNodeMap),this.updateThumbnails);c.then?c.then(function(a){this.updateThumbnails(a)}.bind(this)):this.updateThumbnails(c)};k.prototype.updateThumbnails=function(a){var d,c=this;for(d in a)this.hrefNodeMap[d].forEach(function(e){e.find(c.config.thumbnails.selector).html(a[d].html())})};k.prototype.prepareTree=function(){this.$tree.detach();this.$tree.find(this.config.contentItemsSelector).removeClass(this.config.treeItem.visibleClass).addClass(this.config.treeItem.hiddenClass);
return this};k.prototype.processItems=function(a){a.forEach(function(d){var c=d.id.replace(".nested","").replace(/\./g,"-"),h=this.$tree.find("#"+c).closest(this.config.contentItemsSelector);h=this.handleItemState(h,d);if(!d.isLeaf&&n.wasRandomizationApplied(d.id)){for(;0===h.length&&null!=c;)c=n.getParentActivity(d.id,"id"),null!=c&&(c=c.replace(".nested","").replace(/\./g,"-"),h=this.$tree.find("#"+c).closest(this.config.contentItemsSelector));this.reorderItems(a,h)}this.config.eachItem.apply(this,
h)},this);return this};k.prototype.reorderItems=function(a,d){function e(d){d=c(d).find(h.config.contentLinksSelector).attr("id");for(var e=0,l=a.length;e<l;e++)if(a[e].id.replace(/\./g,"-")===d)return a[e]}var h=this,l=d.find(this.config.contentItemsSelector).first();d=l.parent();l=l.siblings().add(l).filter(this.config.contentItemsSelector).detach();l.sort(function(d,c){return a.indexOf(e(d))-a.indexOf(e(c))});l.appendTo(d);return this};k.prototype.handleItemState=function(a,d){var c=this.config.treeItem;
d.visible?a.addClass(c.visibleClass).removeClass(c.hiddenClass):a.addClass(c.hiddenClass).removeClass(c.visibleClass);d.enabled?a.addClass(c.enabledClass).removeClass(c.disabledClass):a.addClass(c.disabledClass).removeClass(c.enabledClass);d.progress?a.addClass(c.progressClass):a.removeClass(c.progressClass);d.active?(a.addClass(c.activeClass),a.removeClass(c.collapsedClass),a.parents().removeClass(c.collapsedClass),this.config.manualExpansion&&(a.addClass(c.expandedClass),a.removeClass(c.collapsedClass),
a.parents().addClass(c.expandedClass+" "+c.activeClass))):(a.removeClass(c.activeClass),this.config.collapseContainer&&(a.removeClass(c.expandedClass),a.addClass(c.collapsedClass)));d.isLeaf||(this.config.collapseContainer?a.addClass(c.collapsedContainerClass).removeClass(c.expandedClass).addClass(c.collapsedClass):!this.config.collapseContainer&&this.config.manualExpansion&&a.addClass(c.collapsedContainerClass).removeClass(c.collapsedClass).addClass(c.expandedClass),this.config.manualExpansion&&
!d.allChildrenHidden&&a.children(this.config.contentLinksSelector).eq(0).children(this.config.expandIconSelector).eq(0).removeClassSVG(this.config.treeItem.visiblyHiddenClass),a.addClass(c.containerClass));a.removeClass(c.satisfiedClass+" "+c.notSatisfiedClass);"unknown"!==d.satisfied&&(d.satisfied?a.addClass(c.satisfiedClass):a.addClass(c.notSatisfiedClass));a.removeClass(c.completedClass+" "+c.incompletedClass);"unknown"!==d.completed&&(d.completed?a.addClass(c.completedClass):a.addClass(c.incompletedClass));
return a};k.prototype.focusContentFirstItem=function(){p.trigger(this.config.name+".focusFirstItem:before",this);this.$links&&this.$links.length&&this.$links.eq(0)[0].focus();p.trigger(this.config.name+".focusFirstItem:after",this)};p.trigger("navigationTree.loaded",!0,k);return k});
define("app/completionApi","module app/configuration app/events app/utilities/XyTools notification lang/lang".split(" "),function(k,c,f,m,n,p){var t=window.Xyleme.environment.ReviewSession;var q=function(){this.config={incompleteActivityNavigation:{next:!1,previous:!0},incompleteNavigationControlsEnabled:{next:!1,previous:!0},showIncompleteGatePrompt:!0,showIncompleteConfirmation:!0,message:p.t("components.completionApi.alert")||"Please complete all activities before proceeding"};this.currentPage=
"";this._unloadRequirementsOnNavigation=!1;this.activities={}};q.prototype.init=function(){var a=this;f.trigger("completionApi.init:before",this);this.config=m.extend(this.config,c.configure(k.id));f.on("content.url:changed",function(c){a.currentPage=c.replace(".html","")});f.on("navigation.enabled:check",this.navigationCheckHandler);f.on("content.unload:before",this._checkUnloadRequirements);f.trigger("completionApi.init:after",this)};q.prototype.registerRequiredActivity=function(a,c){f.trigger("completionApi.registerRequiredActivity:before",
this);if(!a||t)return!1;c||(c=this.config.message);this.activities[this.currentPage]&&Object.keys(this.activities[this.currentPage]).length||this.config.incompleteNavigationControlsEnabled.next&&this.config.incompleteNavigationControlsEnabled.previous||f.trigger("completionApi.hasRequiredActivities",this);this.activities[this.currentPage]=this.activities[this.currentPage]||{};this.activities[this.currentPage][""+a]=c;f.trigger("completionApi.registerRequiredActivity:after",this)};q.prototype.unregisterRequiredActivity=
function(c){f.trigger("completionApi.unregisterRequiredActivity:before",this);if(!c||!this.activities[this.currentPage])return!1;delete this.activities[this.currentPage][""+c];this.activities[this.currentPage]&&Object.keys(this.activities[this.currentPage]).length||f.trigger("completionApi.allPageActivitiesComplete",a);f.trigger("completionApi.unregisterRequiredActivity:after",this)};q.prototype._checkUnloadRequirements=function(){a._unloadRequirementsOnNavigation&&delete a.activities[a.currentPage]};
q.prototype.checkRequiredActivities=function(){f.trigger("completionApi.checkRequiredActivities:before",a);if(a.hasRequiredActivitiesLeft())var c=!1;else f.trigger("completionApi.allPageActivitiesComplete",a),c=!0;f.trigger("completionApi.checkRequiredActivities:after",a);return c};q.prototype.hasRequiredActivitiesLeft=function(){return a.activities[a.currentPage]&&0<Object.keys(a.activities[a.currentPage]).length};q.prototype.navigationCheckHandler=function(c,l,d){c=c[0];f.trigger("completionApi.navigationCheckHandler:before",
a);a.checkRequiredActivities()||t?(a._unloadRequirementsOnNavigation=!1,f.trigger("completionApi.allPageActivitiesComplete",a),l()):(a.config.incompleteActivityNavigation[c]?a.config.showIncompleteConfirmation?n.confirm(a.activities[a.currentPage][Object.keys(a.activities[a.currentPage])[0]],d,function(){a._unloadRequirementsOnNavigation=!0;l()}):(a._unloadRequirementsOnNavigation=!0,l()):a.config.showIncompleteGatePrompt&&(Object.keys(a.activities[a.currentPage]).forEach(function(d){n.notify(a.activities[a.currentPage][d])}),
d()),f.trigger("completionApi.navigationCheckHandler:after",a))};q.prototype.getButtonsState=function(){return{origin:"CompletionApi",next:{visible:!0,enabled:!1!==this.hasRequiredActivitiesLeft()&&this.config.incompleteNavigationControlsEnabled.next},previous:{visible:!0,enabled:!1!==this.hasRequiredActivitiesLeft()&&this.config.incompleteNavigationControlsEnabled.previous}}};var a=new q;f.trigger("completionApi.loaded",!0,a);return a});
define("app/player/communication","module questionData app/player/dataHandler app/courseApi app/configuration app/events app/utilities/XyTools app/submitAll app/completionApi".split(" "),function(k,c,f,m,n,p,t,q,a){var h=function(){this.config={autoPageCompletion:!0}};var l=function(){this.reportId=this.id="";this.type="other";this.optionsOrder=this.attemptLimit=this.response=this.result=this.answer="";this.flag=!1;this.weight=1;this.hadAnswer=!1;this.keys={ATTEMPT_LIMIT:"a",OPTION_ORDER:"o",FLAG:"f",
QUESTION_STEM:"q"}};l.prototype.parseData=function(a){a=JSON.parse(a);"undefined"!==typeof a[this.keys.ATTEMPT_LIMIT]&&(this.attemptLimit=a[this.keys.ATTEMPT_LIMIT]);a[this.keys.OPTION_ORDER]&&(this.optionsOrder=a[this.keys.OPTION_ORDER]);a[this.keys.FLAG]&&(this.flag=a[this.keys.FLAG])};l.prototype.saveData=function(){var a={};""!==this.attemptLimit&&(a[this.keys.ATTEMPT_LIMIT]=this.attemptLimit);this.optionsOrder&&(a[this.keys.OPTION_ORDER]=this.optionsOrder);this.flag&&(a[this.keys.FLAG]=1);this.questionStem&&
(a[this.keys.QUESTION_STEM]=this.questionStem);return JSON.stringify(a)};h.prototype.init=function(){this.config=t.extend(this.config,n.configure(k.id));this.dataSet={questions:[],other:{},moreData:!1,completed:!1,clean:function(){this.questions=[];this.other={};this.completed=this.moreData=!1}};"undefined"!==typeof API_1484_11&&(this.api=API_1484_11);this.initialized=!1;this.api||t.log("Failed to find SCORM API.");p.on("navigation.removeContent:before",this.saveAllData.bind(this));p.on("communication.saveQuestionData",
this.saveQuestionData.bind(this));p.on("communication.saveQuestionsToPlayer",this.saveQuestionsToPlayer.bind(this));p.on("content.url:changed",this.loadAllData.bind(this));p.on("completionApi.allPageActivitiesComplete",function(){d.dataSet.completed=!0});p.on("player.unload:before",this.courseUnload.bind(this));p.trigger("communication.init:after",this)};h.prototype.saveQuestionsToPlayer=function(){var c,h=!1,l=0,k=0;k=!1;var t=q.isSubmitAll(),n=q.isStatusSaved();p.trigger("player.data:save",this);
l=this.api.GetValue("cmi.interactions._count");""===l&&(l=0);this.dataSet.questions.forEach(function(a,d){d>=l&&this.api.SetValue("cmi.interactions."+d+".id",this.currentGuid+"-"+a.id);this.api.SetValue("cmi.interactions."+d+".type",a.type);this.api.SetValue("cmi.interactions."+d+".learner_response",a.response);this.api.SetValue("cmi.interactions."+d+".description",a.saveData());a.result&&this.api.SetValue("cmi.interactions."+d+".result",a.result);a.timestamp&&this.api.SetValue("cmi.interactions."+
d+".timestamp",a.timestamp);a.latency&&this.api.SetValue("cmi.interactions."+d+".latency",a.latency);a.weight&&this.api.SetValue("cmi.interactions."+d+".weighting",a.weight);if(a.correctResponses)for(c=0;c<a.correctResponses.length;c++)this.api.SetValue("cmi.interactions."+d+".correct_responses."+c+".pattern",a.correctResponses[c]);f.addInteraction(a)},this);k=this.dataSet.questions.length;if(this.dataSet.moreData){var E=k;for(H in this.dataSet.other)this.api.SetValue("cmi.interactions."+E+".id",
d.currentGuid+"-"+E),this.api.SetValue("cmi.interactions."+E+".type","other"),this.api.SetValue("cmi.interactions."+E+".description",H+"="+this.dataSet.other[H]),E++}var H=this.getTotalScore();""===H&&q.isAssessment()&&m.hasQuestions()&&(t||q.hasContextAwareness())&&(H=0);""!==H&&this.api.SetValue("cmi.score.scaled",H);h=!0;if(t)for(E=0;E<k;E++)""===this.dataSet.questions[E].response&&(h=!1);else for(E=0;E<k;E++)if(""===this.dataSet.questions[E].result||0<this.dataSet.questions[E].attemptLimit&&"incorrect"===
this.dataSet.questions[E].result)h=!1;n&&(h=!0);0===k&&this.api.SetValue("cmi.success_status","passed");d.dataSet.completed=a.checkRequiredActivities();return k=this.dataSet.completed&&h};h.prototype.saveQuestionData=function(a){var d=q.isSubmitAll(),c=q.isStatusSaved();if(this.initialized){var e=this.saveQuestionsToPlayer();this.config.autoPageCompletion||e?this.api.SetValue("cmi.completion_status","completed"):this.api.SetValue("cmi.completion_status","incomplete");if(a||e&&(!d||c))this.api.SetValue("cmi.exit",
"suspend"),this.api.Terminate(""),this.initialized=!1}};h.prototype.saveAllData=function(){this.initialized&&(this.saveQuestionData(!0),this.dataSet.clean())};h.prototype.courseUnload=function(){this.initialized&&!q.isSubmitAll()&&/Retake/.test(m.getBookmarkType())&&!this.api.GetValue("cmi.score.scaled")&&this.api.SetValue("cmi.score.scaled",0)};h.prototype.loadAllData=function(a){var d,e=q.isSubmitAll()&&!q.isStatusSaved();if(null==this.api)this.initialized=!1;else if(!this.initialized){a=a.replace(".html",
"");/lcmsXmlGuid/i.test(a)&&(a=a.match(/lcmsXmlGuid\/([^/]*)/i)[1]);this.currentGuid=a;var h=c.files[a].questions;this.api.Initialize("");this.initialized=!0;this.dataSet.clean();var f=this.api.GetValue("cmi.interactions._count");""===f&&(f=0);var k=h.length;var t=m.getPrecedingLinkedPagesCount(a)+1;var n=(n=m.processScorecard())&&n.attempts?n.attempts:"";for(d=0;d<k;d++){var A=new l;A.id=d;d<f&&(A.result=this.api.GetValue("cmi.interactions."+d+".result"),A.response=this.api.GetValue("cmi.interactions."+
d+".learner_response"),A.parseData(this.api.GetValue("cmi.interactions."+d+".description")),A.hadAnswer=!e&&(0<A.attemptLimit&&"correct"===A.result||0==A.attemptLimit));A.weight=c.questions[h[d].question].weight||1;A.internalType=c.questions[h[d].question].type;A.reportId=a;1<t&&(A.reportId+="_"+t);A.reportId+="_"+h[d].question;""!==n&&(A.reportId+="_"+n);this.dataSet.questions.push(A)}if(k<f){for(d=k;d<f;d++)k=this.api.GetValue("cmi.interactions."+d+".description"),A=k.split("=")[0],k=k.substring(k.indexOf("=")+
1),this.dataSet.other[A]=k;this.dataSet.moreData=!0}}p.trigger("player.data:load",a,this)};h.prototype.loadPageData=function(a){var e,h;if(!a)throw"Guid should be passed";a=a.replace(".html","");/lcmsXmlGuid/i.test(a)&&(a=a.match(/lcmsXmlGuid\/([^/]*)/i)[1]);if(d.initialized){var f=c.files[a].questions;if((e=m.getInteractionsData(a))&&e.length){d.dataSet.clean();var k=e.length;var t=f.length;for(h=0;h<t;h++){var q=new l;q.id=h;h<k&&(q.result=e[h].result,q.response=e[h].response,q.parseData(e[h].description));
q.weight=c.questions[f[h].question].weight;q.internalType=c.questions[f[h].question].type;q.isScorecard=!0;d.dataSet.questions.push(q)}if(t<k){for(h=t;h<k;h++)f=e[h].Id,t=e[h].Description,d.dataSet.other[f]=t;d.dataSet.moreData=!0}p.trigger("player.data:load",a,d);p.on("popup.close",d.clearScorecardData)}}};h.prototype.setAnswer=function(a,d){return this.dataSet.questions[a]?(this.dataSet.questions[a].response=d,!0):!1};h.prototype.getAnswer=function(a){return this.dataSet.questions[a]&&this.dataSet.questions[a].response?
this.dataSet.questions[a].response:!1};h.prototype.addCorrectResponse=function(a,d){return(a=this.dataSet.questions[a])?(a.correctResponses||(a.correctResponses=[]),a.correctResponses.push(d),!0):!1};h.prototype.setResult=function(a,d){return this.dataSet.questions[a]?(this.dataSet.questions[a].result=d,!0):!1};h.prototype.getResult=function(a){return this.dataSet.questions[a]?this.dataSet.questions[a].result:!1};h.prototype.setType=function(a,d){return this.dataSet.questions[a]?(this.dataSet.questions[a].type=
d,!0):!1};h.prototype.setAttemptLimit=function(a,d){return this.dataSet.questions[a]?(this.dataSet.questions[a].attemptLimit=d,!0):!1};h.prototype.getAttemptLimit=function(a){return this.dataSet.questions[a]?this.dataSet.questions[a].attemptLimit:!1};h.prototype.setFlag=function(a,d){return this.dataSet.questions[a]?(this.dataSet.questions[a].flag=d,!0):!1};h.prototype.getFlag=function(a){return this.dataSet.questions[a]?this.dataSet.questions[a].flag:!1};h.prototype.setOptionsOrder=function(a,d){return this.dataSet.questions[a]?
(this.dataSet.questions[a].optionsOrder=d,!0):!1};h.prototype.getOptionsOrder=function(a){return this.dataSet.questions[a]&&this.dataSet.questions[a].optionsOrder?this.dataSet.questions[a].optionsOrder.split?this.dataSet.questions[a].optionsOrder.split(","):this.dataSet.questions[a].optionsOrder:!1};h.prototype.setQuestionStem=function(a,d){return this.dataSet.questions[a]?(this.dataSet.questions[a].questionStem=d,!0):!1};h.prototype.setWeight=function(a,d){return this.dataSet.questions[a]?(this.dataSet.questions[a].weight=
d,!0):!1};h.prototype.setTimestamp=function(a,d){return this.dataSet.questions[a]?(this.dataSet.questions[a].timestamp=d,!0):!1};h.prototype.setLatency=function(a,d){return this.dataSet.questions[a]?(this.dataSet.questions[a].latency=d,!0):!1};h.prototype.setData=function(a,d){if(null!=d&&""!==d)return this.dataSet.other[a]=d,this.dataSet.moreData=!0;"undefined"!==typeof this.dataSet.other[a]&&delete this.dataSet.other[a];return!1};h.prototype.getData=function(a){return this.dataSet.other[a]};h.prototype.getTotalScore=
function(){var a,d=0,c=0,h=!1,l=this.dataSet.questions.length;for(a=0;a<l;a++){var f=parseFloat(this.dataSet.questions[a].weight);c+=f;h|=!!this.dataSet.questions[a].result;"correct"===this.dataSet.questions[a].result&&(d+=f)}return"number"===typeof c&&0!==c&&h?d/c:""};h.prototype.isScorecard=function(a){return this.dataSet.questions[a]&&this.dataSet.questions[a].isScorecard?this.dataSet.questions[a].isScorecard:!1};h.prototype.clearScorecardData=function(){d.dataSet.clean();p.off("popup.close",d.clearScorecardData)};
h.prototype.setObjectiveSuccess=function(a,d){var c="failed";if(!0===d||"true"===d||"passed"===d)c="passed";var e=this.api.GetValue("cmi.objectives._count");for(d=0;d<e;d++)if(this.api.GetValue("cmi.objectives."+d+".id")===a)return this.api.SetValue("cmi.objectives."+d+".success_status",c),!0;this.api.SetValue("cmi.objectives."+e+".id",a);this.api.SetValue("cmi.objectives."+e+".success_status",c);return!0};h.prototype.getObjectiveSuccess=function(a){var d;var c=this.api.GetValue("cmi.objectives._count");
for(d=0;d<c;d++)if(this.api.GetValue("cmi.objectives."+d+".id")===a)return a=this.api.GetValue("cmi.objectives."+d+".success_status"),"passed"===a;return null};h.prototype.setObjectiveScore=function(a,d){var c;var e=this.api.GetValue("cmi.objectives._count");for(c=0;c<e;c++)if(this.api.GetValue("cmi.objectives."+c+".id")===a)return this.api.SetValue("cmi.objectives."+c+".score.scaled",d),!0;this.api.SetValue("cmi.objectives."+e+".id",a);this.api.SetValue("cmi.objectives."+e+".score.scaled",d);return!0};
var d=new h;p.trigger("player.communication:loaded",!0,d);return d});
define("skin/components/notebook/notebook","module jquery skin/components/component/component app/events app/utilities/XyTools popup app/player/communication lang/lang".split(" "),function(k,c,f,m,n,p,t,q){var a;var h={name:"notebook",id:k.id,displayName:"Notebook",linkSelector:".NotebookLink",contentSelector:".NotebookContent",popupContentSelector:".NotebookPopupContentContainer",textareaSelector:".NotebookText",buttonSelector:".NotebookSaveButton",popupModuleName:"notebookPopup",dataId:"notebook",
linkAction:"openPopup",hideLinksIfEmpty:!1,enabled:!0,startVisible:!0,title:q.t("components.notebook.title")||"Notebook",height:"auto",width:"auto",minWidth:"30%",modal:!0,trapFocus:!0,draggable:!0,closeOnEscape:!0,hotkeyCombination:"CTRL+ALT+N",renderAfter:"renderAfter"};k=function(a){f.call(this,h,a)};k.prototype=Object.create(f.prototype);k.constructor=k;k.config=h;k.prototype.renderAfter=function(){this.$textarea=this.$content.find(this.config.textareaSelector);this.hideContent();this.initPopup()};
k.prototype.initPopup=function(){this.popup=new p({width:this.config.width,height:this.config.height,minWidth:this.config.minWidth,content:this.$content,title:this.config.title,modal:this.config.modal,trapFocus:this.config.trapFocus,draggable:this.config.draggable,closeOnEscape:this.config.closeOnEscape,animateClose:!1,moduleName:this.config.popupModuleName});m.on("courseExit.exitNow:before",this.setNotebookData.bind(this));m.on("courseExit.captureExit:before",this.setNotebookData.bind(this));m.on("player.data:load",
this.getNotebookData.bind(this))};k.prototype.openPopup=function(){this.showContent();this.popup.open();return this};k.prototype.getNotebookData=function(){if(a)return this;var c=t.getData(this.config.dataId);c&&""===this.$textarea.val()&&(this.$textarea.val(c),a=!0);return this};k.prototype.hideContent=function(){this.popup&&this.popup.close();f.prototype.hideContent.call(this);return this};k.prototype.setNotebookData=function(){var a=this.$textarea.val();a&&t.setData(this.config.dataId,a);return this};
m.trigger("Notebook.loaded",!0,k);return k});
define("skin/components/print/print",["module","jquery","app/events","skin/components/component/component","lang/lang"],function(k,c,f,m,n){var p={name:"print",id:k.id,displayName:"Print",type:"active",enabled:!0,startVisible:!0,linkSelector:".PrintLink",linkAction:"printPage",regionsToHide:["header","footer","menu"],hotkeyCombination:"ALT+P",renderAfter:"renderAfter"};k=function(c){m.call(this,p,c)};k.prototype=Object.create(m.prototype);k.constructor=k;k.config=p;k.prototype.renderAfter=function(){function c(a){a&&
k.hideableRegions.push(a)}var k=this,a;this.hideableRegions=[];this.config.regionsToHide.forEach(function(a,l){f.on(a+".initialized",c)});window.addEventListener("beforeprint",function(){var c;a=[];var l=0;for(c=k.hideableRegions.length;l<c;l+=1)k.hideableRegions[l].$wrapper&&"none"!==k.hideableRegions[l].$wrapper.css("display")&&"hidden"!==k.hideableRegions[l].$wrapper.css("visibility")&&(k.hideableRegions[l].remove(),a.push(k.hideableRegions[l]))});window.addEventListener("afterprint",function(){a.forEach(function(a){a.restore()});
a=null})};k.prototype.printPage=function(){var c,k=[];f.trigger("print.printPage:before",this);var a=0;for(c=this.hideableRegions.length;a<c;a+=1)this.hideableRegions[a].$wrapper&&"none"!==this.hideableRegions[a].$wrapper.css("display")&&"hidden"!==this.hideableRegions[a].$wrapper.css("visibility")&&(this.hideableRegions[a].remove(),k.push(this.hideableRegions[a]));window.focus();window.print();k.forEach(function(a){a.restore()});f.trigger("print.printPage:after",this)};f.trigger("print.loaded",!0,
k);return k});
define("skin/components/sectionStatus/sectionStatus","module jquery app/navigation app/events app/courseApi skin/components/component/component lang/lang notification".split(" "),function(k,c,f,m,n,p,t,q){var a={name:"sectionStatus",id:k.id,displayName:"Section Status",type:"active",enabled:!0,hideLinksIfEmpty:!1,contentId:"sectionStatusContent",linkSelector:".SectionStatusLink",contentSelector:".SectionStatusContent",questionsContainerSelector:".QuestionsContainer",questionsSelector:".QuestionList",questionSelector:".QuestionItem",
titleSelector:".QuestionTitle",statusSelector:".QuestionStatus",flagSelector:".QuestionFlag",titleClass:"",attemptedClass:"Attempted",notattemptedClass:"NotAttempted",skippedClass:"Skipped",disabledClass:"Disabled",flaggedClass:"Flagged",notFlaggedClass:"NotFlagged",hotkeyCombination:"ALT+S",initAfter:"initAfter",renderAfter:"renderAfter"};k=function(c){p.call(this,a,c)};k.prototype=Object.create(p.prototype);k.constructor=k;k.config=a;k.prototype.initAfter=function(){var a=this.updateQuestionStatus.bind(this),
c=this.updateQuestionFlag.bind(this),d=this.updateStatus.bind(this);"undefined"===typeof window.SCORM_TYPE||"non-scorm-player"===window.SCORM_TYPE?this.remove():(m.on("content.loaded",d),m.on("sectionStatus.updateNeeded",d),m.on("questionModel.change:flagged",c),m.on("questionModel.change:answers",a),m.on("questionModel.submit:after",a),this.questionStatusMap={},m.trigger("sectionStatusInstance:created",!0,this))};k.prototype.renderAfter=function(){this.$content.attr("id",this.config.contentId);this.$questions=
this.$content.find(this.config.questionsSelector);this.$question=this.$questions.find(this.config.questionSelector).detach();this.$questions.on("click",this.config.questionSelector,this.questionClickHandler)};k.prototype.questionClickHandler=function(){var a=c(this),l=a.data("page-guid"),d=a.data("page-id"),e=a.data("navigable"),k=n.comesAfterCurrent(d)?"next":"previous";if(/^true$/i.test(e)&&n.isPageAvailable(d))m.triggerCheckEvent("navigation.enabled:check",k,d,l).then(function(){m.trigger("sectionStatus.navigate:before",
a);f.requestChoose(d);m.trigger("sectionStatus.navigate:after",a)});else return q.notify(t.t("general.navigation.notAvailable")||"That page is not available"),!1};k.prototype.updateStatus=function(a){a[0]==c(this.config.contentContainerSelector)[0]&&(this.currentPageGuid=n.getCurrentActivity("guid"),n.isAssessment()&&null!=n.findScorecard()?(this.enable(),this.showLink(),a=n.processScorecard(!0,n.getParentActivity(n.findScorecard(),"id")),this.$questions.empty(),this.questionStatusMap={},this.menuItems=
n.getMenuItems(),this.renderQuestionList(a)):this.config.enabled&&this.remove())};k.prototype.renderQuestionList=function(a){a.pages.forEach(function(a){a.questions.forEach(function(d){var c=this.renderQuestion(d,a);this.$questions.append(c);this.questionStatusMap[d.guid]=d.status},this)},this);a.containers.forEach(this.renderQuestionList,this)};k.prototype.renderQuestion=function(a,l){var d=c(this.$question[0].outerHTML),e=d.find(this.config.titleSelector),h=d.find(this.config.statusSelector),f=
d.find(this.config.flagSelector),k=t.t("components.sectionStatus.status."+a.status.toLowerCase().replace(" ",""))||a.status,m=this.menuItems.filter(function(a){return a.id===l.id})[0];e.addClass(this.config.titleClass).text(l.title);e=a.status.replace(/\s/g,"").toLowerCase()+"Class";h.addClass(this.config[e]).text(k);f.addClass(a.flag?this.config.flaggedClass:this.config.notFlaggedClass);d.data("page-guid",l.guid);d.data("page-id",l.id);null!=m&&m.visible&&m.enabled?(d.data("navigable",!0),d.removeClass(this.config.disabledClass)):
(d.data("navigable",!1),d.addClass(this.config.disabledClass),d.attr("title",t.t("general.navigation.notAvailable")));return d};k.prototype.updateQuestionFlag=function(a){var c=a.get("pageIndex");a=a.get("flagged");if(c=this.getQuestionNode(this.currentPageGuid,c))return c.find(this.config.flagSelector).removeClass(this.config.flaggedClass+" "+this.config.notFlaggedClass).addClass(a?this.config.flaggedClass:this.config.notFlaggedClass),this};k.prototype.updateQuestionStatus=function(a){var c=a.get("pageIndex");
c=this.getQuestionNode(this.currentPageGuid,c);if(!c)return this;if(a.isAttempted()||a.get("isSubmitAll")&&a.hasAnswers()){var d=t.t("components.sectionStatus.status.attempted")||"Attempted";var e="attemptedClass";this.questionStatusMap[a.get("xy:guid")]="Attempted"}c.find(this.config.statusSelector).addClass(this.config[e]).text(d);return this};k.prototype.getQuestionNode=function(a,l){var d=this.$questions.find(this.config.questionSelector).filter(function(){return c(this).data("page-guid")===a});
return d.length&&d[l]?d.eq(l):!1};m.trigger("sectionStatus.loaded",!0,k);return k});
define("skin/components/staticPage/staticPage",["module","skin/components/component/component","popup","app/utilities/XyTools","app/events"],function(k,c,f,m,n){var p={name:"staticPage",id:k.id,displayName:"Static Page",type:"active",linkSelector:".StaticPageLink",contentSelector:".StaticPageContent",innerContentSelector:".StaticPageContainer",enabled:!0,hideLinksIfEmpty:!1,startVisible:!0,pageName:"static page name",showInContentArea:!0,pageUrl:"",useIframe:!1,hotkeyCombination:"CTRL+ALT+H",popup:{popupWrapperClass:"StaticPageWrapper",
popupContentClass:"StaticPageContent",title:"",modal:!0,width:"70%",height:"70%",popupModuleName:"staticPagePopup"},renderAfter:"renderAfter"};k=function(k){c.call(this,p,k);this.popup=new f(this.config.popup)};k.prototype=Object.create(c.prototype);k.constructor=k;k.config=p;k.prototype.renderAfter=function(){if(!this.config.showInContentArea||this.config.useIframe)this.config.linkAction="openStaticPage";this.$innerContent=m.getJqueryObject(this.config.innerContentSelector);this.$innerContent.html()||
(this.disable(),this.remove());this.$title.text(this.config.pageName);this.loadContent()};k.prototype.loadContent=function(){var c=this;c.$innerContent.html().trim().length?c.config.showInContentArea||c.popup.option("content",c.$innerContent.html()):this.config.pageUrl&&(this.config.useIframe?c.popup.option("content",'<iframe src="'+c.config.pageUrl+'" />'):m.ajax.load({url:c.config.pageUrl,success:function(f){c.config.showInContentArea?c.$innerContent.html(f):c.popup.option("content",f)}}))};k.prototype.openStaticPage=
function(){this.popup.open()};n.trigger("staticPage.loaded",!0,k);return k});
define("skin/components/breadcrumb/breadcrumb","module jquery skin/components/component/component app/events app/navigation app/courseApi popup app/utilities/XyTools lang/lang".split(" "),function(k,c,f,m,n,p,t,q,a){var h={name:"breadcrumb",id:k.id,displayName:"Breadcrumb",linkSelector:".BreadcrumbLink",contentSelector:"#PageBreadcrumb",enabled:!0,startVisible:!1,delimiterClass:"Delimiter",delimiter:">",itemClass:"Item",itemSelector:".Item",linkAction:"clickBreadcrumb",title:a.t("components.breadcrumb.title")||
"Breadcrumb"};k=function(a){f.call(this,h,a)};k.prototype=Object.create(f.prototype);k.constructor=k;k.config=h;k.prototype.init=function(){f.prototype.init.call(this);var a=this.updateBreadcrumb.bind(this);m.on("content.loaded",a)};k.prototype.clickBreadcrumb=function(a){var d=c(a.target).data("id");d&&m.triggerCheckEvent("navigation.enabled:check","previous",d).then(function(){n.requestChoose(d)})};k.prototype.updateBreadcrumb=function(a){var d=c(this.config.contentSelector),e=this;if(!q.isContentContainer(a))return!1;
d.empty();var h=p.getMenuItems();a=c.grep(h,function(a,d){var c=a.active&&a.visible;c&&0<d&&0==h[d-1].id.indexOf("FolderOf")&&(c&=h[d-1].id!="FolderOf"+a.id);return c});a.forEach(function(a){c("<a>").addClass(e.config.itemClass).attr("href","javascript:void(0);").text(a.title).data("id",a.id).appendTo(d)});c("<span>").addClass(this.config.delimiterClass).html(this.config.delimiter).insertBefore(d.find(this.config.itemSelector+":not(:first)"));this.config.enabled&&a.length&&this.restore()};m.trigger("breadcrumb.loaded",
!0,k);return k});
define("skin/components/visualCue/visualCue","jquery module app/events app/courseApi app/completionApi app/player/communication skin/components/component/component app/utilities/XyTools lang/lang".split(" "),function(k,c,f,m,n,p,t,q,a){var h={name:"visualCue",displayName:"Visual Cue",id:c.id,linkSelector:".VisualCue",visibleClass:"Visible",hiddenClass:"Hidden",renderForPC:!1,renderForDevices:!0,mustBeCompleted:!1,mustBeCompletedMessage:a.t("visualCue.mustBeCompletedMessage")||"Please read the entire page.",renderAfter:"renderAfter",
contentScrollingContainerSelector:"#PageBodyWrapper",pageWrapInnerSelector:"#PageBody",heightTolerance:"20",excludeMustBeCompletedSelector:null,spinnerSelector:".VisualCueLinkSpinner",enableMediaFallbackTimer:!0,mediaFallbackTimerDelay:1E4};c=function(a){t.call(this,h,a)};c.prototype=Object.create(t.prototype);c.constructor=c;c.config=h;c.allPageMediaTimer;c.prototype.renderAfter=function(){var a=this,d=!1,c=k(this.config.contentScrollingContainerSelector);var h=k(this.config.spinnerSelector).length;
var m=function(){a.pageContentLoaded||f.trigger("allPageMedia.loaded",!0)};f.trigger("visualCue.render:before",this);this.enabled=this.isEnabled();this.$indicator=k(this.config.linkSelector);h||this.$indicator.after('<div class="VisualCueLinkSpinner"><div class="VisualCueSpinner"></div></div>');this.$spinnerIndicator=k(this.config.spinnerSelector);var t=this.setupScrollCheck.bind(this);var p=_.debounce(this.allPageMediaLoad.bind(this),300);h=_.debounce(a.scrollPageContent.bind(this),300);var n=_.debounce(a.calculateHeightContainer.bind(this),
150);var E=this.removeVisualCueBeforeLoadContent.bind(this);d||(k(window).on("resize",h),d=!0);c.on("scroll.cue",n);f.on("navigation.completePageLoad:after",t);f.on("menu.open:after",h);f.on("menu.hide:after",h);f.on("allPageMedia.loaded",p);f.on("navigation.removeContent:after",E);if(this.config.enableMediaFallbackTimer)f.on("content.loaded",function(d){q.isContentContainer(d)&&(a.allPageMediaTimer=setTimeout(m,a.config.mediaFallbackTimerDelay))});f.trigger("visualCue.render:after",this)};c.prototype.setupScrollCheck=
function(a){var d=m.getCurrentActivity("guid");this.pageContentLoaded=this.pageCompleted=!1;this.enabled&&("function"===q.type(p.setData)&&(a=p.getData("vc"),this.pageCompleted=null!=a),q.isAllPageMediaLoaded()?this.pageContentLoaded=!0:(this.hide(),this.showSpinner()),this.pageCompleted?(this.hide(),this.hideSpinner()):(this.config.mustBeCompleted&&n.registerRequiredActivity(d,this.config.mustBeCompletedMessage),this.scrollPageContent()))};c.prototype.allPageMediaLoad=function(){var a=m.getCurrentActivity("guid");
this.enabled&&null!=a&&(clearTimeout(this.allPageMediaTimer),this.pageCompleted||this.pageContentLoaded||(this.pageContentLoaded=!0,this.show(),this.hideSpinner(),this.scrollPageContent(),this.calculateHeightContainer()))};c.prototype.scrollPageContent=function(){var a=k(this.config.contentScrollingContainerSelector),d=m.getCurrentActivity("guid"),c=k(this.config.pageWrapInnerSelector),h=this.calculateHeightContainerForScroll(a,c);this.enabled&&null!=d&&this.pageContentLoaded&&!c.is(":empty")&&!c.find(".Spinner")[0]&&
(this.config.excludeMustBeCompletedSelector&&0<a.find(this.config.excludeMustBeCompletedSelector).length?(this.markAsCompleted(a,d),this.hide(),this.hideSpinner()):a.height()<h?this.pageCompleted?(this.hide(),this.hideSpinner()):this.show():(this.markAsCompleted(a,d),this.hide(),this.hideSpinner()))};c.prototype.calculateHeightContainer=function(){var a=k(this.config.contentScrollingContainerSelector),d=k(this.config.pageWrapInnerSelector),c=this.calculateHeightContainerForScroll(a,d),h=m.getCurrentActivity("guid");
this.pageContentLoaded&&!d.is(":empty")&&!d.find(".Spinner")[0]&&Number(Math.ceil(a.scrollTop()))+Number(Math.ceil(a.innerHeight()))>=c&&(this.markAsCompleted(a,h),this.hide(),this.hideSpinner())};c.prototype.calculateHeightContainerForScroll=function(a,d){a=a[0].scrollHeight-this.config.heightTolerance;this.config.pageWrapInnerSelector&&0<d.length&&(a=a-parseInt(d.css("margin-bottom"))-parseInt(d.css("padding-bottom")));return a};c.prototype.markAsCompleted=function(a,d){this.config.mustBeCompleted&&
n.unregisterRequiredActivity(d);"function"===q.type(p.setData)&&p.setData("vc",1);this.pageCompleted=!0};c.prototype.show=function(){this.$indicator.addClass(this.config.visibleClass).removeClass(this.config.hiddenClass)};c.prototype.hide=function(){this.$indicator.addClass(this.config.hiddenClass).removeClass(this.config.visibleClass)};c.prototype.showSpinner=function(){this.$spinnerIndicator.addClass(this.config.visibleClass)};c.prototype.hideSpinner=function(){this.$spinnerIndicator.removeClass(this.config.visibleClass)};
c.prototype.removeVisualCueBeforeLoadContent=function(){this.hide();this.hideSpinner();clearTimeout(this.allPageMediaTimer)};c.prototype.isEnabled=function(){return this.config.renderForPC&&this.config.renderForDevices?!0:this.config.renderForPC?!q.detect.device:this.config.renderForDevices?"undefined"===typeof q.detect.device?!1:q.detect.device:!1};f.trigger("visualCue.loaded",!0,c);return c});
define("skin/components/timer/timer",["module","skin/components/component/component","app/events"],function(k,c,f){function m(c){return 10>c?"0"+c:c}var n={name:"timer",id:k.id,displayName:"Timer",type:"active",enabled:!0,startVisible:!1,linkSelector:".TimerLink",linkAction:"none",zIndex:100,initAfter:"initAfter",containerSelector:".TimerContainer",progressSelector:".TimerProgress",progressBarSelector:".TimerProgressBar",progressValueSelector:".TimerProgressValue",remainingTimeSelector:".TimerRemainingTime",
remainingTimeLabelSelector:".TimerRemainingTimeLabel",remainingTimeValueSelector:".TimerRemainingTimeValue",breakpoints:{State1:[100,11],State2:[10,6],State3:[5,0]}};k=function(f){c.call(this,n,f)};k.prototype=Object.create(c.prototype);k.constructor=k;k.config=n;k.activeGuid=null;k.prototype.initAfter=function(){var c=this.startTimer.bind(this),k=this.stopTimer.bind(this);this.getUIElements();f.on("timer.notify:started",c);f.on("timer.notify:returnToAssessment",c);f.on("timer.notify:stopped",k);
f.on("timer.notify:outOfAssessment",k)};k.prototype.startTimer=function(c){c&&c.isActive&&(this.stopTimer(),this.show(),this.startUpdating(c),this.update(c),this.activeGuid=c.guid)};k.prototype.stopTimer=function(c){c&&c.guid!==this.activeGuid||(this.stopUpdating(),this.resetProgressBar(),this.resetRemainingTime(),this.hide(),this.activeGuid=null)};k.prototype.getUIElements=function(){this.$container=this.$el.find(this.config.containerSelector);this.$progress=this.$el.find(this.config.progressSelector);
this.$progressBar=this.$el.find(this.config.progressBarSelector);this.$progressValue=this.$el.find(this.config.progressValueSelector);this.$remainingTime=this.$el.find(this.config.remainingTimeSelector);this.$remainingTimeLabel=this.$el.find(this.config.remainingTimeLabelSelector);this.$remainingTimeValue=this.$el.find(this.config.remainingTimeValueSelector)};k.prototype.update=function(c){var f=c.getTimeLimit();c=c.getTimeLeft();this.updateProgressBar(f,c);this.updateRemainingTime(f,c)};k.prototype.startUpdating=
function(c){this.interval=setInterval(this.update.bind(this),1E3,c)};k.prototype.stopUpdating=function(){this.interval&&clearInterval(this.interval)};k.prototype.updateProgressBar=function(c,f){this.updateProgressBarValue(f/c*100)};k.prototype.updateProgressBarValue=function(c){var f;Object.keys(this.config.breakpoints).forEach(function(k){var a=this.config.breakpoints[k];c<=a[0]&&c>=a[1]&&(f=k)},this);f&&!this.$progress.hasClass(f)&&this.$progress.removeClass(Object.keys(this.config.breakpoints).join(" ")).addClass(f);
this.$progressValue.width(100-c.toFixed(2)+"%")};k.prototype.updateRemainingTime=function(c,f){var k=f/60|0;c=k/60|0;f=[c,k-60*c,f%60].map(m).join(":");this.$remainingTimeValue.text(f)};k.prototype.resetProgressBar=function(){this.$progressValue.width("0%")};k.prototype.resetRemainingTime=function(){this.$remainingTimeValue.text("")};f.trigger("timer.loaded",!0,k);return k});
define("skin/components/bibliography/bibliography","module jquery underscore skin/components/component/component app/events lang/lang app/utilities/XyTools".split(" "),function(k,c,f,m,n,p,t){var q={name:"bibliography",id:k.id,displayName:"Bibliography",enabled:!1,startVisible:!1,linkSelector:".BibliographyLink",contentSelector:".BibliographyContent",citationListSelector:".BibliographyCitationList",citationSelector:".Citation",bibliographySelector:".BibliographyContainer",typeHeadingSelector:".BibliographyCitationTypeHeader",
typeContainerSelector:".BibliographyCitationTypeContainer",typeContainerActiveClass:"Active",typeSubListSelector:"BibliographyCitationSubList",typeCounterSelector:".BibliographyCitationTypeCounter",showTypeCounter:!0,showSingleTypeHeader:!1,itemHighlightClass:"HighlightCitation",hotkeyCombination:"ALT+B",initAfter:"initAfter",renderAfter:"renderAfter"};k=function(a){m.call(this,q,a)};k.prototype=Object.create(m.prototype);k.constructor=k;k.config=q;k.prototype.initAfter=function(){n.on("citation.openCitation",
this.highlightCitation.bind(this))};k.prototype.renderAfter=function(){var a=this.toggleCitationType.bind(this);this.$citationList=c(this.config.citationListSelector);this.$citations=this.$content.find(this.config.citationSelector);this.$categorizedCitations=c(this.config.typeContainerSelector);this.$citations.length&&(this.$citationHeaders=c(this.config.typeHeadingSelector),this.$citationTypeCounters=c(this.config.typeCounterSelector),1===this.$citationHeaders.length&&/^false$/i.test(this.config.showSingleTypeHeader)&&
(this.$citationHeaders.hide(),this.$categorizedCitations.eq(0).addClass(this.config.typeContainerActiveClass)),this.config.showTypeCounter||this.$citationTypeCounters.hide(),this.$citationHeaders.on("click",function(h){a(h,c(this))}),this.$citationHeaders.attr("aria-keyshortcuts","Enter"),this.$citationHeaders.on("keyup",function(h){13==h.keyCode&&a(h,c(this))}),this.$citations.removeClass(this.config.itemHighlightClass),0<this.$citations.html().length&&this.restore(),this.$scrollableParent=t.getScrollableParent(c(this.config.contentSelector)[0]))};
k.prototype.highlightCitation=function(a,h){var l=this,d=c("body");this.$citations.removeClass(this.config.itemHighlightClass);var e=this.$citations.filter('[data-citation-id="'+a+'"]');a=e.closest(this.config.typeContainerSelector);a.children(this.config.typeHeadingSelector);this.$categorizedCitations.removeClass(this.config.typeContainerActiveClass);a.addClass(this.config.typeContainerActiveClass);this.show();h?this.$scrollableParent.animate({scrollTop:h.offsetTop},500):e[0].scrollIntoView(!1);
e.addClass(this.config.itemHighlightClass);d.on("click.bibliographyRemoveHighlight",function(){l.$citations.removeClass(l.config.itemHighlightClass);d.off("click.bibliographyRemoveHighlight")})};k.prototype.toggleCitationType=function(a,c){a=c.closest(this.config.typeContainerSelector);c=a.hasClass(this.config.typeContainerActiveClass);this.$categorizedCitations.removeClass(this.config.typeContainerActiveClass).attr("aria-expanded",!1);c||(a.addClass(this.config.typeContainerActiveClass).attr("aria-expanded",
!0),a.find(this.config.citationSelector+":first-child")[0].focus())};k.prototype.focusContentFirstItem=function(){n.trigger(this.config.name+".focusFirstItem:before",this);this.$categorizedCitations&&this.$categorizedCitations.length&&f.defer(function(){this.$categorizedCitations.eq(0).addClass(this.config.typeContainerActiveClass).attr("aria-expanded",!0)}.bind(this));n.trigger(this.config.name+".focusFirstItem:after",this)};n.trigger("bibliography.loaded",!0,k);return k});
define("skin/components/components","module jquery app/configuration app/events app/utilities/XyTools skin/components/calculator/calculator skin/components/courseProgress/courseProgress skin/components/courseResources/courseResources skin/components/pageResources/pageResources skin/components/exitButton/exitButton skin/components/glossary/glossary skin/components/mute/mute skin/components/narration/narration skin/components/navigationButtons/navigationButtons skin/components/navigationTree/navigationTree skin/components/notebook/notebook skin/components/print/print skin/components/sectionStatus/sectionStatus skin/components/staticPage/staticPage skin/components/submitAllButton/submitAllButton skin/components/breadcrumb/breadcrumb skin/components/visualCue/visualCue skin/components/timer/timer skin/components/bibliography/bibliography".split(" "),
function(k,c,f,m,n,p,t,q,a,h,l,d,e,u,z,C,D,x,E,H,A,G,B,F){var I=new function(){this.config={componentSelector:".ComponentLink"};this.modules=[p,t,q,a,h,l,d,e,u,z,C,D,x,E,H,A,G,B,F];this.init=function(){n.logGroup("Skin Components");m.trigger("components.init:before",this);this.config=n.extend(this.config,f.configure(k.id));this.components=[];this.createComponents().initComponents().renderComponents();m.trigger("components.init:after",this);n.logGroupEnd()};this.createComponents=function(){var a=this,
d=c("body").find(this.config.componentSelector);this.modules.forEach(function(e){d.filter(e.config.linkSelector).each(function(){a.components.push(new e(c(this)))})});return this};this.initComponents=function(){this.components.forEach(function(a){"function"===typeof a.init&&a.init()});return this};this.renderComponents=function(){this.components.forEach(function(a){"function"===typeof a.render&&a.render()});return this}};m.trigger("components.loaded",!0,I);return I});
define("skin/skin","module skin/regions/regions skin/components/components jquery app/configuration app/events app/utilities/XyTools".split(" "),function(k,c,f,m,n,p,t){var q=new function(){this.config={modules:[f,c]};this.init=function(){var a;t.logGroupCollapsed("Skin");p.trigger("skin.init:before",this);this.config=m.extend(this.config,n.configure(k.id));var c=0;for(a=this.config.modules.length;c<a;c+=1)"function"===typeof this.config.modules[c].init&&this.config.modules[c].init();p.trigger("skin.init:after",
this);t.logGroupEnd()}};p.trigger("skin.loaded",!0,q);return q});
define("app/utilities/helper/helperView",["underscore","backbone","app/utilities/helper/helperCore","app/utilities/XyTools","app/events"],function(k,c,f,m,n){var p=/#\{([\w]+)\}/g;var t=/@ui.([\w]+)/g;var q=c.View.extend({delegateEvents:function(){this._helper_initialized||(this.inherit("config",!0),this._getUIElements(),this._convertEvents(),this._decorate(),this._delegateModelBindings());c.View.prototype.delegateEvents.call(this);this._helper_initialized=!0},_convertEvents:function(){var a;this.inherit("events");
if(!this.events||!this.config)return this;var c=m.extend(this.events);for(a in c){var l=a.match(t)?this._interpolateString(a,this._uiBindings,t):this._interpolateString(a);l!==a&&(c[l]=this.events[a],delete c[a])}this.events=c;return this},_delegateModelBindings:function(){var a,c;if(!this.model)return this;this.inherit("modelBindings");var l=this.modelBindings;if(!l)return this;for(a in l)if(c=l[a])if("string"===m.type(c)&&c.split(" ").forEach(function(d){this.model.on(a,this[d],this)},this),"function"===
m.type(c))this.model.on(a,c,this)},_getUIElements:function(){var a;this.inherit("ui");this._uiBindings=m.copy(this.ui);if(!this.ui||!Object.keys(this.ui).length)return this;for(a in this._uiBindings)if("string"===m.type(this._uiBindings[a])){var c=this._interpolateString(this._uiBindings[a]);this._uiBindings[a]=c;this.ui[a]=c.match(p)?this.$():this.$(c)}this.ui.el=this.$el;return this},_interpolateString:function(a,c,l){c=c||this.config;l=l||p;return a.replace(l,function(a,e){return c[e]||a})}});
"publish _getFromSuper inherit _decoratorSkip _decoratorSkipFilter _decorate _getDecoratorSkipFilter _getDecoratorSkipMethods _getInheritableMethods".split(" ").forEach(function(a){q.prototype[a]=f.prototype[a]});n.trigger("helperView.loaded",!0,q);return q});
define("elements/element/element","module underscore app/utilities/helper/helperView app/completionApi app/player/communication app/utilities/XyTools app/events app/configuration".split(" "),function(k,c,f,m,n,p,t,q){k=f.extend({initialize:function(a){a||(a={});this.config=this.constructor.config;this.$scope=a.scope;this.index=a.index||0;this.id=""+this.constructor.displayName+this.index;this.mustBeCompleted=!1;this.completed=[]},handleCompletion:function(){this.mustBeCompleted&&!this.checkCompletion()&&
this.registerAsRequired();if(this.mustBeCompleted||this.config.persistCompletion){t.on("player.data:save",this.saveData);var a=this.getData();this.setCompleted(a);this.markCompleted()}},saveData:function(){"function"===p.type(n.setData)&&n.setData(this.id,this.completed.join("|"))},getData:function(){var a=[];"function"===p.type(n.getData)&&(a=n.getData(this.id),a=null!=a?a.split("|"):[]);return a},checkCompletion:function(){return!1},setCompleted:function(a){a=p.toArray(a).map(function(a){return+a});
this.completed=c.uniq(this.completed.concat(a));this.checkCompletion();return this},markCompleted:function(){},registerAsRequired:function(){m.registerRequiredActivity(this.id,this.config.mustBeCompletedMessage)},unregisterAsRequired:function(){m.unregisterRequiredActivity(this.id)},isInScope:function(a){a=p.getJqueryObject(a);return!(!this.$el.closest(a).length&&this.$el[0]!==a[0])},remove:function(){t.off("player.data:save",this.saveData);this.undelegateEvents();this.stopListening();this.$el.off();
this.$el.remove()}},{displayName:"element",config:p.extend({selector:"",persistCompletion:!1,mustBeCompletedMessage:""},q.configure(k.id))});t.trigger("element.loaded",!0,k);return k});
define("elements/autonumber/autonumber","module elements/element/element app/utilities/XyTools app/configuration app/events popup".split(" "),function(k,c,f,m,n,p){k=c.extend({events:{click:"togglePopup"},render:function(){var c=this,f=this.$el.data("width"),a=this.$el.data("height");this.guid=this.$el.data("popup-content-guid");this.link=this.$el.data("popup-link");this.$el.attr({"aria-haspopup":this.config.popupRole,tabindex:this.config.tabindex});this.popup=new p({contentUrl:this.link,popupWrapperClass:this.config.popupWrapperClass,
popupContentClass:this.config.popupContentClass,title:this.config.title,modal:this.config.modal,draggable:this.config.draggable,autoOpen:this.config.autoOpen,closeOnEscape:this.config.closeOnEscape,height:a?a+"px":this.config.height,width:f?f+"px":this.config.width,ajaxComplete:function(){n.trigger("content.loaded",!1,c.popup.$content)},close:function(){}})},togglePopup:function(){this.popup.toggle()},remove:function(){this.popup.destroy();this.popup=null;this.constructor.__super__.remove.call(this)}},
{displayName:"autonumber",config:f.extend({selector:".Autonumber",popupWrapperClass:"AutonumberPopup",popupContentClass:"AutonumberPopupContent",title:"",modal:!0,draggable:!0,closeOnEscape:!0,height:"70%",width:"70%",maxHeight:"90%",minHeight:"",maxWidth:"90%",minWidth:"",popupRole:"dialog",tabindex:0},m.configure(k.id))});n.trigger("autonumber.loaded",!0,k);return k});
define("elements/tooltip/tooltip",["module","popup","app/utilities/XyTools","app/configuration","app/events"],function(k,c,f,m,n){function p(k){k=f.extend({},t,k);k.popupWrapperClass=k.popupWrapperClass+" "+k.owner+"-Tooltip";return new c(k)}var t=f.extend({popupWrapperClass:"TooltipWrapper",popupContentClass:"TooltipContent",moduleName:"tooltip",modal:!1,modalBlur:!1,trapFocus:!1,draggable:!1,autoOpen:!1,closeButton:!1,closeOnEscape:!0,closeOnContentRemove:!0,closeOnOverlayClick:!0,detachOnClose:!0,
animateClose:!0,openAnimationDuration:200,closeAnimationDuration:100,height:"auto",width:"auto",owner:"Generic"},m.configure(k.id));n.trigger("tooltip.loaded",!0,p);return p});
define("elements/citation/citation","module jquery elements/element/element app/events app/utilities/XyTools app/configuration lang/lang elements/tooltip/tooltip app/utilities/detect".split(" "),function(k,c,f,m,n,p,t,q,a){t={selector:".Citation",popupContentSelector:".CitationContent",title:t.t("elements.citation.title")||"",showPopupOnHover:!0,announceOnClick:!0,maxWidth:"500px",appendTo:null,tabindex:0};k=f.extend({events:{click:"announceClick"},render:function(){var h=this;this.config.showPopupOnHover&&
(this.$el.attr({"data-popup-content-id":this.$el.data("sourceId"),tabindex:this.config.tabindex}),c("body").on("mouseenter.citation mouseleave.citation",'[data-popup-content-id="'+this.$el.data("sourceId")+'"]',function(c){a.touchDevice||(c.preventDefault(),h.togglePopup(c))}),this.popup=new q({content:c("#"+this.$el.data("sourceId")).html(),maxWidth:this.config.maxWidth,appendTo:this.config.appendTo||this.config.contentContainerSelector,owner:"Citation",moduleName:"citation",trapFocus:!1,returnFocusItem:this.$el}))},
announceClick:function(a){this.config.announceOnClick&&(a.preventDefault(),a.stopPropagation(),m.trigger("citation.openCitation",this.$el.data("citationId")))},togglePopup:function(a){this.popup.isOpen()||this.popup.option("position",[a.clientY+10,a.clientX+10]);this.popup.toggle()},remove:function(){c("body").off(".citation");this.popup&&this.popup.destroy();this.popup=null;this.constructor.__super__.remove.call(this)}},{displayName:"citation",config:n.extend(t,p.configure(k.id))});m.trigger("citation.loaded",
!0,k);return k});
define("elements/tabs/tabs","module jquery underscore elements/element/element app/utilities/XyTools app/configuration app/events app/completionApi app/player/communication lang/lang".split(" "),function(k,c,f,m,n,p,t,q,a,h){f={selector:".TabsComponent",navigationSelector:".TabsNavigation",navigationLinkSelector:".TabsNavigationItem",panelWrapperSelector:".TabsPanels",panelSelector:".TabsPanel",hiddenLoadingClass:"HiddenLoading",activeLinkClass:"TabsActiveLink",hiddenPanelClass:"TabsHiddenPanel",invisiblePanelClass:"TabsInvisiblePanel",
completedClass:"Completed",toggleClass:"Toggle",markCompletedTabs:!0,persistCompletion:!0,mustBeCompletedMessage:h.t("elements.tabs.mustBeCompletedMessage")||"Please view all tabs before proceeding."};k=m.extend({ui:{links:"#{navigationLinkSelector}",panels:"#{panelSelector}"},events:{"click @ui.links":"handleLink","keyup @ui.links":"handleLinkKey"},initialize:function(a){this.constructor.__super__.initialize.call(this,a);this.orientation=this.$el.attr("data-orientation");this.mustBeCompleted=/^true$/i.test(this.$el.attr("data-must-be-completed"))},
render:function(){this.tabActive=c([]);this.handleCompletion();this.initializeMedia();this.$el.find(this.config.panelWrapperSelector).removeClass(this.config.hiddenLoadingClass);this.changePanel(this.ui.links.eq(0),!0)},initializeMedia:function(){t.trigger("media.pause",this.$el);return this},handleLink:function(a){var d=c(a.currentTarget);a.preventDefault();this.changePanel(d)},handleLinkKey:function(a){var d=c(a.currentTarget);"keyup"===a.type&&13==a.which?(a.preventDefault(),this.changePanel(d)):
"keyup"!==a.type||"ArrowRight"!==a.key&&"ArrowUp"!==a.key?"keyup"!==a.type||"ArrowLeft"!==a.key&&"ArrowDown"!==a.key||(a.preventDefault(),this.ui.links.eq(this.ui.links.index(d)-1).focus()):(a.preventDefault(),this.ui.links.eq(this.ui.links.index(d)+1).focus())},changePanel:function(a,d){var c=this.ui.links.index(a),h=this.ui.panels.eq(c),l=!this.$el.hasClass(this.config.toggleClass)||h.hasClass(this.config.hiddenPanelClass)||!this.tabActive.length;this.publish("change:before",h,a);this.ui.links.filter("."+
this.config.activeLinkClass).removeClass(this.config.activeLinkClass).attr({"aria-selected":!1,tabindex:"-1"});this.ui.panels.not("."+this.config.hiddenPanelClass).addClass(this.config.hiddenPanelClass).attr({"aria-hidden":!0});t.trigger("media.pause",this.ui.panels);l&&(a.addClass(this.config.activeLinkClass).attr({"aria-selected":!0,tabindex:"0"}),h.removeClass(this.config.hiddenPanelClass).attr({"aria-hidden":!1}),d||h.focus(),t.trigger("media.resumeAutoplay",h));this.tabActive=a;this.setCompleted(c);
this.markCompleted();h.find("img").trigger("figure.resize");this.publish("change:after",h,a);t.trigger("narration.close",h)},markCompleted:function(){this.config.markCompletedTabs&&this.completed.forEach(function(a){this.ui.links.eq(a).addClass(this.config.completedClass)},this)},checkCompletion:function(){if(this.ui.panels.length!==this.completed.length)return!1;this.unregisterAsRequired();n.log(this.id+" completed");return!0}},{displayName:"tabs",config:n.extend(f,p.configure(k.id))});t.trigger("tabs.loaded",
!0,k);return k});
define("elements/carouselTabs/carouselTabs","module underscore elements/element/element app/utilities/XyTools app/configuration app/events lang/lang jquery.extensions".split(" "),function(k,c,f,m,n,p,t){c={selector:".CarouselTabs",panelWrapperSelector:".TabsPanels",completedClass:"Completed",panelSelector:".slick-slide",markCompletedTabs:!0,persistCompletion:!0,mustBeCompletedMessage:t.t("elements.carouselTabs.mustBeCompletedMessage")||"Please view all slides before proceeding.",speed:300,adaptiveHeight:!0,
dots:!0,draggable:!1,infinite:!0};k=f.extend({ui:{panelWrapper:"#{panelWrapperSelector}",panels:null,links:null},initialize:function(c){this.constructor.__super__.initialize.call(this,c);this.panelChanged=this.panelChanged.bind(this);this.focusAndTabHandler=this.focusAndTabHandler.bind(this);this.mustBeCompleted=/^true$/i.test(this.$el.attr("data-must-be-completed"))},render:function(){this.ui.panelWrapper.on("init",function(c,a){this.attachLoadEventToImages(a,this.$el.find("img"))}.bind(this));this.ui.panelWrapper.on("afterChange",
this.panelChanged);this.slick=this.ui.panelWrapper.slick({speed:this.config.speed,dots:this.config.dots,infinite:this.config.infinite,adaptiveHeight:this.config.adaptiveHeight,draggable:this.config.draggable,rtl:"rtl"==m.getLanguageDirection()?!0:!1}).slick("getSlick");this.ui.panels=this.slick.$slides;this.ui.links=this.slick.$dots.children("li");this.tabActive=0;this.ui.panels.on("focusin",this.focusAndTabHandler);this.handleCompletion();this.initializeMedia();this.slick.$slideTrack.find(".slick-cloned audio, .slick-cloned video").attr("tabindex",
"-1");this.panelChanged(this.tabActive)},focusAndTabHandler:function(c){c=c.currentTarget.getAttribute("data-slick-index");this.tabActive!=c&&(this.ui.panelWrapper.slick("slickGoTo",c),this.panelChanged(c),this.slick.$list.scrollLeft(0))},initializeMedia:function(){p.trigger("media.pause",this.$el);return this},panelChanged:function(c,a,h){var l=this.ui.panels.eq(h);"number"===typeof c?h=c:"number"===typeof a&&(h=a);p.trigger("narration.close",l);p.trigger("media.pause",this.ui.panels);p.trigger("media.resumeAutoplay",
l);this.attachLoadEventToImages(this.slick,l.find("img"));this.tabActive=h;this.setCompleted(h);this.markCompleted()},attachLoadEventToImages:function(c,a){a.one("load.carousel",function(a){var h=$(a.target);c.animateHeight();setTimeout(function(){h.trigger("figure.resize")},this.config.speed)}.bind(this))},markCompleted:function(){this.config.markCompletedTabs&&this.completed.forEach(function(c){this.ui.links.eq(c).addClass(this.config.completedClass);this.ui.panels.eq(c).addClass(this.config.completedClass)},
this)},checkCompletion:function(){if(this.ui.panels.length!==this.completed.length)return!1;this.unregisterAsRequired();m.log(this.id+" completed");return!0},remove:function(){this.ui.panelWrapper.slick("unslick");this.ui.panels.find("img").off("load.carousel");this.constructor.__super__.remove.call(this)},navigateTo:function(c,a){this.ui.panelWrapper.slick("slickGoTo",c);this.ui.panelWrapper.one("afterChange",function(){a()})},resize:function(){var c=this;requestAnimationFrame(function(){$("img",
c.ui.panelWrapper).trigger("figure.resize");requestAnimationFrame(function(){var a=$(".slick-slide.slick-active",c.ui.panelWrapper).height();$(".slick-list",c.ui.panelWrapper).height(a)})})}},{displayName:"CarouselTabs",config:m.extend(c,n.configure(k.id))});p.trigger("CarouselTabs.loaded",!0,k);return k});
define("elements/figure/figure","module jquery underscore elements/element/element app/configuration app/events app/utilities/XyTools popup".split(" "),function(k,c,f,m,n,p,t,q){k=m.extend({ui:{image:"#{figureImageSelector}",overlay:"#{overlayObjectsSelector}",popupContent:"#{popupContentSelector}",altImage:"#{figureAltImageSelector}",caption:"#{captionSelector}",fullScreenPreview:"#{fullScreenPreviewSelector}"},events:{"click @ui.altImage":"togglePopup"},render:function(){var a=this;this.ui.overlay=
this.ui.overlay.filter(function(){var h=c(this);return h.parent().hasClass(a.config.altOverlayObjectsClass)?(a.ui.altOverlay=h,!1):!0});this.ui.svg=this.ui.overlay.find("svg");this.ui.overlayText=this.ui.overlay.find(this.config.overlayObjectTextSelector);this.ui.altOverlay&&(this.ui.altSvg=this.ui.altOverlay.find("svg"),this.ui.altOverlayText=this.ui.altOverlay.find(this.config.overlayObjectTextSelector));this.ui.image.on("load.figure",this.imageLoaded);p.on("menu.open:after",this.resize);p.on("menu.hide:after",
this.resize)},imageLoaded:function(){if(this.loaded)return!0;if(0!==this.ui.svg.length||this.ui.altSvg&&0<this.ui.altSvg.length)this.publish("svgsetup"),this.setupArrows();this.handlePopup();this.handleFullScreen();this.handleSVGinIE();this.resize();this.publish("imageloaded");this.loaded=!0;this.resizeBound=this.resize.bind(this);this.ui.image.on("figure.resize",this.resizeBound);this.ui.altImage.on("figure.resize",this.resizeBound);p.trigger("elements.resize")},scaleImageHeight:function(a){var c=
a[0].style[this.config.declaredHeightAttribute].replace("px",""),l=a[0].style[this.config.declaredWidthAttribute].replace("px","");c&&(l&&"auto"!==l||(l=a[0].naturalWidth,a.width(l)),l=a.width()/l,1>=l&&a.height(c*l))},scaleFullScreenPreview:function(){var a=this.ui.fullScreenPreview,h=c("img",a),l=c(this.config.overlayObjectsSelector,this.ui.fullScreenPreview);h.css({width:"",height:""});h.width()>=a.width()?h.css({width:"100%",height:"auto"}):h.height()>=a.height()&&h.css({width:"auto",height:"100%"});
this.setupOverlay(h,l,c("svg",l),c(this.config.overlayObjectTextSelector,l));a=h.offset().top;h=h.offset().left;l.css({top:a,left:h})},handleCaption:function(){this.ui.caption.length&&this.resizeCaption()},resizeCaption:function(){var a=this.ui.altImage.length?this.ui.altImage.width():this.ui.image.width();this.ui.caption.width(a)},setupOverlay:function(a,c,l,d){a[0].naturalWidth;var e=a.height();var h=a.width();a=a.position();this.config.positionSVG&&c.width(h).height(e).show().css({top:a.top+"px",
left:a.left+"px"});this.config.scaleSVG&&(a=l.height(),c=l.width(),a=(e/a).toFixed(4),c=(h/c).toFixed(4),1!==c*a&&(l.width(h).height(e),this.scaleOverlay(l,d,(h/l.attr("width")).toFixed(4),(e/l.attr("height")).toFixed(4))))},scaleOverlay:function(a,c,l,d){this.scaleSVG(a.children(),l,d);this.scaleText(c.children(),l,d)},scaleSVG:function(a,h,l){a.each(function(){c(this).attr("transform","scale("+h+", "+l+")")})},scaleText:function(a,h,l){a.each(function(){c(this).css({transform:"scale("+h+", "+l+
")"})})},setupArrows:function(){c().add(this.ui.svg).add(this.ui.altSvg).find("line").each(function(){var a=c(this).attr("arrow"),h=c(this).attr("id"),l="url(#arrow-left-"+h+")";h="url(#arrow-right-"+h+")";switch(a){case "1":c(this).attr("marker-end",h);break;case "2":c(this).attr("marker-start",l);break;case "3":c(this).attr("marker-end",h).attr("marker-start",l)}})},handlePopup:function(){var a=this;if(this.ui.popupContent.length){var c=this.$el.clone();c.find(this.config.popupContentSelector).removeClass(this.config.popupContentHiddenClass).addClass(this.config.popupContentVisibleClass);
c.find(this.config.figureAltImageSelector).remove();c.find("."+this.config.altOverlayObjectsClass).remove();this.ui.image=c.find(this.config.figureImageSelector);this.ui.overlay=c.find(this.config.overlayObjectsSelector);this.ui.caption=c.find(this.config.captionSelector);this.ui.svg=c.find("svg");this.ui.overlayText=c.find(this.config.overlayObjectTextSelector);this.ui.popupContent.remove();this.$el.attr({"aria-haspopup":this.config.popupRole,tabindex:this.config.tabindex});this.popup=new q({modal:!0,
content:c,open:function(){a.setupOverlay(a.ui.image,a.ui.overlay,a.ui.svg,a.ui.overlayText)}})}},togglePopup:function(){this.popup.toggle();this.scaleImageHeight(this.ui.image);0!==this.ui.svg.length&&this.setupOverlay(this.ui.image,this.ui.overlay,this.ui.svg,this.ui.overlayText)},handleFullScreen:function(){if(this.config.fullScreenPreview&&!this.ui.popupContent.length)this.ui.image.on(this.config.fullScreenPreviewEvent,this.showFullScreen)},showFullScreen:function(){var a=c('<div class="'+this.config.fullScreenPreviewClass+
'"><span class="close"></span></div>');c('<img src="'+this.ui.image.attr("src")+'"/>').appendTo(a);this.ui.overlay.clone().appendTo(a);a.appendTo("body").find(".close").on("click",function(){c(this).off("click");a.remove()});this.ui.fullScreenPreview=a;this.scaleFullScreenPreview()},handleSVGinIE:function(){this.boundRescaleSVGImage=f.debounce(this.rescaleSVGImage,15);t.detect.browser.ie&&/\.svg$/.test(this.ui.image[0].href)&&"auto"===this.ui.image[0].style.width&&""===this.ui.image[0].style.maxHeight&&
(setTimeout(this.boundRescaleSVGImage,0),c(window).on("resize",this.boundRescaleSVGImage))},rescaleSVGImage:function(){this.ui.image.width("");var a=this.ui.image.width();this.ui.image.width(a);this.ui.altImage&&this.ui.altImage.length&&(this.ui.altImage.width(""),a=this.ui.altImage.width(),this.ui.altImage.width(a))},resize:function(){this.scaleImageHeight(this.ui.image);this.ui.fullScreenPreview.length&&this.scaleFullScreenPreview();this.ui.altImage.length&&(this.scaleImageHeight(this.ui.altImage),
this.ui.altSvg&&this.ui.altSvg.length&&this.setupOverlay(this.ui.altImage,this.ui.altOverlay,this.ui.altSvg,this.ui.altOverlayText));0!==this.ui.svg.length&&this.setupOverlay(this.ui.image,this.ui.overlay,this.ui.svg,this.ui.overlayText);this.handleCaption()},remove:function(){this.ui.image.off(this.config.fullScreenPreviewEvent);this.ui.image.off("figure.resize",this.resizeBound);p.off("menu.open:after");p.off("menu.hide:after");this.constructor.__super__.remove.call(this)}},{displayName:"figure",
config:t.extend({selector:".Figure",overlayObjectsSelector:".OverlayObjects",overlayObjectTextSelector:".OverlayTextWrapper",altOverlayObjectsClass:"AltImageOverlayObjects",figureImageSelector:".FigureImage",figureAltImageSelector:".FigureAltImage",popupContentSelector:".PopupContentHidden",captionSelector:".Caption",fullScreenPreviewClass:"FigureFullScreenPreview",declaredHeightAttribute:"max-height",declaredWidthAttribute:"width",popupContentHiddenClass:"PopupContentHidden",popupContentVisibleClass:"PopupContentVisible",
popupRole:"dialog",tabindex:0,fullScreenPreview:!0,fullScreenPreviewEvent:"dblclick dbltap",positionSVG:!0,scaleSVG:!0},n.configure(k.id))});p.trigger("figure.loaded",!0,k);return k});
define("elements/scrollTabs/scrollTabs","module jquery underscore elements/element/element app/utilities/XyTools app/configuration app/events lang/lang elements/figure/figure".split(" "),function(k,c,f,m,n,p,t,q,a){q={selector:".ScrollTabs",contentScrollingContainerSelector:"#PageBodyWrapper",panelSelector:".TabsPanel",progressBarSelector:".ProgressBar",revealToCurrentClass:"RevealToCurrent",hiddenLoadingClass:"HiddenLoading",visiblePanelClass:"VisiblePanel",invisiblePanelClass:"HiddenPanel",completedClass:"Completed",
progressProperty:"height",progressBarUnit:"%",progressBarMultiplier:100,progressBehind:!0,markCompletedTabs:!0,persistCompletion:!0,mustBeCompletedMessage:q.t("elements.tabs.mustBeCompletedMessage")||"Please reveal all tabs before proceeding.",revealLine:200,minimalScroll:100};k=m.extend({ui:{panels:"#{panelSelector}",links:null},initialize:function(a){this.$panelsImages=c(this.ui.panels).find("img");this.constructor.__super__.initialize.call(this,a);this.orientation=this.$el.attr("data-orientation");
this.mustBeCompleted=/^true$/i.test(this.$el.attr("data-must-be-completed"));this.$scrollingSelector=c(this.config.contentScrollingContainerSelector);this.panelsLength=this.ui.panels.length;this.$scrollingSelector.on("scroll.scrollTabs",f.throttle(this.handleScroll.bind(this),100).bind(this));t.on("navigation.removeContent:after",this.remove);this.progress=0;this.tabActive=null;this.tabsData=[];for(a=0;a<=this.panelsLength;a++)this.tabsData[a]={};this.tabsData[0].natural=0;this.tabsData[0].mapped=
0;this.tabsData[0].share=0;this.handleScrollEnabled="busy";this.$panelsImages.one("load.scrollTabs",this.prepareTabsData.bind(this)).one("error.scrollTabs",function(){n.warn("ScrollTabs image failed to load")})},render:function(){var a=function(a){this.resize(a)}.bind(this);this.handleCompletion();this.initializeMedia();this.divSizeTracker=new ResizeObserver(function(c){c.forEach(function(d){f.debounce(a(d.target),200)})});this.ui.panels.each(function(a,d){this.divSizeTracker.observe(document.getElementById(d.id))}.bind(this));
this.$el.filter(this.config.selector).removeClass(this.config.hiddenLoadingClass);this.handleScrollEnabled="free";this.resize();setTimeout(function(){t.trigger("elements.resize")},200)},initializeMedia:function(){t.trigger("media.pause",this.$el);return this},handleScroll:function(){var a=this.config.revealLine,c=Math.floor(this.ui.panels.eq(0).offset().top-this.$scrollingSelector.offset().top),d=null;if("free"==this.handleScrollEnabled){for(var e=0;e<this.panelsLength;e++)d=c+this.tabsData[e].mapped<=
a&&a<c+this.tabsData[e+1].mapped?e:d;d!==this.tabActive&&this.changePanel(d)}},changePanel:function(a){var h=this.ui.panels.eq(a),d;this.handleScrollEnabled="busy";if(this.$el.hasClass(this.config.revealToCurrentClass)&&this.$scrollingSelector.get(0).scrollHeight>this.$scrollingSelector.get(0).offsetHeight)for(d=0;d<this.ui.panels.length;d++){var e=this.ui.panels.eq(d);null!=a&&d<=a&&e.filter("."+this.config.invisiblePanelClass).length?e.removeClass(this.config.invisiblePanelClass).addClass(this.config.visiblePanelClass).attr("aria-hidden",
!1):(d>a&&null!=a||null==a)&&e.filter("."+this.config.visiblePanelClass).length&&e.removeClass(this.config.visiblePanelClass).addClass(this.config.invisiblePanelClass).attr("aria-hidden",!0)}else if(!this.$el.hasClass(this.config.revealToCurrentClass)&&this.$scrollingSelector.get(0).scrollHeight>this.$scrollingSelector.get(0).offsetHeight){for(d=0;d<this.ui.panels.length;d++)e=this.ui.panels.eq(d),e.filter("."+this.config.visiblePanelClass).length&&e.removeClass(this.config.visiblePanelClass).addClass(this.config.invisiblePanelClass).attr("aria-hidden",
!0);null!=a&&h.removeClass(this.config.invisiblePanelClass).addClass(this.config.visiblePanelClass).attr("aria-hidden",!1)}else for(d=0;d<this.ui.panels.length;d++)this.ui.panels.eq(d).removeClass(this.config.invisiblePanelClass).addClass(this.config.visiblePanelClass).attr("aria-hidden",!1);t.trigger("media.pause",c(this.ui.panels));t.trigger("media.resumeAutoplay",c(this.ui.panels).filter("."+this.config.visiblePanelClass).eq(-1));null!=a&&(h=this.tabsData[a].share*this.config.progressBarMultiplier,
this.progress=h>this.progress?h:this.progress,this.$el.parent().find(this.config.progressBarSelector).css(this.config.progressProperty,this.progress+this.config.progressBarUnit));this.tabActive=a;this.setCompleted(a);this.markCompleted();this.handleScrollEnabled="free"},prepareTabsData:function(){var a=this.ui.panels.length,c=[],d;if("busy"==this.handleScrollEnabled)this.handleScrollEnabled="pending";else{do{this.handleScrollEnabled="busy";if(!this.$scrollingSelector.height())return;var e=this.$scrollingSelector.get(0).clientHeight-
this.$scrollingSelector.get(0).scrollHeight-this.$scrollingSelector.offset().top;var f=this.config.revealLine;var k=this.config.minimalScroll;var m=this.ui.panels.eq(0).offset().top+this.$scrollingSelector.scrollTop()+e;for(d=0;d<a;d++){var t=this.ui.panels.eq(d);t=t.outerHeight();var q=p?p:this.ui.panels.eq(d).offset().top+this.$scrollingSelector.scrollTop()+e;var p=d<a-1?this.ui.panels.eq(d+1).offset().top+this.$scrollingSelector.scrollTop()+e:q+t;this.tabsData[d+1].natural=p-m;f>=p?c[d]=p:f>=q&&
f<p&&f-k*(a-d-1)<q?(c[d-1]=f-k*(a-d-1),c[d]=c[d-1]+k):c[d]=f>=q&&f<p&&f-k*(a-d-1)>=q?f-k*(a-d-2):c[d-1]+k}for(d=1;d<=a;d++)this.tabsData[d].mapped=Math.floor(c[d-1]-m),this.$el.hasClass(this.config.revealToCurrentClass)?(this.config.progressBehind&&(this.tabsData[d].share=d<a-1?this.tabsData[d].natural/this.tabsData[a].natural:1),d===a&&(this.tabsData[a].mapped=Infinity)):this.tabsData[d].share=d<a?this.tabsData[d+1].natural/this.tabsData[a].natural:1}while("pending"==this.handleScrollEnabled);this.handleScrollEnabled=
"free";this.$scrollingSelector.scroll()}},resize:function(h){var l=this.ui.panels.length,d=null,e;for(e=0;e<l;e++)d=this.ui.panels.eq(e).filter("."+this.config.completedClass).length?e:d;this.prepareTabsData();if(d=null!=this.tabActive&&this.tabActive>d?this.tabActive:d)this.progress=this.tabsData[d].share*this.config.progressBarMultiplier,this.$el.parent().find(this.config.progressBarSelector).css(this.config.progressProperty,this.progress+this.config.progressBarUnit);this.$scrollingSelector.scroll();
if(this.$scrollingSelector.get(0)&&this.$scrollingSelector.get(0).scrollHeight<=this.$scrollingSelector.get(0).offsetHeight)for(e=0;e<this.panelsLength;e++)this.changePanel(e);"undefined"!==h&&setTimeout(function(){c(h).find(a.config.figureImageSelector).each(function(){c(this).trigger("figure.resize")})},100)},markCompleted:function(){this.config.markCompletedTabs&&this.completed.forEach(function(a){this.ui.panels.eq(a).addClass(this.config.completedClass)},this)},checkCompletion:function(){if(this.ui.panels.length!==
this.completed.length)return!1;this.unregisterAsRequired();n.log(this.id+" completed");return!0},remove:function(){this.$panelsImages.off("load.scrollTabs").off("error.scrollTabs");this.divSizeTracker.disconnect();this.$scrollingSelector.off("scroll.scrollTabs");this.constructor.__super__.remove.call(this)}},{displayName:"scrollTabs",config:n.extend(q,p.configure(k.id))});t.trigger("scrollTabs.loaded",!0,k);return k});
define("elements/xref/xref","module elements/element/element app/utilities/XyTools app/configuration app/events popup".split(" "),function(k,c,f,m,n,p){k=c.extend({events:{click:"togglePopup"},render:function(){var c=this,f=this.$el.data("width"),a=this.$el.data("height");this.guid=this.$el.data("popup-content-guid");this.link=this.$el.data("popup-link");this.$el.attr({"aria-haspopup":this.config.popupRole,tabindex:this.config.tabindex});this.popup=new p({moduleName:this.constructor.displayName,contentUrl:this.link,
popupWrapperClass:this.config.popupWrapperClass,popupContentClass:this.config.popupContentClass,title:this.config.title,modal:this.config.modal,draggable:this.config.draggable,autoOpen:this.config.autoOpen,closeOnEscape:this.config.closeOnEscape,height:a?a+"px":this.config.height,width:f?f+"px":this.config.width,ajaxComplete:function(){n.trigger("content.loaded",!1,c.popup.content)},close:function(){n.trigger("xref.content.remove",c.popup.content)}})},togglePopup:function(c){c.preventDefault();this.popup.toggle();
this.$el.not(".Visited").addClass(this.config.visitedClass)},remove:function(){this.popup.destroy();this.popup=null;this.constructor.__super__.remove.call(this)}},{displayName:"xref",config:f.extend({selector:".Xref",popupWrapperClass:"XrefPopup",popupContentClass:"XrefPopupContent",visitedClass:"Visited",title:"",modal:!0,draggable:!0,autoOpen:!1,closeOnEscape:!0,height:"70%",width:"70%",maxHeight:"90%",minHeight:"",maxWidth:"90%",minWidth:"",popupRole:"dialog",tabindex:0},m.configure(k.id))});n.trigger("xref.loaded",
!0,k);return k});
define("elements/marginnote/marginnote","module jquery elements/element/element app/utilities/XyTools app/configuration app/events popup".split(" "),function(k,c,f,m,n,p,t){k=f.extend({events:{"click .#{iconClass}":"togglePopup"},render:function(){this.$wrapper=this.getWrapper();this.$el.attr({"aria-haspopup":this.config.popupRole,tabindex:this.config.tabindex});this.popup=new t({moduleName:this.constructor.displayName,content:this.$el.find(this.config.marginNoteBodySelector).html()});this.$el.appendTo(this.$wrapper)},
togglePopup:function(){this.popup.toggle()},getWrapper:function(){var c;for(c=0;c<this.config.parentSelector.length;c++){var a=this.$el.closest(this.config.parentSelector[c]);if(a.length)break}var h=a.find("."+this.config.wrapperClass);return h.length?h:this.createWrapper(a,this.config.parentWrapperClass[c])},createWrapper:function(f,a){f.contents().wrapAll('<div class="'+a+'" />');a=c('<div class="'+this.config.wrapperClass+'"/>');f.prepend(a);return a},remove:function(){this.popup.destroy();this.constructor.__super__.remove.call(this)}},
{displayName:"marginNote",config:m.extend({selector:".MarginNote",parentSelector:[".StepUserAction",".ParaBlock"],marginNoteBodySelector:".MarginNoteBody",parentWrapperClass:["StepUserActionContent","ParaBlockContent"],wrapperClass:"MarginNoteWrapper",iconClass:"MarginNoteIcon",popupRole:"dialog",tabindex:0},n.configure(k.id))});p.trigger("marginNote.loaded",!0,k);return k});
define("elements/list/list","module jquery elements/element/element app/utilities/XyTools app/configuration app/events".split(" "),function(k,c,f,m,n,p){k=f.extend({ui:{listItems:"#{listItemSelector}"},events:{click:"showItem"},render:function(){this.build=this.$el.data("build");this.ui.listItems.addClass(this.config.hiddenClass)},showItem:function(c){if(this.validateEvent(c))switch(this.build){case "AllAtOnce":this.ui.listItems.addClass(this.config.visibleClass);break;case "OneAtTime":this.ui.listItems.not("."+
this.config.visibleClass).first().addClass(this.config.visibleClass);break;case "OneAtTimeEmphasize":this.ui.listItems.filter("."+this.config.visibleClass).last().hasClass(this.config.fadeClass)||!this.ui.listItems.first().is("."+this.config.visibleClass)?this.ui.listItems.not("."+this.config.visibleClass).first().addClass(this.config.visibleClass):this.ui.listItems.filter("."+this.config.visibleClass).last().addClass(this.config.fadeClass)}},validateEvent:function(f){return!c(f.target||f.srcElement).is(this.config.ignoreSelector)}},
{displayName:"list",config:m.extend({selector:'.List[data-build!=""]',scopeSelector:"#PageInnerWrap",listItemsSelector:".ListItems",listItemSelector:".ListItem",ignoreSelector:"a, img, input",hiddenClass:"Hidden",visibleClass:"Visible",fadeClass:"Fade"},n.configure(k.id))});p.trigger("list.loaded",!0,k);return k});
define("elements/inlineTerm/inlineTerm","module jquery elements/element/element app/utilities/XyTools app/configuration app/events".split(" "),function(k,c,f,m,n,p){k=f.extend({render:function(){var f=this;this.guid=this.$el.data("guid");this.$el.attr({"aria-haspopup":this.config.popupRole,tabindex:this.config.tabindex});c("body").on("click.inlineTerm"+this.cid,this.config.selector+'[data-guid="'+this.guid+'"]',function(c){c.preventDefault();f.togglePopup(c)});return this},togglePopup:function(c){c.preventDefault();
c=this.$el.data("term");var f=this.$el.next();window.Xyleme.environment.ReviewSession?p.trigger("glossary.openItem",this.$el.data("guid"),!0,c,f):p.trigger("glossary.openItem",this.$el.data("guid"),!0,c,f,!1)},remove:function(){c("body").off(".inlineTerm"+this.cid)}},{displayName:"inlineTerm",config:m.extend({selector:".InLineTerm",popupRole:"dialog",tabindex:0},n.configure(k.id))});p.trigger("inlineTerm.loaded",!0,k);return k});
define("elements/inlineHotText/inlineHotText","module jquery elements/element/element app/events app/utilities/XyTools app/configuration elements/tooltip/tooltip lang/lang".split(" "),function(k,c,f,m,n,p,t,q){q={selector:".InLineHotText",popupContentSelector:".InLineHotTextContent",popupWrapperClass:"InlineHotTextPopupWrapper",popupContentClass:"InlineHotTextPopupContent",title:q.t("elements.inlineHotText.title")||"",draggable:!0,modal:!1,maxWidth:"500px",closeOnOverlayClick:!0,delayForRollOverClose:500,
popupRole:"dialog",tabindex:0};k=f.extend({render:function(){var a=this;this.guid=this.$el.data("popupContentId");this.content=c("#"+this.guid).children().clone(!0,!0);this.trigger=this.$el.data("trigger");this.width=this.$el.data("width")||this.config.width;this.height=this.$el.data("height")||this.config.height;this.cursorOnHotText=!1;this.$el.attr({"aria-haspopup":this.config.popupRole,tabindex:this.config.tabindex});this.popup=new t({height:this.height&&this.height+"px",content:this.content,moduleName:this.constructor.displayName,
triggerType:this.trigger,trapFocus:!1,returnFocusItem:this.$el});this.width||this.config.width?this.popup.option("width",this.width):this.popup.option("maxWidth",this.config.maxWidth);c("body").on("click.inlineHotText"+this.cid,'[data-popup-content-id="'+this.guid+'"]',function(c){c.preventDefault();c.stopPropagation();a.toggle(c)});"roll-over"!==this.trigger||n.detect.device||(c("body").on("mouseleave.inlineHotText"+this.cid,'[data-popup-content-id="'+this.guid+'"]',function(c){c.preventDefault();
c.stopPropagation();a.cursorOnHotText=!1;setTimeout(a.close,a.config.delayForRollOverClose,c)}),c("body").on("mouseenter.inlineHotText"+this.cid,'[data-popup-content-id="'+this.guid+'"]',function(c){c.preventDefault();c.stopPropagation();a.cursorOnHotText=!0;a.open(c)}));this.closePopup=this.closePopup.bind(this);m.on("inlineHotText.closeAll",this.closePopup);return this},toggle:function(a){m.trigger("inlineHotText.closeAll",this);this.popup.isOpen()||this.popup.option("position",[a.clientY+10,a.clientX+
10]);this.popup.toggle()},close:function(a){this.popup.cursorOnPopup||this.cursorOnHotText||this.popup.close()},open:function(a){m.trigger("inlineHotText.closeAll",this);this.popup.isOpen()||(this.popup.option("position",[a.clientY+10,a.clientX+10]),this.popup.open())},closePopup:function(a){a!==this&&this.popup.close()},remove:function(){m.off("inlineHotText.closeAll",this.closePopup);c("body").off(".inlineHotText"+this.cid);this.popup.destroy();this.popup=null;this.constructor.__super__.remove.call(this)}},
{displayName:"inlineHotText",config:n.extend(q,p.configure(k.id))});m.trigger("inlineHotText.loaded",!0,k);return k});
define("elements/footnote/footnote","module jquery elements/element/element app/configuration app/events app/utilities/XyTools".split(" "),function(k,c,f,m,n,p){k=f.extend({events:{click:"markerClick"},render:function(){var c=this.$el.closest(this.config.appendTo||this.$scope);this.ui.appendTo=c;c.children(this.$el.attr("href")).length?this.ui.content=c.children(this.$el.attr("href")):(this.ui.content=this.$el.siblings(this.$el.attr("href")),this.ui.content.detach().appendTo(this.ui.appendTo).show());
this.ui.contentClass=this.ui.content.attr("class");this.ui.appendTo.css("counter-reset","footnote 0 footnoteContent 0")},markerClick:function(c){c.preventDefault();this.ui.content.scrollintoview({duration:this.config.scrollDuration});this.highlight()},highlight:function(){var c=this;this.unhighlight();setTimeout(function(){c.ui.content.addClass(c.config.highlightClass)},this.config.scrollDuration)},unhighlight:function(){this.$scope.find("."+this.ui.contentClass).removeClass(this.config.highlightClass)},
remove:function(){this.ui.appendTo.css("counter-reset","");this.constructor.__super__.remove.call(this)}},{displayName:"footnote",config:p.extend({selector:".FootnoteMarker",highlightClass:"HighlightFootnote",appendTo:"",scrollDuration:200},m.configure(k.id))});n.trigger("footnote.loaded",!0,k);return k});
define("elements/customNote/customNote","module jquery elements/element/element app/configuration app/events app/utilities/XyTools popup".split(" "),function(k,c,f,m,n,p,t){k=f.extend({ui:{icon:"#{iconSelector}",content:"#{contentSelector}"},events:{"click @ui.icon":"togglePopup"},render:function(){this.$el.data("popup")?(this.$el.attr({"aria-haspopup":this.config.popupRole,tabindex:this.config.tabindex}),this.popup=new t({modal:!1,content:this.ui.content})):this.undelegateEvents()},togglePopup:function(){this.popup.toggle()},
remove:function(){this.popup&&(this.popup.destroy(),this.popup=null);this.constructor.__super__.remove.call(this)}},{displayName:"customNote",config:p.extend({selector:".CustomNote",iconSelector:".Icon",contentSelector:".Content",popupRole:"dialog",tabindex:0},m.configure(k.id))});n.trigger("customNote.loaded",!0,k);return k});
define("elements/imagemap/imagemap","module jquery underscore elements/element/element app/configuration app/events app/utilities/XyTools lang/lang jquery.extensions".split(" "),function(k,c,f,m,n,p,t,q){f={selector:".ImageMap",imageSelector:"img",baseImageSelector:"img.ImageMapImage",overlaySelector:".ImageMapOverlay",overlayWrapperSelector:".ImageMapOverlayWrapper",displayAreaSelector:".DisplayArea",overlaySVGSelector:".HotSpotsWrapper",hotSpotSelector:".HotSpot",hotSpotLinkSelector:".ShapeWrapperLink",
hotSpotContentSelector:".HotSpotContent",hotSpotContentPopupSelector:".HotSpotContentPopup",hotSpotVisibleClass:"Visible",hotSpotHiddenClass:"Hidden",hotSpotCompletedClass:"Completed",hotSpotCompletedMarkSelector:".CompletedMark",audioSelector:".Audio",videoSelector:".Movie",embedSelector:".EmbedMovie",textElementsSelectors:".DisplayArea .RichText, .DisplayArea .Caption",popupWrapperSelector:".PopupWrapper",persistCompletedHotSpots:!1,defaultShowHotSpotEvent:"click",defaultShowHotSpotOutlinesEvent:"onload",
hideHotSpotContextSelector:document,mustBeCompletedMessage:q.t("elements.imagemap.mustBeCompletedMessage")||"Please visit all hotspots before proceeding.",responsiveScaling:!0,persistCompletion:!0};k=m.extend({ui:{img:"#{imageSelector}",baseImage:"#{baseImageSelector}",baseImageLoaded:!1,overlay:"#{overlaySelector}",overlayWrapper:"#{overlayWrapperSelector}",contents:"#{overlaySelector} #{hotSpotContentSelector}",svg:"#{overlaySelector} #{overlaySVGSelector}",hotspotLinks:"#{overlaySelector} #{overlaySVGSelector} #{hotSpotLinkSelector}",
hotspots:"#{overlaySelector} #{overlaySVGSelector} #{hotSpotSelector}",displayArea:"#{overlaySelector} #{displayAreaSelector}"},initialize:function(a){this.constructor.__super__.initialize.call(this,a);this.attributes=this.$el.data();this.mustBeCompleted=this.attributes.mustBeCompleted;this.embeds={}},render:function(){this.ui.baseImage.one("load",this.imageLoaded);this.handlePolygon();this.handleCompletion();p.trigger("imageMapEl.render:after",this);return this},markCompleted:function(){this.completed.forEach(function(a){this.ui.hotspots.filter("[data-index="+
a+"]").addClassSVG(this.config.hotSpotCompletedClass)},this)},checkCompletion:function(){var a=!1;this.completed.length===this.ui.hotspots.length&&(this.unregisterAsRequired(),a=!0);return a},imageLoaded:function(){this.considerDisplayAreaOffset();this.positionOverlay();this.scaleImage();this.handleHotSpotOutlines();this.handleHotSpotContents();this.handleScaling();this.show();this.ui.baseImageLoaded=!0},handlePolygon:function(){this.ui.svg.find("text").not(this.config.hotSpotCompletedMarkSelector).each(function(){var a=
c(this).parent()[0],h=c(this).text().split(/\s|\n/).join("").split("#").join(" "),l=c(this).attr("stroke"),d=document.createElementNS("http://www.w3.org/2000/svg","polygon");d.setAttributeNS(null,"points",h);d.setAttributeNS(null,"stroke",l);a.insertBefore(d,a.firstChild);c(this).remove()})},show:function(){this.ui.overlay.css({opacity:1})},considerDisplayAreaOffset:function(){var a=this.getBoundingRect(this.ui.displayArea);var c=this.getBoundingRect(this.ui.img);if(!this.ui.displayArea.length||!this.isDisplayAreaBeyondImage(a,
c))return this;a=this.getTargetOffsets(a,c);c=this.getTargetSize(a.displayArea,a.image);this.ui.displayArea.css({top:a.displayArea.top,left:a.displayArea.left}).data({top:a.displayArea.top,left:a.displayArea.left});this.ui.img.css({top:a.image.top,left:a.image.left}).data({top:a.image.top,left:a.image.left});this.ui.svg.css({top:a.image.top,left:a.image.left,width:a.image.width,height:a.image.height}).data({top:a.image.top,left:a.image.left});this.ui.overlay.css({height:c.height,width:c.width});this.resizeReady=
!0},positionOverlay:function(){var a=this.ui.img[0],c=a.naturalWidth,l=this.ui.img.width();a=a.naturalHeight;var d=this.ui.img.height();this.resizeReady||this.ui.overlay.add(this.ui.svg).height(this.ui.img.height()).width(this.ui.img.width());/^true$/i.test(this.attributes.hotspotsPrescaled)||(l!==c||d!==a?this.scaleHotSpots(l/c,d/a):this.scaleHotSpots(1,1))},scaleHotSpots:function(a,c){this.ui.hotspots.attr("transform","scale("+a+", "+c+")")},showHotSpot:function(a){c(a).removeClassSVG(this.config.hotSpotHiddenClass).addClassSVG(this.config.hotSpotVisibleClass)},
hideHotSpot:function(a){c(a).removeClassSVG(this.config.hotSpotVisibleClass).addClassSVG(this.config.hotSpotHiddenClass)},handleHotSpotOutlines:function(){var a=this,h=this.attributes.showHotspotOutlinesEvent.toLowerCase()||this.config.defaultShowHotSpotOutlinesEvent;t.detect.device&&!h.match(/onload|never/)&&(h="click");h.match(/^onload$/i)?this.showHotSpot(this.ui.hotspots):this.hideHotSpot(this.ui.hotspots);h.match(/^mouseover$/i)&&(this.ui.hotspots.on("mouseover",function(){a.showHotSpot(this)}),
this.ui.hotspots.on("mouseout",function(){a.hideHotSpot(this)}));if(h.match(/^click$/i))this.ui.hotspots.on("click",function(h){h.stopPropagation();a.hideHotSpot(a.ui.hotspots);a.showHotSpot(this);c(document).on("click.hotspotoutline touchstart.hotspotoutline",function(){a.hideHotSpot(a.ui.hotspots);c(document).off("click.hotspotoutline touchstart.hotspotoutline")})})},showHotSpotContent:function(a,h){var l=this,d=c(a).attr("id"),e=c(a).attr("data-index");d=this.ui.contents.filter("#"+d+"-content");
var f=h.originalEvent&&h.originalEvent.changedTouches?h.originalEvent.changedTouches[0]:{};a={y:h.pageY||f.pageY||a.getBoundingClientRect().top,x:h.pageX||f.pageX||a.getBoundingClientRect().left};h=d.find(l.config.embedSelector);this.hideHotSpotContent(this.ui.contents);this.ui.displayArea.length?(this.ui.displayArea.css("visibility","visible"),d.show()):d.has(this.config.hotSpotContentPopupSelector).length?this.showHotSpotPopup(d):this.positionHotSpotContent(d,a);h.each(function(){c(this).html(l.embeds[c(this).attr("data-media-guid")])});
this.setCompleted(e);this.markCompleted();p.trigger("elements.resize",this.$el,this.$scope);p.trigger("imageMapEl.showHotSpotContent:after",this);return this},showHotSpotPopup:function(a){a.has(this.config.hotSpotContentPopupSelector).find("a")[0].click()},positionHotSpotContent:function(a,h){var l=this.ui.img.width()*this.getScalingCoef(),d=this.ui.overlay.offset(),e=c(window).width(),f=c(window).height(),k=h.x-d.left>l/2?"right":"left",m=h.y>f/2?"bottom":"top",t={};t[k]="right"===k?e-h.x:h.x;t[m]=
"bottom"===m?f-h.y:h.y;t["max-width"]="right"===k?h.x-d.left-10:l-h.x+d.left-10;t["max-height"]=.9*(f-t[m]-20)|0;a.removeAttr("style").show().css(t).attr("aria-hidden",!1).find(".mejs-horizontal-volume-slider").show();this.considerVideoInHotSpotContent(a)},considerVideoInHotSpotContent:function(a){var c=a.find(this.config.videoSelector);c.length&&(c=c.css("max-width"))&&a.css("width",c)},hideHotSpotContent:function(a){var h=this,l=a.find(h.config.embedSelector),d=a.find(h.config.videoSelector).add(h.config.audioSelector).add(l);
p.trigger("imageMapEl.hideHotSpotContent:before",this);this.ui.displayArea.length&&this.ui.displayArea.css("visibility","hidden");a.attr("aria-hidden",!0).hide();0<d.length&&l.each(function(){h.embeds[c(this).attr("data-media-guid")]||(h.embeds[c(this).attr("data-media-guid")]=c(this).html());c(this).empty()});p.trigger("imageMapEl.hideHotSpotContent:after",this);return this},handleHotSpotContents:function(){var a=this,h=this.attributes.hotspotEvent.toLowerCase()||this.config.defaultShowHotSpotEvent;
t.detect.device&&(h="click");h.match(/^mouseover$/i)&&(this.ui.hotspots.on("mouseover",function(h){var d=a.ui.contents.filter("#"+c(this).attr("id")+"-content");h.relatedTarget!==d[0]&&a.showHotSpotContent(this,h)}),this.ui.hotspots.on("mouseout",function(h){var d=c(this).attr("id");d=a.ui.contents.filter("#"+d+"-content");(h.toElement||h.relatedTarget)!==d[0]&&a.hideHotSpotContent(a.ui.contents)}),this.ui.contents.on("mouseout",function(h){var d=c(this).attr("id");d=d.substr(0,d.length-8);d=c("#"+
d);h=h.toElement||h.relatedTarget;h===this||h===d[0]||d.find(h).length||c(this).find(h).length||a.hideHotSpotContent(a.ui.contents)}),this.ui.hotspotLinks.on("focus",function(h){a.showHotSpotContent(c(this).parent()[0],h)}),this.ui.hotspotLinks.on("blur",function(){a.hideHotSpotContent(a.ui.contents)}));h.match(/^click$/i)&&(this.ui.hotspots.on("click",function(c){c.stopPropagation();c.preventDefault();a.hideOnNextEvent();a.showHotSpotContent(this,c)}),this.ui.hotspotLinks.on("keypress",function(h){h.preventDefault();
13!=h.keyCode&&32!=h.keyCode||a.showHotSpotContent(c(this).parent()[0],h)}),this.ui.overlayWrapper.on("keydown",function(c){27===c.keyCode&&a.hideHotSpotContent(a.ui.contents)}));this.ui.displayArea.length&&(this.ui.contents.appendTo(this.ui.displayArea),this.ui.contents.css("transform","scale(1)"),this.unscaleHotSpotsTexts())},hideOnNextEvent:function(){function a(d){var e=d&&c(d.target).closest(h.config.hotSpotContentSelector).length;var f=d&&c(d.target).closest(h.config.popupWrapperSelector).length;
var k=d&&"scroll"===d.type&&c(d.target).closest(h.config.selector).length;d=d&&"scroll"===d.type&&h.ui.displayArea.length;e||f||k||d||(h.hideHotSpotContent(h.ui.contents),l.off("click.hostpotcontent",a),c(window).off("resize.hotspotcontent",a),l[0].removeEventListener("scroll",a,!0))}var h=this,l=c(this.config.hideHotSpotContextSelector);a();l.on("click.hostpotcontent",a);l[0].addEventListener("scroll",a,!0);c(window).on("resize.hotspotcontent",a)},getBoundingRect:function(a){var c;if(!a||!a.length)return null;
a=a[0];a.getBoundingClientRect();a.naturalWidth;a={top:a.style.top,bottom:a.style.bottom,left:a.style.left,right:a.style.right,width:a.style.width||a.width,height:a.style.height||a.height};for(c in a)a[c]=parseInt(a[c]||0);return a},isDisplayAreaBeyondImage:function(a,c){a=a||this.getBoundingRect(this.ui.displayArea);c=c||this.getBoundingRect(this.ui.img);return 0>a.left||0>a.top||a.left+a.width>c.width||a.top+a.height>c.height?!0:!1},getTargetOffsets:function(a,c){var h=t.copy(a);c=t.copy(c);0>a.left&&
(h.left=0,c.left=-a.left);0>a.top&&(h.top=0,c.top=-a.top);return{displayArea:h,image:c}},getTargetSize:function(a,c){return{height:Math.max(c.top+c.height,a.top+a.height),width:Math.max(c.left+c.width,a.left+a.width)}},handleScaling:function(){this.config.responsiveScaling&&("rtl"===t.getLanguageDirection()&&t.detect.browser.ie&&this.ui.svg.css("transform-origin","left top"),this.ui.overlayWrapper.css("overflow","hidden"))},scaleImage:function(){var a=this.ui.overlayWrapper[0],h=a.offsetWidth;a=a.scrollWidth;
var l=this.getScalingCoef(),d=this.ui.img.height()*l;a>h?(this.scaleRatio=h/(a+6),this.ui.overlay.children().filter(":not("+this.config.hotSpotContentSelector+")").css("transform","scale("+this.scaleRatio+")"),this.ui.img.add(this.ui.displayArea).add(this.ui.svg).each(function(){c(this).css({top:c(this).data("top")*l,left:c(this).data("left")*l})}),this.ui.overlayWrapper.height(d+20),this.unscaleHotSpotsTexts()):(this.ui.overlay.children().css("transform","scale(1)"),this.ui.img.add(this.ui.displayArea).add(this.ui.svg).each(function(){c(this).css({top:c(this).data("top"),
left:c(this).data("left")})}),this.ui.overlayWrapper.height("auto"))},unscaleHotSpotsTexts:function(){this.scaleRatio&&c(this.config.textElementsSelectors,this.ui.overlay).css({"font-size":1/this.scaleRatio+"em","line-height":"normal"})},getScalingCoef:function(){var a=this.ui.overlayWrapper[0];return this.config.responsiveScaling?a.offsetWidth/a.scrollWidth:1},resize:function(){this.ui.baseImageLoaded&&(this.considerDisplayAreaOffset(),this.positionOverlay(),this.config.responsiveScaling&&this.scaleImage())},
remove:function(){this.ui.hotspots.off("click mouseover mouseout");p.off("player.data:save",this.saveData);this.constructor.__super__.remove.call(this)}},{displayName:"imageMap",config:t.extend(f,n.configure(k.id))});p.trigger("imageMap.loaded",!0,k);return k});
define("elements/htmlPage/htmlPage","module jquery underscore elements/element/element app/utilities/XyTools app/configuration app/events".split(" "),function(k,c,f,m,n,p,t){k=m.extend({ui:{title:"#{titleSelector}",htmlPage:"#{htmlPageSelector}"},render:function(){this.config.hideTitle&&this.ui.title.hide();this.resize()},resize:function(){var f=c(this.config.contentContainerSelector).parent(),a=c(this.config.contentContainerSelector),h=c(this.config.selector);f=f.height()-(a.outerHeight(!0)-a.height())-
(h.outerHeight(!0)-h.height());this.ui.htmlPage.height(f)}},{displayName:"htmlPage",config:n.extend({selector:".HtmlPageWrapper",titleSelector:".Title",htmlPageSelector:".HtmlPage",hideTitle:!0},p.configure(k.id))});t.trigger("htmlPage.loaded",!0,k);return k});
define("elements/flashcards/flashcards","module jquery underscore app/utilities/helper/helperView elements/element/element app/configuration app/events app/utilities/XyTools lang/lang".split(" "),function(k,c,f,m,n,p,t,q,a){f={selector:".FlashCardsComponent",delimiter:",",flashCardsSelector:".FlashCards",flashCardSelector:".FlashCard",chooseModeCardSelector:".ChooseModeCard",chooseModeButtonsSelector:".ChooseModeButton",navigationSelector:".FlashCardsNavigation",navigationButtonSelector:".FlashCardsNavigationButton",
chooseModeButtonSelector:".ChooseModeNavigationButton",cardFrontSelector:".CardFront",cardBackSelector:".CardBack",cardBackTextSelector:".CardBackText",cardBackInputSelector:".CardBackInput",textMatchesSelector:".TextMatches",textMatchSelector:".TextMatch",patternSelector:".Pattern",richTextSelector:".RichText",testInputSelector:".FlashCardInput",testButtonSelector:".FlashCardSubmitButton",feedbackSelector:".CardBackFeedback",audioSelector:".Audio",audioElementSelector:"audio",figureSelector:".FigureImage",
mustBeCompletedMessage:a.t("elements.flashcards.mustBeCompletedMessage")||"Please visit all flash cards before proceeding.",randomizationOnAttempt:!1};n=n.extend({ui:{navigation:"#{navigationSelector}",chooseModeCard:"#{chooseModeCardSelector}",buttons:"#{chooseModeButtonsSelector}",cards:"#{flashCardSelector}",cardHolder:"#{flashCardsSelector}"},initialize:function(a){this.constructor.__super__.initialize.call(this,a);this.flashCards=[];this.activeCard=this.mode=null;this.activeCardIndex=-1;this.randomizeCards=
/^true$/i.test(this.$el.attr("data-randomize"));this.mustBeCompleted=/^true$/.test(this.$el.attr("data-must-be-completed"));this.enabledModes=this.$el.attr("data-modes");t.on("flashCards.deliverCardByGuid",this.deliverCardByGuid);t.on("flashcards.deliverCardByGuid",this.deliverCardByGuid)},render:function(){this.createCards();this.handleMode();this.initNavigation();this.handleCompletion();this.initializeMedia()},createCards:function(){var a=this;this.randomizeCards&&this.randomize();this.ui.cards.each(function(d,
c){d=new h({el:c,index:d,parent:a});a.flashCards.push(d)})},randomize:function(){this.ui.cards.detach();this.ui.cards.sort(function(){return Math.round(Math.random())-.5});this.ui.cards.appendTo(this.ui.cardHolder)},renderCards:function(){this.flashCards.forEach(function(a){a.render()})},checkCompletion:function(){return this.completed.length===this.flashCards.length?(this.unregisterAsRequired(),!0):!1},initializeMedia:function(){t.trigger("media.pause",this.$el);return this},handleMode:function(){var a=
this;var d=function(d){this.mode=d;this.hideCard(this.ui.chooseModeCard);a.randomizeCards&&/^true$/i.test(a.config.randomizationOnAttempt)&&a.handleAttemptRandomization();this.deliverCard("first");this.showNavigation();this.renderCards();this.ui.buttons.off("click.mode")}.bind(this);"Learn and Practice"===this.enabledModes&&this.ui.buttons.filter('[data-mode="test"]').remove();if("Learn"===this.enabledModes||"Practice"===this.enabledModes)d(this.enabledModes.toLowerCase());else this.ui.buttons.off("click.mode").on("click.mode",
function(){var a=c(this).attr("data-mode");d(a)})},handleAttemptRandomization:function(){var a;this.flashCards.sort(function(){return Math.round(Math.random())-.5});var d=0;for(a=this.flashCards.length;d<a;d+=1)this.flashCards[d].index=d},deliverCardByGuid:function(a){var d;this.mode&&(new RegExp("^"+window.Xyleme.environment.GUID_REGEX.source+"$")).test(a)&&(d=this.flashCards.filter(function(d){return d.el.id===a})[0])&&(this.activeCard&&this.activeCard.index===d.index||this.deliverCard(d.index))},
deliverCard:function(a){this.activeCard&&this.hideCard(this.activeCard.$el,a);switch(a){case "first":this.activeCard=this.flashCards[0];this.activeCardIndex=0;break;case "last":this.activeCard=this.flashCards[this.flashCards.length-1];this.activeCardIndex=this.flashCards.length-1;break;case "next":this.activeCard=this.flashCards[this.activeCardIndex+1];this.activeCardIndex++;break;case "prev":this.activeCard=this.flashCards[this.activeCardIndex-1];this.activeCardIndex--;break;default:this.activeCard=
this.flashCards[a|0],this.activeCardIndex=a|0}"learn"===this.mode&&this.activeCard.markCardCompleted();t.trigger("media.pause",this.$el);this.showCard(this.activeCard);this.handleNavigation(a)},deliverChooseModeCard:function(){this.destroyCards();this.activeCard=null;this.hideCard();this.showCard(this.ui.chooseModeCard);this.handleMode()},hideCard:function(a,d){"undefined"===typeof a?this.flashCards.forEach(function(a){a.$el.hide()}):(/next|last/.test(d)?a.addClass("FallLeft"):a.addClass("FallRight"),
setTimeout(function(){a.hide().removeClass("FallLeft FallRight")},500))},showCard:function(a){a.show&&a.show();a.$el&&a.$el.show&&a.$el.show()},destroyCards:function(){t.trigger("media.pause",this.$el);this.flashCards.forEach(function(a){a.destroy()})},initNavigation:function(){var a=this;this.ui.navigation.find(this.config.navigationButtonSelector).on("click",function(){a.deliverCard(c(this).attr("data-action"))});if("Learn"!==this.enabledModes&&"Practice"!==this.enabledModes)this.ui.navigation.find(this.config.chooseModeButtonSelector).on("click",
function(){a.deliverChooseModeCard()});else this.ui.navigation.find(this.config.chooseModeButtonSelector).remove()},showNavigation:function(){this.ui.navigation.css("visibility","visible")},handleNavigation:function(){var a=function(){this.ui.navigation.find(this.config.navigationButtonSelector).css("visibility","visible")}.bind(this);var d=function(a){this.ui.navigation.find(this.config.navigationButtonSelector+"[data-action="+a+"]").css("visibility","hidden")}.bind(this);a();0===this.activeCardIndex&&
(d("first"),d("prev"));this.activeCardIndex===this.flashCards.length-1&&(d("next"),d("last"))},remove:function(){this.destroyCards();t.off("flashCards.deliverCardByGuid",this.deliverCardByGuid);this.constructor.__super__.remove.call(this)}},{displayName:"flashCards",config:q.extend(f,p.configure(k.id))});var h=m.extend({ui:{frontCard:"#{cardFrontSelector}",backCard:"#{cardBackSelector}",audio:"#{audioSelector}",audioEls:"#{audioElementSelector}",figures:"#{figureSelector}",textMatches:"#{textMatchesSelector}",
input:"#{testInputSelector}",submit:"#{testButtonSelector}",feedback:"#{feedbackSelector}"},initialize:function(a){this.parent=a.parent;this.index=a.index;this.mode=null;this.completed=!1},render:function(){this.mode=this.parent.mode;this.handleAudioAfterSubmit();"learn"===this.mode?0===this.ui.frontCard.find(this.config.cardBackTextSelector).length&&this.ui.frontCard.append(this.ui.backCard.find(this.config.cardBackTextSelector).clone().show()):this.ui.frontCard.find(this.config.cardBackTextSelector).remove();
"practice"===this.mode&&(this.handleFlip(),this.handleContent(this.config.cardBackTextSelector,this.config.cardBackInputSelector));"test"===this.mode&&(this.handleFlip(),this.handleInput(),this.handleAudio(),this.handleContent(this.config.cardBackInputSelector,this.config.cardBackTextSelector),this.restoreFeedback());this.$el.removeClass("Flip")},handleAudioSize:function(){this.ui.audioEls.trigger("media.resize")},handleFigureSizes:function(){this.ui.figures.trigger("figure.resize")},handleAudio:function(){this.handleAudioSize();
this.ui.audio.hide().on("click",function(a){a.stopPropagation()})},show:function(){this.ui.el.show();this.handleAudioSize();this.handleFigureSizes();t.trigger("media.resumeAutoplay",this.ui.frontCard)},destroy:function(){this.ui.frontCard.off("click");this.ui.backCard.off("click");this.ui.input.length&&this.ui.submit.length&&(this.ui.input.off("click keypress"),this.ui.submit.off("click"))},handleFlip:function(){var a=this;this.ui.frontCard.on("click",function(){a.$el.addClass("Flip");t.trigger("media.pause",
this);t.trigger("media.resumeAutoplay",a.ui.backCard);"practice"===a.mode&&a.markCardCompleted()});this.ui.backCard.on("click",function(){a.$el.removeClass("Flip");t.trigger("media.pause",this);t.trigger("media.resumeAutoplay",a.ui.frontCard)})},handleContent:function(a,d){this.ui.frontCard.find(this.config.CardBackTextSelector).remove();this.$el.find(d).hide().end().find(a).css("display","inline-block");this.hideFeedbacks()},markCardCompleted:function(){this.parent.setCompleted(this.index);this.completed=
!0},handleInput:function(){var a=this;this.type=this.ui.textMatches.length?"TextMatch":"RichText";this.answer=this.getAnswer();if("TextMatch"===this.type){var d=this.ui.textMatches.attr("data-field-char-limit");var c=this.ui.textMatches.attr("data-field-char-size");this.ui.input.attr("maxlength",d);this.ui.input.attr("size",c)}this.ui.input.on("click keypress",function(d){d.stopPropagation();13===d.keyCode&&a.handleAnswer()});this.ui.submit.on("click",function(d){d.stopPropagation();a.handleAudioAfterSubmit();
a.handleAnswer()})},getAnswer:function(){var a=this;if("RichText"===this.type)return c.trim(this.$el.find(this.config.cardBackTextSelector+":first").text());if("TextMatch"===this.type){var d={matchAtLeast:this.ui.textMatches.attr("data-match-at-least")|0,textMatches:[]};c.each(this.ui.textMatches.find(this.config.textMatchSelector),function(){var e={matchAtLeast:c(this).attr("data-match-at-least")|0,patterns:[]};c.each(c(this).find(a.config.patternSelector),function(){e.patterns.push(c(this).data())});
d.textMatches.push(e)});return d}},checkAnswer:function(){var a=this.ui.input.val(),d,e;if("RichText"===this.type)return a===this.answer;if("TextMatch"===this.type){a=a.split(this.config.delimiter);var h=0;for(d=a.length;h<d;h++)a[h]=c.trim(a[h]);var f=this.answer;h=f.matched=0;for(d=f.textMatches.length;h<d;h++){var k=f.textMatches[h];var m=k.matched=0;for(e=k.patterns.length;m<e;m++)this.checkPattern(a,k.patterns[m])&&k.matched++;k.matched>=k.matchAtLeast&&f.matched++}return f.matched>=f.matchAtLeast}},
checkPattern:function(a,d){var c=d.pattern,h="",f;/^true$/.test(d.ignoreCase)&&(h+="i");/^true$/.test(d.ignoreExtraWords)||(c="^"+c+"$");var l=0;for(f=a.length;l<f;l++){var k=a[l];/^true$/.test(d.ignoreHyphensAndMinus)&&(k=k.replace(/-/g,""));/^true$/.test(d.ignoreSpaces)&&(k=k.replace(/\s/g,""),c=c.replace(/\s/g,""));if((new RegExp(c,h)).test(k))return!0}return!1},handleAnswer:function(){var a=this.checkAnswer();this.correct=a;this.handleFeedback(a);"test"===this.mode&&this.markCardCompleted()},
restoreFeedback:function(){this.correct===!!this.correct&&this.handleFeedback(this.correct)},handleFeedback:function(a){this.hideFeedbacks();a?this.showCorrectFeedback():this.showIncorrectFeedback()},showCorrectFeedback:function(){this.ui.feedback.find(".CorrectFeedback").show()},showIncorrectFeedback:function(){this.ui.feedback.find(".IncorrectFeedback").show()},handleAudioAfterSubmit:function(){this.ui.audio.show();this.handleAudioSize()},hideFeedbacks:function(){(this.ui.feedback||this.$el.find(this.config.feedbackSelector)).find(".Feedback").hide()}},
{displayName:"flashCardsCard",config:q.extend(f,p.configure(k.id))});t.trigger("flashcards.loaded",!0,n);t.trigger("flashCards.loaded",!0,n);return n});
define("elements/questions/question/behavior","module underscore app/utilities/helper/helperCore app/utilities/XyTools app/events app/configuration".split(" "),function(k,c,f,m,n,p){var t=window.XYLEME_OUTPUT_PROFILE_WAB||{};k=f.extend({initialize:function(c){this.inherit("config",!0);this.forceNoRandomization=this._handleRandomizationOverride();this.keepQuestionMetadata=this._keepQuestionMetadataOverride()||c&&c.keepQuestionMetadata;c=this._removeEmptyProperties(c);this.originalBehavior=c=m.extend(this.config.defaultWAB,
t,c);this.behavior=this._normalizeTypes(c)},_handleRandomizationOverride:function(){return!!window.Xyleme.environment.ReviewSession},_keepQuestionMetadataOverride:function(){return!!window.Xyleme.environment.ReviewSession},_removeEmptyProperties:function(c){for(var a in c)""===c[a]&&delete c[a];return c},_normalizeTypes:function(c){return m.normalizeTypes(c)},getOriginalBehavior:function(){return m.copy(this.originalBehavior)},getBehavior:function(){return m.copy(this.behavior)},getQuestionBehavior:function(){var f=
m.copy(c.pick(this.behavior,this.config.questionProps));f.keepQuestionMetadata=this.keepQuestionMetadata;f.randomizechoices=f.randomizechoices&&this.behavior.mcq_randomizechoices&&!this.forceNoRandomization;f.forceNoRandomization=this.forceNoRandomization;return f}},{config:m.extend({defaultWAB:{allowassessmentexit:"",attemptlimit:"1",dnd_mode:"Assessment",dnd_showsolution:"true",dnd_showtarget:"true",enableflagging:"false",enablemultipleselection:"",enhancedscorecard:{},forwardnavigationonly:"true",
leavecorrectbetweenattempts:"false",mcq_randomizechoices:"true",minpassingthreshold:"",questionnavigationprompt:"true",questionweight:"1.0",randomizechoices:"true",randomizequestions:"false",keepQuestionMetadata:"false",reorderchildren:"true",selectcount:"",showadvice:"true",showfeedback:"true",showhint:"true",submitmode:"OneByOne","xy:guid":""},questionProps:"attemptlimit dnd_mode dnd_showsolution dnd_showtarget enableflagging enablemultipleselection leavecorrectbetweenattempts questionnavigationprompt questionweight randomizechoices keepQuestionMetadata showadvice showfeedback showhint".split(" ")},
p.configure(k.id))});n.trigger("behavior.loaded",!0,k);return k});
define("app/utilities/helper/helperModel",["underscore","backbone","app/utilities/helper/helperCore","app/utilities/XyTools","app/events"],function(k,c,f,m,n){function p(c,f,d){var e={};"string"===m.type(d)&&(e.type=t(d)?d:"any");"array"===m.type(d)&&(e.type=t(d[0])?d[0]:"any",e.default=d[1]);"object"===m.type(d)&&(e=k.extend(e,d));"string"!==m.type(e.type)&&(e.type="any");e.default=e.default||a[e.type].default();c._definitions[f]=e}function t(a){return k.contains("string number boolean array object date any".split(" "),
a)}var q=function(a,c){var d=a||{};c=c||{};this.cid=k.uniqueId(this.cidPrefix);this.attributes={};c.collection&&(this.collection=c.collection);c.parse&&(d=this.parse(d,c)||{});this.inherit("config",!0);this._decorate();this._initProps();d=m.extend(this._getDefaults(),d);this.set(d,c);if(this.validationError)return m.error(Error("Failed to initialize model")),null;this.changed={};this.initialize.apply(this,arguments)};k.extend(q,c.Model);k.extend(q.prototype,c.Model.prototype,c.Events,{decorate:!0,
extraProperties:"allow",_initProps:function(){var a;this.inherit("props");this._definitions={};for(a in this.props)p(this,a,this.props[a])},_getDefaults:function(){var a,c={};for(a in this._definitions)c[a]=this._definitions[a].default;return c},get:function(a){return"string"!==typeof a||-1===a.indexOf(".")?this.attributes[a]:a.split(".").reduce(function(a,d){return"object"!==m.type(a)?a:a[d]},this.attributes)},_validate:function(a,c){if(!1===c.validate||!this.validate)return!0;a=k.extend({},this.attributes,
a);a=this.validationError=this.validate(a,c)||null;if(!a)return!0;this.trigger("invalid",this,a,k.extend(c,{validationError:a}));m.error(a);return!1},validate:function(a,c){c=this.extraProperties;var d;for(d in a){var e=a[d];var h=this._definitions[d];if(!h){if("reject"===c)return new TypeError('No "'+d+'" defined on model and extraProperties are set to "reject"');if("allow"===c)p(this,d,"any"),h=this._definitions[d];else return"undefined"!==m.type(c)?new TypeError('"extraProperties" has invalid value. Valid values are "reject" or "allow"'):
new TypeError('No "extraProperties" set')}if("any"!==h.type&&m.type(e)!==h.type)return new TypeError("Property '"+d+"' must be of type "+h.type+". Tried to set "+e);if(h.values&&!k.contains(h.values,e))return new TypeError("Property '"+d+"' must be one of values: "+h.values.join(", ")+". Tried to set "+e)}}});"publish _getFromSuper inherit _decoratorSkip _decoratorSkipFilter _decorate _getDecoratorSkipFilter _getDecoratorSkipMethods _getInheritableMethods".split(" ").forEach(function(a){q.prototype[a]=
f.prototype[a]});var a={number:{"default":function(){return 0}},string:{"default":function(){return""}},boolean:{"default":function(){return!1}},date:{"default":function(){return new Date}},array:{"default":function(){return[]}},object:{"default":function(){return{}}},any:{default:function(){}}};n.trigger("helperModel.loaded",!0,q);return q});
define("elements/questions/question/model","module underscore app/utilities/helper/helperModel app/events app/utilities/XyTools app/configuration".split(" "),function(k,c,f,m,n,p){k=f.extend({idAttribute:"xy:guid",propagateEvents:!0,extraProperties:"allow",props:{"xy:guid":"string",type:"string",behavior:"object",interactionType:["string","other"],pageIndex:"number",weight:["number",1],result:{type:"string",default:"",values:["","correct","incorrect"]},satisfied:"boolean",remainingAttempts:["number",
-1],timesAttempted:"number",flagged:["boolean",!1],flagEnabled:["boolean",!0],timestamp:"number",latency:"number",enabled:["boolean",!0],answers:"array",correctAnswers:"array",answerOrder:"array",previousAnswers:"array",name:"any",title:"any",questionstem:"any",advice:"any",feedback:"any",hint:"any",instructions:"any",isScorecard:"boolean",isSubmitAll:"boolean",isSubmitAllSaved:"boolean",isAssessment:"boolean"},initialize:function(){var c=!0;if(0===this.get("remainingAttempts")||this.get("satisfied"))c=
!1;this.get("isSubmitAll")&&!this.get("isSubmitAllSaved")&&(c=!0);this.get("isSubmitAllSaved")&&(c=!1);this.set("enabled",c);this.setTimestamp();this.setupFlag();this.setupAttempts();this.outputEvents()},outputEvents:function(){this.on("change",function(){Object.keys(this.changed).forEach(function(c){this.publish("change:"+c,this.changed[c])},this)},this);this.publish("change")},setTimestamp:function(){if(!this.get("timestamp")){var c=new Date;c.setMilliseconds(0);this.set("timestamp",c.getTime())}},
setupFlag:function(){this.set("flagEnabled",this.get("behavior.enableflagging"))},setupAttempts:function(){var c=this.get("behavior.attemptlimit");-1===this.get("remainingAttempts")?this.set("remainingAttempts",c):this.set("timesAttempted",c-this.get("remainingAttempts"))},submit:function(){if(!this.get("isSubmitAll")||!this.get("isSubmitAllSaved"))if(this.hasAnswers()){var c=this.isCorrect();this.set("satisfied",c);this.set("result",c?"correct":"incorrect");this.set("previousAnswers",this.get("answers"));
this.set("timesAttempted",this.get("timesAttempted")+1);this.set("remainingAttempts",Math.max(this.get("remainingAttempts")-1,0));1===this.get("timesAttempted")&&this.set("latency",Date.now()-this.get("timestamp"));m.trigger("questionModel.submit:answered",this);this.get("isSubmitAll")||(this.get("satisfied")||0>=this.get("remainingAttempts")?this.set("enabled",!1):(this.resetAnswers(),this.trigger("submit:showSupplements")))}else this.get("isSubmitAll")||this.get("isSubmitAllSaved")||this.trigger("submit:noanswer")},
resetAnswers:function(){this.get("behavior.leavecorrectbetweenattempts")?this.refreshCorrectAnswers():this.clearAnswers()},setupAnswerOrder:function(){},refreshCorrectAnswers:function(){var f=this.get("answers"),k=this.get("correctAnswers");this.set("answers",c.intersection(f,k))},clearAnswers:function(){var c=this.get("answers");c="Matrix"==this.get("type")?c.map(function(){return[]}):[];this.set("answers",c)},hasAnswers:function(){return!!this.get("answers").length},isAttempted:function(){return this.get("isSubmitAll")&&
!this.get("isSubmitAllSaved")?!0:0<this.get("timesAttempted")},isCorrect:function(){return!1},toggleFlag:function(){this.get("flagEnabled")&&this.get("enabled")&&this.set("flagged",!this.get("flagged"))},destructor:function(){}},{displayName:"questionModel",config:n.extend({},p.configure(k.id))});m.trigger("questionModel.loaded",!0,k);return k});
define("elements/questions/question/view","module jquery underscore backbone app/utilities/helper/helperView app/events app/configuration app/utilities/XyTools notification lang/lang popup".split(" "),function(k,c,f,m,n,p,t,q,a,h,l){m={innerWrapperClass:"QuestionInnerWrap",activeClass:"Active",hiddenButtonClass:"Hidden",disabledClass:"Disabled",enabledClass:"Enabled",visibleClass:"Open",showingClass:"Opening",hiddenClass:"Closed",hidingClass:"Closing",submitButtonClass:"QuestionSubmit",hintSelector:".Hint",
feedbackWrapperSelector:".FeedbackWrapper",positiveFeedbackSelector:".PositiveFeedback",negativeFeedbackSelector:".NegativeFeedback",feedbackContentSelector:".FeedbackContent",supplementOverlayBehavior:"overlay",popupFeedback:!1,popupFeedbackConfig:{modal:!0},supplementsPopupConfig:{modal:!0},supplementOverlayStaticClass:"SupplementOverlayStatic",incorrectNoticeSelector:".IncorrectNotice",flagIconSelector:".QuestionFlagIcon",flagActiveClass:"Flagged",flagDesktopHoverClass:"Desktop",flagDisabledClass:"Disabled",
submitButtonSelector:".QuestionSubmit",adviceSelector:".Advice",attemptCounterSelector:".AttemptCounter",supplementWrapperSelector:".QuestionSupplementOuterWrapper",supplementToggleIconSelector:".QuestionSupplementToggleIcon",attemptsHidingThreshold:-1,singleAttemptTemplate:"({0} "+(h.t("sections.scoreCard.singleAttemptRemaining")||"attempt remaining")+")",multiAttemptsTemplate:"({0} "+(h.t("sections.scoreCard.multipleAttemptsRemaining")||"attempts remaining")+")",answerQuestionNotifitication:h.t("questions.general.notify.answerQuestion")||
"Please attempt to answer the question.",generalCorrectFeedback:h.t("questions.general.correct")||"Correct!",generalIncorrectFeedback:h.t("questions.general.incorrect")||"Incorrect"};k=n.extend({ui:{submit:"#{submitButtonSelector}",flag:"#{flagIconSelector}",attempts:"#{attemptCounterSelector}",hints:"#{hintSelector}",advice:"#{adviceSelector}",feedbackWrapper:"#{feedbackWrapperSelector}",positiveFeedback:"#{positiveFeedbackSelector}",positiveFeedbackContent:"#{positiveFeedbackSelector} > #{feedbackContentSelector}",
negativeFeedback:"#{negativeFeedbackSelector}",negativeFeedbackContent:"#{negativeFeedbackSelector} > #{feedbackContentSelector}",incorrectNotice:"#{incorrectNoticeSelector}",supplements:"#{supplementWrapperSelector}",supplementToggle:"#{supplementToggleIconSelector}"},events:{"click @ui.submit":"handleSubmit","click @ui.flag":"handleFlag","click @ui.supplementToggle":"toggleSupplements"},modelBindings:{"change:flagged":"updateFlag","change:remainingAttempts":"updateAttempts","change:enabled":"updateQuestionState",
"submit:noanswer":"promptToAnswer","submit:showSupplements":"updateSupplements"},propagateEvents:!0,initialize:function(){this.enabled=this.model.get("enabled");this.reviewMode=!1;p.trigger("media.pause",this.ui.supplements)},_render:function(){this.setupFlag();this.setupSubmitButton();this.setupFeedback();this.setupSupplements();this.render();this.updateFlag();this.updateAttempts();this.updateQuestionState();p.trigger("question.render:after",this)},render:function(){},setupFlag:function(){this.model.get("flagEnabled")?
(this.ui.flag.show(),q.detect.device||this.ui.flag.addClass(this.config.flagDesktopHoverClass)):this.ui.flag.remove()},setupSubmitButton:function(){this.model.get("isSubmitAll")&&(this.ui.submit.addClass(this.config.hiddenButtonClass),this.ui.submit[0].disabled=!0)},setupSupplements:function(){switch(this.config.supplementOverlayBehavior){case "static":this.ui.supplements.addClass(this.config.supplementOverlayStaticClass);break;case "popup":this.setupSupplementsPopup()}},setupSupplementsPopup:function(){var a=
c("<div></div>"),e=this.config.supplementsPopupConfig,h=e.popupContentClass,k=e.open||f.noop,m=this;this.ui.advice.detach();this.ui.hints.detach();this.ui.incorrectNotice.detach();this.ui.feedbackWrapper.detach();a.append(this.ui.advice);a.append(this.ui.hints);a.append(this.ui.incorrectNotice);a.append(this.ui.feedbackWrapper);p.trigger("media.pause",a);e.content=a;e.popupContentClass=this.config.innerWrapperClass;e.owner="supplements";e.open=function(){p.trigger("media.pause",this.content);p.trigger("media.resumeAutoplay",
m.ui.activeFeedback);"function"===typeof k&&k()};h&&(e.popupContentClass+=" "+h);this.popup=new l(e);this.popup.supplementsContainer=a;this.popup.supplementsContainer.data("questionGuid",this.$el.data("guid"))},setupFeedback:function(){this.config.popupFeedback&&"popup"!==this.config.supplementOverlayBehavior&&this.setupPopupFeedback();this.ui.positiveFeedbackContent.contents().length||this.ui.positiveFeedbackContent.text(this.config.generalCorrectFeedback);this.ui.negativeFeedbackContent.contents().length||
this.ui.negativeFeedbackContent.text(this.config.generalIncorrectFeedback)},setupPopupFeedback:function(){var a=c("<div></div>"),e=this.config.popupFeedbackConfig,h=e.popupContentClass,k=e.open||f.noop,m=this;this.ui.positiveFeedback.detach();this.ui.negativeFeedback.detach();this.ui.incorrectNotice.detach();a.empty();a.append(this.ui.positiveFeedback);a.append(this.ui.negativeFeedback);a.append(this.ui.incorrectNotice);p.trigger("media.pause",a);e.content=a;e.popupContentClass=this.config.innerWrapperClass;
e.owner="feedback";e.open=function(){p.trigger("media.pause",this.content);p.trigger("media.resumeAutoplay",m.ui.activeFeedback);"function"===typeof k&&k()};h&&(e.popupContentClass+=" "+h);this.popupFeedback=new l(e);this.popupFeedback.feedbackContainer=a},updateQuestionState:function(){(this.enabled=this.model.get("enabled"))?this.enable():this.disable();p.trigger("questionState.updated")},updateAttempts:function(){var a=+this.model.get("remainingAttempts");!a||this.model.get("satisfied")||this.model.get("isSubmitAll")||
this.model.get("isSubmitAllSaved")?this.ui.attempts.hide():this.ui.attempts.show();~this.config.attemptsHidingThreshold&&a>this.config.attemptsHidingThreshold&&this.ui.attempts.hide();this.model.get("isSubmitAll")&&this.model.get("isSubmitAllSaved")&&this.model.set("remainingAttempts",0);var c=1===a?this.config.singleAttemptTemplate:this.config.multiAttemptsTemplate;c=q.parseTemplate(c,a);this.ui.attempts.text(c)},updateFlag:function(){var a=this.model.get("flagged");this.ui.flag.toggleClass(this.config.flagActiveClass,
a);this.enabled||(this.ui.flag.toggleClass(this.config.flagDisabledClass,!this.enabled),this.ui.flag[0].disabled=!0)},updateSupplements:function(){this.updateFeedback();this.updateHints();this.updateAdvice();this.updateResponseSpecificFeedback();this.updateSolutionButton();this.model.isAttempted()&&(this.hasSupplements()?(this.enableSupplements(),this.showSupplements()):this.disableSupplements())},updateFeedback:function(){this.hideFeedback();if(!this.model.get("isSubmitAll")||this.model.get("isSubmitAllSaved"))!this.model.get("satisfied")&&
0<this.model.get("remainingAttempts")?this.showIncorrectNotice():this.model.get("behavior.showfeedback")&&(this.model.get("satisfied")?this.showPositiveFeedback():0===this.model.get("remainingAttempts")&&this.showNegativeFeedback())},updateResponseSpecificFeedback:function(){this.hideResponseSpecificFeedback();this.enabled||this.model.hasAnswers()&&!0===this.model.get("behavior.showfeedback")&&this.showResponseSpecificFeedback()},updateSolutionButton:function(){this.hideSolutionButton();this.enabled||
this.model.get("satisfied")||this.model.hasAnswers()&&this.model.get("behavior.dnd_showsolution")&&this.showSolutionButton()},updateHints:function(){if(this.model.get("behavior.showhint")&&(this.hideHint(),!(this.model.get("isSubmitAll")&&!this.model.get("isSubmitAllSaved")||null==this.model.get("hint")||this.model.get("satisfied")||0>=this.model.get("remainingAttempts")))){var a=this.model.get("timesAttempted")-1;0>a||this.showHint(a)}},updateAdvice:function(){this.model.get("behavior.showadvice")&&
(this.hideAdvice(),(!this.model.get("isSubmitAll")||this.model.get("isSubmitAllSaved"))&&this.model.get("advice")&&(this.model.get("satisfied")||1>this.model.get("remainingAttempts"))&&this.showAdvice())},enable:function(){this.enableSubmitButton();this.enableQuestionComponents();this.enableWrapper()},disable:function(){this.disableSubmitButton();this.disableQuestionComponents();this.disableWrapper();this.updateFlag();this.updateAttempts();this.updateSupplements()},enableWrapper:function(){this.$el.removeClass(this.config.disabledClass)},
disableWrapper:function(){this.$el.addClass(this.config.disabledClass)},enableQuestionComponents:function(){},disableQuestionComponents:function(){},enableSubmitButton:function(){this.ui.submit.removeClass(this.config.disabledClass);this.ui.submit[0].disabled=!1},disableSubmitButton:function(){this.ui.submit.addClass(this.config.disabledClass);this.ui.submit[0].disabled=!0},enableSupplements:function(){this.ui.supplements.removeClass(this.config.disabledClass)},disableSupplements:function(){this.ui.supplements.removeClass(this.config.visibleClass).removeClass(this.config.hiddenClass).addClass(this.config.disabledClass)},
toggleSupplements:function(){switch(this.config.supplementOverlayBehavior){case "popup":this.popup.open();break;default:this.ui.supplements.hasClass(this.config.visibleClass)?this.hideSupplements():this.showSupplements()}},promptToAnswer:function(){a.notify(this.config.answerQuestionNotifitication)},handleFlag:function(){this.model.toggleFlag()},handleSubmit:function(){this.reviewMode||this.model.submit()},handleSupplementsClosing:function(a){"static"!==this.config.supplementOverlayBehavior&&(this.ui.supplements.find(a.target).length||
this.hideSupplements())},hasSupplements:function(){switch(this.config.supplementOverlayBehavior){case "popup":var a=this.popup.supplementsContainer;break;default:a=this.ui.supplements}return!!a.find("."+this.config.activeClass).length},showSupplements:function(){switch(this.config.supplementOverlayBehavior){case "popup":this.popup.open();break;default:this.ui.supplements.removeClass(this.config.hiddenClass).addClass(this.config.visibleClass),this.$el.on("click",this.handleSupplementsClosing),p.trigger("media.resumeAutoplay",
this.ui.activeFeedback)}},closeSupplements:function(){"static"!==this.config.supplementOverlayBehavior&&this.hideSupplements()},hideSupplements:function(){this.ui.supplements.removeClass(this.config.visibleClass).addClass(this.config.hiddenClass);"overlay"===this.config.supplementOverlayBehavior&&this.ui.supplements.scrollTop(0);this.$el.off("click",this.handleSupplementsClosing);p.trigger("media.pause",this.ui.supplements)},hideFeedback:function(){this.hidePositiveFeedback();this.hideNegativeFeedback();
this.hideIncorrectNotice()},showFeedbackPopup:function(){this.popupFeedback&&this.popupFeedback.open()},hideFeedbackPopup:function(){this.popupFeedback&&this.popupFeedback.close()},showPositiveFeedback:function(){this.ui.positiveFeedback.addClass(this.config.activeClass);this.ui.activeFeedback=this.ui.positiveFeedback;this.showFeedbackPopup()},hidePositiveFeedback:function(){this.ui.positiveFeedback.removeClass(this.config.activeClass);this.hideFeedbackPopup()},showNegativeFeedback:function(){this.ui.negativeFeedback.addClass(this.config.activeClass);
this.ui.activeFeedback=this.ui.negativeFeedback;this.showFeedbackPopup()},hideNegativeFeedback:function(){this.ui.negativeFeedback.removeClass(this.config.activeClass);this.hideFeedbackPopup()},showIncorrectNotice:function(){this.ui.incorrectNotice.addClass(this.config.activeClass);this.showFeedbackPopup()},hideIncorrectNotice:function(){this.ui.incorrectNotice.removeClass(this.config.activeClass);this.hideFeedbackPopup()},showResponseSpecificFeedback:function(){},hideResponseSpecificFeedback:function(){},
showSolutionButton:function(){},hideSolutionButton:function(){},showHints:function(){this.ui.hints.addClass(this.config.activeClass)},showHint:function(a){this.ui.hints.eq(a).addClass(this.config.activeClass)},hideHint:function(a){var d=this.ui.hints;"undefined"!==typeof a&&(d=d.eq(a));d.removeClass(this.config.activeClass)},showAdvice:function(){this.ui.advice.addClass(this.config.activeClass)},hideAdvice:function(){this.ui.advice.removeClass(this.config.activeClass)},toggleReviewMode:function(){this.reviewMode?
this.turnReviewModeOff():this.turnReviewModeOn()},turnReviewModeOn:function(){this.reviewMode=!0;this.model.set("enabled",!1);this.showAdvice();this.showHints();this.showNegativeFeedback();this.showPositiveFeedback();this.showIncorrectNotice();this.showResponseSpecificFeedback(void 0,!0);this.enableSupplements();"static"===this.config.supplementOverlayBehavior&&this.showSupplements()},turnReviewModeOff:function(){this.reviewMode=!1;this.model.set("enabled",!0);this.hideAdvice();this.hideHint();this.hideNegativeFeedback();
this.hidePositiveFeedback();this.hideIncorrectNotice();this.hideResponseSpecificFeedback();this.hideSupplements();this.disableSupplements();"static"===this.config.supplementOverlayBehavior&&this.hideSupplements()},destructor:function(){this.popup&&"function"===typeof this.popup.destroy&&this.popup.destroy();this.popupFeedback&&"function"===typeof this.popupFeedback.destroy&&this.popupFeedback.destroy();this.undelegateEvents();this.stopListening();this.remove()}},{displayName:"questionView",config:q.extend(m,
t.configure(k.id))});p.trigger("questionView.loaded",!0,k);return k});
define("elements/questions/question/question","module jquery app/utilities/helper/helperCore app/utilities/XyTools app/events app/configuration app/player/communication elements/questions/question/model elements/questions/question/view".split(" "),function(k,c,f,m,n,p,t,q,a){k=f.extend({initialize:function(a,c,d){this.guid=a;c=c||{};this.pageIndex=d||0;this.inherit("config",!0);c=m.extend(c,{pageIndex:d},this.loadData());c=this.formatInputData(c);c.isScorecard&&!c.behavior.showfeedback&&(c.behavior.showfeedback=
"General Feedback Only");this.model=new this.config.Model(c);this.view=null},render:function(){this.view=new this.config.View({model:this.model,el:document.getElementById("guid_"+this.guid)});this.view._render()},formatInputData:function(a){"string"===m.type(a.hint)&&(a.hint=[a.hint]);return a},isInScope:function(a){return!!c(a).find("#guid_"+this.guid).length},isCompleted:function(){return!this.model.get("enabled")},isRequired:function(){return this.model.get("behavior.questionnavigationprompt")},
submit:function(){this.model.submit()},loadData:function(){var a=this.pageIndex,c={},d,e;if(d=t.getResult(a))c.result=d;if(e=t.getAnswer(a))c.answers=this.parseUserAnswer(e);if((e=t.getAttemptLimit(a))||0===parseInt(e,10))c.remainingAttempts=+e;c.flagged=!!t.getFlag(a);c.isScorecard=!!t.isScorecard(a);d&&(c.satisfied=/^correct$/i.test(d));if(a=t.getOptionsOrder(a))c.answerOrder=a;return c},saveData:function(){var a=this.pageIndex;this.model.isAttempted()&&(t.setType(a,this.model.get("interactionType")),
t.setAnswer(a,this.stringifyUserAnswer()),t.setAttemptLimit(a,this.model.get("remainingAttempts")),t.setOptionsOrder(a,this.model.get("answerOrder")),t.setFlag(a,this.model.get("flagged")),this.model.has("weight")&&this.config.saveWeight&&t.setWeight(a,this.model.get("weight")),this.model.has("timestamp")&&this.config.saveTimestamp&&t.setTimestamp(a,(new Date(this.model.get("timestamp"))).toJSON().replace(".000",".00")),this.model.has("latency")&&this.config.saveLatency&&t.setLatency(a,m.convertMillisToSCORM2004Time(this.model.get("latency"))),
this.model.has("result")&&""!==this.model.get("result")&&t.setResult(a,this.model.get("result")))},parseUserAnswer:function(a){return JSON.parse(a)},stringifyUserAnswer:function(a){if(!this.model.hasAnswers())return"";a=a||this.model.get("answers");return JSON.stringify(a)},destructor:function(){"function"===typeof this.model.destructor&&this.model.destructor();"function"===typeof this.view.destructor&&this.view.destructor()}},{config:m.extend({name:"question",displayName:"Question",Model:q,View:a},
p.configure(k.id))});n.trigger("question.loaded",!0,k);return k});
define("elements/questions/multipleChoice/model/multipleChoiceModel","module underscore elements/questions/question/model app/events app/utilities/XyTools app/configuration".split(" "),function(k,c,f,m,n,p){k=f.extend({props:{option:"array",correctAnswers:"array",answerOrder:"array",preservechoiceorder:"any",multiselect:"boolean"},initialize:function(){this.constructor.__super__.initialize.call(this);this.getCorrectAnswers();this.determineMultiSelect();this.setupAnswerOrder()},determineMultiSelect:function(){var c=
1<this.get("correctAnswers").length||"Always"===this.get("behavior.enablemultipleselection");this.set("multiselect",c)},getCorrectAnswers:function(){var c=this.get("option").reduce(function(c,a,h){/^true$/.test(a.iscorrect)&&c.push(h+1);return c},[]);this.set("correctAnswers",c)},setupAnswerOrder:function(){var c=[];if(this.get("enabled")&&!this.get("behavior.forceNoRandomization")){if(/^(true|false)$/.test(this.get("preservechoiceorder"))){if(/^true$/.test(this.get("preservechoiceorder")))return}else if(!this.get("behavior.randomizechoices"))return;
this.get("answerOrder").length||(c=this.get("option").map(function(c,a){return a+1}),c=n.randomizeArray(c),this.set("answerOrder",c))}},toggleAnswer:function(f){c.contains(this.get("answers"),f)?this.removeAnswer(f):this.addAnswer(f)},addAnswer:function(f){var k=this.get("answers");f=Array.isArray(f)?f:[f];this.get("multiselect")?this.set("answers",c.union(k,f)):this.set("answers",f)},removeAnswer:function(f){var k=this.get("answers");this.get("multiselect")?this.set("answers",c.without(k,f)):this.set("answers",
[f])},isCorrect:function(){var f=this.get("answers"),k=this.get("correctAnswers");var a=c.intersection(k,f).length===f.length;a&=f.length===k.length;return!!a},hasAnswers:function(){return!!this.get("answers").length}},{displayName:"multipleChoiceModel",config:n.extend({},p.configure(k.id))});m.trigger("multipleChoiceModel.loaded",!0,k);return k});
define("elements/questions/multipleChoice/views/multipleChoiceView","module jquery underscore elements/questions/question/view app/events app/configuration app/utilities/XyTools lang/lang".split(" "),function(k,c,f,m,n,p,t,q){q={optionSelector:".MultipleChoiceQuestionOption",optionWrappersSelector:".MultipleChoiceQuestionOptionWrapper",optionsWrapperSelector:".MultipleChoiceQuestionOptions",optionStemSelector:".MultipleChoiceQuestionOptionStem",responseFeedbackSelector:".ResponseFeedback",optionIdExpression:/_?(\d*)$/,
selectedClass:"Selected",correctClass:"Correct",incorrectClass:"Incorrect",alsoCorrectClass:"AlsoCorrect",desktopCheckClass:"Desktop",selectionAttribute:"checked",correctResponseString:q.t("questions.general.correctResponse"),correctString:q.t("questions.general.correct"),incorrectString:q.t("questions.general.incorrect")};k=m.extend({ui:{options:"#{optionSelector}",optionWrappers:"#{optionWrappersSelector}",optionsWrapper:"#{optionsWrapperSelector}",responseFeedbacks:"#{responseFeedbackSelector}",
responseFeedbacksLinks:"#{responseFeedbackSelector} a.Href, #{responseFeedbackSelector} a.InternalLink"},events:{"click @ui.optionWrappers":"optionClickHandler","click @ui.responseFeedbacksLinks":"responseFeedbackLinkClickHandler"},modelBindings:{"change:answers":"renderAnswers","change:answerOrder":"randomizeAnswers"},render:function(){this.setupResponseSpecificFeedback();this.renderAnswers();this.randomizeAnswers()},renderAnswers:function(){var a=this,h=this.model.get("answers");this.ui.optionWrappers.each(function(){var l=
c(this).find(a.config.optionSelector)[0];var d=f.contains(h,+l.value);l.checked=d;l.setAttribute("aria-checked",d);c(this).toggleClass(a.config.selectedClass,d)})},randomizeAnswers:function(){var a=this.config.optionSelector,h=this.model.get("answerOrder");h.length&&(this.ui.optionWrappers.detach(),this.ui.optionWrappers.sort(function(f,d){return h.indexOf(+c(f).find(a)[0].value)-h.indexOf(+c(d).find(a)[0].value)}),this.ui.optionsWrapper.append(this.ui.optionWrappers))},setupResponseSpecificFeedback:function(){var a=
this,h=this.model.get("behavior.keepQuestionMetadata");this.ui.responseFeedbacks.each(function(){var l=a.model.get("correctAnswers");if(h){if(0==c(this).text().trim().length){var d=c(this).parents(a.config.optionWrappersSelector).find(a.config.optionSelector)[0];(d=f.contains(l,+d.value))?c(this).append(a.config.correctResponseString):c(this).append(a.config.incorrectString)}}else c(this).data("children",c(this).children().detach())})},enableQuestionComponents:function(){this.ui.options.each(function(){this.disabled=
!1;this.setAttribute("aria-disabled",!1)});this.ui.optionWrappers.removeClass(this.config.disabledClass).addClass(this.config.enabledClass)},disableQuestionComponents:function(){this.ui.options.each(function(){this.disabled=!0;this.setAttribute("aria-disabled",!0)});this.ui.optionWrappers.removeClass(this.config.enabledClass).addClass(this.config.disabledClass)},optionClickHandler:function(a){this.enabled&&"A"!=c(a.target).prop("tagName")&&"SUP"!=c(a.target).prop("tagName")&&(a.preventDefault(),a=
c(a.currentTarget).find(this.config.optionSelector)[0],setTimeout(this.model.toggleAnswer,0,+a.value))},responseFeedbackLinkClickHandler:function(a){a.stopPropagation()},showResponseSpecificFeedback:function(a,h){var l=this,d=this.model.get("answers"),e=this.model.get("correctAnswers"),k=function(a,d){0==a.text().trim().length&&a.append(d)};this.ui.optionWrappers.each(function(){var a;var m=+c(this).find(l.config.optionSelector)[0].value;var q=c(this).find(l.config.responseFeedbackSelector);(a=q.data("children"))&&
a.length||(a=!1);var t=f.contains(e,m);m=f.contains(d,m);t&&m?(c(this).addClass(l.config.correctClass),k(q,a||l.config.correctString)):!t&&m?(c(this).addClass(l.config.incorrectClass),k(q,a||l.config.incorrectString)):t&&!m?(c(this).addClass(l.config.alsoCorrectClass),k(q,a||l.config.correctResponseString)):h?(c(this).addClass(l.config.incorrectClass),k(q,a||l.config.incorrectString)):q.hide()})},hideResponseSpecificFeedback:function(){this.ui.optionWrappers.removeClass([this.config.correctClass,
this.config.incorrectClass,this.config.alsoCorrectClass].join(" "))}},{displayName:"multipleChoiceView",config:t.extend(q,p.configure(k.id))});n.trigger("multipleChoiceView.loaded",!0,k);return k});
define("elements/questions/multipleChoice/multipleChoice","module elements/questions/question/question elements/questions/multipleChoice/model/multipleChoiceModel elements/questions/multipleChoice/views/multipleChoiceView app/utilities/XyTools app/events app/configuration lang/lang".split(" "),function(k,c,f,m,n,p,t,q){f={name:"multipleChoice",displayName:q.t("questions.multipleChoice.displayName")||"Multiple Choice",saveWeight:!0,saveTimestamp:!0,saveStem:!0,saveLatency:!0,saveCorrectResponses:!0,
View:m,Model:f};k=c.extend({parseUserAnswer:function(a){return a.split(",").map(parseFloat)},stringifyUserAnswer:function(a){if(!this.model.hasAnswers())return"";a=a||this.model.get("answers");return a.join(",")}},{config:n.extend(f,t.configure(k.id))});p.trigger("multipleChoice.loaded",!0,k);return k});
define("elements/questions/selectHotText/model/selectHotTextModel","module elements/questions/question/model app/events underscore app/utilities/XyTools app/configuration".split(" "),function(k,c,f,m,n,p){k=c.extend({extraProperties:"allow",props:{selecttext:"object",correctAnswers:"array",multiselect:"boolean"},initialize:function(){this.constructor.__super__.initialize.call(this);this.getCorrectAnswers();this.determineMultiSelect()},determineMultiSelect:function(){var c=1<this.get("correctAnswers").length||
"Always"===this.get("behavior.enablemultipleselection");this.set("multiselect",c)},getCorrectAnswers:function(){var c=this.get("selecttext.optionchoice").reduce(function(c,a,h){/^true$/.test(a.iscorrect)&&c.push(h);return c},[]);this.set("correctAnswers",c)},toggleAnswer:function(c){m.contains(this.get("answers"),c)?this.removeAnswer(c):this.addAnswer(c)},addAnswer:function(c){var f=this.get("answers");this.get("multiselect")?this.set("answers",m.union(f,[c])):this.set("answers",[c])},removeAnswer:function(c){var f=
this.get("answers");this.get("multiselect")?this.set("answers",m.without(f,c)):this.set("answers",[c])},isCorrect:function(){var c=this.get("answers"),f=this.get("correctAnswers");var a=m.intersection(f,c).length===c.length;a&=c.length===f.length;return!!a},hasAnswers:function(){return!!this.get("answers").length}},{displayName:"selectHotTextModel",config:n.extend({},p.configure(k.id))});f.trigger("selectHotTextModel.loaded",!0,k);return k});
define("elements/questions/selectHotText/views/selectHotTextView","module jquery underscore elements/questions/question/view app/events app/configuration app/utilities/XyTools elements/tooltip/tooltip".split(" "),function(k,c,f,m,n,p,t,q){k=m.extend({ui:{options:"#{optionSelector}",optionsWrapper:"#{textWrapperSelector}"},events:{"click @ui.options":"answerClickHandler"},modelBindings:{"change:answers":"renderAnswers"},render:function(){this.renderAnswers();this.popupEvent="roll-over"!==this.config.popupTrigger||
t.detect.device?"click.popup":"mouseover.popup mouseleave.popup";this.popups=[]},renderAnswers:function(){var a=this,h=this.model.get("answers");this.ui.options.each(function(l){l=f.contains(h,+l);c(this).toggleClass(a.config.selectedClass,l)})},enableQuestionComponents:function(){this.ui.optionsWrapper.removeClass(this.config.disabledClass).addClass(this.config.enabledClass)},disableQuestionComponents:function(){this.ui.optionsWrapper.removeClass(this.config.enabledClass).addClass(this.config.disabledClass)},
answerClickHandler:function(a){a.preventDefault();this.enabled&&(a=c(a.currentTarget),a=f.indexOf(this.ui.options,a[0]),this.model.toggleAnswer(+a))},showResponseSpecificFeedback:function(a,h){var l=this,d=this.model.get("answers"),e=this.model.get("correctAnswers"),k=this.model.get("selecttext").optionchoice;this.destroyPopups();this.ui.options.each(function(a){var m=c(this);var q=k[a].responsefeedback;var t=f.contains(e,a);a=f.contains(d,a);t&&a?(c(this).addClass(l.config.correctClass),q=q||l.config.correctString):
!t&&a?(c(this).addClass(l.config.incorrectClass),q=q||l.config.incorrectString):t&&!a?(c(this).addClass(l.config.alsoCorrectClass),q=q||l.config.correctResponseString):h?l.createPopup(m,q||l.config.incorrectString):q=null;q&&l.createPopup(m,q)})},hideResponseSpecificFeedback:function(){this.ui.options.removeClass([this.config.correctClass,this.config.incorrectClass,this.config.alsoCorrectClass].join(" "))},createPopup:function(a,c){var h=new q({content:c,maxWidth:this.config.popupMaxWidth});this.popups.push(h);
a.on(this.popupEvent,function(a){a.preventDefault();a.stopPropagation();this.closePopups();h.isOpen()?h.close():h.option("position",[a.clientY+10,a.clientX+10]).open()}.bind(this))},closePopups:function(){this.popups.forEach(function(a){a.close()})},destroyPopups:function(){this.ui.options.off("click.popup mouseover.popup mouseleave.popup");this.popups.forEach(function(a){a.close();a.destroy()});this.popups=[]},turnReviewModeOff:function(){this.constructor.__super__.turnReviewModeOff.call(this);this.destroyPopups()},
destructor:function(){this.destroyPopups()}},{displayName:"selectHotTextView",config:t.extend({optionSelector:".SelectHotTextQuestionOption",textWrapperSelector:".SelectHotTextText",selectedOptionWrapEl:"mark",selectedClass:"Selected",enabledClass:"Enabled",disabledClass:"Disabled",correctClass:"Correct",incorrectClass:"Incorrect",alsoCorrectClass:"AlsoCorrect",selectionAttribute:"checked",popupTrigger:"click",singleAnswerSelect:!0,popupMaxWidth:"500px"},p.configure(k.id))});n.trigger("selectHotTextView.loaded",
!0,k);return k});
define("elements/questions/selectHotText/selectHotText","module elements/questions/question/question elements/questions/selectHotText/model/selectHotTextModel elements/questions/selectHotText/views/selectHotTextView app/utilities/XyTools app/events app/configuration lang/lang".split(" "),function(k,c,f,m,n,p,t,q){f={name:"selectHotText",displayName:q.t("questions.selectHotText.displayName")||"Select Hot Text",saveWeight:!0,saveTimestamp:!0,saveStem:!0,saveLatency:!0,saveCorrectResponses:!0,View:m,
Model:f};k=c.extend({parseUserAnswer:function(a){return a.split(",").map(parseFloat)},stringifyUserAnswer:function(a){if(!this.model.hasAnswers())return"";a=a||this.model.get("answers");return a.join(",")}},{config:n.extend(f,t.configure(k.id))});p.trigger("selectHotText.loaded",!0,k);return k});
define("elements/questions/imageMapAssessment/model/imageMapAssessmentModel","module underscore elements/questions/question/model app/events app/utilities/XyTools app/configuration".split(" "),function(k,c,f,m,n,p){k=f.extend({props:{baseimage:"object",hotspotchoices:"object",outlinecolor:"string",showhotspotoutlines:["string","onload"],multiselect:"boolean"},initialize:function(){this.constructor.__super__.initialize.call(this);this.getCorrectAnswers();this.determineMultiSelect();var c=this.get("showhotspotoutlines");
""===c&&(c="onload");this.set("showhotspotoutlines",c.toLowerCase())},getCorrectAnswers:function(){var c=this.get("hotspotchoices.hotspotchoice");c=c?n.toArray(c):[];c=c.reduce(function(c,a,h){/^true$/.test(a.iscorrect)&&c.push(h+1);return c},[]);this.set("correctAnswers",c)},determineMultiSelect:function(){var c=1<this.get("correctAnswers").length||"Always"===this.get("behavior.enablemultipleselection");this.set("multiselect",c)},toggleAnswer:function(f){c.contains(this.get("answers"),f)&&this.get("multiselect")?
this.removeAnswer(f):this.addAnswer(f)},addAnswer:function(f){var k=this.get("answers");this.get("multiselect")?this.set("answers",c.union(k,[f])):this.set("answers",[f])},removeAnswer:function(f){var k=this.get("answers");this.get("multiselect")?this.set("answers",c.without(k,f)):this.set("answers",[f])},isCorrect:function(){var f=this.get("answers"),k=this.get("correctAnswers");var a=c.intersection(k,f).length===f.length;a&=f.length===k.length;return!!a},hasAnswers:function(){return!!this.get("answers").length}},
{displayName:"imageMapAssessmentModel",config:n.extend({},p.configure(k.id))});m.trigger("imageMapAssessmentModel.loaded",!0,k);return k});
define("elements/questions/imageMapAssessment/views/imageMapAssessmentView","module jquery underscore elements/questions/question/view app/events app/configuration app/utilities/XyTools jquery.extensions".split(" "),function(k,c,f,m,n,p,t){k=m.extend({ui:{wrapper:"#{imageWrapperSelector}",img:"#{imageSelector}",svg:"#{svgSelector}",options:"#{optionsSelector}"},events:{"click @ui.options":"answerClickHandler","keyup @ui.options":"answerClickHandler"},modelBindings:{"change:answers":"renderAnswers",
"change:timesAttempted":"removeAnswerShadowsIfNeeded","change:satisfied":"removeAnswerShadowsIfNeeded"},render:function(){this.ui.img.on("load",this.imageLoaded);this.handleHotSpotOutlines()},renderAnswers:function(){var k=this,a=this.model.get("answers");this.ui.options.each(function(){var h=c(this).data("position");h=f.contains(a,+h);c(this).toggleClassSVG(k.config.selectedClass,h)})},initSelectedAnswer:function(){var k=this,a=this.model.get("answers"),h=this.model.get("showhotspotoutlines");this.ui.options.each(function(){var l=
c(this).data("position");l=f.contains(a,+l);c(this).toggleClassSVG(k.config.selectedClass,l);"onload"!=h&&c(this).toggleClassSVG(k.config.visibleClass,l)})},hideAnswers:function(){var f=this;this.ui.options.each(function(){c(this).toggleClassSVG(f.config.selectedClass,!1)})},imageLoaded:function(){this.renderSVG();this.initSelectedAnswer();this.handleScaling();this.showImage()},renderSVG:function(){this.positionSVG();this.renderPolygons()},positionSVG:function(){var c=this.ui.img.width(),a=this.ui.img.height(),
h=this.ui.img.position(),f=this.ui.img.outerWidth(),d=this.ui.img.outerHeight(),e=this.ui.img.offsetParent(),k={},m=this.getScalingCoef();e=(e.outerWidth()-e.width())/2;var p=t.getLanguageDirection();k.top=h.top+(d-a)*m/2;k["ltr"===p?"left":"right"]=e+(f-c)*m/2;this.ui.svg.height(a).width(c).css(k)},renderPolygons:function(){this.ui.svg.find("text").each(function(){var f=c(this).parent()[0],a=c(this).text().split(/\s|\n/).join("").split("#").join(" "),h=document.createElementNS("http://www.w3.org/2000/svg",
"polygon");h.setAttributeNS(null,"points",a);c(this).remove();f.insertBefore(h,f.firstChild);h=a.split(" ").map(function(a){return a.split(",")});a=h.reduce(function(a,d){return a+parseFloat(d[0]||0)},0)/(h.length||1);h=h.reduce(function(a,d){return a+parseFloat(d[1]||0)},0)/(h.length||1);c(f).find("use").attr({x:a-12,y:h-12})})},showImage:function(){this.ui.wrapper.css({opacity:1})},removeAnswerShadows:function(){this.ui.options.not("."+this.config.selectedClass).removeClassSVG(this.config.visibleClass)},
removeAnswerShadowsIfNeeded:function(){(this.model.get("satisfied")||0>=this.model.get("remainingAttempts"))&&this.removeAnswerShadows()},handleHotSpotOutlines:function(){var f=this,a=this.model.get("showhotspotoutlines"),h=function(){f.ui.options.not("."+f.config.selectedClass).removeClassSVG(f.config.visibleClass)};if("onload"===a)return this.ui.options.addClassSVG(this.config.visibleClass),this;this.ui.options.removeClassSVG(this.config.visibleClass);if(a.match(/click/)||t.detect.device)return n.on("questionModel.submit:answered",
function(){0>=f.model.get("remainingAttempts")&&h()}),this.ui.el.on("click keyup",this.config.optionsSelector,function(a){!f.enabled||/^key/.test(a.type)&&32!==a.keyCode||(c(this).is("."+f.config.selectedClass)?c(this).toggleClassSVG(f.config.visibleClass,!0):c(this).toggleClassSVG(f.config.visibleClass),f.config.leaveOldAnswerShadow||h())}),this;if(a.match(/mouseover/))this.ui.options.on("mouseover mouseleave",function(){f.enabled&&c(this).toggleClassSVG(f.config.visibleClass)})},answerClickHandler:function(f){/^key/.test(f.type)&&
32!==f.keyCode||!this.enabled||(f=c(f.currentTarget),this.model.toggleAnswer(+f.data("position")))},showResponseSpecificFeedback:function(){var k=this,a=this.model.get("answers"),h=this.model.get("correctAnswers");this.ui.options.each(function(){var l=c(this).data("position"),d=[k.config.visibleClass,k.config.selectedClass];if(f.contains(a,l)||f.contains(h,l))f.contains(a,l)?f.contains(h,l)?d.push(k.config.correctClass):d.push(k.config.incorrectClass):d.push(k.config.alsoCorrectClass),c(this).addClassSVG(d.join(" "))})},
hideResponseSpecificFeedback:function(){this.ui.options.removeClassSVG([this.config.correctClass,this.config.alsoCorrectClass,this.config.incorrectClass].join(" "))},handleScaling:function(){this.config.responsiveScaling&&("rtl"===t.getLanguageDirection()&&(t.detect.browser.ie||t.detect.browser.edge)&&this.ui.svg.css("transform-origin","left top"),this.ui.wrapper.css("overflow","hidden"),this.scaleImage=f.throttle(this.scaleImage.bind(this),50),c(window).on("resize",this.scaleImage),this.scaleImage())},
scaleImage:function(){var c=this.ui.wrapper[0],a=c.offsetWidth;c=c.scrollWidth;var h=this.getScalingCoef();h*=this.ui.img.height();c>a?(this.ui.wrapper.children().css("transform","scale("+a/(c+6)+")"),this.ui.wrapper.height(h+20)):(this.ui.wrapper.children().css("transform","scale(1)"),this.ui.wrapper.height("auto"));this.positionSVG()},getScalingCoef:function(){var c=this.ui.wrapper[0];return this.config.responsiveScaling?c.offsetWidth/c.scrollWidth:1},turnReviewModeOn:function(){this.constructor.__super__.turnReviewModeOn.call(this);
this.renderAnswers()},turnReviewModeOff:function(){this.constructor.__super__.turnReviewModeOff.call(this);this.removeAnswerShadows()},destructor:function(){c("window").off("resize",this.scaleImage);this.constructor.__super__.destructor.call(this)}},{displayName:"imageMapAssessmentView",config:t.extend({imageWrapperSelector:".ImageMapAssessmentImageWrapper",imageSelector:".ImageMapAssessmentImage",svgSelector:".ImageMapAssessmentSVG",optionsSelector:".ImageMapAssessmentOption",visibleClass:"Visible",
selectedClass:"Selected",correctClass:"Correct",incorrectClass:"Incorrect",alsoCorrectClass:"AlsoCorrect",responsiveScaling:!0,leaveOldAnswerShadow:!1},p.configure(k.id))});n.trigger("imageMapAssessmentView.loaded",!0,k);return k});
define("elements/questions/imageMapAssessment/imageMapAssessment","module elements/questions/question/question elements/questions/imageMapAssessment/model/imageMapAssessmentModel elements/questions/imageMapAssessment/views/imageMapAssessmentView app/utilities/XyTools app/events app/configuration lang/lang".split(" "),function(k,c,f,m,n,p,t,q){f={name:"imageMapAssessment",displayName:q.t("questions.imageMapAssessment.displayName")||"ImageMap Assessment",saveWeight:!0,saveTimestamp:!0,saveStem:!0,saveLatency:!0,
saveCorrectResponses:!0,View:m,Model:f};k=c.extend({parseUserAnswer:function(a){return a.split(",").map(parseFloat)},stringifyUserAnswer:function(a){if(!this.model.hasAnswers())return"";a=a||this.model.get("answers");return a.join(",")}},{config:n.extend(f,t.configure(k.id))});p.trigger("imageMapAssessment.loaded",!0,k);return k});
define("elements/questions/matrix/model/matrixModel","module underscore elements/questions/question/model app/events app/utilities/XyTools app/configuration".split(" "),function(k,c,f,m,n,p){k=f.extend({props:{columnheaders:"array",statements:"object",statementMap:"array",answerOrder:"array",preservechoiceorder:"any",multiselect:"boolean"},initialize:function(){this.constructor.__super__.initialize.call(this);this.createStatementMap();this.determineMultiSelect();this.setupStatementOrder()},createStatementMap:function(){var c=
[],f=this.get("answers"),a,h;var l=0;for(a=this.get("statements").statement.length;l<a;l+=1){var d=this.get("statements").statement[l];c[l]=[];f[l]=Array.isArray(f[l])?f[l]:[];var e=Array.isArray(d.correctcolumn)?d.correctcolumn:[d.correctcolumn];d=0;for(h=e.length;d<h;d+=1)c[l].push(+e[d])}this.set("statementMap",c);m.trigger("matrixModel.init:after")},determineMultiSelect:function(){var c=this.get("statementMap"),f=!1;f="Always"===this.get("behavior.enablemultipleselection")||c.some(function(a){return 1<
a.length});this.set("multiselect",f)},setupStatementOrder:function(){if(this.get("enabled")&&!this.get("behavior.forceNoRandomization")){if(/^(true|false)$/.test(this.get("preservechoiceorder"))){if(/^true$/.test(this.get("preservechoiceorder")))return}else if(!this.get("behavior.randomizechoices"))return;if(!this.get("answerOrder").length){var c=this.get("statements").statement.map(function(c,a){return a+1});c=n.randomizeArray(c);this.set("answerOrder",c)}}},toggleAnswer:function(f,k){c.contains(this.get("answers")[f],
k)?this.removeAnswer(f,k):this.addAnswer(f,k)},addAnswer:function(f,k){var a=this.get("answers"),h=c.clone(a);this.get("multiselect")?h[f]=c.union(a[f],[k]):h[f]=[k];this.set("answers",h)},removeAnswer:function(f,k){var a=this.get("answers"),h=c.clone(a);h[f]=c.without(a[f],k);this.set("answers",h)},isCorrect:function(){var c=this.get("answers"),f=this.get("statementMap"),a=[];var h=0;for(c=c.length;h<c;h+=1)this.isStatementCorrect(h)&&a.push(h);return a.length===f.length},isStatementCorrect:function(f){var k=
this.get("answers")[f];f=this.get("statementMap")[f];var a=this.get("columnheaders").columnheader.length,h=[],l;var d=0;for(l=f.length;d<l;d+=1)0<f[d]&&f[d]<=a&&0>h.indexOf(+f[d])&&(h=Array.isArray(h)?h:[],h.push(+f[d]));return k.length===h.length&&c.intersection(k,h).length===h.length},hasAnswers:function(){var c=this.get("answers");return!!c.length&&c.every(function(c){return 0<c.length})},refreshCorrectAnswers:function(){var f=this.get("answers"),k=c.clone(f),a=this.get("statementMap"),h;var l=
0;for(h=f.length;l<h;l+=1)k[l]=c.intersection(f[l],a[l]);this.set("answers",k)}},{displayName:"matrixModel",config:n.extend({},p.configure(k.id))});m.trigger("matrixModel.loaded",!0,k);return k});
define("elements/questions/matrix/views/matrixView","module jquery underscore elements/questions/question/view app/events app/configuration app/utilities/XyTools lang/lang".split(" "),function(k,c,f,m,n,p,t,q){q={optionSelector:".MatrixQuestionOption",optionWrappersSelector:".MatrixQuestionOptionWrapper",optionsWrapperSelector:".MatrixQuestionStatements",rowSelector:".MatrixQuestionStatement",columnHeaderSelector:".MatrixQuestionColumnHeader",responseFeedbackSelector:".ResponseFeedback",selectedClass:"Selected",
correctClass:"Correct",incorrectClass:"Incorrect",alsoCorrectClass:"AlsoCorrect",desktopCheckClass:"Desktop",selectionAttribute:"checked",coordinateSeperator:"_",correctResponseString:q.t("questions.general.correctResponse"),correctString:q.t("questions.general.correct"),incorrectString:q.t("questions.general.incorrect")};k=m.extend({ui:{options:"#{optionSelector}",optionWrappers:"#{optionWrappersSelector}",optionsWrapper:"#{optionsWrapperSelector}",rows:"#{rowSelector}",columnHeaders:"#{columnHeaderSelector}",
responseFeedbacks:"#{responseFeedbackSelector}"},events:{"click @ui.optionWrappers":"optionClickHandler"},modelBindings:{"change:answers":"renderAnswers","change:answerOrder":"randomizeStatements"},render:function(){this.setupResponseSpecificFeedback();this.detectDesktop();this.renderAnswers();this.randomizeStatements()},detectDesktop:function(){t.detect.device||this.ui.optionWrappers.addClass(this.config.desktopCheckClass)},renderAnswers:function(){var a=this,h=this.model.get("answers");this.ui.optionWrappers.each(function(){var l=
c(this).find(a.config.optionSelector)[0];var d=l.value.split(a.config.coordinateSeperator);d=f.contains(h[+d[1]-1],+d[0]);l.checked=d;l.setAttribute("aria-checked",d);c(this).toggleClass(a.config.selectedClass,d)})},randomizeStatements:function(){var a=this.model.get("answerOrder");a.length&&(this.ui.rows.detach(),this.ui.rows.sort(function(c,f){return a.indexOf(+c.getAttribute("data-row"))-a.indexOf(+f.getAttribute("data-row"))}),this.ui.optionsWrapper.append(this.ui.rows))},setupResponseSpecificFeedback:function(){var a=
this.model.get("behavior.keepQuestionMetadata");this.ui.responseFeedbacks.each(function(){a||c(this).data("feedback",c(this).html()).empty()})},enableQuestionComponents:function(){this.ui.options.each(function(){this.disabled=!1;this.setAttribute("aria-disabled",!1)});this.ui.optionWrappers.removeClass(this.config.disabledClass).addClass(this.config.enabledClass)},disableQuestionComponents:function(){this.ui.options.each(function(){this.disabled=!0;this.setAttribute("aria-disabled",!0)});this.ui.optionWrappers.removeClass(this.config.enabledClass).addClass(this.config.disabledClass)},
optionClickHandler:function(a){a.preventDefault();this.enabled&&(a=c(a.currentTarget).find(this.config.optionSelector)[0].value.split(this.config.coordinateSeperator),setTimeout(this.model.toggleAnswer,0,+a[1]-1,+a[0]))},showResponseSpecificFeedback:function(){var a=this,h=this.model.get("answers"),l=this.model.get("statementMap");this.ui.rows.each(function(){var d=c(this);var e=a.model.isStatementCorrect(+d.data("row")-1);var h=d.find(a.config.responseFeedbackSelector);var f=h.data("feedback");h.length&&
f||(f=!1);e?(d.addClass(a.config.correctClass),d=f||a.config.correctString,0==h.text().trim().length&&h.append(d)):(d.addClass(a.config.incorrectClass),d=f||a.config.incorrectString,0==h.text().trim().length&&h.append(d))});this.ui.optionWrappers.each(function(){var d=c(this).find(a.config.optionSelector)[0].value.split(a.config.coordinateSeperator);var e=f.contains(l[+d[1]-1],+d[0]);d=f.contains(h[+d[1]-1],+d[0]);e&&d?c(this).addClass(a.config.correctClass):!e&&d?c(this).addClass(a.config.incorrectClass):
e&&!d&&c(this).addClass(a.config.alsoCorrectClass)})},hideResponseSpecificFeedback:function(){this.ui.optionWrappers.add(this.ui.rows).removeClass([this.config.correctClass,this.config.incorrectClass,this.config.alsoCorrectClass].join(" "))}},{displayName:"matrixView",config:t.extend(q,p.configure(k.id))});n.trigger("multipleChoiceView.loaded",!0,k);return k});
define("elements/questions/matrix/matrix","module elements/questions/question/question elements/questions/matrix/model/matrixModel elements/questions/matrix/views/matrixView app/utilities/XyTools app/events app/configuration lang/lang".split(" "),function(k,c,f,m,n,p,t,q){f={name:"matrix",displayName:q.t("questions.matrix.displayName")||"Matrix",saveWeight:!0,saveTimestamp:!0,saveStem:!0,saveLatency:!0,saveCorrectResponses:!0,View:m,Model:f};k=c.extend({parseUserAnswer:function(a){return JSON.parse(a.replace(/\|/g,
","))},stringifyUserAnswer:function(a){if(!this.model.hasAnswers())return"";a=a||this.model.get("answers");return JSON.stringify(a).replace(/,/g,"|")}},{config:n.extend(f,t.configure(k.id))});p.trigger("matrix.loaded",!0,k);return k});
define("elements/questions/dragDrop/model/dragDropModel","module underscore elements/questions/question/model app/events app/utilities/XyTools app/configuration".split(" "),function(k,c,f,m,n,p){k=f.extend({props:{correctAnswers:"array",baseimage:"object",cognitionlevel:"string",dragobjects:"object",dropareacolor:"any",highlightdroparea:"any",targetsensititypercent:"any"},initialize:function(){this.constructor.__super__.initialize.call(this);this.getCorrectAnswers();this.initAnswers()},getCorrectAnswers:function(){var c=
this.get("dragobjects.dragobject");c=n.toArray(c).map(function(c,a){c=c.dragtype;return c.hasOwnProperty("dragtext")||c.hasOwnProperty("dragimage")?a:null});this.set("correctAnswers",c)},initAnswers:function(){if(!this.get("answers").length){var c=this.get("correctAnswers").map(function(){return null});this.set("answers",c)}},answerChanged:function(c,f){var a=this.get("answers");var h=a.slice(0);-1!==h.indexOf(f)&&h[c]!==f&&(f=null);"practice"===this.get("behavior.dnd_mode").toLowerCase()&&this.get("correctAnswers")[c]!==
f&&(f=null);h[c]=f;this.set("answers",h);a[c]===h[c]&&this.trigger("change:answers")},isCorrect:function(){return c.isEqual(this.get("answers"),this.get("correctAnswers"))},hasAnswers:function(){var c=this.get("answers").filter(function(a){return null!==a});var f=this.get("correctAnswers").filter(function(a){return null!==a});return c.length===f.length},refreshCorrectAnswers:function(){var c=this.get("answers"),f=this.get("correctAnswers");c=c.map(function(a,c){return f[c]!==a?null:a});this.set("answers",
c)},clearAnswers:function(){var c=this.get("correctAnswers").map(function(){return null});this.set("answers",c)}},{displayName:"dragDropModel",config:n.extend({},p.configure(k.id))});m.trigger("dragDropModel.loaded",!0,k);return k});
define("elements/questions/dragDrop/views/dragDropView","module jquery underscore elements/questions/question/view app/events app/configuration app/utilities/XyTools lang/lang jquery.extensions".split(" "),function(k,c,f,m,n,p,t,q){q={imageSelector:".DragDropImage",imageWrapperSelector:".DragDropImageWrapper",dragDropWrapperSelector:".DragDropObjects",startDragsSelector:".DragStart",targetDragsSelector:".DragTarget",distractorSelector:".Distractor",dragTextSelector:".DragText",dragTextInnerSelector:".DragTextInner",
dragImageSelector:".DragImage",highlightedClass:"Highlighted",visibleClass:"Visible",correctClass:"Correct",incorrectClass:"Incorrect",showSolutionButtonSelector:".ShowSolutionButton",showSolutionButtonHiddenClass:"Hidden",showSolutionButtonSolutionText:q.t("questions.general.showSolution")||"Show solution",showSolutionButtonUserAnswerText:q.t("questions.general.myAnswer")||"My answer",responsiveScaling:!0,disableDragOnTouchDevices:!1};k=m.extend({ui:{wrapper:"#{imageWrapperSelector}",img:"#{imageSelector}",
dragsWrapper:"#{dragDropWrapperSelector}",drags:"#{startDragsSelector}",targets:"#{targetDragsSelector}",distractors:"#{distractorSelector}",showSolutionButton:"#{showSolutionButtonSelector}"},events:{"click @ui.showSolutionButton":"toggleSolution"},modelBindings:{"change:answers":"updateAnswers"},render:function(){this.restorePosition();this.positionDrags();this.handleDrags();this.renderAnswers();this.ui.img.on("load",this.imageLoaded)},restorePosition:function(){var a=this;this.ui.drags.add(this.ui.distractors).each(function(h){c(this).data("position",
h);if(!c(this).is(a.config.distractorSelector)){var f=this.id.replace("start_","");a.ui.targets.filter("#target_"+f).data("position",h)}})},positionDrags:function(){var a=this;this.ui.drags.add(this.ui.distractors).filter(this.config.dragTextSelector).each(function(){var h=c(this).position().top,f=parseFloat(c(this).find(a.config.dragTextInnerSelector).css("font-size"));c(this).css({top:h-f}).data({"start-top":h-f});c(this).is(a.config.distractorSelector)||(h=this.id.replace("start_",""),h=a.ui.targets.filter("#target_"+
h),h.css("top",h.position().top-f))})},updateAnswers:function(){this.renderAnswers(this.model.get("answers"))},renderAnswers:function(a){a&&a.length||(a=this.model.get("answers"));a.forEach(function(a,c){c=this.getDragByPosition(c);null==a?this.moveDragToStart(c):(a=this.getTargetByPosition(a),this.moveDragToTarget(c,a))},this)},imageLoaded:function(){this.renderOverlay();this.showImage();this.handleScaling()},showImage:function(){this.ui.wrapper.css({opacity:1})},renderOverlay:function(){var a=this.ui.img.width(),
c=this.ui.img.height(),f=this.ui.img.position(),d=this.ui.img.outerWidth(),e=this.ui.img.outerHeight(),k=this.ui.img.offsetParent(),m={};k=(k.outerWidth()-k.width())/2;var q=t.getLanguageDirection();m.top=f.top+(e-c)/2;m["ltr"===q?"left":"right"]=k+(d-a)/2;this.ui.dragsWrapper.height(c).width(a).css(m)},handleDrags:function(){var a=this.ui.drags.add(this.ui.distractors),h=this;if(this.enabled)if(this.config.disableDragOnTouchDevices&&t.detect.touchDevice)a.on("click",function(a){var d=c(this);a.stopPropagation();
h.ui.wrapper.off("click.drag");h.dragStart(a);h.ui.wrapper.on("click.drag",function(a){h.dragStop(a,d);h.ui.wrapper.off("click.drag")})});else a.drags({zIndex:4,cursor:"invalid-\u0441ursor-name",ondragstart:this.dragStart,ondragstop:this.dragStop,contentWrapper:this.ui.wrapper})},dragStart:function(a){a=c(a.currentTarget);this.unhighlightDrags();this.highlightDrag(a);this.resizeTargets(a);this.ui.el.data("highlight-drop-area")&&this.showTargets()},dragStop:function(a,h){var f=a.pageX||a.originalEvent.changedTouches[0].pageX,
d=a.pageY||a.originalEvent.changedTouches[0].pageY;this.unhighlightDrags();this.hideTargets();h=h||c(a.currentTarget);a=this.calculateDrop(f,d);h=h.data("position");a=a?a.data("position"):null;this.model.answerChanged(h,a)},calculateDrop:function(a,h){var f=!1;this.ui.targets.each(function(){var d=c(this).offset();d.width=c(this).width();d.height=c(this).height();if(h>=d.top&&h<=d.top+d.height&&a>=d.left&&a<=d.left+d.width)return f=c(this),!1});return f},highlightDrag:function(a){a.addClass(this.config.highlightedClass)},
unhighlightDrags:function(){this.ui.drags.add(this.ui.distractors).removeClass(this.config.highlightedClass)},showTargets:function(){this.ui.targets.addClass(this.config.visibleClass)},hideTargets:function(){this.ui.targets.removeClass(this.config.visibleClass)},resizeTarget:function(a,c){var h=c.width();c=c.height();a.width(h).height(c)},resizeTargets:function(a){var c=a.width();a=a.height();this.ui.targets.width(c).height(a)},getDragByPosition:function(a){return this.ui.drags.add(this.ui.distractors).filter(function(){return+c(this).data("position")===
a})},getTargetByPosition:function(a){return this.ui.targets.filter(function(){return+c(this).data("position")===a})},moveDragToStart:function(a){a.stop().animate({top:a.data("start-top")+"px",left:a.data("start-left")+"px"},200)},moveDragToTarget:function(a,c){a.stop().animate({top:c[0].offsetTop,left:c[0].offsetLeft},200)},showResponseSpecificFeedback:function(a){var c=this.model.get("correctAnswers");a=a||this.model.get("answers");a.forEach(function(a,d){if(null!=a){var e=this.getTargetByPosition(a);
var h=this.getDragByPosition(d);this.resizeTarget(e,h);c[d]===a?h.addClass(this.config.correctClass):h.addClass(this.config.incorrectClass)}},this)},hideResponseSpecificFeedback:function(){this.ui.targets.add(this.ui.drags).removeClass([this.config.correctClass,this.config.incorrectClass].join(" "))},enableQuestionComponents:function(){this.handleDrags()},disableQuestionComponents:function(){this.ui.drags.add(this.ui.distractors).off("mousedown mouseup touchstart touchend click")},showSolutionButton:function(){this.showSolutionButtonState=
"correct";this.ui.showSolutionButton.removeClass(this.config.showSolutionButtonHiddenClass)},hideSolutionButton:function(){this.ui.showSolutionButton.addClass(this.config.showSolutionButtonHiddenClass)},toggleSolution:function(){"correct"===this.showSolutionButtonState?(this.ui.showSolutionButton.text(this.config.showSolutionButtonUserAnswerText),this.ui.showSolutionButton.attr("title",this.config.showSolutionButtonUserAnswerText),this.renderAnswers(this.model.get("correctAnswers")),this.showSolutionButtonState=
"user",!0===this.model.get("behavior.showfeedback")&&(this.hideResponseSpecificFeedback(),this.showResponseSpecificFeedback(this.model.get("correctAnswers")))):(this.ui.showSolutionButton.text(this.config.showSolutionButtonSolutionText),this.ui.showSolutionButton.attr("title",this.config.showSolutionButtonSolutionText),this.renderAnswers(this.model.get("answers")),this.showSolutionButtonState="correct",!0===this.model.get("behavior.showfeedback")&&(this.hideResponseSpecificFeedback(),this.showResponseSpecificFeedback()))},
handleScaling:function(){this.config.responsiveScaling&&(this.ui.wrapper.css("overflow","hidden"),this.scaleImage=f.throttle(this.scaleImage.bind(this),50),c(window).on("resize",this.scaleImage),this.scaleImage())},scaleImage:function(){var a=this.ui.wrapper[0],c=a.offsetWidth;a=a.scrollWidth;var f=c/a;f*=this.ui.img.height();a>c?(this.ui.wrapper.children().css("transform","scale("+c/(a+6)+")"),this.ui.wrapper.height(f+20)):(this.ui.wrapper.children().css("transform","scale(1)"),this.ui.wrapper.height("auto"))},
turnReviewModeOn:function(){this.constructor.__super__.turnReviewModeOn.call(this);this.renderAnswers(this.model.get("correctAnswers"))},turnReviewModeOff:function(){this.constructor.__super__.turnReviewModeOff.call(this);this.renderAnswers()},destructor:function(){this.disableQuestionComponents();c(window).off("resize",this.scaleImage);this.constructor.__super__.destructor.call(this)}},{displayName:"dragDropView",config:t.extend(q,p.configure(k.id))});n.trigger("dragDropView.loaded",!0,k);return k});
define("elements/questions/dragDrop/dragDrop","module elements/questions/question/question elements/questions/dragDrop/model/dragDropModel elements/questions/dragDrop/views/dragDropView app/utilities/XyTools app/events app/configuration lang/lang".split(" "),function(k,c,f,m,n,p,t,q){f={name:"dragDrop",displayName:q.t("questions.dragDrop.displayName")||"Drag 'n Drop",saveWeight:!0,saveTimestamp:!0,saveStem:!0,saveLatency:!0,saveCorrectResponses:!0,View:m,Model:f};k=c.extend({parseUserAnswer:function(a){return a.split(",").map(function(a){a=
parseFloat(a);return isNaN(a)?null:a})},stringifyUserAnswer:function(a){if(!this.model.hasAnswers())return"";a=a||this.model.get("answers");return a.join(",")}},{config:n.extend(f,t.configure(k.id))});p.trigger("dragDrop.loaded",!0,k);return k});
define("elements/questions/matchingActivity/model/matchingActivityModel","module underscore elements/questions/question/model app/events app/utilities/XyTools app/configuration".split(" "),function(k,c,f,m,n,p){k=f.extend({props:{option:"array",distractorMap:"array",matchMap:"array",userAnswerString:"string",suspendType:"any",presotype:"string"},initialize:function(){this.constructor.__super__.initialize.call(this);this.getCorrectAnswers();this.initAnswers();this.setupAnswerOrder()},getCorrectAnswers:function(){var c=
n.toArray(this.get("option")).map(function(c,a){return a});this.set("correctAnswers",c)},initAnswers:function(c){if(!this.get("answers").length||c)c=this.get("correctAnswers").map(function(){return null}),this.set("answers",c)},setupAnswerOrder:function(){var c=this.get("behavior.forceNoRandomization");if(!this.get("answerOrder").length){var f=this.get("correctAnswers").map(function(a,c){return c});var a=c?f:n.randomizeArray(f);c=c?f:n.randomizeArray(f);this.set("answerOrder",[a,c])}},answerChanged:function(c,
f){var a=this.get("answers");var h=a.slice(0);null===c&&(c=h.indexOf(f),-1===c&&(c=null),f=null);-1!==h.indexOf(f)&&h[c]!==f&&(h[h.indexOf(f)]=null);null!==c&&(h[c]=f);this.set("answers",h);a[c]===h[c]&&this.trigger("change:answers")},isCorrect:function(){return c.isEqual(this.get("answers"),this.get("correctAnswers"))},hasAnswers:function(){return-1===this.get("answers").indexOf(null)},clearAnswers:function(){this.initAnswers(!0)},refreshCorrectAnswers:function(){var c=this.get("answers"),f=this.get("correctAnswers");
c=c.map(function(a,c){return f[c]!==a?null:a});this.set("answers",c)}},{displayName:"MatchingActivityModel",config:n.extend({},p.configure(k.id))});m.trigger("matchingActivityModel.loaded",!0,k);return k});
define("elements/questions/matchingActivity/views/matchingActivityView","module elements/questions/question/view jquery underscore app/events app/configuration app/utilities/XyTools lang/lang".split(" "),function(k,c,f,m,n,p,t,q){q={optionsWrapperSelector:".MatchingQuestionOptionsWrapper",optionWrappersSelector:".QuestionOptionWrapper",optionSelector:".QuestionOption",distractorSelector:".MatchingQuestionDistractorWrapper",distractorsWrapperSelector:".MatchingQuestionDistractors",distractorsBinSelector:".MatchingQuestionsDistractorsBin",
binIndicesWrapperSelector:".MatchingQuestionBinIndicesWrapper",binIndicesToggleButtonSelector:".BinIndicesToggleButton",matchSelector:".MatchingQuestionMatchWrapper",matchCheckboxSelector:".MatchingQuestionMatchCheckbox",matchesWrapperSelector:".MatchingQuestionMatches",matchSelectorResponsive:".MatchingQuestionMatchWrapperResponsive",matchesWrapperSelectorResponsive:".MatchingQuestionMatchesResponsive",optionHandleSelector:".MatchingQuestionHandleWrapper",optionConnectorSelector:".MatchingQuestionConnector",
distractorsBinIndexClass:"MatchingQuestionsDistractorsBinIndex",selectedClass:"Selected",activeClass:"Active",correctClass:"Correct",incorrectClass:"Incorrect",alsoCorrectClass:"AlsoCorrect",showSolutionButtonSelector:".ShowSolutionButton",showSolutionButtonHiddenClass:"Hidden",showSolutionButtonSolutionText:q.t("questions.general.showSolution")||"Show solution",showSolutionButtonUserAnswerText:q.t("questions.general.myAnswer")||"My answer",closedClass:"Closed",checkedClass:"Checked",answeredClass:"Answered",
responsiveBreakpoint:740,responsiveBin:{zIndex:101,topSpacing:void 0,topSpacingElementSelector:"#PageHeader .Areas"}};k=c.extend({ui:{options:"#{optionSelector}",optionWrappers:"#{optionWrappersSelector}",optionsWrapper:"#{optionsWrapperSelector}",distractors:"#{distractorSelector}",distractorsWrapper:"#{distractorsWrapperSelector}",distractorsBin:"#{distractorsBinSelector}",indicesWrapper:"#{binIndicesWrapperSelector}",indicesToggleButton:"#{binIndicesToggleButtonSelector}",matches:"#{matchSelector}",
matchesWrapper:"#{matchesWrapperSelector}",matchesWrapperResponsive:"#{matchesWrapperSelectorResponsive}",matchWrapperResponsive:"#{matchSelectorResponsive}",matchesResponsiveCheckboxes:"#{matchCheckboxSelector}",optionHandles:"#{optionHandleSelector}",optionConnectors:"#{optionConnectorSelector}",showSolutionButton:"#{showSolutionButtonSelector}"},events:{"click @ui.optionWrappers":"answerClickHandler","click @ui.matchWrapperResponsive":"answerResponsiveClickHandler","click @ui.indicesToggleButton":"toggleBin",
"click @ui.showSolutionButton":"toggleSolution"},modelBindings:{"change:answers":"updateAnswers","change:answerOrder":"randomizeOptions"},_cachedUiAnswers:[],render:function(){this.restorePosition();this.activeDistractor=this.activeMatch=null;this.binIndices=f([]);this.binInitialized=this.uncheckAction=!1;this.updateAnswers();this.randomizeOptions();this.renderResponsiveBin();this.refreshConnectors();this._boundRefreshAnswers=this.refreshConnectors;n.on("content.mediaState:changed",this.updateBinOnMediaQueryChange.bind(this));
n.on("questionState.updated",this.onQuestionStateUpdated.bind(this));f(window).on("resize",this._boundRefreshAnswers)},updateAnswers:function(){this.renderAnswers(this.model.get("answers"));this.processResponsive(this.model.get("answers"))},renderAnswers:function(a){this.unhighlight(this.ui.distractors);this.unhighlight(this.ui.matches);this.clearConnectors();a.forEach(function(a,c){null!==a&&(a=this.getMatchByPosition(a),c=this.getDistractorByPosition(c),this.highlight(c),this.highlight(a))},this);
this._cachedUiAnswers=a;this.renderConnectors(a)},processResponsive:function(a,c){a=a||this.model.get("answers");var h=a.length;c=c?Array.apply(null,{length:h}).map(function(){return null}):this.model.previous("answers");this.handleCheckboxes(a,c);this.updateResponsiveBinIndices(a)},handleCheckboxes:function(a,c){var h=this,d,e,f,k;m.isEmpty(this.model.changed)||a.forEach(function(a,l,m){f=c[l];null!==a&&a!==f&&(null!==f&&(d=h.segregateMatchesByDistractor(f,l),h.toggleMatchesIndeterminate(d.otherMatches,
!1)),k=h.getResponsiveMatchesByDistractorPosition(l),h.toggleMatchesCheck(k,!1),e=h.segregateMatchesByDistractor(a,l),h.toggleMatchesCheck(e.match,!0),h.toggleMatchesIndeterminate(e.match,!1),h.toggleMatchesCheck(e.otherMatches,!1),h.toggleMatchesIndeterminate(e.otherMatches,!0));null===a&&a!==f&&-1===m.indexOf(f)&&(d=h.segregateMatchesByDistractor(f,l),h.toggleMatchesCheck(d.match,!1),h.toggleMatchesIndeterminate(d.otherMatches,!1))})},segregateMatchesByDistractor:function(a,c){a=this.getResponsiveMatchesByPosition(a);
var h=this.filterMatchesByDistractorPosition(a,c);c=a.filter(function(){return!f(this).is(h)});return{match:h,otherMatches:c}},toggleMatchesCheck:function(a,c){var h=this;a.each(function(){var a=f(this).find(h.config.matchCheckboxSelector);a[0].checked=c;a[0].setAttribute("aria-checked",c);f(this).toggleClass(h.config.checkedClass,c)})},toggleMatchesIndeterminate:function(a,c){var h=this;a.each(function(){var a=f(this).find(h.config.matchCheckboxSelector);a[0].indeterminate=c;a[0].setAttribute("aria-checked",
"mixed")})},restorePosition:function(){var a=this;this.ui.distractors.each(function(a){f(this).data("position",a)});this.ui.matches.each(function(a){f(this).data("position",a)});this.ui.matchesWrapperResponsive.each(function(c){f(this).find(a.config.matchSelectorResponsive).each(function(a){f(this).data("position",a);f(this).data("distractor-position",c)})})},clearConnectors:function(){this.ui.optionConnectors.removeAttr("x1").removeAttr("x2").removeAttr("y1").removeAttr("y2")},renderConnectors:function(a){a.forEach(this.connect.bind(this))},
refreshConnectors:function(){this.renderConnectors(this._cachedUiAnswers)},onQuestionStateUpdated:function(){this.refreshConnectors()},connect:function(a,c){function h(a,d){var c=a.offset();d=d.offset();return{left:c.left-d.left+a.outerWidth()/2,top:c.top-d.top+a.outerHeight()/2}}if(null!==a){var d=this.getDistractorByPosition(c);a=this.getMatchByPosition(a);d=d.find(this.config.optionHandleSelector);a=a.find(this.config.optionHandleSelector);f.contains(document,d[0])&&f.contains(document,a[0])&&
(d=h(d,this.ui.optionsWrapper),a=h(a,this.ui.optionsWrapper),this.ui.optionConnectors.eq(c).attr("x1",d.left).attr("y1",d.top).attr("x2",a.left).attr("y2",a.top))}},randomizeOptions:function(){var a=this;var c=this.model.get("answerOrder");var l=c[0];var d=c[1];this.ui.distractors.detach();this.ui.matches.detach();this.sortOptions(this.ui.distractors,l);this.sortOptions(this.ui.matches,d);this.ui.distractors.appendTo(this.ui.distractorsWrapper);this.ui.matches.appendTo(this.ui.matchesWrapper);this.ui.matchesWrapperResponsive.each(function(){var c=
f(this).find(a.config.matchSelectorResponsive);c.detach();a.sortOptions(c,d);c.appendTo(f(this))});this.renderConnectors(this.model.get("answers"))},sortOptions:function(a,c){return a.sort(function(a,d){return c.indexOf(f(a).data("position"))-c.indexOf(f(d).data("position"))})},updateBinOnMediaQueryChange:function(a){"mobile"===a&&this.updateResponsiveBin()},updateResponsiveBin:function(){return this.ui.distractorsBin&&this.ui.distractorsBin.sticky("update")},renderResponsiveBin:function(){var a=
this;if(!this.binInitialized){this.binIndices=this.ui.distractors.map(function(c,d){d=f("<span>"+(c+1)+"</span>").addClass(a.config.distractorsBinIndexClass).data("position",f(d).data("position"));d.click(function(){a.ui.distractors.eq(c).scrollintoview()}).appendTo(a.ui.indicesWrapper);return d});var c=a.config.responsiveBin.topSpacing?a.config.responsiveBin.topSpacing:f(a.config.responsiveBin.topSpacingElementSelector).outerHeight();this.ui.distractorsBin.sticky({topSpacing:c||0,responsiveWidth:!0,
widthFromWrapper:!0,zIndex:a.config.responsiveBin.zIndex});f("#PageBodyWrapper").scroll(a.updateResponsiveBin);f("#PageBody").scroll(a.updateResponsiveBin);this.binInitialized=!0}},updateResponsiveBinIndices:function(a){var c=this;this.binIndices.each(function(){f(this).toggleClass(c.config.answeredClass,null!==a[f(this).data("position")])})},toggleBin:function(){this.ui.distractorsBin.toggleClass(this.config.closedClass);this.updateResponsiveBin()},isScreenWide:function(){return"mobile"!==t.determineCurrentMediaState()},
answerClickHandler:function(a){a=f(a.currentTarget);var c=a.parent();if(this.enabled&&this.isScreenWide()){var l=a.data("position");var d=c.data("position");d=f.isNumeric(l)?l:d;c.is(this.config.distractorSelector)?(l=d,d=this.activeMatch,this.activeDistractor=l,a=c):(l=this.activeDistractor,this.activeMatch=d);null!==d&&null!==l&&(this.activeDistractor=this.activeMatch=null);this.model.answerChanged(l,d);this.highlight(a)}},answerResponsiveClickHandler:function(a){var c=f(a.currentTarget);a.preventDefault();
a.stopPropagation();if(this.enabled){var l=c.data("position");a=c.data("distractor-position");c.hasClass(this.config.checkedClass)&&(l=null);this.model.answerChanged(a,l)}},highlight:function(a){f(a).addClass(this.config.selectedClass)},unhighlight:function(a){f(a).removeClass(this.config.selectedClass)},getDistractorByPosition:function(a){return this.ui.distractors.filter(function(){return+f(this).data("position")===a})},getMatchByPosition:function(a){return this.ui.matches.filter(function(){return+f(this).data("position")===
a})},getResponsiveMatchesByPosition:function(a,c){return(c||this.ui.distractors).find(this.config.matchSelectorResponsive).filter(function(){return+f(this).data("position")===a})},getResponsiveMatchesByDistractorPosition:function(a){return this.ui.distractors.find(this.config.matchSelectorResponsive).filter(function(){return+f(this).data("distractor-position")===a})},filterMatchesByDistractorPosition:function(a,c){return a.filter(function(){return+f(this).data("distractor-position")===c})},disableQuestionComponents:function(){this.ui.optionWrappers.removeClass(this.config.enabledClass).addClass(this.config.disabledClass);
this.ui.matchesResponsiveCheckboxes.each(function(){this.disabled=!0;this.setAttribute("aria-disabled",!0)})},enableQuestionComponents:function(){this.ui.optionWrappers.addClass(this.config.enabledClass).removeClass(this.config.disabledClass);this.ui.matchesResponsiveCheckboxes.each(function(){this.disabled=!1;this.setAttribute("aria-disabled",!1)})},showResponseSpecificFeedback:function(a){var c=this,l=a||this.model.get("answers"),d=this.model.get("correctAnswers");this.ui.distractors.each(function(){var a=
f(this).data("position");var h=l[a]===d[a];var k=c.getMatchByPosition(l[a]);a=c.ui.optionConnectors.eq(a);h=h?c.config.correctClass:c.config.incorrectClass;f(this).add(k).add(a).addClassSVG(h)})},hideResponseSpecificFeedback:function(){this.ui.optionWrappers.add(this.ui.optionConnectors).add(this.ui.distractors).removeClass([this.config.correctClass,this.config.incorrectClass,this.config.alsoCorrectClass].join(" "))},showSolutionButton:function(){this.showSolutionButtonState="correct";this.ui.showSolutionButton.removeClass(this.config.showSolutionButtonHiddenClass)},
hideSolutionButton:function(){this.ui.showSolutionButton.addClass(this.config.showSolutionButtonHiddenClass)},toggleSolution:function(){"correct"===this.showSolutionButtonState?(this.ui.showSolutionButton.text(this.config.showSolutionButtonUserAnswerText),this.ui.showSolutionButton.attr("title",this.config.showSolutionButtonUserAnswerText),this.renderAnswers(this.model.get("correctAnswers")),this.processResponsive(this.model.get("correctAnswers"),!0),this.showSolutionButtonState="user",!0===this.model.get("behavior.showfeedback")&&
(this.hideResponseSpecificFeedback(),this.showResponseSpecificFeedback(this.model.get("correctAnswers")))):(this.ui.showSolutionButton.text(this.config.showSolutionButtonSolutionText),this.ui.showSolutionButton.attr("title",this.config.showSolutionButtonSolutionText),this.renderAnswers(this.model.get("answers")),this.processResponsive(this.model.get("answers"),!0),this.showSolutionButtonState="correct",!0===this.model.get("behavior.showfeedback")&&(this.hideResponseSpecificFeedback(),this.showResponseSpecificFeedback()))},
turnReviewModeOn:function(){this.constructor.__super__.turnReviewModeOn.call(this);this.renderAnswers(this.model.get("correctAnswers"));this.hideResponseSpecificFeedback();this.showResponseSpecificFeedback(this.model.get("correctAnswers"))},turnReviewModeOff:function(){this.constructor.__super__.turnReviewModeOff.call(this);this.renderAnswers(this.model.get("answers"));this.hideResponseSpecificFeedback()},destructor:function(){f(window).off("resize",this._boundRefreshAnswers);this.constructor.__super__.destructor.call(this)}},
{displayName:"matchingActivityView",config:t.extend(q,p.configure(k.id))});n.trigger("matchingActivityView.loaded",!0,k);return k});
define("elements/questions/matchingActivity/matchingActivity","module elements/questions/question/question elements/questions/matchingActivity/model/matchingActivityModel elements/questions/matchingActivity/views/matchingActivityView app/utilities/XyTools app/events app/configuration lang/lang".split(" "),function(k,c,f,m,n,p,t,q){f={name:"matchingActivity",displayName:q.t("questions.matchingActivity.displayName")||"Matching Activity",saveWeight:!0,saveTimestamp:!0,saveStem:!0,saveLatency:!0,saveCorrectResponses:!0,
View:m,Model:f};k=c.extend({},{config:n.extend(f,t.configure(k.id))});p.trigger("matchingActivity.loaded",!0,k);return k});
define("elements/questions/fillInBlank/model/optionModels/optionModel",["app/utilities/helper/helperModel","app/events"],function(k,c){k=k.extend({props:{answer:"any",variables:"object"},answerChanged:function(c){this.set("answer",c)},resetAnswer:function(){this.set("answer","")},isCorrect:function(){return!1},isAttempted:function(){return!1}},{displayName:"fillInBlankOptionModel"});c.trigger("fillInBlankOptionModel.loaded",!0,k);return k});
define("elements/questions/fillInBlank/model/optionModels/dateModel",["elements/questions/fillInBlank/model/optionModels/optionModel","app/events","app/utilities/XyTools"],function(k,c,f){k=k.extend({props:{date:"string"},isCorrect:function(){var c=this.get("answer"),f=this.get("date");f=this.toDate(f);c=this.toDate(c);return f.toDateString()===c.toDateString()},toDate:function(c){c=new Date(Date.parse(c));return"date"!==f.type(c)||isNaN(c.getTime())?null:c},isAttempted:function(){return!!this.get("answer").length}},
{displayName:"fillInBlankDateModel"});c.trigger("fillInBlankDateModel.loaded",!0,k);return k});
define("elements/questions/fillInBlank/model/optionModels/dropDownListModel",["elements/questions/fillInBlank/model/optionModels/optionModel","app/events"],function(k,c){k=k.extend({props:{dropdownlist:"object",answer:"string"},isCorrect:function(){var c=+this.get("answer")-1;c=this.get("dropdownlist.choice")[c];return!!c&&/^true$/i.test(c.iscorrect)},answerChanged:function(c){this.set("answer",""+c)},resetAnswer:function(){this.set("answer","0")},isAttempted:function(){return 0<+this.get("answer")}},
{displayName:"fillInBlankDropDownListModel"});c.trigger("fillInBlankDropDownListModel.loaded",!0,k);return k});
define("elements/questions/fillInBlank/model/optionModels/formulaModel",["elements/questions/fillInBlank/model/optionModels/optionModel","app/events","app/utilities/XyTools"],function(k,c,f){k=k.extend({props:{formula:"string",tolerance:"string",answer:"string"},initialize:function(){var c=this.get("formula"),k=this.get("variables");Object.keys(k).forEach(function(f){c=c.split("$"+f+"$").join(k[f])});c=f.evaluateExpression(c);this.correctAnswer=isNaN(c)?!1:c},answerChanged:function(c){var f=this.get("answer");
!isNaN(c)||""===f&&"-"===c?this.set("answer",c):this.trigger("change:answer")},isCorrect:function(){var c=parseFloat(this.get("tolerance")),f=parseFloat(this.get("answer"));return isNaN(c)?f===this.correctAnswer:f<=this.correctAnswer+c&&f>=this.correctAnswer-c},isAttempted:function(){return!!this.get("answer").length}},{displayName:"fillInBlankFormulaModel"});c.trigger("fillInBlankFormulaModel.loaded",!0,k);return k});
define("elements/questions/fillInBlank/model/optionModels/numberMatchModel",["elements/questions/fillInBlank/model/optionModels/optionModel","app/events"],function(k,c){k=k.extend({props:{numbermatch:"object",answer:"string"},answerChanged:function(c){var f=this.get("answer");!isNaN(c)||""===f&&"-"===c?this.set("answer",c):this.trigger("change:answer")},isCorrect:function(){var c=this.get("answer"),k=this.get("numbermatch.min"),n=this.get("numbermatch.max");if(isNaN(c))return!1;c=parseFloat(c);k=
parseFloat(k);n=parseFloat(n);isNaN(k)&&!isNaN(n)?k=n:isNaN(n)&&!isNaN(k)?n=k:isNaN(k)&&isNaN(n)&&(k=n=Infinity);return c>=k&&c<=n?!0:!1},isAttempted:function(){return!!this.get("answer").length}},{displayName:"fillInBlankNumberMatchModel"});c.trigger("fillInBlankNumberMatchModel.loaded",!0,k);return k});
define("elements/questions/fillInBlank/model/optionModels/textMatchesModel",["elements/questions/fillInBlank/model/optionModels/optionModel","app/events","app/utilities/XyTools"],function(k,c,f){k=k.extend({props:{answer:["string",""],textmatches:"object"},isCorrect:function(){var c=this.get("textmatches"),k=this.get("answer");k=this.normalizeAnswer(k);if(!k)return!1;c.matched=0;c.textmatch=f.toArray(c.textmatch);c.textmatch.forEach(function(m){m.matched=0;m.pattern=f.toArray(m.pattern);m.pattern.forEach(function(c){var f=
this.createPattern(c);k.forEach(function(a){a=this.convertAnswer(a,c);f.test(a)&&m.matched++},this)},this);m.matched>=+m.matchatleast&&c.matched++},this);return c.matched>=+c.matchatleast?!0:!1},normalizeAnswer:function(c){return c.split(this.config.delimiter||",").filter(function(c){return"string"===typeof c&&c.length}).map(function(c){return c.trim()})},createPattern:function(c){var f=c.text,k="";f=f.replace(/([.+^${}()|\[\]\/\\])/g,"\\$1").replace(/[*?]/g,".$&");/^true$/.test(c.ignorespaces)&&
(f=f.replace(/\s/g,""));/^true$/.test(c.ignorecase)&&(k+="i");/^true$/.test(c.ignoreextrawords)||(f="^"+f+"$");/^true$/.test(c.ignorehyphensandminus)&&(f=f.replace(/-/g,""));return new RegExp(f,k)},convertAnswer:function(c,f){c=c.replace(/\\/g,"\\\\");/^true$/.test(f.ignorehyphensandminus)&&(c=c.replace(/-/g,""));/^true$/.test(f.ignorespaces)&&(c=c.replace(/\s/g,""));return c},isAttempted:function(){return!!this.get("answer").length}},{displayName:"fillInBlankTextMatchesModel"});c.trigger("fillInBlankTextMatchesModel.loaded",
!0,k);return k});
define("elements/questions/fillInBlank/model/fillInBlankModel","module underscore elements/questions/question/model elements/questions/fillInBlank/model/optionModels/dateModel elements/questions/fillInBlank/model/optionModels/dropDownListModel elements/questions/fillInBlank/model/optionModels/formulaModel elements/questions/fillInBlank/model/optionModels/numberMatchModel elements/questions/fillInBlank/model/optionModels/textMatchesModel app/events app/utilities/XyTools app/configuration".split(" "),function(k,
c,f,m,n,p,t,q,a,h,l){function d(a,c){return Object.keys(a).map(function(a){return c[a.toLowerCase()]}).filter(function(a){return!!a})[0]}k=f.extend({props:{fillincontent:"object",presostyle:["string","TypeInText"],variables:"any",submodels:"array"},initialize:function(){this.constructor.__super__.initialize.call(this);this.handleVariables();this.createOptionModels()},createOptionModels:function(){var a=this.get("fillincontent.blank"),c=[];a&&(h.toArray(a).forEach(function(a,e){var h;if(h=d(a,this.config.modeltypes))e=
this.get("answers")[e],"undefined"!==typeof e&&(a.answer=e),a.variables=this.get("variables"),a=new h(a),c.push(a),this.listenTo(a,"change:answer",this.updateAnswer)},this),this.set("submodels",c))},handleVariables:function(){var a=(a=this.get("answerOrder"))&&a.length?this.parseVariables(a):this.generateVariables();this.set("variables",a);this.set("answerOrder",this.stringifyVariables(a))},generateVariables:function(){var a=this.get("variables.variable"),d={};if(!a)return d;h.toArray(a).forEach(function(a){if("range"===
("undefined"!==typeof a.range?"range":"set")){a.range.min=parseFloat(a.range.min);a.range.max=parseFloat(a.range.max);a.decimaldigits=+a.decimaldigits;var e=a.range.min;e=+(e+Math.random()*(a.range.max-e)).toFixed(a.decimaldigits);a.value=e}else a.set.value=h.toArray(a.set.value),a.value=+a.set.value[c.random(0,a.set.value.length-1)];d[a.variablename]=a.value});return d},parseVariables:function(a){return a.reduce(function(a,c){c=c.split("=");a[c[0]]=parseFloat(c[1]);return a},{})},stringifyVariables:function(a){return Object.keys(a).map(function(c){return c+
"="+a[c]})},refreshCorrectAnswers:function(){this.get("submodels").forEach(function(a){a.isCorrect()||a.resetAnswer()})},clearAnswers:function(){this.get("submodels").forEach(function(a){a.resetAnswer()})},updateAnswer:function(){this.set("answers",this.getAnswers())},getAnswers:function(){return this.get("submodels").map(function(a){return a.get("answer")})},isCorrect:function(){return this.get("submodels").every(function(a){return a.isCorrect()})},hasAnswers:function(){return this.get("submodels").every(function(a){return a.isAttempted()})}},
{displayName:"fillInBlankModel",config:h.extend({modeltypes:{date:m,dropdownlist:n,formula:p,numbermatch:t,textmatches:q}},l.configure(k.id))});a.trigger("fillInBlankModel.loaded",!0,k);return k});
define("elements/questions/fillInBlank/views/optionViews/optionView",["jquery","underscore","backbone","app/utilities/helper/helperView","app/events"],function(k,c,f,m,n){k=m.extend({initialize:function(c){this.config=(c||{}).config},render:function(){},enable:function(){this.$el[0].disabled=!1},disable:function(){this.$el[0].disabled=!0},showFeedback:function(){this.model.isCorrect()?this.$el.addClass(this.config.correctClass):this.$el.addClass(this.config.incorrectClass)},hideFeedback:function(){this.$el.removeClass(this.config.correctClass+
" "+this.config.incorrectClass)},destructor:function(){this.undelegateEvents();this.stopListening();this.remove()}},{displayName:"fillInBlankOptionView"});n.trigger("fillInBlankOptionView",!0,k);return k});
define("elements/questions/fillInBlank/views/optionViews/textMatchesView",["elements/questions/fillInBlank/views/optionViews/optionView","app/utilities/XyTools","app/events"],function(k,c,f){k=k.extend({events:{keyup:"keyupHandler",paste:"pasteHandler"},modelBindings:{"change:answer":"renderAnswer"},render:function(){this.renderAnswer()},renderAnswer:function(){this.$el.val(this.model.get("answer"))},keyupHandler:function(){this.model.answerChanged(this.$el.val())},pasteHandler:function(c){if(!c.keyCode){var f=
this;setTimeout(function(){f.model.answerChanged(f.$el.val())},0)}}},{displayName:"fillInBlankTextMatchesView"});f.trigger("fillInBlankTextMatchesView.loaded",!0,k);return k});
define("elements/questions/fillInBlank/views/optionViews/dropDownListView",["elements/questions/fillInBlank/views/optionViews/optionView","app/events"],function(k,c){k=k.extend({ui:{options:"option"},events:{change:"changeHandler"},modelBindings:{"change:answer":"renderAnswer"},render:function(){this.renderAnswer()},renderAnswer:function(){var c=this.model.get("answer");"0"===c?this.ui.el[0].selectedIndex=0:this.ui.options.eq(c).attr("selected",!0)},changeHandler:function(){var c=this.ui.options.filter(":selected").index();
this.model.answerChanged(c)}},{displayName:"fillInBlankDropDownListView"});c.trigger("fillInBlankDropDownListView.loaded",!0,k);return k});
(function(k,c){if("object"===typeof exports){try{var f=require("moment")}catch(m){}module.exports=c(f)}else"function"===typeof define&&define.amd?define("pikaday",["require"],function(k){try{f=k("moment")}catch(n){}return c(f)}):k.Pikaday=c(k.moment)})(this,function(k){var c="function"===typeof k,f=!!window.addEventListener,m=window.document,n=window.setTimeout,p=function(a,c,d,e){f?a.addEventListener(c,d,!!e):a.attachEvent("on"+c,d)},t=function(a,c,d,e){f?a.removeEventListener(c,d,!!e):a.detachEvent("on"+
c,d)},q=function(a,c,d){if(m.createEvent){var e=m.createEvent("HTMLEvents");e.initEvent(c,!0,!1);e=z(e,d);a.dispatchEvent(e)}else m.createEventObject&&(e=m.createEventObject(),e=z(e,d),a.fireEvent("on"+c,e))},a=function(a,c){return-1!==(" "+a.className+" ").indexOf(" "+c+" ")},h=function(a){return/Array/.test(Object.prototype.toString.call(a))},l=function(a){return/Date/.test(Object.prototype.toString.call(a))&&!isNaN(a.getTime())},d=function(a,c){return[31,0===a%4&&0!==a%100||0===a%400?29:28,31,
30,31,30,31,31,30,31,30,31][c]},e=function(a){l(a)&&a.setHours(0,0,0,0)},u=function(a,c){return a.getTime()===c.getTime()},z=function(a,c,d){var e,f;for(e in c)if((f=void 0!==a[e])&&"object"===typeof c[e]&&null!==c[e]&&void 0===c[e].nodeName)l(c[e])?d&&(a[e]=new Date(c[e].getTime())):h(c[e])?d&&(a[e]=c[e].slice(0)):a[e]=z({},c[e],d);else if(d||!f)a[e]=c[e];return a},C=function(a){0>a.month&&(a.year-=Math.ceil(Math.abs(a.month)/12),a.month+=12);11<a.month&&(a.year+=Math.floor(Math.abs(a.month)/12),
a.month-=12);return a},D={field:null,bound:void 0,position:"bottom left",reposition:!0,format:"YYYY-MM-DD",defaultDate:null,setDefaultDate:!1,firstDay:0,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",
months:"January February March April May June July August September October November December".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" ")},theme:null,onSelect:null,onOpen:null,onClose:null,onDraw:null},x=function(a,c,d){for(c+=a.firstDay;7<=c;)c-=7;return d?a.i18n.weekdaysShort[c]:a.i18n.weekdays[c]},E=function(a){var c=[],d="false";if(a.isEmpty)if(a.showDaysInNextAndPreviousMonths)c.push("is-outside-current-month");
else return'<td class="is-empty"></td>';a.isDisabled&&c.push("is-disabled");a.isToday&&c.push("is-today");a.isSelected&&(c.push("is-selected"),d="true");a.isInRange&&c.push("is-inrange");a.isStartRange&&c.push("is-startrange");a.isEndRange&&c.push("is-endrange");return'<td data-day="'+a.day+'" class="'+c.join(" ")+'" aria-selected="'+d+'"><button class="pika-button pika-day" type="button" data-pika-year="'+a.year+'" data-pika-month="'+a.month+'" data-pika-day="'+a.day+'">'+a.day+"</button></td>"},
H=function(a,c,d){var e=new Date(d,0,1);return'<td class="pika-week">'+Math.ceil(((new Date(d,c,a)-e)/864E5+e.getDay()+1)/7)+"</td>"},A=function(a,c){return"<tr>"+(c?a.reverse():a).join("")+"</tr>"},G=function(a,c,d,e,f,l){var k,m=a._o,q=d===m.minYear,t=d===m.maxYear;l='<div id="'+l+'" class="pika-title" role="heading" aria-live="assertive">';var u=!0,p=!0;var n=[];for(k=0;12>k;k++)n.push('<option value="'+(d===f?k-c:12+k-c)+'"'+(k===e?' selected="selected"':"")+(q&&k<m.minMonth||t&&k>m.maxMonth?
'disabled="disabled"':"")+">"+m.i18n.months[k]+"</option>");f='<div class="pika-label">'+m.i18n.months[e]+'<select class="pika-select pika-select-month" tabindex="-1">'+n.join("")+"</select></div>";if(h(m.yearRange)){k=m.yearRange[0];var A=m.yearRange[1]+1}else k=d-m.yearRange,A=1+d+m.yearRange;for(n=[];k<A&&k<=m.maxYear;k++)k>=m.minYear&&n.push('<option value="'+k+'"'+(k===d?' selected="selected"':"")+">"+k+"</option>");d='<div class="pika-label">'+d+m.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+
n.join("")+"</select></div>";l=m.showMonthAfterYear?l+(d+f):l+(f+d);q&&(0===e||m.minMonth>=e)&&(u=!1);t&&(11===e||m.maxMonth<=e)&&(p=!1);0===c&&(l+='<button class="pika-prev'+(u?"":" is-disabled")+'" type="button">'+m.i18n.previousMonth+"</button>");c===a._o.numberOfMonths-1&&(l+='<button class="pika-next'+(p?"":" is-disabled")+'" type="button">'+m.i18n.nextMonth+"</button>");return l+"</div>"},B=function(d){var e=this,h=e.config(d);e._onMouseDown=function(c){if(e._v){c=c||window.event;var d=c.target||
c.srcElement;if(d)if(a(d,"is-disabled")||(!a(d,"pika-button")||a(d,"is-empty")||a(d.parentNode,"is-disabled")?a(d,"pika-prev")?e.prevMonth():a(d,"pika-next")&&e.nextMonth():(e.setDate(new Date(d.getAttribute("data-pika-year"),d.getAttribute("data-pika-month"),d.getAttribute("data-pika-day"))),h.bound&&n(function(){e.hide();h.field&&h.field.blur()},100))),a(d,"pika-select"))e._c=!0;else if(c.preventDefault)c.preventDefault();else return c.returnValue=!1}};e._onChange=function(c){c=c||window.event;
(c=c.target||c.srcElement)&&(a(c,"pika-select-month")?e.gotoMonth(c.value):a(c,"pika-select-year")&&e.gotoYear(c.value))};e._onKeyChange=function(a){a=a||window.event;if(e.isVisible())switch(a.keyCode){case 13:case 27:h.field.blur();break;case 37:a.preventDefault();e.adjustDate("subtract",1);break;case 38:e.adjustDate("subtract",7);break;case 39:e.adjustDate("add",1);break;case 40:e.adjustDate("add",7)}};e._onInputChange=function(a){a.firedBy!==e&&(a=c?(a=k(h.field.value,h.format,h.formatStrict))&&
a.isValid()?a.toDate():null:new Date(Date.parse(h.field.value)),l(a)&&e.setDate(a),e._v||e.show())};e._onInputFocus=function(){e.show()};e._onInputClick=function(){e.show()};e._onInputBlur=function(){var c=m.activeElement;do if(a(c,"pika-single"))return;while(c=c.parentNode);e._c||(e._b=n(function(){e.hide()},50));e._c=!1};e._onClick=function(c){c=c||window.event;var d=c=c.target||c.srcElement;if(c){f||!a(c,"pika-select")||c.onchange||(c.setAttribute("onchange","return;"),p(c,"change",e._onChange));
do if(a(d,"pika-single")||d===h.trigger)return;while(d=d.parentNode);e._v&&c!==h.trigger&&d!==h.trigger&&e.hide()}};e.el=m.createElement("div");e.el.className="pika-single"+(h.isRTL?" is-rtl":"")+(h.theme?" "+h.theme:"");p(e.el,"mousedown",e._onMouseDown,!0);p(e.el,"touchend",e._onMouseDown,!0);p(e.el,"change",e._onChange);p(m,"keydown",e._onKeyChange);h.field&&(h.container?h.container.appendChild(e.el):h.bound?m.body.appendChild(e.el):h.field.parentNode.insertBefore(e.el,h.field.nextSibling),p(h.field,
"change",e._onInputChange),h.defaultDate||(h.defaultDate=c&&h.field.value?k(h.field.value,h.format).toDate():new Date(Date.parse(h.field.value)),h.setDefaultDate=!0));d=h.defaultDate;l(d)?h.setDefaultDate?e.setDate(d,!0):e.gotoDate(d):e.gotoDate(new Date);h.bound?(this.hide(),e.el.className+=" is-bound",p(h.trigger,"click",e._onInputClick),p(h.trigger,"focus",e._onInputFocus),p(h.trigger,"blur",e._onInputBlur)):this.show()};B.prototype={config:function(a){this._o||(this._o=z({},D,!0));a=z(this._o,
a,!0);a.isRTL=!!a.isRTL;a.field=a.field&&a.field.nodeName?a.field:null;a.theme="string"===typeof a.theme&&a.theme?a.theme:null;a.bound=!!(void 0!==a.bound?a.field&&a.bound:a.field);a.trigger=a.trigger&&a.trigger.nodeName?a.trigger:a.field;a.disableWeekends=!!a.disableWeekends;a.disableDayFn="function"===typeof a.disableDayFn?a.disableDayFn:null;var c=parseInt(a.numberOfMonths,10)||1;a.numberOfMonths=4<c?4:c;l(a.minDate)||(a.minDate=!1);l(a.maxDate)||(a.maxDate=!1);a.minDate&&a.maxDate&&a.maxDate<
a.minDate&&(a.maxDate=a.minDate=!1);a.minDate&&this.setMinDate(a.minDate);a.maxDate&&this.setMaxDate(a.maxDate);h(a.yearRange)?(c=(new Date).getFullYear()-10,a.yearRange[0]=parseInt(a.yearRange[0],10)||c,a.yearRange[1]=parseInt(a.yearRange[1],10)||c):(a.yearRange=Math.abs(parseInt(a.yearRange,10))||D.yearRange,100<a.yearRange&&(a.yearRange=100));return a},toString:function(a){return l(this._d)?c?k(this._d).format(a||this._o.format):this._d.toDateString():""},getMoment:function(){return c?k(this._d):
null},setMoment:function(a,d){c&&k.isMoment(a)&&this.setDate(a.toDate(),d)},getDate:function(){return l(this._d)?new Date(this._d.getTime()):new Date},setDate:function(a,c){if(!a)return this._d=null,this._o.field&&(this._o.field.value="",q(this._o.field,"change",{firedBy:this})),this.draw();"string"===typeof a&&(a=new Date(Date.parse(a)));if(l(a)){var d=this._o.minDate,h=this._o.maxDate;l(d)&&a<d?a=d:l(h)&&a>h&&(a=h);this._d=new Date(a.getTime());e(this._d);this.gotoDate(this._d);this._o.field&&(this._o.field.value=
this.toString(),q(this._o.field,"change",{firedBy:this}));c||"function"!==typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},gotoDate:function(a){var c=!0;if(l(a)){if(this.calendars){c=new Date(this.calendars[0].year,this.calendars[0].month,1);var d=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),e=a.getTime();d.setMonth(d.getMonth()+1);d.setDate(d.getDate()-1);c=e<c.getTime()||d.getTime()<e}c&&(this.calendars=[{month:a.getMonth(),
year:a.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths));this.adjustCalendars()}},adjustDate:function(a,d){var e=this.getDate(),h=864E5*parseInt(d),f;"add"===a?f=new Date(e.valueOf()+h):"subtract"===a&&(f=new Date(e.valueOf()-h));c&&("add"===a?f=k(e).add(d,"days").toDate():"subtract"===a&&(f=k(e).subtract(d,"days").toDate()));this.setDate(f)},adjustCalendars:function(){this.calendars[0]=C(this.calendars[0]);for(var a=1;a<this._o.numberOfMonths;a++)this.calendars[a]=
C({month:this.calendars[0].month+a,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(a){isNaN(a)||(this.calendars[0].month=parseInt(a,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++;this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--;this.adjustCalendars()},gotoYear:function(a){isNaN(a)||(this.calendars[0].year=parseInt(a,10),this.adjustCalendars())},setMinDate:function(a){a instanceof Date?(e(a),
this._o.minDate=a,this._o.minYear=a.getFullYear(),this._o.minMonth=a.getMonth()):(this._o.minDate=D.minDate,this._o.minYear=D.minYear,this._o.minMonth=D.minMonth,this._o.startRange=D.startRange);this.draw()},setMaxDate:function(a){a instanceof Date?(e(a),this._o.maxDate=a,this._o.maxYear=a.getFullYear(),this._o.maxMonth=a.getMonth()):(this._o.maxDate=D.maxDate,this._o.maxYear=D.maxYear,this._o.maxMonth=D.maxMonth,this._o.endRange=D.endRange);this.draw()},setStartRange:function(a){this._o.startRange=
a},setEndRange:function(a){this._o.endRange=a},draw:function(a){if(this._v||a){var c=this._o,d=c.minYear,e=c.maxYear,h=c.minMonth,f=c.maxMonth;a="";this._y<=d&&(this._y=d,!isNaN(h)&&this._m<h&&(this._m=h));this._y>=e&&(this._y=e,!isNaN(f)&&this._m>f&&(this._m=f));d="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2);for(e=0;e<c.numberOfMonths;e++)a+='<div class="pika-lendar">'+G(this,e,this.calendars[e].year,this.calendars[e].month,this.calendars[0].year,d)+this.render(this.calendars[e].year,
this.calendars[e].month,d)+"</div>";this.el.innerHTML=a;c.bound&&"hidden"!==c.field.type&&n(function(){c.trigger.focus()},1);if("function"===typeof this._o.onDraw)this._o.onDraw(this);this._o.field.setAttribute("aria-label","Use the arrow keys to pick a date")}},adjustPosition:function(){var a;if(!this._o.container){this.el.style.position="absolute";var c=a=this._o.trigger;var d=this.el.offsetWidth;var e=this.el.offsetHeight;var h=window.innerWidth||m.documentElement.clientWidth;var f=window.innerHeight||
m.documentElement.clientHeight;var l=window.pageYOffset||m.body.scrollTop||m.documentElement.scrollTop;if("function"===typeof a.getBoundingClientRect){c=a.getBoundingClientRect();var k=c.left+window.pageXOffset;var q=c.bottom+window.pageYOffset}else for(k=c.offsetLeft,q=c.offsetTop+c.offsetHeight;c=c.offsetParent;)k+=c.offsetLeft,q+=c.offsetTop;if(this._o.reposition&&k+d>h||-1<this._o.position.indexOf("right")&&0<k-d+a.offsetWidth)k=k-d+a.offsetWidth;if(this._o.reposition&&q+e>f+l||-1<this._o.position.indexOf("top")&&
0<q-e-a.offsetHeight)q=q-e-a.offsetHeight;this.el.style.left=k+"px";this.el.style.top=q+"px"}},render:function(a,c,h){var f=this._o,k=new Date,m=d(a,c),q=(new Date(a,c,1)).getDay(),t=[],p=[];e(k);0<f.firstDay&&(q-=f.firstDay,0>q&&(q+=7));for(var n=0===c?11:c-1,z=11===c?0:c+1,C=0===c?a-1:a,B=11===c?a+1:a,D=d(C,n),I=m+q,G=I;7<G;)G-=7;I+=7-G;for(var M=G=0;G<I;G++){var F=new Date(a,c,1+(G-q)),xa=l(this._d)?u(F,this._d):!1,ma=u(F,k),ra=G<q||G>=m+q,ha=1+(G-q),T=c,Ca=a,ua=f.startRange&&u(f.startRange,F),
ya=f.endRange&&u(f.endRange,F),Ha=f.startRange&&f.endRange&&f.startRange<F&&F<f.endRange,za;!(za=f.minDate&&F<f.minDate||f.maxDate&&F>f.maxDate)&&(za=f.disableWeekends)&&(za=F.getDay(),za=0===za||6===za);F=za||f.disableDayFn&&f.disableDayFn(F);ra&&(G<q?(ha=D+ha,T=n,Ca=C):(ha-=m,T=z,Ca=B));p.push(E({day:ha,month:T,year:Ca,isSelected:xa,isToday:ma,isDisabled:F,isEmpty:ra,isStartRange:ua,isEndRange:ya,isInRange:Ha,showDaysInNextAndPreviousMonths:f.showDaysInNextAndPreviousMonths}));7===++M&&(f.showWeekNumber&&
p.unshift(H(G-q,c,a)),t.push(A(p,f.isRTL)),p=[],M=0)}c=[];f.showWeekNumber&&c.push("<th></th>");for(a=0;7>a;a++)c.push('<th scope="col"><abbr title="'+x(f,a)+'">'+x(f,a,!0)+"</abbr></th>");f="<thead><tr>"+(f.isRTL?c.reverse():c).join("")+"</tr></thead>";return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+h+'">'+f+("<tbody>"+t.join("")+"</tbody></table>")},isVisible:function(){return this._v},show:function(){if(!this.isVisible()){var a=this.el;var c=(" "+
a.className+" ").replace(" is-hidden "," ");c=c.trim?c.trim():c.replace(/^\s+|\s+$/g,"");a.className=c;this._v=!0;this.draw();this._o.bound&&(p(m,"click",this._onClick),this.adjustPosition());"function"===typeof this._o.onOpen&&this._o.onOpen.call(this)}},hide:function(){var c=this._v;if(!1!==c){this._o.bound&&t(m,"click",this._onClick);this.el.style.position="static";this.el.style.left="auto";this.el.style.top="auto";var d=this.el;a(d,"is-hidden")||(d.className=""===d.className?"is-hidden":d.className+
" is-hidden");this._v=!1;void 0!==c&&"function"===typeof this._o.onClose&&this._o.onClose.call(this)}},destroy:function(){this.hide();t(this.el,"mousedown",this._onMouseDown,!0);t(this.el,"touchend",this._onMouseDown,!0);t(this.el,"change",this._onChange);this._o.field&&(t(this._o.field,"change",this._onInputChange),this._o.bound&&(t(this._o.trigger,"click",this._onInputClick),t(this._o.trigger,"focus",this._onInputFocus),t(this._o.trigger,"blur",this._onInputBlur)));this.el.parentNode&&this.el.parentNode.removeChild(this.el)}};
return B});
define("elements/questions/fillInBlank/views/optionViews/dateView",["elements/questions/fillInBlank/views/optionViews/optionView","pikaday","lang/lang","app/events"],function(k,c,f,m){var n={previousMonth:f.t("datepicker.previousmonth"),nextMonth:f.t("datepicker.nextmonth"),months:[f.t("datepicker.months.January"),f.t("datepicker.months.February"),f.t("datepicker.months.March"),f.t("datepicker.months.April"),f.t("datepicker.months.May"),f.t("datepicker.months.June"),f.t("datepicker.months.July"),f.t("datepicker.months.August"),
f.t("datepicker.months.September"),f.t("datepicker.months.October"),f.t("datepicker.months.November"),f.t("datepicker.months.December")],weekdays:[f.t("datepicker.days.Sunday"),f.t("datepicker.days.Monday"),f.t("datepicker.days.Tuesday"),f.t("datepicker.days.Wednesday"),f.t("datepicker.days.Thursday"),f.t("datepicker.days.Friday"),f.t("datepicker.days.Saturday")],weekdaysShort:[f.t("datepicker.shortDays.Sun"),f.t("datepicker.shortDays.Mon"),f.t("datepicker.shortDays.Tue"),f.t("datepicker.shortDays.Wed"),
f.t("datepicker.shortDays.Thu"),f.t("datepicker.shortDays.Fri"),f.t("datepicker.shortDays.Sat")]};k=k.extend({modelBindings:{"change:answer":"renderAnswer"},render:function(){this.picker=new c({field:this.el,i18n:n,onSelect:this.pickerHandler,yearRange:this.config.dateYearRange});this.renderAnswer()},renderAnswer:function(){var c=this.model.get("answer");this.picker.setDate(c,!0)},pickerHandler:function(){var c=this.$el.val();this.model.answerChanged(c)},destructor:function(){this.picker.destroy();
this.constructor.__super__.destructor.call(this)}},{displayName:"fillInBlankDateView"});m.trigger("fillInBlankDateView.loaded",!0,k);return k});
define("elements/questions/fillInBlank/views/optionViews/formulaView",["elements/questions/fillInBlank/views/optionViews/optionView","app/events"],function(k,c){k=k.extend({events:{keyup:"keyupHandler",paste:"pasteHandler"},modelBindings:{"change:answer":"renderAnswer"},render:function(){this.renderAnswer()},renderAnswer:function(){this.$el.val(this.model.get("answer"))},keyupHandler:function(){this.model.answerChanged(this.$el.val())},pasteHandler:function(c){if(!c.keyCode){var f=this;setTimeout(function(){f.model.answerChanged(f.$el.val())},
0)}}},{displayName:"fillInBlankFormulaView"});c.trigger("fillInBlankFormulaView.loaded",!0,k);return k});
define("elements/questions/fillInBlank/views/optionViews/numberMatchView",["elements/questions/fillInBlank/views/optionViews/optionView","app/events"],function(k,c){k=k.extend({events:{keyup:"keyupHandler",paste:"pasteHandler"},modelBindings:{"change:answer":"renderAnswer"},render:function(){this.renderAnswer()},renderAnswer:function(){this.$el.val(this.model.get("answer"))},keyupHandler:function(){this.model.answerChanged(this.$el.val())},pasteHandler:function(c){if(!c.keyCode){var f=this;setTimeout(function(){f.model.answerChanged(f.$el.val())},
0)}}},{displayName:"fillInBlankNumberMatchView"});c.trigger("fillInBlankNumberMatchView.loaded",!0,k);return k});
define("elements/questions/fillInBlank/views/fillInBlankView","module jquery elements/questions/question/view elements/questions/fillInBlank/views/optionViews/textMatchesView elements/questions/fillInBlank/views/optionViews/dropDownListView elements/questions/fillInBlank/views/optionViews/dateView elements/questions/fillInBlank/views/optionViews/formulaView elements/questions/fillInBlank/views/optionViews/numberMatchView app/events app/configuration app/utilities/XyTools".split(" "),function(k,c,
f,m,n,p,t,q,a,h,l){k=f.extend({ui:{options:"#{optionsSelector}",variables:"#{variableSelector}"},events:{},modelBindings:{},initialize:function(){this.constructor.__super__.initialize.call(this);this.subviews=[]},render:function(){this.renderVariables();this.evaluateFormulaExpressions();this.createOptionViews();this.renderOptionViews()},createOptionViews:function(){var a=this;this.ui.options.each(function(d){var e=c(this).data("view").toLowerCase();a.config.viewtypes[e]&&(d=a.model.get("submodels")[d],
e=new a.config.viewtypes[e]({el:c(this),model:d,config:a.config}),a.subviews.push(e))})},renderOptionViews:function(){this.subviews.forEach(function(a){a.render()})},renderVariables:function(){var a=this.model.get("variables");Object.keys(a).forEach(function(d){var e=a[d],h=new RegExp("\\$"+d+"\\$","g");this.ui.variables.each(function(){var a=c(this).text();c(this).text(a.replace(h,e))})},this)},evaluateFormulaExpressions:function(){this.ui.variables.each(function(){var a=c(this).text();if(isNaN(a)){var e=
l.evaluateExpression(a);c(this).text(isNaN(e)?a:e)}})},enableQuestionComponents:function(){this.subviews.forEach(function(a){a.enable()})},disableQuestionComponents:function(){this.subviews.forEach(function(a){a.disable()})},showResponseSpecificFeedback:function(){this.subviews.forEach(function(a){a.showFeedback()})},hideResponseSpecificFeedback:function(){this.subviews.forEach(function(a){a.hideFeedback()})},destructor:function(){this.subviews.forEach(function(a){a.destructor()});this.constructor.__super__.destructor.call(this)}},
{displayName:"fillInBlankView",config:l.extend({viewtypes:{date:p,dropdownlist:n,formula:t,numbermatch:q,textmatches:m},delimiter:",",dateYearRange:[1990,2020],optionsSelector:".FillInBlankOption",variableSelector:".Formula",correctClass:"Correct",incorrectClass:"Incorrect"},h.configure(k.id))});a.trigger("fillInBlankView.loaded",!0,k);return k});
define("elements/questions/fillInBlank/fillInBlank","module underscore elements/questions/question/question elements/questions/fillInBlank/model/fillInBlankModel elements/questions/fillInBlank/views/fillInBlankView app/utilities/XyTools app/events app/configuration lang/lang".split(" "),function(k,c,f,m,n,p,t,q,a){m={name:"fillInBlank",displayName:a.t("questions.fillInBlank.displayName")||"Fill In Blank",saveWeight:!0,saveTimestamp:!0,saveStem:!0,saveLatency:!0,saveCorrectResponses:!0,View:n,Model:m};
k=f.extend({parseUserAnswer:function(a){return a.split("'").map(c.unescape)},stringifyUserAnswer:function(a){if(!this.model.hasAnswers())return"";a=a||this.model.get("answers");return a.map(c.escape).join("'")}},{config:p.extend(m,q.configure(k.id))});t.trigger("fillInBlank.loaded",!0,k);return k});
define("elements/questions/binDrop/model/binDropModel","module underscore elements/questions/question/model app/events app/utilities/XyTools app/configuration".split(" "),function(k,c,f,m,n,p){k=f.extend({props:{baseimage:"any",dropareacolor:"any",bins:"object"},initialize:function(){this.constructor.__super__.initialize.call(this);this.getCorrectAnswers();this.initAnswers()},getCorrectAnswers:function(){var c=this.get("bins"),f=[];n.toArray(c.bin).forEach(function(a,c){n.toArray((a.dragobjects||
{}).dragobject).map(function(a){return a.dragtype}).forEach(function(a){"dragtext"in a||"dragimage"in a?f.push(c):f.push(null)})});this.set("correctAnswers",f)},initAnswers:function(){this.get("answers").length||this.clearAnswers()},answerChanged:function(c,f){var a=this.get("answers");var h=a.slice(0);"practice"===this.get("behavior.dnd_mode").toLowerCase()&&this.get("correctAnswers")[c]!==this.getBinIndex(f)&&(f=null);h[c]=f;this.set("answers",h);a[c]===h[c]&&this.trigger("change:answers")},getAnswers:function(){return this.get("answers").slice(0).map(this.getBinIndex)},
getBinIndex:function(c){return null==c||"string"!==n.type(c)?c:+c.match(/^(\d+).*$/)[1]},isCorrect:function(){return c.isEqual(this.getAnswers(),this.get("correctAnswers"))},hasAnswers:function(){return!!this.getAnswers().join("").length},clearAnswers:function(){var c=this.get("correctAnswers").map(function(){return null});this.set("answers",c)},refreshCorrectAnswers:function(){var c=this.get("answers"),f=this.getAnswers(),a=this.get("correctAnswers");c=c.map(function(c,l){return a[l]!==f[l]?null:
c});this.set("answers",c)}},{displayName:"binDropModel",config:n.extend({},p.configure(k.id))});m.trigger("binDropModel.loaded",!0,k);return k});
define("elements/questions/binDrop/views/binDropView","module jquery underscore elements/questions/question/view app/events app/configuration app/utilities/XyTools lang/lang jquery.extensions".split(" "),function(k,c,f,m,n,p,t,q){q={imageWrapperSelector:".BinDropImageWrapper",imageSelector:".BinDropImage",overlaySelector:".BinDropObjectsWrapper",svgSelector:".BinDropSVG",binsSelector:".BinDropBin",binShapeSelector:".BinDropBinShape",alternateBinsSelector:".BinDropAlternateBin",alternateBinShapeSelector:".BinDropAlternateBinShape",
dragsSelector:".BinDropOption",dragTextSelector:".DragText",dragImageSelector:".DragImage",distractorTextSelector:".DistractorText",distractorImageSelector:".DistractorImage",displayAreaSelector:".DisplayArea",altTextSelectors:".BinDropBin, .DragImage, .DistractorImage",highlightedClass:"Highlighted",correctClass:"Correct",incorrectClass:"Incorrect",showSolutionButtonSelector:".ShowSolutionButton",showSolutionButtonHiddenClass:"Hidden",showSolutionButtonSolutionText:q.t("questions.general.showSolution")||
"Show solution",showSolutionButtonUserAnswerText:q.t("questions.general.myAnswer")||"My answer",responsiveScaling:!0,disableDragOnTouchDevices:!1};k=m.extend({ui:{wrapper:"#{imageWrapperSelector}",img:"#{imageSelector}",overlay:"#{overlaySelector}",svg:"#{svgSelector}",bins:"#{binsSelector}",alternateBins:"#{alternateBinsSelector}",drags:"#{dragsSelector}",altTexts:"#{altTextSelectors}",displayAreas:"#{displayAreaSelector}",showSolutionButton:"#{showSolutionButtonSelector}"},events:{"click @ui.showSolutionButton":"toggleSolution"},
modelBindings:{"change:answers":"updateAnswers"},render:function(){this.scaleCoefficient=1;this.restorePosition();this.positionDrags();this.renderPolygons();this.handleDrags();this.ui.img.on("load",this.imageLoaded)},imageLoaded:function(){this.renderOverlay();this.updateAnswers();this.showImage();this.handleScaling();this.handleDisplayAreas()},updateAnswers:function(){this.renderAnswers(this.model.get("answers"))},renderAnswers:function(a){a&&a.length||(a=this.model.get("answers"));this.removeClones();
a.forEach(function(a,c){var d;c=this.getDragByPosition(c);if(null!=a){if("string"===t.type(a)){if(d=a.match(/^\d+:([\d.]+),([\d.]+)$/)){var e=d[1];var h=d[2]}a=+a.match(/^(\d+).*$/)[1]}a=this.getBinByPosition(a);this.moveDragToTarget(c,a,[e,h])}else this.moveDragToStart(c,!0)},this)},restorePosition:function(){this.ui.drags.each(function(a){c(this).data("position",a)})},positionDrags:function(){var a=this;this.ui.drags.filter(function(){return c(this).is(a.config.dragTextSelector)||c(this).is(a.config.distractorTextSelector)}).each(function(){var a=
c(this).position().top,f=parseFloat(c(this).css("font-size"));c(this).css({top:a-f}).data({"start-top":a-f})})},showImage:function(){this.ui.wrapper.css({opacity:1})},renderOverlay:function(){var a=this.ui.img.width(),c=this.ui.img.height(),f=this.ui.img.position(),d=this.ui.img.outerWidth(),e=this.ui.img.outerHeight(),k=this.ui.img.offsetParent(),m={};k=(k.outerWidth()-k.width())/2;var q=t.getLanguageDirection();m.top=f.top+(e-c)/2;m["ltr"===q?"left":"right"]=k+(d-a)/2;this.ui.overlay.height(c).width(a).css(m);
return this},renderPolygons:function(){this.ui.svg.find("text").each(function(){var a=c(this).parent()[0],h=c(this).text().split(/\s|\n/).join("").split("#").join(" "),f=document.createElementNS("http://www.w3.org/2000/svg","polygon");f.setAttributeNS(null,"points",h);c(f).addClassSVG(this.className.baseVal||this.className);a.appendChild(f);c(this).remove()})},getDragByPosition:function(a){return this.ui.drags.filter(function(){return+c(this).data("position")===a})},getBinByPosition:function(a){return this.ui.bins.filter(function(){return+c(this).data("position")===
a})},handleDrags:function(){var a=this;if(this.enabled)if(this.config.disableDragOnTouchDevices&&t.detect.touchDevice)this.ui.drags.on("click",function(h){if(!(0<a.ui.drags.filter("."+a.config.highlightedClass).length)){h.stopPropagation();var f=c(this);a.ui.overlay.off("click.drag");a.dragStart(h,f);a.ui.drags.css({"pointer-events":"none"});a.ui.overlay.on("click.drag",function(c){a.dragStop(c,f,!0);a.ui.overlay.off("click.drag");a.ui.drags.css({"pointer-events":"auto"})})}});else this.ui.drags.drags({zIndex:4,
cursor:"invalid-\u0441ursor-name",ondragstart:function(c){a.dragStart(c,this)},ondragstop:function(c){a.dragStop(c,this)},contentWrapper:this.ui.wrapper})},dragStart:function(a,h){/^true$/i.test(this.model.get("behavior.dnd_showtarget"))&&this.ui.bins.css({opacity:1});c(h).hasClass("movingNow")||(c(h).addClass("movingNow"),this.highlightDrag(c(h)))},dragStop:function(a,h,f){var d=c(h).position();if(a.hasOwnProperty("offsetX")){var e=a.offsetX;var l=a.offsetY}"undefined"!==typeof a.originalEvent.layerX&&
null==e&&(e=a.originalEvent.layerX,l=a.originalEvent.layerY);if("undefined"===typeof e||"undefined"===typeof l)l=c(a.originalEvent.changedTouches[0].target).offset(),e=a.originalEvent.changedTouches[0].pageX-l.left,l=a.originalEvent.changedTouches[0].pageY-l.top,e*=this.scaleCoefficient,l*=this.scaleCoefficient;f?(e*=this.scaleCoefficient,l*=this.scaleCoefficient):(e+=d.left,l+=d.top);this.ui.bins.css({opacity:.1});this.unhighlightDrags();(a=this.calculateDrop(e,l))&&!f&&(e=d.left,l=d.top);a?this.dragChanged(h,
a.parent(),[e,l]):this.dragChanged(h,null)},dragChanged:function(a,h,f){a=c(a).data("position");h=h?c(h).data("position")+":"+f.join(","):null;this.model.answerChanged(a,h)},moveDragToStart:function(a,h){a=c(a);a.width("initial");var f={top:a.data("start-top")+"px",left:a.data("start-left")+"px"};h?a.stop().animate(f,400,"linear",function(){c(this).removeClass("movingNow")}):(a.css(f),c(this).removeClass("movingNow"))},moveDragToTarget:function(a,h,f){h=this.getDragPositionOnTarget(a,h,f);c(a).stop().animate(h,
400,"linear",function(){c(this).removeClass("movingNow")})},getDragPositionOnTarget:function(a,h,f){var d=this.scaleCoefficient,e=0!=c("img",a[0]).length;if(/polygon/i.test(t.type(c(h).find(this.config.binShapeSelector)[0])))return f&&"undefined"!==t.type(f[0])&&"undefined"!==t.type(f[1])?{top:f[1]/d,left:f[0]/d}:this.getRandomPointInPolygon(c(h).find(this.config.binShapeSelector)[0]);h=this.ui.alternateBins.filter("#alternate_"+c(h).attr("id")).find(this.config.alternateBinShapeSelector);a=c(a).clone(!1);
e||a.width(h.width());a.appendTo(h);a=a[0];f=h[0];a={top:a.offsetTop+f.offsetTop,left:a.offsetLeft+f.offsetLeft};e||(a.width=h.width());return a},removeClones:function(){this.ui.alternateBins.find(this.config.alternateBinShapeSelector).empty()},calculateDrop:function(a,h){function f(a,h,f){var k=c.trim(f.attr("points")).split(" ");k.forEach(function(a,c){k[c]=a.split(",");k[c]={x:+k[c][0]*e,y:+k[c][1]*e}});return d.pointInPolygon(a,h,k)?f:!1}var d=this,e=this.scaleCoefficient,k;this.ui.bins.each(function(){var l=
c(this).find(d.config.binShapeSelector);switch(l[0].tagName.toLowerCase()){case "rect":var m=+l.attr("x")*e,q=+l.attr("y")*e,t=+l.attr("width")*e,u=+l.attr("height")*e;k=h>q&&h<q+u&&a>m&&a<m+t?l:!1;break;case "circle":m=+l.attr("cx")*e;q=+l.attr("cy")*e;t=+l.attr("r")*e;k=Math.pow(a-m,2)+Math.pow(h-q,2)<=Math.pow(t,2)?l:!1;break;case "polygon":k=f(a,h,l)}if(k.length)return!1});return k},getRandomPointInPolygon:function(a){function h(a){var c=a.map(function(a){return a.x});var h=a.map(function(a){return a.y});
a=Math.max.apply(Math,c);c=Math.min.apply(Math,c);var f=Math.max.apply(Math,h);h=Math.min.apply(Math,h);d=Math.random()*(a-c)+c|0;e=Math.random()*(f-h)+h|0;return{x:d,y:e}}a=c.trim(c(a).attr("points")).split(" ");a=a.map(function(a){a=a.split(",");return{x:+a[0],y:+a[1]}});do{var f=h(a);var d=f.x;var e=f.y}while(!this.pointInPolygon(d,e,a));return{top:e,left:d}},pointInPolygon:function(a,c,f){var d=!1,e=f.length;var h=f.map(function(a){return a.x});f=f.map(function(a){return a.y});var k=Math.max.apply(Math,
h);var l=Math.min.apply(Math,h);var m=Math.max.apply(Math,f);var q=Math.min.apply(Math,f);if(a<l||a>k||c<q||c>m)return!1;k=0;for(l=e-1;k<e;l=k++)f[k]>c!==f[l]>c&&a<(h[l]-h[k])*(c-f[k])/(f[l]-f[k])+h[k]&&(d=!d);return d},highlightDrag:function(a){c(a).addClass(this.config.highlightedClass)},unhighlightDrags:function(){this.ui.drags.removeClass(this.config.highlightedClass)},showResponseSpecificFeedback:function(a){var c=this.model.get("correctAnswers");a=a||this.model.get("answers");a.forEach(function(a,
d){if(null!=a){a="string"===t.type(a)?+a.match(/^(\d+).*$/)[1]:a;var e=this.getDragByPosition(d);c[d]===a?e.addClass(this.config.correctClass):e.addClass(this.config.incorrectClass)}},this)},hideResponseSpecificFeedback:function(){this.ui.drags.removeClass([this.config.correctClass,this.config.incorrectClass].join(" "))},enableQuestionComponents:function(){this.handleDrags()},disableQuestionComponents:function(){this.ui.drags.off("mousedown mouseup touchstart touchend click")},showSolutionButton:function(){this.showSolutionButtonState=
"correct";this.ui.showSolutionButton.removeClass(this.config.showSolutionButtonHiddenClass)},hideSolutionButton:function(){this.ui.showSolutionButton.addClass(this.config.showSolutionButtonHiddenClass)},toggleSolution:function(){"correct"===this.showSolutionButtonState?(this.ui.showSolutionButton.text(this.config.showSolutionButtonUserAnswerText),this.ui.showSolutionButton.attr("title",this.config.showSolutionButtonUserAnswerText),this.renderAnswers(this.model.get("correctAnswers")),this.showSolutionButtonState=
"user",!0===this.model.get("behavior.showfeedback")&&(this.hideResponseSpecificFeedback(),this.showResponseSpecificFeedback(this.model.get("correctAnswers")))):(this.ui.showSolutionButton.text(this.config.showSolutionButtonSolutionText),this.ui.showSolutionButton.attr("title",this.config.showSolutionButtonSolutionText),this.renderAnswers(this.model.get("answers")),this.showSolutionButtonState="correct",!0===this.model.get("behavior.showfeedback")&&(this.hideResponseSpecificFeedback(),this.showResponseSpecificFeedback()))},
handleDisplayAreas:function(){var a=this;this.ui.altTexts.on("mouseover",function(){var h=c(this),f=h.data("alt-text");var d=h.parent().attr("data-position");d=null!=d?d:h.attr("data-position");h=a.ui.displayAreas.filter(function(){return c(this).attr("data-position")===d});h.children().text(f);h.css({opacity:1})}).on("mouseout",function(){a.ui.displayAreas.children().text("");a.ui.displayAreas.css({opacity:0})})},handleScaling:function(){this.config.responsiveScaling&&(this.ui.wrapper.css("overflow",
"hidden"),this.scaleImage=f.throttle(this.scaleImage.bind(this),50),c(window).on("resize",this.scaleImage),this.scaleImage())},scaleImage:function(){var a=this.ui.wrapper[0],c=a.offsetWidth;a=a.scrollWidth;var f=c/a,d=this.ui.img.height()*f;this.scaleCoefficient=f;a>c?(this.ui.wrapper.children().css("transform","scale("+c/(a+6)+")"),this.ui.wrapper.height(d+20)):(this.ui.wrapper.children().css("transform","scale(1)"),this.ui.wrapper.height("auto"))},turnReviewModeOn:function(){this.constructor.__super__.turnReviewModeOn.call(this);
this.renderAnswers(this.model.get("correctAnswers"))},turnReviewModeOff:function(){this.constructor.__super__.turnReviewModeOff.call(this);this.renderAnswers()},destructor:function(){this.disableQuestionComponents();c(window).off("resize",this.scaleImage);this.constructor.__super__.destructor.call(this)}},{displayName:"binDropView",config:t.extend(q,p.configure(k.id))});n.trigger("binDropView.loaded",!0,k);return k});
define("elements/questions/binDrop/binDrop","module elements/questions/question/question elements/questions/binDrop/model/binDropModel elements/questions/binDrop/views/binDropView app/utilities/XyTools app/events app/configuration lang/lang".split(" "),function(k,c,f,m,n,p,t,q){f={name:"binDrop",displayName:q.t("questions.binDrop.displayName")||"BinDrop",saveWeight:!0,saveTimestamp:!0,saveStem:!0,saveLatency:!0,saveCorrectResponses:!0,View:m,Model:f};k=c.extend({},{config:n.extend(f,t.configure(k.id))});
p.trigger("binDrop.loaded",!0,k);return k});
define("elements/questions/sequenceActivity/model/sequenceActivityModel","module underscore elements/questions/question/model app/events app/configuration app/utilities/XyTools".split(" "),function(k,c,f,m,n,p){k=f.extend({props:{webpresentationstyle:{type:"string",default:"Select Sequence Number",values:["Select Sequence Number","Drag and Drop"]},answerOrder:"array",sequencestep:"array"},initialize:function(){this.constructor.__super__.initialize.call(this);this.setAnswers();this.getCorrectAnswers();
this.setupAnswerOrder()},setAnswers:function(){if(!this.get("answers").length){var c=this.get("sequencestep").map(function(){return!1});this.set("answers",c)}},getCorrectAnswers:function(){var c=this.get("sequencestep").map(function(c,a){return a});this.set("correctAnswers",c)},setupAnswerOrder:function(){var c=[];this.get("enabled")&&(c=this.get("sequencestep").map(function(c,a){return a}),c=this.get("behavior.forceNoRandomization")?c:this.randomizeAnswers(c),this.set("answerOrder",c))},randomizeAnswers:function(f){if(!f.length)return f;
do var k=c.shuffle(f);while(c.isEqual(f,k));return k},answerChanged:function(c){var f=this.get("answers"),a,h;c&&(c.forEach(function(c,d){!1!==c&&c!==f[d]&&(a=d,h=c)}),c=c.map(function(c,d){return d===a?h:c===h?!1:c}),this.set("answers",c))},isCorrect:function(){var c=this.get("answers");return c.length?c.every(function(c,a){return c===a}):!1},hasAnswers:function(){return this.get("answers").length?-1===this.get("answers").indexOf(!1):!1}},{displayName:"sequenceActivityModel",config:p.extend({},n.configure(k.id))});
m.trigger("sequenceActivityModel.loaded",!0,k);return k});
(function(k){"function"===typeof define&&define.amd?define("sortable",k):"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=k():"undefined"!==typeof Package?Sortable=k():window.Sortable=k()})(function(){function k(a,c){if(!a||!a.nodeType||1!==a.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(a);this.el=a;this.options=c=C({},c);a[va]=this;var d={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,
draggable:/[uo]l/i.test(a.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",ignore:"a, img",filter:null,animation:0,setData:function(a,c){a.setData("Text",c.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1},e;for(e in d)e in c||(c[e]=d[e]);T(c);for(var h in this)"_"===h.charAt(0)&&(this[h]=this[h].bind(this));this.nativeDraggable=c.forceFallback?!1:ba;m(a,"mousedown",this._onTapStart);
m(a,"touchstart",this._onTapStart);this.nativeDraggable&&(m(a,"dragover",this),m(a,"dragenter",this));ra.push(this._onDragOver);c.store&&this.sort(c.store.get(this))}function c(a){H&&H.state!==a&&(t(H,"display",a?"none":""),!a&&H.state&&A.insertBefore(H,D),H.state=a)}function f(a,c,d){if(a){d=d||O;c=c.split(".");var e=c.shift().toUpperCase(),h=new RegExp("\\s("+c.join("|")+")(?=\\s)","g");do{var f=a.className.baseVal?a.className.baseVal:a.className;if(">*"===e&&a.parentNode===d||!(""!==e&&a.nodeName.toUpperCase()!=
e||c.length&&((" "+f+" ").match(h)||[]).length!=c.length))return a}while(a!==d&&(a=a.parentNode))}return null}function m(a,c,d){a.addEventListener(c,d,!1)}function n(a,c,d){a.removeEventListener(c,d,!1)}function p(a,c,d){if(a)if(a.classList)a.classList[d?"add":"remove"](c);else{var e=(" "+a.className+" ").replace(Ba," ").replace(" "+c+" "," ");a.className=(e+(d?" "+c:"")).replace(Ba," ")}}function t(a,c,d){var e=a&&a.style;if(e){if(void 0===d)return O.defaultView&&O.defaultView.getComputedStyle?d=
O.defaultView.getComputedStyle(a,""):a.currentStyle&&(d=a.currentStyle),void 0===c?d:d[c];c in e||(c="-webkit-"+c);e[c]=d+("string"===typeof d?"":"px")}}function q(a,c,d){if(a){a=a.getElementsByTagName(c);c=0;var e=a.length;if(d)for(;c<e;c++)d(a[c],c);return a}return[]}function a(a,c,d,e,h,f,k){var l=O.createEvent("Event"),m=(a||c[va]).options,q="on"+d.charAt(0).toUpperCase()+d.substr(1);l.initEvent(d,!0,!0);l.to=c;l.from=h||c;l.item=e||c;l.clone=H;l.oldIndex=f;l.newIndex=k;c.dispatchEvent(l);m[q]&&
m[q].call(a,l)}function h(a,c,d,e,h,f){var k=a[va],l=k.options.onMove,m;var q=O.createEvent("Event");q.initEvent("move",!0,!0);q.to=c;q.from=a;q.dragged=d;q.draggedRect=e;q.related=h||c;q.relatedRect=f||c.getBoundingClientRect();a.dispatchEvent(q);l&&(m=l.call(k,q));return m}function l(a){a.draggable=!1}function d(){xa=!1}function e(a){a=a.tagName+a.className+a.src+a.href+a.textContent;for(var c=a.length,d=0;c--;)d+=a.charCodeAt(c);return d.toString(36)}function u(a){var c=0;if(!a||!a.parentNode)return-1;
for(;a&&(a=a.previousElementSibling);)"TEMPLATE"!==a.nodeName.toUpperCase()&&c++;return c}function z(a,c){var d,e;return function(){void 0===d&&(d=arguments,e=this,setTimeout(function(){1===d.length?a.call(e,d[0]):a.apply(e,d);d=void 0},c))}}function C(a,c){if(a&&c)for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);return a}var D,x,E,H,A,G,B,F,I,M,L,J,P,W,U={},Z,X,R,Ba=/\s+/g,va="Sortable"+(new Date).getTime(),la=window,O=la.document,S=la.parseInt,ba=!!("draggable"in O.createElement("div")),fa=function(a){a=
O.createElement("x");a.style.cssText="pointer-events:auto";return"auto"===a.style.pointerEvents}(),xa=!1,ma=Math.abs,ra=[],ha=z(function(a,c,d){if(d&&c.scroll){var e=c.scrollSensitivity,h=c.scrollSpeed,f=a.clientX;a=a.clientY;var k=window.innerWidth,l=window.innerHeight;if(F!==d&&(B=c.scroll,F=d,!0===B)){B=d;do if(B.offsetWidth<B.scrollWidth||B.offsetHeight<B.scrollHeight)break;while(B=B.parentNode)}if(B){var m=B;c=B.getBoundingClientRect();var q=(ma(c.right-f)<=e)-(ma(c.left-f)<=e);var t=(ma(c.bottom-
a)<=e)-(ma(c.top-a)<=e)}q||t||(q=(k-f<=e)-(f<=e),t=(l-a<=e)-(a<=e),(q||t)&&(m=la));if(U.vx!==q||U.vy!==t||U.el!==m)U.el=m,U.vx=q,U.vy=t,clearInterval(U.pid),m&&(U.pid=setInterval(function(){m===la?la.scrollTo(la.pageXOffset+q*h,la.pageYOffset+t*h):(t&&(m.scrollTop+=t*h),q&&(m.scrollLeft+=q*h))},24))}},30),T=function(a){var c=a.group;c&&"object"==typeof c||(c=a.group={name:c});["pull","put"].forEach(function(a){a in c||(c[a]=!0)});a.groups=" "+c.name+(c.put.join?" "+c.put.join(" "):"")+" "};k.prototype=
{constructor:k,_onTapStart:function(c){var d=this,e=this.el,h=this.options,k=c.touches&&c.touches[0],l=(k||c).target,m=l,q=h.filter;if(!("mousedown"===c.type&&0!==c.button||h.disabled)&&(l=f(l,h.draggable,e))){J=u(l);if("function"===typeof q){if(q.call(this,c,l,this)){a(d,m,"filter",l,e,J);c.preventDefault();return}}else if(q&&(q=q.split(",").some(function(c){if(c=f(m,c.trim(),e))return a(d,c,"filter",l,e,J),!0}))){c.preventDefault();return}h.handle&&!f(m,h.handle,e)||this._prepareDragStart(c,k,l)}},
_prepareDragStart:function(a,c,d){var e=this,h=e.el,f=e.options,k=h.ownerDocument;d&&!D&&d.parentNode===h&&(Z=a,A=h,D=d,x=D.parentNode,G=D.nextSibling,W=f.group,a=function(){e._disableDelayedDrag();D.draggable=!0;p(D,e.options.chosenClass,!0);e._triggerDragStart(c)},f.ignore.split(",").forEach(function(a){q(D,a.trim(),l)}),m(k,"mouseup",e._onDrop),m(k,"touchend",e._onDrop),m(k,"touchcancel",e._onDrop),f.delay?(m(k,"mouseup",e._disableDelayedDrag),m(k,"touchend",e._disableDelayedDrag),m(k,"touchcancel",
e._disableDelayedDrag),m(k,"mousemove",e._disableDelayedDrag),m(k,"touchmove",e._disableDelayedDrag),e._dragStartTimer=setTimeout(a,f.delay)):a())},_disableDelayedDrag:function(){var a=this.el.ownerDocument;clearTimeout(this._dragStartTimer);n(a,"mouseup",this._disableDelayedDrag);n(a,"touchend",this._disableDelayedDrag);n(a,"touchcancel",this._disableDelayedDrag);n(a,"mousemove",this._disableDelayedDrag);n(a,"touchmove",this._disableDelayedDrag)},_triggerDragStart:function(a){a?(Z={target:D,clientX:a.clientX,
clientY:a.clientY},this._onDragStart(Z,"touch")):this.nativeDraggable?(m(D,"dragend",this),m(A,"dragstart",this._onDragStart)):this._onDragStart(Z,!0);try{O.selection?O.selection.empty():window.getSelection().removeAllRanges()}catch(ua){}},_dragStarted:function(){A&&D&&(p(D,this.options.ghostClass,!0),k.active=this,a(this,A,"start",D,A,J))},_emulateDragOver:function(){if(X&&(this._lastX!==X.clientX||this._lastY!==X.clientY)){this._lastX=X.clientX;this._lastY=X.clientY;fa||t(E,"display","none");var a=
O.elementFromPoint(X.clientX,X.clientY),c=a,d=" "+this.options.group.name,e=ra.length;if(c){do{if(c[va]&&-1<c[va].options.groups.indexOf(d)){for(;e--;)ra[e]({clientX:X.clientX,clientY:X.clientY,target:a,rootEl:c});break}a=c}while(c=c.parentNode)}fa||t(E,"display","")}},_onTouchMove:function(a){if(Z){k.active||this._dragStarted();this._appendGhost();var c=a.touches?a.touches[0]:a,d=c.clientX-Z.clientX,e=c.clientY-Z.clientY;d=a.touches?"translate3d("+d+"px,"+e+"px,0)":"translate("+d+"px,"+e+"px)";R=
!0;X=c;t(E,"webkitTransform",d);t(E,"mozTransform",d);t(E,"msTransform",d);t(E,"transform",d);a.preventDefault()}},_appendGhost:function(){if(!E){var a=D.getBoundingClientRect(),c=t(D),d=this.options;E=D.cloneNode(!0);p(E,d.ghostClass,!1);p(E,d.fallbackClass,!0);t(E,"top",a.top-S(c.marginTop,10));t(E,"left",a.left-S(c.marginLeft,10));t(E,"width",a.width);t(E,"height",a.height);t(E,"opacity","0.8");t(E,"position","fixed");t(E,"zIndex","100000");t(E,"pointerEvents","none");d.fallbackOnBody&&O.body.appendChild(E)||
A.appendChild(E);c=E.getBoundingClientRect();t(E,"width",2*a.width-c.width);t(E,"height",2*a.height-c.height)}},_onDragStart:function(a,c){a=a.dataTransfer;var d=this.options;this._offUpEvents();"clone"==W.pull&&(H=D.cloneNode(!0),t(H,"display","none"),A.insertBefore(H,D));c?("touch"===c?(m(O,"touchmove",this._onTouchMove),m(O,"touchend",this._onDrop),m(O,"touchcancel",this._onDrop)):(m(O,"mousemove",this._onTouchMove),m(O,"mouseup",this._onDrop)),this._loopId=setInterval(this._emulateDragOver,50)):
(a&&(a.effectAllowed="move",d.setData&&d.setData.call(this,a,D)),m(O,"drop",this),setTimeout(this._dragStarted,0))},_onDragOver:function(a){var e=this.el,k;var l=this.options;var m=l.group;var q=m.put,p=W===m,u=l.sort;void 0!==a.preventDefault&&(a.preventDefault(),!l.dragoverBubble&&a.stopPropagation());R=!0;if(W&&!l.disabled&&(p?u||(k=!A.contains(D)):W.pull&&q&&(W.name===m.name||q.indexOf&&~q.indexOf(W.name)))&&(void 0===a.rootEl||a.rootEl===this.el)&&(ha(a,l,this.el),!xa))if(m=f(a.target,l.draggable,
e),l=D.getBoundingClientRect(),k)c(!0),H||G?A.insertBefore(D,H||G):u||A.appendChild(D);else if(!(k=0===e.children.length||e.children[0]===E)&&(k=e===a.target)&&(m=e.lastElementChild,k=m.getBoundingClientRect(),k=m=(5<a.clientY-(k.top+k.height)||5<a.clientX-(k.right+k.width))&&m),k){if(m){if(m.animated)return;n=m.getBoundingClientRect()}c(p);!1!==h(A,e,D,l,m,n)&&(D.contains(e)||(e.appendChild(D),x=e),this._animate(l,D),m&&this._animate(n,m))}else if(m&&!m.animated&&m!==D&&void 0!==m.parentNode[va]){I!==
m&&(I=m,M=t(m),L=t(m.parentNode));var n=m.getBoundingClientRect(),C=n.right-n.left,z=n.bottom-n.top;u=/left|right|inline/.test(M.cssFloat+M.display)||"flex"==L.display&&0===L["flex-direction"].indexOf("row");k=m.offsetWidth>D.offsetWidth;q=m.offsetHeight>D.offsetHeight;C=.5<(u?(a.clientX-n.left)/C:(a.clientY-n.top)/z);a=m.nextElementSibling;z=h(A,e,D,l,m,n);!1!==z&&(xa=!0,setTimeout(d,30),c(p),1===z||-1===z?p=1===z:u?(p=D.offsetTop,u=m.offsetTop,p=p===u?m.previousElementSibling===D&&!k||C&&k:u>p):
p=a!==D&&!q||C&&q,D.contains(e)||(p&&!a?e.appendChild(D):m.parentNode.insertBefore(D,p?a:m)),x=D.parentNode,this._animate(l,D),this._animate(n,m))}},_animate:function(a,c){var d=this.options.animation;if(d){var e=c.getBoundingClientRect();t(c,"transition","none");t(c,"transform","translate3d("+(a.left-e.left)+"px,"+(a.top-e.top)+"px,0)");c.offsetWidth;t(c,"transition","all "+d+"ms");t(c,"transform","translate3d(0,0,0)");clearTimeout(c.animated);c.animated=setTimeout(function(){t(c,"transition","");
t(c,"transform","");c.animated=!1},d)}},_offUpEvents:function(){var a=this.el.ownerDocument;n(O,"touchmove",this._onTouchMove);n(a,"mouseup",this._onDrop);n(a,"touchend",this._onDrop);n(a,"touchcancel",this._onDrop)},_onDrop:function(c){var d=this.el,e=this.options;clearInterval(this._loopId);clearInterval(U.pid);clearTimeout(this._dragStartTimer);n(O,"mousemove",this._onTouchMove);this.nativeDraggable&&(n(O,"drop",this),n(d,"dragstart",this._onDragStart));this._offUpEvents();if(c){R&&(c.preventDefault(),
!e.dropBubble&&c.stopPropagation());E&&E.parentNode.removeChild(E);if(D&&(this.nativeDraggable&&n(D,"dragend",this),l(D),p(D,this.options.ghostClass,!1),p(D,this.options.chosenClass,!1),A!==x?(P=u(D),0<=P&&(a(null,x,"sort",D,A,J,P),a(this,A,"sort",D,A,J,P),a(null,x,"add",D,A,J,P),a(this,A,"remove",D,A,J,P))):(H&&H.parentNode.removeChild(H),D.nextSibling!==G&&(P=u(D),0<=P&&(a(this,A,"update",D,A,J,P),a(this,A,"sort",D,A,J,P)))),k.active)){if(null===P||-1===P)P=J;a(this,A,"end",D,A,J,P);this.save()}A=
D=x=E=G=H=B=F=Z=X=R=P=I=M=W=k.active=null}},handleEvent:function(a){var c=a.type;"dragover"===c||"dragenter"===c?D&&(this._onDragOver(a),a.dataTransfer&&(a.dataTransfer.dropEffect="move"),a.preventDefault()):"drop"!==c&&"dragend"!==c||this._onDrop(a)},toArray:function(){for(var a=[],c,d=this.el.children,h=0,k=d.length,l=this.options;h<k;h++)c=d[h],f(c,l.draggable,this.el)&&a.push(c.getAttribute(l.dataIdAttr)||e(c));return a},sort:function(a){var c={},d=this.el;this.toArray().forEach(function(a,e){e=
d.children[e];f(e,this.options.draggable,d)&&(c[a]=e)},this);a.forEach(function(a){c[a]&&(d.removeChild(c[a]),d.appendChild(c[a]))})},save:function(){var a=this.options.store;a&&a.set(this)},closest:function(a,c){return f(a,c||this.options.draggable,this.el)},option:function(a,c){var d=this.options;if(void 0===c)return d[a];d[a]=c;"group"===a&&T(d)},destroy:function(){var a=this.el;a[va]=null;n(a,"mousedown",this._onTapStart);n(a,"touchstart",this._onTapStart);this.nativeDraggable&&(n(a,"dragover",
this),n(a,"dragenter",this));Array.prototype.forEach.call(a.querySelectorAll("[draggable]"),function(a){a.removeAttribute("draggable")});ra.splice(ra.indexOf(this._onDragOver),1);this._onDrop();this.el=a=null}};k.utils={on:m,off:n,css:t,find:q,is:function(a,c){return!!f(a,c,a)},extend:C,throttle:z,closest:f,toggleClass:p,index:u};k.create=function(a,c){return new k(a,c)};k.version="1.4.2";return k});
define("elements/questions/sequenceActivity/views/sequenceActivityView","module jquery underscore sortable elements/questions/question/view app/events app/configuration app/utilities/XyTools lang/lang".split(" "),function(k,c,f,m,n,p,t,q,a){f={optionsWrapperSelector:".SequenceActivityOptionsWrapper",optionSelector:".SequnceActivityOptionWrapper",selectBoxesSelector:".SequenceActivitySelectBox",optionHandleSelector:".SequenceActivityHandle",correctClass:"Correct",incorrectClass:"Incorrect",disabledClass:"Disabled",
enabledClass:"Enabled",solutionContainer:".SequenceActivitySolution",showSolutionButtonSelector:".ShowSolutionBtn",showSolutionButtonHiddenClass:"Closed",showSolutionButtonMsg:a.t("questions.general.showSolution")||"Show solution",showAnswerButtonMsg:a.t("questions.general.myAnswer")||"My answer",solutionCorrectMessage:a.t("questions.sequenceActivity.correctResponse")||"Correct response: "};k=n.extend({ui:{optionsWrapper:"#{optionsWrapperSelector}",options:"#{optionSelector}",selectBoxes:"#{selectBoxesSelector}",
handles:"#{optionHandleSelector}",solution:"#{solutionContainer}",showSolutionButton:"#{showSolutionButtonSelector}"},events:{"change @ui.selectBoxes":"optionClickHandler","click @ui.showSolutionButton":"toggleSolution"},modelBindings:{"change:answers":"updateAnswers","change:answerOrder":"randomizeAnswers"},render:function(){this.mode=null;this.generateOriginalIndexes();this.handleMode();this.randomizeAnswers();this.updateAnswers()},generateOriginalIndexes:function(){this.ui.options.each(function(a){c(this).data("original-index",
a)})},handleMode:function(){"Select Sequence Number"===this.model.get("webpresentationstyle")?(this.mode="select",this.ui.handles.hide(),this.ui.selectBoxes.show()):(this.mode="drag",this.ui.selectBoxes.hide(),this.ui.handles.show(),this.handleSortable())},handleSortable:function(){this.sortable&&this.sortable.destroy();this.sortable=m.create(this.ui.optionsWrapper[0],{animation:200,handle:"svg.SequenceActivityHandle",forceFallback:!1,ghostClass:"SequenceActivityDraggingGhost",chosenClass:"SequenceActivityDraggingChosen",
onEnd:this.dragEndHandler})},dragEndHandler:function(){var a=[];this.ui.options.each(function(){var h=c(this).data("original-index");var d=c(this).index();a[h]=d});"outside"===this.ui.optionsWrapper.css("list-style-position")?(this.ui.optionsWrapper.css("list-style-position","inside"),this.ui.optionsWrapper.css("list-style-position","outside")):(this.ui.optionsWrapper.css("list-style-position","outside"),this.ui.optionsWrapper.css("list-style-position","inside"));this.model.answerChanged(a)},updateAnswers:function(){this.renderAnswers(this.model.get("answers"))},
renderAnswers:function(a){a&&a.length||(a=this.model.get("answers"));"select"===this.mode?this.renderSelectBoxAnswers(a):this.renderDragAnswers(a)},renderSelectBoxAnswers:function(a){var h=this.config.selectBoxesSelector;this.ui.options.each(function(){var d=a[+c(this).data("original-index")];var e=c(this).find(h).find("option");!1===d||null==d?e.prop("selected",!1):e.filter('[value="'+(d+1)+'"]').prop("selected",!0)})},renderDragAnswers:function(a){this.sortAnswers(a)},randomizeAnswers:function(){this.sortAnswers(this.model.get("answerOrder"))},
sortAnswers:function(a){this.ui.options.detach();this.ui.options.sort(function(h,d){return a[+c(h).data("original-index")]-a[+c(d).data("original-index")]});this.ui.options.appendTo(this.ui.optionsWrapper)},optionClickHandler:function(a){var h=this,d=[];a.preventDefault();this.ui.options.each(function(){var a=c(this).data("original-index");var f=c(this).find(h.config.selectBoxesSelector).find("option:selected").val();f=q.normalizeType(f);d[a]=!1!==f?f-1:!1});this.model.answerChanged(d)},showResponseSpecificFeedback:function(a){var h=
this;a=a||this.model.get("answers");this.ui.options.each(function(){var d=c(this).data("original-index");a[d]===d?c(this).addClass(h.config.correctClass):c(this).addClass(h.config.incorrectClass)})},hideResponseSpecificFeedback:function(){this.ui.options.removeClass([this.config.correctClass,this.config.incorrectClass].join(" "))},enableQuestionComponents:function(){this.ui.options.removeClass(this.config.disabledClass).addClass(this.config.enabledClass);this.ui.selectBoxes.prop("disabled",!1);this.handleMode()},
disableQuestionComponents:function(){this.ui.options.removeClass(this.config.enabledClass).addClass(this.config.disabledClass);this.ui.selectBoxes.prop("disabled",!0);this.sortable&&this.sortable.option("disabled",!0)},showSolutionButton:function(){this.showSolutionButtonState="correct";this.ui.showSolutionButton.removeClass(this.config.showSolutionButtonHiddenClass)},hideSolutionButton:function(){this.ui.showSolutionButton.addClass(this.config.showSolutionButtonHiddenClass)},toggleSolution:function(){this.enabled||
("correct"===this.showSolutionButtonState?(this.ui.showSolutionButton.text(this.config.showAnswerButtonMsg),this.ui.showSolutionButton.attr("title",this.config.showAnswerButtonMsg),this.renderAnswers(this.model.get("correctAnswers")),this.showSolutionButtonState="user",!0===this.model.get("behavior.showfeedback")&&(this.hideResponseSpecificFeedback(),this.showResponseSpecificFeedback(this.model.get("correctAnswers")))):(this.ui.showSolutionButton.text(this.config.showSolutionButtonMsg),this.ui.showSolutionButton.attr("title",
this.config.showSolutionButtonMsg),this.renderAnswers(this.model.get("answers")),this.showSolutionButtonState="correct",!0===this.model.get("behavior.showfeedback")&&(this.hideResponseSpecificFeedback(),this.showResponseSpecificFeedback())))},turnReviewModeOn:function(){this.constructor.__super__.turnReviewModeOn.call(this);this.renderAnswers(this.model.get("correctAnswers"));this.hideResponseSpecificFeedback();this.showResponseSpecificFeedback(this.model.get("correctAnswers"))},turnReviewModeOff:function(){this.constructor.__super__.turnReviewModeOff.call(this);
this.model.resetAnswers();this.renderAnswers(this.model.get("answers"))},destructor:function(){this.sortable&&this.sortable.destroy();this.constructor.__super__.destructor.call(this)}},{displayName:"sequenceActivityView",config:q.extend(f,t.configure(k.id))});p.trigger("sequenceActivityView.loaded",!0,k);return k});
define("elements/questions/sequenceActivity/sequenceActivity","module app/utilities/XyTools app/events app/configuration lang/lang elements/questions/question/question elements/questions/sequenceActivity/model/sequenceActivityModel elements/questions/sequenceActivity/views/sequenceActivityView".split(" "),function(k,c,f,m,n,p,t,q){n={name:"sequenceActivity",displayName:n.t("questions.sequenceActivity.displayName")||"Sequence Activity",saveWeight:!0,saveTimestamp:!0,saveStem:!0,saveLatency:!0,saveCorrectResponses:!0,
View:q,Model:t};k=p.extend({parseUserAnswer:function(a){return a.split(",").map(c.normalizeType)},stringifyUserAnswer:function(a){if(!this.model.hasAnswers())return"";a=a||this.model.get("answers");return a.join(",")}},{config:c.extend(n,m.configure(k.id))});f.trigger("sequenceActivity.loaded",!0,k);return k});
define("elements/questions/essayActivity/model/essayActivityModel","module elements/questions/question/model app/events underscore app/utilities/XyTools app/configuration".split(" "),function(k,c,f,m,n,p){k=c.extend({extraProperties:"allow",props:{responselines:"number",solution:"object"},changeAnswer:function(c){c?this.set("answers",[c]):this.set("answers",[])},isCorrect:function(){return!!this.get("answers").length},hasAnswers:function(){return!!this.get("answers").length}},{displayName:"essayActivityModel",
config:n.extend({},p.configure(k.id))});f.trigger("essayActivityModel.loaded",!0,k);return k});
define("app/utilities/cutCopyPaste",["jquery","app/events"],function(k,c){c.trigger("CutCopyPaste.loaded",!0,this);return function(f){this.replaceString=void 0;this.cutButton=f.cutButton;this.copyButton=f.copyButton;this.pasteButton=f.pasteButton;this.input=f.input;this.context=f.context;this.init=function(){var f=this;c.trigger("cutCopyPaste.init:before",this);this._preparePageForCCP();this.cutButton.click(function(){f.cutSelection()});this.copyButton.click(function(){f.copySelection()});this.pasteButton.click(function(){f.pasteSelection()});
c.trigger("cutCopyPaste.init:after",this)};this._preparePageForCCP=function(){c.trigger("cutCopyPaste._preparePageForCCP:before",this);this.input.on("contextmenu",function(c){c.preventDefault();return!1}).on("click",function(c){if(3===c.which)return c.preventDefault(),!1}).on("keydown",function(c){var f=[67,86,88,99,118,120];if(c.ctrlKey&&-1<f.indexOf(c.keyCode))return c.preventDefault(),!1}).on("paste",function(c){c.preventDefault();return!1});this.context.on("keypress",function(c){var f=c.which,
k=c.ctrlKey;if(2===f||k&&118===f)return c.preventDefault(),!1}).on("click",function(c){if(3===c.which)return c.preventDefault(),!1}).on("contextmenu",function(c){c.preventDefault();return!1}).on("cut",function(c){c.preventDefault();return!1}).on("paste contextmenu",function(c){c.preventDefault();return!1}).on("paste",function(c){c.preventDefault();return!1});c.trigger("cutCopyPaste._preparePageForCCP:after",this)};this.cutSelection=function(f){var m=this.input[0];c.trigger("cutCopyPaste.cutSelection:before",
this);if(m.setSelectionRange){f=m.selectionStart;var p=m.selectionEnd;this.replaceString=m.value.substring(f,p);m.value=m.value.substring(0,f)+m.value.substring(p);f!=p?this.setSelectionRange(m,f,f):(this.setCaretToPos(m,f),this.replaceString="")}else if(document.selection&&(p=document.selection.createRange(),f=this.getCaretPosition(m),p.parentElement()==m)){this.replaceString=p.text;var t=""==p.text;p.text="";t?this.setCaretToPos(m,f):p.select()}k(m).trigger("change");c.trigger("cutCopyPaste.cutSelection:after",
this)};this.copySelection=function(f){f=this.input[0];c.trigger("cutCopyPaste.copySelection:before",this);if(f.setSelectionRange){var k=f.selectionStart;var m=f.selectionEnd;this.replaceString=f.value.substring(k,m);this.setSelectionRange(f,k,m)}else document.selection&&(m=document.selection.createRange(),this.replaceString=m.text,""!=m.text?(k=m.duplicate(),k.moveToElementText(f),k.setEndPoint("EndToEnd",m),k=k.text.length-m.text.length,m=k+m.text.length):k=m=this.getCaretPosition(f),this.setSelectionRange(f,
k,m));c.trigger("cutCopyPaste.copySelection:after",this)};this.pasteSelection=function(f){f=this.input[0];c.trigger("cutCopyPaste.pasteSelection:before",this);if(null==this.replaceString||""==this.replaceString)f.focus();else{if(f.setSelectionRange){var m=f.selectionStart;var p=f.selectionEnd;f.value=f.value.substring(0,m)+this.replaceString+f.value.substring(p);m!=p&&this.setSelectionRange(f,m,m+this.replaceString.length);this.setCaretToPos(f,m+this.replaceString.length)}else document.selection&&
(p=document.selection.createRange(),""!=p.text?(m=p.duplicate(),m.moveToElementText(f),m.setEndPoint("EndToEnd",p),m=m.text.length-p.text.length,p=m+p.text.length):m=p=this.getCaretPosition(f),f.value=f.value.substring(0,m)+this.replaceString+f.value.substring(p),this.setCaretToPos(f,m+this.replaceString.length));k(f).trigger("change");c.trigger("cutCopyPaste.pasteSelection:after",this)}};this.setSelectionRange=function(f,k,p){c.trigger("cutCopyPaste.setSelectionRange:before",this);f.setSelectionRange?
(f.focus(),f.setSelectionRange(k,p)):f.createTextRange&&(f=f.createTextRange(),f.collapse(!0),f.moveEnd("character",p),f.moveStart("character",k),f.select());c.trigger("cutCopyPaste.setSelectionRange:after",this)};this.getCaretPosition=function(f){var k=0;c.trigger("cutCopyPaste.getCaretPosition:before",this);if(document.selection){f.focus();var m=document.selection.createRange();var t=m.duplicate();t.moveToElementText(f);for(k=-1;t.inRange(m);)t.moveStart("character"),k++}else if(f.selectionStart||
"0"==f.selectionStart)k=f.selectionStart;return k};this.setCaretToPos=function(f,k){c.trigger("cutCopyPaste.setCaretToPos:before",this);f.setSelectionRange?this.setSelectionRange(f,k,k):document.selection&&f.createTextRange&&(f=f.createTextRange(),f.collapse(!0),f.moveEnd("character",k),f.moveStart("character",k),f.select());c.trigger("cutCopyPaste.setCaretToPos:after",this)};this.init()}});
define("elements/questions/essayActivity/views/essayActivityView","module jquery underscore elements/questions/question/view app/events app/configuration app/utilities/XyTools app/utilities/cutCopyPaste".split(" "),function(k,c,f,m,n,p,t,q){k=m.extend({ui:{textarea:"#{textareaSelector}",context:"#{contextSelector}",cut:"#{cutButtonSelector}",copy:"#{copyButtonSelector}",paste:"#{pasteButtonSelector}"},events:{"change @ui.textarea":"changeAnswer"},render:function(){this.CCP=new q({cutButton:this.ui.cut,
copyButton:this.ui.copy,pasteButton:this.ui.paste,input:this.ui.textarea,context:this.ui.context});this.renderAnswer()},renderAnswer:function(a){a=a||this.model.get("answers");this.ui.textarea.val(a[0])},changeAnswer:function(){this.model.changeAnswer(this.ui.textarea.val())},disableQuestionComponents:function(){this.enabled=!1;this.ui.textarea.attr("disabled","");this.ui.cut.attr("disabled","").addClass("Disabled");this.ui.copy.attr("disabled","").addClass("Disabled");this.ui.paste.attr("disabled",
"").addClass("Disabled")},enableQuestionComponents:function(){this.enabled=!1;this.ui.textarea.removeAttr("disabled");this.ui.cut.removeAttr("disabled").removeClass("Disabled");this.ui.copy.removeAttr("disabled").removeClass("Disabled");this.ui.paste.removeAttr("disabled").removeClass("Disabled")}},{displayName:"essayActivityView",config:t.extend({textareaSelector:".EssayTextarea",contextSelector:".Topic",cutButtonSelector:".QuestionCut",copyButtonSelector:".QuestionCopy",pasteButtonSelector:".QuestionPaste"},
p.configure(k.id))});n.trigger("essayActivityView.loaded",!0,k);return k});
define("elements/questions/essayActivity/essayActivity","module elements/questions/question/question elements/questions/essayActivity/model/essayActivityModel elements/questions/essayActivity/views/essayActivityView app/utilities/XyTools app/events app/configuration lang/lang".split(" "),function(k,c,f,m,n,p,t,q){f={name:"essayActivity",displayName:q.t("questions.essayActivity.displayName")||"Essay",saveWeight:!0,saveTimestamp:!0,saveStem:!0,saveLatency:!0,saveCorrectResponses:!0,View:m,Model:f};
k=c.extend({},{config:n.extend(f,t.configure(k.id))});p.trigger("essayActivity.loaded",!0,k);return k});
define("elements/questions/questions","module app/events app/configuration app/utilities/XyTools elements/questions/question/behavior elements/questions/multipleChoice/multipleChoice elements/questions/selectHotText/selectHotText elements/questions/imageMapAssessment/imageMapAssessment elements/questions/matrix/matrix elements/questions/dragDrop/dragDrop elements/questions/matchingActivity/matchingActivity elements/questions/fillInBlank/fillInBlank elements/questions/binDrop/binDrop elements/questions/sequenceActivity/sequenceActivity elements/questions/essayActivity/essayActivity".split(" "),function(k,
c,f,m,n,p,t,q,a,h,l,d,e,u,z){var C=new function(){this.config={questions:{multiplechoice:p,sequenceactivity:u,essayactivity:z,selecthottext:t,fillinblank:d,imagemapassessment:q,dragdrop:h,matchingactivity:l,matrix:a,bindrop:e}};this.init=function(){m.logGroup("Questions");c.trigger("questions.init:before",this);this.config=m.extend(this.config,f.configure(k.id));c.trigger("questions.init:after",this);m.logGroupEnd()};this.initializeQuestions=function(a){c.trigger("questions.initializeQuestions:before",
a,this);Array.isArray(a)||(a=[a]);var d=a.map(function(a,c){var d=a.data;a=a.behavior;a=new n(a);d=m.normalizeTypes(d);d.behavior=a.getQuestionBehavior();if(this.config.questions[d.type.toLowerCase()])return new (this.config.questions[d.type.toLowerCase()])(d["xy:guid"],d,c)},this);c.trigger("questions.initializeQuestions:after",a,this);return d};this.renderQuestions=function(a,d){c.trigger("questions.renderQuestions:before",d,a,this);a.forEach(function(a){a.isInScope(d)?a.render():m.warn("questionLoader: Question isn't in given scope",
a,d)});c.trigger("questions.renderQuestions:after",d,a,this)};this.saveQuestions=function(a){a.forEach(function(a){a.saveData()})};this.submitQuestions=function(a){a.forEach(function(a){a.submit()})};this.hasIncompleteQuestions=function(a){return!a.every(function(a){return a.isCompleted()})};this.hasRequiredIncompleteQuestions=function(a){return!a.every(function(a){return a.isCompleted()||!a.isRequired()})};this.destroyQuestions=function(a){a.forEach(function(a){a.destructor()})}};c.trigger("questions.loaded",
!0,C);return C});
define("app/questionApi","module questionData elements/questions/questions app/submitAll app/courseApi app/events app/configuration app/utilities/XyTools notification lang/lang".split(" "),function(k,c,f,m,n,p,t,q,a,h){var l=new function(){var d="";var e=[];var l={};this.config={incompleteQuestionNavigation:{next:!0,previous:!0},showIncompleteGatePrompt:!0,showIncompleteConfirmation:!0,incompleteNavigationControlsEnabled:{next:!0,previous:!0},generalSkipPromptText:h.t("questions.general.skip.confirmationMessage")||"You have not answered all of the questions on the page.",
generalGatePromptText:h.t("questions.general.gate")||"Please answer all questions on the page before attempting navigation.",generalSkipConfirmButtonText:h.t("questions.general.skip.confirm")||" Continue Navigation",generalSkipRejectButtonText:h.t("questions.general.skip.reject")||"Return to Page"};this.init=function(){q.logGroup("QuestionAPI");p.trigger("questionApi.init:before",this);this.config=q.extend(this.config,t.configure(k.id));p.on("player.data:load",this.initializePageQuestions.bind(this));
p.on("content.loaded",this.renderPageQuestions.bind(this));p.on("navigation:before",this.submitQuestions.bind(this));p.on("submitAll.submit:before",this.submitQuestions.bind(this));p.on("player.data:save",this.saveQuestionData.bind(this));p.on("content.unload:before",this.destroyPageQuestions.bind(this));p.on("navigation.enabled:check",this.checkPageQuestionsCompleted.bind(this));p.on("questionModel.submit:after",this.checkAllQuestionsAnswered.bind(this));p.trigger("questionApi.init:after",this);
q.logGroupEnd()};this.getFileGuid=function(a){var c=n.getPrecedingLinkedPagesCount(a);a=a.replace(".html","");/lcmsXmlGuid\/.*\//.test(a)&&(a=a.match("lcmsXmlGuid/(.*)/")[1]);/\//.test(a)&&(a=a.match("[^/]*$")[0]);0<c&&(a+="_"+c);return a};this.initializePageQuestions=function(a){p.trigger("questionApi.intializePageQuestions:before",h);d=this.getFileGuid(a);var h=c.files[d].questions;h.length&&(h=this.getPageQuestionsData(h),f.initializeQuestions(h).forEach(function(a){this.addQuestion(a)},this),
p.trigger("questionApi.intializePageQuestions:after",e))};this.getPageQuestionsData=function(a){var d=this;return a.map(function(a){var e=q.copy(c.questions[a.question]);a=q.copy(c.behaviors[a.behavior]);a=d.getInheritedBehavior(a);e.isSubmitAll=m.isSubmitAll();e.isSubmitAllSaved=m.isStatusSaved();e.isAssessment=m.isAssessment();return{data:e,behavior:a}})};this.getInheritedBehavior=function(a){for(var d=a;d=c.behaviors[d.parent];)d=this._removeEmptyProperties(d),a=q.extend(d,a);return a};this._removeEmptyProperties=
function(a){for(var c in a)""===a[c]&&delete a[c];return a};this.renderPageQuestions=function(a){f.renderQuestions(e,a);this.registerAsRequired()};this.registerAsRequired=function(){e.length&&(this.config.incompleteNavigationControlsEnabled.next&&this.config.incompleteNavigationControlsEnabled.previous||m.isSubmitAll()||this.hasIncompleteQuestions()&&p.trigger("questionApi.hasRequiredQuestions",this))};this.submitQuestions=function(){m.isSubmitAll()&&!m.isStatusSaved()&&f.submitQuestions(e)};this.destroyPageQuestions=
function(){p.trigger("questionApi.destroyPageQuestions:before",this);f.destroyQuestions(e);e=[];l={};p.trigger("questionApi.destroyPageQuestions:after",this)};this.saveQuestionData=function(){f.saveQuestions(e)};this.getFileGuids=function(){return Object.keys(c.files)};this.getPageData=function(a){return a?c.files[a]:c.files};this.getCurrentPageData=function(){return c.files[d]};this.getCurrentPageQuestions=function(){return e};this.getQuestionData=function(a){return c.questions[a]};this.getBehaviorData=
function(a){return a?c.behaviors[a]:c.behaviors};this.addQuestion=function(a){p.trigger("questionApi.addQuestion:before",a,this);if(!a.model||!a.model.attributes||!a.model.attributes["xy:guid"])return!1;var c=e.push(a)-1;l[a.model.attributes["xy:guid"]]=l[a.model.attributes["xy:guid"]]||{};l[a.model.attributes["xy:guid"]][a.model.attributes.behavior["xy:guid"]]=c;p.trigger("questionApi.addQuestion:after",a,this);return c};this.getQuestion=function(a,c){return e[l[a][c]]};this.getQuestionData=function(a){return c.questions[a]};
this.getTimeLimit=function(a){var c=null;a?this.getPageData(a):a=(a=this.getCurrentPageData().assessmentroot)?a.guid:"";""!==a&&(a=this.getPageData(a))&&a.enhancedscorecards&&0<a.enhancedscorecards.length&&(c=this.getBehaviorData(a.enhancedscorecards[0].behavior));return c?c.assessmenttimelimit:0};this.checkPageQuestionsCompleted=function(c,d,e){var f=c[0];m.isSubmitAll()||m.hasContextAwareness()&&m.isLeavingAssessment(c[0],c[1])?d():(f+="",(c=this.hasRequiredIncompleteQuestions())||d(),this.config.incompleteQuestionNavigation[f]?
c&&(this.config.showIncompleteConfirmation?a.confirm(this.config.generalSkipPromptText,d,e,{buttonOkTitle:this.config.generalSkipConfirmButtonText,buttonCancelTitle:this.config.generalSkipRejectButtonText}):d()):c&&(this.config.showIncompleteGatePrompt&&a.notify(this.config.generalGatePromptText),e()))};this.getCurrentGuid=function(){return d};this.hasIncompleteQuestions=function(){return e.length?f.hasIncompleteQuestions(e):!1};this.hasRequiredIncompleteQuestions=function(){return e.length?f.hasRequiredIncompleteQuestions(e):
!1};this.checkAllQuestionsAnswered=function(){this.hasIncompleteQuestions()||p.trigger("questionApi.allQuestionsAnswered",this)};this.getButtonsState=function(){return{origin:"QuestionApi",next:{visible:!0,enabled:!this.hasRequiredIncompleteQuestions()||this.config.incompleteNavigationControlsEnabled.next},previous:{visible:!0,enabled:!this.hasRequiredIncompleteQuestions()||this.config.incompleteNavigationControlsEnabled.previous}}};this.submitAll=function(){}};p.trigger("questionApi.loaded",!0,l);
return l});
define("elements/questions/scoreCard/model/scoreCardModel",["backbone","app/courseApi","app/navigation","app/questionApi","app/events"],function(k,c,f,m,n){k=k.Model.extend({initialize:function(f){this.set({behavior:f,isRoot:c.getRoot("id")===c.getParentActivity("id"),data:c.processScorecard(!0)})},retake:function(){f.requestRetake()},getQuestionName:function(c,f){c=m.getPageData(c);try{var k=c.questions[f].question;var a=m.getQuestionData(k);return a.name}catch(h){return!1}}});n.trigger("scoreCardModel.loaded",!0,
k);return k});
define("elements/questions/scoreCard/views/scoreCardView","module backbone lang/lang popup app/configuration app/player/communication app/utilities/XyTools app/events app/questionApi notification".split(" "),function(k,c,f,m,n,p,t,q,a,h){c=c.View.extend({config:{sectionTitleSelector:".SectionTitle",sectionScoreSelector:".SectionScore",sectionWeightSelector:".SectionWeight",feedbackSelector:".Feedback",retakeSelector:".Retake",attemptsSelector:".Attempts",subSectionInfoContainer:".SubSectionInfoContainer",subSectionTitleSelector:".SubSectionTitle",
subSectionScoreSelector:".SubSectionScore",subSectionWeightSelector:".SubSectionWeight",captionSelector:".Caption",valueSelector:".Value",questionListContainerSelector:".QuestionsListContainer",questionListSelector:".QuestionsList",questionSelector:".Question",questionBlockSelector:".QuestionBlock",questionResultSelector:".Result",questionTitleSelector:".Title",retakeAllCaption:f.t("sections.scoreCard.retake")||"Retake",courseTitleCaption:f.t("sections.scoreCard.courseTitle")||"Course Title",sectionTitleCaption:f.t("sections.scoreCard.sectionTitle")||
"Section Title",passingScoreCaption:f.t("sections.scoreCard.passingScore")||"Passing Score",passingScoreUnit:"%",currentScoreCaption:f.t("sections.scoreCard.currentScore")||"Current Score",currentScoreUnit:"%",sectionWeightCaption:f.t("sections.scoreCard.sectionWeight")||"Section Weight",singleAttemptRemaining:"{0} "+(f.t("sections.scoreCard.singleAttemptRemaining")||"attempt remaining"),multipleAttemptsRemaining:"{0} "+(f.t("sections.scoreCard.multipleAttemptsRemaining")||"attempts remaining"),resultNotAvailable:f.t("sections.scoreCard.resultNotAvailable")||
"N/A",retakeConfirmation:f.t("sections.scoreCard.retakeConfirmation")||"Are you sure you want to retake this assessment?",questionCorrectClass:"Correct",questionIncorrectClass:"Incorrect",questionReviewClass:"Review",coverClass:"NotSupported",reviewPopupTitle:f.t("sections.scoreCard.reviewPopupTitle")||"Questions Review",reviewPopupWidth:"500px",reviewPopupHeight:"500px",reviewPopupMaxHeight:"90%",reviewPopupMaxWidth:"90%",reviewPopupMinWidth:"50%",reviewPopupMinHeight:"50%"},initialize:function(){this.config=
t.extend(this.config,n.configure(k.id));this.data=this.model.get("data");this.behavior=this.model.get("behavior")},render:function(){var a=this.$el.parent();q.trigger("scoreCard.render:before",this);null==this.data?(this.$el.empty(),this.$el.append('<div class="'+this.config.coverClass+'"><span>'+(f.t("sections.scoreCard.notSupported")||"Scorecard is not supported in current mode.")+"</span></div>")):(this.$el.detach(),this.$question=this.$(this.config.questionSelector).detach(),this.$questions=this.$(this.config.questionListSelector).detach(),
this.$subSectionInfo=this.$(this.config.subSectionInfoContainer).detach(),this.$questionsContainer=this.$(this.config.questionListContainerSelector).detach(),this.renderTitle().renderScore().renderWeight().renderFeedback().handleRetake().renderQuestions(),this.$el.append(this.$questionsContainer).appendTo(a),q.trigger("scoreCard.render:after",this))},renderTitle:function(){var a=this.$(this.config.sectionTitleSelector),c=this.model.get("isRoot")?this.config.courseTitleCaption:this.config.sectionTitleCaption,
e=this.data.title.replace(/([ ]{2,})/g,'<span class="PreserveWhitespace">$1</span>').replace(/[\n\r]+/g,"<br/>");a.find(this.config.captionSelector).text(c).end().find(this.config.valueSelector).text(e);return this},renderScore:function(){var a=this.$(this.config.sectionScoreSelector),c=this.config.currentScoreCaption+' <span class="ScoreCardDivide">/</span> '+this.config.passingScoreCaption,e=this.data.score+this.config.currentScoreUnit+' <span class="ScoreCardDivide">/</span> '+this.data.passingScore+
this.config.passingScoreUnit;a.find(this.config.captionSelector).html(c).end().find(this.config.valueSelector).html(e);return this},renderWeight:function(){var a=this.$(this.config.sectionWeightSelector),c=this.config.sectionWeightCaption,e=this.data.weight;a.find(this.config.captionSelector).text(c).end().find(this.config.valueSelector).text(e+"%");return this},renderFeedback:function(){var a=this.$(this.config.feedbackSelector),c=this.data.score,e=this.behavior.scorerange,f=e.length,h;for(h=0;h<
f;h+=1)if(c>=(+e[h].min||0)&&c<=(+e[h].max||100)){a.text(e[h].message);break}return this},handleRetake:function(){var a=this,c=this.$(this.config.retakeSelector),e=this.$(this.config.attemptsSelector),f=this.behavior.retrylimit,h=this.data.attempts,k=this.data.score;if(""===f||0>f)f=Infinity;1<this.data.containers.length&&c.children("span").html(this.config.retakeAllCaption);f=+f+1-h;100>k&&0<f?(k=1===f?t.parseTemplate(this.config.singleAttemptRemaining,f):t.parseTemplate(this.config.multipleAttemptsRemaining,
f),Infinity===f&&(k=""),e.text(k),c.on("click",function(){a.retake()})):c.hide();return this},retake:function(){h.confirm(this.config.retakeConfirmation,this.model.retake)},renderQuestions:function(){/^true$/i.test(this.behavior.showquestionlist)&&(1<this.data.containers.length?this.data.containers.forEach(function(a){this.processSubSection(a)},this):(this.processQuestions(this.data.containers[0]||this.data),this.data.containers[0]&&0<this.data.containers[0].containers.length&&this.data.containers[0].containers.forEach(function(a){this.processSubSection(a)},
this)));return this},processSubSection:function(a){var c=this.$subSectionInfo.clone();this.containerHasQuestions(a)&&(this.renderSubTitle(a,c).renderSubScore(a,c).renderSubWeight(a,c),this.$questionsContainer.append(c),this.processQuestions(a),1<a.containers.length?a.containers.forEach(function(a){this.processSubSection(a)},this):1===a.containers.length&&(this.processQuestions(a.containers[0]),a.containers[0].containers.forEach(function(a){this.processSubSection(a)},this)))},renderSubTitle:function(a,
c){var d=c.find(this.config.subSectionTitleSelector),f=this.config.sectionTitleCaption;a=a.title;d.find(this.config.captionSelector).text(f).end().find(this.config.valueSelector).text(a);c.append(d);return this},renderSubScore:function(a,c){var d=c.find(this.config.subSectionScoreSelector),f=this.config.currentScoreCaption+' <span class="ScoreCardDivide">/</span> '+this.config.passingScoreCaption;a=a.score+' <span class="ScoreCardDivide">/</span> '+a.passingScore;d.find(this.config.captionSelector).html(f).end().find(this.config.valueSelector).html(a);
c.append(d);return this},renderSubWeight:function(a,c){var d=c.find(this.config.subSectionWeightSelector),f=this.config.sectionWeightCaption;a=a.weight;d.find(this.config.captionSelector).text(f).end().find(this.config.valueSelector).text(a+"%");c.append(d);return this},processQuestions:function(a){var c=this.$questions.clone(),e=this.$question.clone();a.pages.forEach(function(a){a.questions.forEach(function(d,f){c.append(this.processQuestion(e.clone(),d,a,f))},this)},this);this.$questionsContainer.append(c)},
reviewOpenedState:null,processQuestion:function(a,c,e,f){var d=this,h=a.find(this.config.questionResultSelector),k=a.find(this.config.questionTitleSelector);f=this.model.getQuestionName(e.guid,f)||e.title||"&nbsp;";if(c.result){var l=/^correct$/i.test(c.result)?this.config.questionCorrectClass:this.config.questionIncorrectClass;h.addClass(l);a.addClass(l)}else h.text("N/A");k.text(f);if(/^true$/i.test(this.behavior.reviewquestions)&&c.result)k.addClass(this.config.questionReviewClass).on("click",
function(){d.reviewOpenedState!==e.link&&d.reviewQuestion(e.link,c.guid)});return a},reviewQuestion:function(c,d){var e=this,f;this.popup&&this.popup instanceof m&&(this.popup.destroy(),this.reviewOpenedState=this.popup=null);this.popup=new m({title:this.config.reviewPopupTitle,contentUrl:c,width:this.config.reviewPopupWidth,height:this.config.reviewPopupHeight,maxHeight:this.config.reviewPopupMaxHeight,maxWidth:this.config.reviewPopupMaxWidth,minWidth:this.config.reviewPopupMinWidth,minHeight:this.config.reviewPopupMinHeight,
modal:!0,open:function(){var d=function(a){a.set("enabled",!1);a.set("remainingAttempts",0);q.off("questionModel.initialize:after",d)},h=function(a){a.closeSupplements();q.off("questionView.updateQuestionState:after",h)};q.on("questionModel.initialize:after",d);q.on("questionView.updateQuestionState:after",h);f=a.getCurrentGuid();p.loadPageData(c);e.reviewOpenedState=c;e.popup.content.html('<div class="Spinner"></div>')},close:function(){a.destroyPageQuestions();a.initializePageQuestions(f);f=null;
e.reviewOpenedState=null;e.popup.content.find(".mediaObject_player").add(".mejs-shim").add($("iframe",document).contents().find(".mediaObject_player").add(".mejs-shim")).remove();e.popup.content.empty()},ajaxComplete:function(){q.trigger("content.loaded",!1,e.popup.content);var a=e.popup.content.find("#guid_"+d).siblings().remove().end().closest(".QuestionBlock").detach();0===a.length&&(a=e.popup.content.find("#guid_"+d).detach());a.find(".QuestionSubmitWrapper").remove();e.popup.content.empty().append(a);
window.setTimeout(function(){$(window).trigger("resize")},500)}});this.popup.open()},containerHasQuestions:function(a){var c=!1;return(c=a.pages.some(function(a){return!!a.questions.length}))?c:a.containers.length?a.containers.some(function(a){return this.containerHasQuestions(a)},this):c}});q.trigger("scoreCardView.loaded",!0,c);return c});
define("elements/questions/scoreCard/scoreCard","module jquery elements/element/element questionData app/courseApi app/questionApi elements/questions/scoreCard/model/scoreCardModel elements/questions/scoreCard/views/scoreCardView app/utilities/XyTools app/configuration app/events".split(" "),function(k,c,f,m,n,p,t,q,a,h,l){k=f.extend({initialize:function(c){this.constructor.__super__.initialize.call(this,c);c=a.extend(this.config.defaultEnhancedScorecard,this.getEnhancedScoreCard());this.model=new t(c);
this.view=new q({el:this.$el,model:this.model})},render:function(){this.view.render()},getEnhancedScoreCard:function(){var a=m.files[n.getCurrentActivity("guid")].enhancedscorecards;a=0<a.length?a[0].behavior:null;if(!a)return{};a&&a.enhancedscorecards&&0<a.enhancedscorecards.length&&(a=a.enhancedscorecards[0].behavior);return(a=p.getBehaviorData(a))&&a.enhancedscorecard?this.normalizeBehavior(a.enhancedscorecard):{}},normalizeBehavior:function(a){if("object"===typeof a){for(var c in a)""===a[c]&&
delete a[c];return a}},remove:function(){this.model&&(this.model.destroy(),this.model=null);this.view&&(this.view.remove(),this.view=null);this.constructor.__super__.remove.call(this)}},{displayName:"scoreCard",config:a.extend({selector:".ScoreCard",defaultEnhancedScorecard:{bookmark:"resume",retrylimit:"",reviewquestions:"true",showquestionlist:"true",maskquestionstatus:"false",scorerange:[]}},h.configure(k.id))});l.trigger("scoreCard.loaded",!0,k);return k});
define("elements/categories/categories","module jquery elements/element/element app/utilities/XyTools app/configuration lang/lang app/events".split(" "),function(k,c,f,m,n,p,t){p={selector:".CategoriesContainer",categorySelector:".CategoryItem",panelWrapperSelector:".CategoriesContentContainer",panelSelector:".Panel",categoryContentSelector:".CategoryContent",categoryContentTitleClass:"CategoryContentTitle",activePanelClass:"Active",activeCategoryClass:"Active",activeCategoryContentClass:"Active",
hiddenLoadingClass:"HiddenLoading",hiddenClass:"Hidden",startOpen:!0,completedClass:"Completed",markCompletedCategories:!0,persistCompletion:!0,mustBeCompletedMessage:p.t("elements.categories.mustBeCompletedMessage")||"Please view all categories before proceeding."};k=f.extend({ui:{categories:"#{categorySelector}",panels:"#{panelSelector}",categoryContent:"#{categoryContentSelector}",panelWrapper:"#{panelWrapperSelector}"},events:{"click @ui.categories":"handleCategory","click @ui.categoryContent":"rollAccordion"},
render:function(){this.mustBeCompleted=/^true$/i.test(this.$el.attr("data-must-be-completed"));this.handleCompletion();this.ui.panelWrapper.removeClass(this.config.hiddenLoadingClass);this.changePanel(0)},handleCategory:function(c){c=this.ui.categories.index(c.currentTarget);this.changePanel(c)},changePanel:function(c){var a=this.ui.categories.eq(c),f=this.ui.panels.eq(c);this.ui.categories.removeClass(this.config.activeCategoryClass);a.addClass(this.config.activeCategoryClass);this.ui.panels.removeClass(this.config.activePanelClass);
f.addClass(this.config.activePanelClass);this.config.startOpen&&f.find(this.config.categoryContentSelector).eq(0).addClass(this.config.activeCategoryClass);this.setCompleted(c);this.markCompleted()},rollAccordion:function(f){c(f.target).hasClass(this.config.categoryContentTitleClass)&&c(f.currentTarget).toggleClass(this.config.activeCategoryContentClass)},markCompleted:function(){this.config.markCompletedCategories&&this.completed.forEach(function(c){this.ui.categories.eq(c).addClass(this.config.completedClass)},
this)},checkCompletion:function(){if(this.ui.panels.length!==this.completed.length)return!1;this.unregisterAsRequired();m.log(this.id+" completed");return!0}},{displayName:"categories",config:m.extend(p,n.configure(k.id))});t.trigger("categories.loaded",!0,k);return k});
define("elements/slideshow/slideshow","module jquery underscore elements/element/element app/utilities/XyTools app/configuration app/events jquery.extensions".split(" "),function(k,c,f,m,n,p,t){k=m.extend({ui:{slidesContainer:"#{slidesSelector}",slides:"#{slidesSelector} #{slideSelector}",images:"#{slidesSelector} #{slideSelector} #{imageSelector}",nextButton:"#{nextButtonSelector}",prevButton:"#{prevButtonSelector}",footer:"#{footerSelector}",thumbnailsContainer:"#{thumbnailsSelector}",paginationContainer:"#{paginationSelector}"},
initialize:function(c){this.constructor.__super__.initialize.call(this,c);this.ui.thumbnails=null;this.ui.pagination=null;this.ratio=1;this.animating=!1;this.autoplayTimeout=null},render:function(){this.active={slide:this.ui.slides.eq(0),index:0};this.processConfig();this.handleConfig();this.loadImages();this.handleButtons();this.handleSwipe()},loadImages:function(){var c=this,a=this.ui.images.length,f=0;this.ui.images.on("load.slideshow",function(){++f>=a&&(c.ui.images.off("load.slideshow"),c.imagesLoaded())})},
imagesLoaded:function(){this.$el.css({opacity:"1"});this.normalizeImages().setWidth().generateThumbnails().generatePagination().handleAutoplay().handlePauseOnHover().resize()},normalizeImages:function(){this.ui.images.each(function(){"auto"===this.style.width&&(this.style.width="");"auto"===this.style.maxHeight&&(this.style.maxHeight="")})},getRatio:function(){this.ratio=Math.max.apply(null,this.ui.images.toArray().map(function(c){var a=c.naturalHeight;var f=c.naturalWidth;0===f&&/\.svg$/.test(c.src)&&
(f=c.cloneNode(!1),document.body.appendChild(f),c=f.getBoundingClientRect(),document.body.removeChild(f),f=c.width,a=c.height);return a/f}))},setWidth:function(){var c=this.ui.images.toArray().map(function(a){return+a.style.width.replace("px","")});c=Math.max.apply(null,c);this.$el.width(c||"")},handleButtons:function(){var c=this;this.ui.nextButton.on("click",function(){c.navigateNext()});this.ui.prevButton.on("click",function(){c.navigateBack()});this.updateNavigationButtons(this.active.index)},
handleSwipe:function(){var c=this;this.ui.slidesContainer.swipe({swipeLeft:function(){c.navigateNext()},swipeRight:function(){c.navigateBack()}})},processConfig:function(){function f(a){var c={},d;for(d in a)a.hasOwnProperty(d)&&""!==a[d]&&(c[d]=a[d],/^(true|false)$/i.test(c[d])&&(c[d]=/^true$/i.test(c[d])));return c}var a={};this.ui.slides.each(function(){a=n.extend(a,f(c(this).data()))});this.config=n.extend(this.config,a)},handleConfig:function(){"slide"===this.config.animation?this.$el.addClass(this.config.slideAnimationClass):
this.$el.addClass(this.config.fadeAnimationClass);this.active.slide.addClass(this.config.activeSlideClass);this.config.showTitle&&this.$el.addClass(this.config.showTitleClass);this.config.showCaption&&this.$el.addClass(this.config.showCaptionClass)},navigateNext:function(){this.active.index===this.ui.slides.length-1?this.config.infinite&&this.deliverSlide(0,"next"):this.deliverSlide(this.active.index+1,"next")},navigateBack:function(){0===this.active.index?this.config.infinite&&this.deliverSlide(this.ui.slides.length-
1,"prev"):this.deliverSlide(this.active.index-1,"prev")},deliverSlide:function(c,a){function f(){d.removeClass(k.config.activeSlideClass+" "+k.config.currentSlideClass);e.removeClass(k.config.nextSlideClass+" "+k.config.prevSlideClass);k.ui.slidesContainer.removeClass(k.config.slideLeftClass+" "+k.config.slideRightClass+" "+k.config.fadeClass);k.animating=!1;k.ui.slidesContainer[0].removeEventListener(n.has.whichTransitionEnd(),f);e.find(k.config.imageSelector).trigger("figure.resize")}var k=this,
d=this.active.slide,e=this.ui.slides.eq(c);this.animating||c===this.active.index||(e.addClass(this.config.activeSlideClass),d.addClass(this.config.currentSlideClass),"next"===a?(e.addClass(this.config.nextSlideClass),"slide"===this.config.animation?this.ui.slidesContainer.addClass(this.config.slideLeftClass):this.ui.slidesContainer.addClass(this.config.fadeClass)):(e.addClass(this.config.prevSlideClass),"slide"===this.config.animation?this.ui.slidesContainer.addClass(this.config.slideRightClass):
this.ui.slidesContainer.addClass(this.config.fadeClass)),this.animating=!0,n.has.whichTransitionEnd()?this.ui.slidesContainer[0].addEventListener(n.has.whichTransitionEnd(),f):setTimeout(f,400),this.setActiveSlide(c))},setActiveSlide:function(c){this.setActiveThumbnail(c).setActivePaginationIcon(c).updateNavigationButtons(c).updateAutoplay();this.active.index=c;this.active.slide=this.ui.slides.eq(c)},generateThumbnails:function(){var f=c("<ul>");this.config.thumbnails?(this.ui.images.each(function(){var a=
c(this).clone().css({width:"",height:""}).show();f.append(c("<li>").append(a))}),this.ui.thumbnailsContainer.append(f),this.ui.thumbnails=f,this.setActiveThumbnail(0),this.handleThumbnails()):this.hideFooter()},handleThumbnails:function(){var f=this;this.ui.thumbnails.on("click","li",function(){var a=c(this).index();f.deliverSlide(a,a>f.active.index?"next":"prev")})},setActiveThumbnail:function(c){this.config.thumbnails&&this.ui.thumbnails.find("li").removeClass("ActiveThumbnail").eq(c).addClass("ActiveThumbnail").scrollintoview({direction:"horizontal"})},
generatePagination:function(){var f=c("<ul>");this.config.pagination&&(this.ui.images.each(function(){f.append(c('<li class="PaginationIcon">'))}),this.ui.paginationContainer.append(f),this.ui.pagination=f,this.setActivePaginationIcon(0),this.handlePagination())},handlePagination:function(){var f=this;this.ui.pagination.on("click","li",function(){var a=c(this).index();f.deliverSlide(a,a>f.active.index?"next":"prev")})},setActivePaginationIcon:function(c){this.config.pagination&&this.ui.pagination.find("li").removeClass("ActivePaginationIcon").eq(c).addClass("ActivePaginationIcon")},
handleAutoplay:function(){this.config.autoplay&&this.updateAutoplay()},handlePauseOnHover:function(){if(this.config.pauseOnHover&&this.config.autoplay)this.$el.on("mouseenter",this.updateAutoplay.bind(this,!0)).on("mouseleave",this.updateAutoplay.bind(this,!1))},updateAutoplay:function(c){var a=this;this.config.autoplay&&(clearTimeout(this.autoplayTimeout),c||(this.autoplayTimeout=setTimeout(function(){a.navigateNext()},this.config.autoplayDelay)))},updateNavigationButtons:function(c){this.config.infinite||
(this.ui.nextButton.add(this.ui.prevButton).removeClass(this.config.disabledButtonClass),0===c?this.ui.prevButton.addClass(this.config.disabledButtonClass):c===this.ui.slides.length-1&&this.ui.nextButton.addClass(this.config.disabledButtonClass))},resize:function(){this.getRatio();this.ui.slidesContainer.height(this.ui.slidesContainer.width()*this.ratio);t.trigger("elements.resize",this.$el,this.$scope)},hideFooter:function(){this.ui.footer.height(0)},remove:function(){this.$el.off("mouseleave mouseenter");
this.constructor.__super__.remove.call(this)}},{displayName:"slideshow",config:n.extend({selector:".Slideshow",slidesSelector:".SlideshowSlides",slideSelector:".SlideshowSlide",imageSelector:".Figure .FigureImage",nextButtonSelector:".SlideshowNavigationButtonNext",prevButtonSelector:".SlideshowNavigationButtonPrev",footerSelector:".SlideshowFooter",thumbnailsSelector:".SlideshowThumbnails",paginationSelector:".SlideshowPagination",slideAnimationClass:"SlideAnimation",fadeAnimationClass:"FadeAnimation",
activeSlideClass:"ActiveSlide",currentSlideClass:"CurrentSlide",nextSlideClass:"NextSlide",prevSlideClass:"PrevSlide",slideLeftClass:"SlideLeft",slideRightClass:"SlideRight",disabledButtonClass:"Disabled",fadeClass:"Fade",showTitleClass:"ShowTitle",showCaptionClass:"ShowCaption",showTitle:!0,showCaption:!0,infinite:!0,thumbnails:!0,pagination:!0,animation:"slide",autoplay:!1,autoplayDelay:3E3,pauseOnHover:!0},p.configure(k.id))});t.trigger("slideshow.loaded",!0,k);return k});
define("elements/threesixty/threesixty","module underscore elements/element/element app/utilities/XyTools app/configuration app/events jquery.extensions".split(" "),function(k,c,f,m,n,p){k=f.extend({ui:{img:"#{figureSelector} img"},render:function(){this.length=this.$el.data("length");this.reverse=this.$el.data("reverse");this.ui.img.hide();/^(true|false)$/i.test(this.reverse)?this.reverse=/^true$/i.test(this.reverse):this.reverse=this.config.reverse||!1;this.renderViewer()},renderViewer:function(){var c=
this.ui.img.attr("src");var f=c.substring(0,c.lastIndexOf("/")+1);c=c.substring(c.lastIndexOf("/")+1);var a="."+c.split(".")[1];c=c.split(".")[0].replace(/[0-9]+$/,"");this.threeSixty=this.$el.ThreeSixty({totalFrames:this.length,endFrame:this.length,currentFrame:0,framerate:60,dirReverse:this.reverse,imgList:this.config.imageListSelector,progress:this.config.progressSelector,imagePath:f,filePrefix:c,ext:a,navigation:!1,responsive:!0,zeroPadding:!0,onReady:this.resize.bind(this)})},resize:function(){var c=
this.$(this.config.imageListSelector).find("img").eq(0);this.$el.height(c.height()||300)}},{displayName:"threeSixty",config:m.extend({selector:".ThreeSixty",figureSelector:".Figure",figureLOMSelector:".ThreeSixtyFigureLOM",imageListSelector:".ThreeSixtyImages",progressSelector:".ThreeSixtySpinner",reverse:!1},n.configure(k.id))});p.trigger("threeSixty.loaded",!0,k);return k});
define("elements/pageResources/pageResources","module jquery elements/element/element app/utilities/XyTools app/configuration app/events".split(" "),function(k,c,f,m,n,p){k=f.extend({events:{click:"showPageResourcesComponent"},render:function(){p.on("pageResourcesComponent.initialized",this.setTitle)},showPageResourcesComponent:function(){c(this.config.skinComponentSelector).trigger("click")},setTitle:function(c){this.el.title=c.config.hotkeyCombination+" "+this.el.title}},{displayName:"pageResourcesElement",
config:m.extend({selector:".PageResourcesButton",skinComponentSelector:".PageResourcesLink"},n.configure(k.id))});p.trigger("pageResourcesElement.loaded",!0,k);return k});
define("elements/procedure/procedure","module jquery elements/element/element app/utilities/XyTools app/configuration app/events".split(" "),function(k,c,f,m,n,p){k=f.extend({ui:{groups:"#{stepGroupSelector}",head:"#{stepHeadSelector}"},events:{"click @ui.groups[data-animated=true] @ui.head":"handleAnimatedStep"},render:function(){this.initHeight=this.el.scrollHeight;this.handleAnimation()},handleAnimation:function(){var f=this;this.ui.groups.filter("[data-animated=true]").each(function(){var k=c(this).find(f.config.stepSelector);
k.each(function(){c(this).find(f.config.stepActionSelector).each(function(){this.addEventListener("transitionend",function(){p.trigger("elements.resize",f.$el,f.$scope)},!1)})});if(!f.config.animateEmptyStep){var a=k.find(".StepUserAction");a.each(function(){c(this).html().trim()||c(this).parent(f.config.stepSelector).addClass(f.config.unexpandableClass)})}"collapsed"===f.config.animatedStartState?f.closeStep(k):f.openStep(k);f.config.expandFirstStep&&f.openStep(k.eq(0))})},handleAnimatedStep:function(f){f=
c(f.currentTarget).parent(this.config.stepSelector);f.hasClass(this.config.unexpandableClass)||("collapsed"===this.config.animatedStartState?this.config.allowCollapseAllSteps?this.toggleStep(f):(this.closeStep(f.siblings()),this.openStep(f)):this.toggleStep(f))},openStep:function(f){var k=this;f.removeClass(this.config.closedStepClass).addClass(this.config.openStepClass);this.resizeStep(f);f.find(this.config.figureSelector).each(function(a,h){if(!h.complete)c(h).on("load.procedure",function(){k.resizeStep(f)})})},
closeStep:function(f){var k=this.config.stepActionSelector;f.removeClass(this.config.openStepClass).addClass(this.config.closedStepClass).each(function(a,f){c(f).find(k).eq(0).css({"max-height":0})})},toggleStep:function(c){c.hasClass(this.config.openStepClass)?this.closeStep(c):this.openStep(c)},resizeStep:function(f){var k=this.config.stepActionSelector,a=this.initHeight;f.each(function(f,l){c(l).find(k).eq(0)[0].style.maxHeight=a+"px"})}},{displayName:"procedure",config:m.extend({selector:".Procedure",
stepGroupSelector:".StepGroup",stepSelector:".Step",stepHeadSelector:".StepHead",stepActionSelector:".StepUserAction",figureSelector:".Figure .FigureImage",openStepClass:"Open",closedStepClass:"Closed",unexpandableClass:"Unexpandable",expandFirstStep:!0,animatedStartState:"collapsed",allowCollapseAllSteps:!0,animateEmptyStep:!0},n.configure(k.id))});p.trigger("procedure.loaded",!0,k);return k});
define("elements/docWriter/docWriter","module jquery underscore elements/element/element app/utilities/helper/helperView app/utilities/XyTools app/configuration app/events lang/lang popup notification".split(" "),function(k,c,f,m,n,p,t,q,a,h,l){a={selector:".DocWriter",entrySelector:".Entry",entryNameSelector:".EntryName",entryFieldContainer:".EntryFieldContainer",userPrompt:".UserPrompt",entryField:".EntryField",showCharLimit:".ShowCharLimit",defaultCharMessage:a.t("elements.docWriter.charsLeft")||
"characters left",charsLeft:".CharsLeft",docWriterButtons:".DocWriterButtons",docWriterTemplateContainer:".DocWriterTemplateContainer",docWriterContentSelector:".DocWriterContent",generateDocumentButton:".GenerateDocumentButton",startOver:".StartOver",startOverConfirmMessage:a.t("elements.docWriter.startOverConfirmMessage"),printButton:".PrintButton",printTitle:a.t("elements.docWriter.print")||"Print",showModelResponse:".EntryShowModelResponse",showModelResponseTitle:a.t("elements.docWriter.modelResponseTitle")||
"Show Model Response",adviceLink:".EntryAdviceLink",adviceContent:".EntryAdviceContent",adviceTitle:a.t("elements.docWriter.advice")||"Advice",activeClass:"Active",popupRole:"dialog",tabindex:0,popup:{height:"auto",width:"auto",minWidth:"250px",minHeight:"250px",maxWidth:"70%",title:a.t("elements.docWriter.title")||"DocWriter",modal:!1,draggable:!0,closeOnEscape:!0,inclusive:!0,contentContainerSelector:"*"}};m=m.extend({ui:{entries:"#{entrySelector}",placeholder:"#{docWriterTemplateContainer}"},events:{"click #{entryNameSelector}":"entryNameClickHandler",
"click #{startOver}":"startOverHandler","click #{generateDocumentButton}":"generateDocument"},render:function(){this.entries=[];this.templateUri=this.convertURI(this.$el.data("template-uri"));this.$el.find(this.config.generateDocumentButton).attr({"aria-haspopup":this.config.popupRole,tabindex:this.config.tabindex});this.initializeEntries();this.renderEntries();this.handlePersistance();this.showEntry(0);this.createPopups()},initializeEntries:function(){var a=this;this.ui.entries.each(function(c,e){c=
new d({el:e,index:c});a.entries.push(c);c.on("docWriter.gotResponse",a.setResponse,a)})},renderEntries:function(){this.entries.forEach(function(a){a.render()})},showEntry:function(a){this.ui.entries.removeClass(this.config.activeClass).eq(a).addClass(this.config.activeClass)},entryNameClickHandler:function(a){a=c(a.target).parent();this.showEntry(this.ui.entries.index(a))},startOverHandler:function(){l.confirm(this.config.startOverConfirmMessage,this.startOver.bind(this))},startOver:function(){this.entries.forEach(function(a){a.startOver()})},
createPopups:function(){this.userResponsePopup=new h(p.extend(this.config.popup,{contentUrl:this.templateUri,ajaxComplete:this.renderUserResponse.bind(this),popupWrapperClass:"DocWriterPopup",buttons:[{text:this.config.printTitle,buttonClass:"PrintButton",click:this.print.bind(this)},{text:this.config.showModelResponseTitle,buttonClass:"ShowModelResponseButton",click:this.showModelResponse.bind(this)}]}));this.modelResponsePopup=new h(p.extend(this.config.popup,{contentUrl:this.templateUri,ajaxComplete:this.renderModelResponse.bind(this)}))},
renderUserResponse:function(a){this.entries.map(function(a){return a.getResponse()}).forEach(function(c,d){a.find("#blank"+(d+1)).text(c)})},renderModelResponse:function(a){this.entries.map(function(a){return a.getModelResponse()}).forEach(function(c,d){a.find("#blank"+(d+1)).text(c)})},showModelResponse:function(){this.modelResponsePopup.open()},print:function(){var a=c('<iframe name="printWin" style="display: none;"></iframe>');a.insertAfter(this.userResponsePopup.content);var d=window.open("",
"printWin","menubar=0,location=0,resizable=1,status=0,left=0,top=0,width=1,height=1,toolbar=0,scrollbars=0,status=0");d.document.write(this.userResponsePopup.content.html());d.document.close();d.focus();d.print();d.close();a.remove()},generateDocument:function(){this.userResponsePopup.open()},handlePersistance:function(){q.on("player.data:save",this.saveData);this.completed=this.getData();this.markCompleted()},markCompleted:function(){this.entries.forEach(function(a,c){this.completed[c]&&a.setResponse(this.completed[c])},
this)},setResponse:function(a,c){this.completed[a]=c},convertURI:function(a){return a?a.replace(/^.*\/media-service\//,"media/"):""},remove:function(){this.entries.forEach(function(a){a.remove()});this.entries=[];this.userResponsePopup.destroy();this.modelResponsePopup.destroy();this.constructor.__super__.remove.call(this)}},{displayName:"docWriter",config:p.extend(a,t.configure(k.id))});var d=n.extend({ui:{textarea:"#{entryField}",advice:"#{adviceContent}",charsLeft:"#{charsLeft}",adviceLink:"#{adviceLink}",
showModelResponse:"#{showModelResponse}"},events:{"click @ui.adviceLink":"showAdvice"},initialize:function(a){this.index=a.index},render:function(){this.modelResponse=this.ui.showModelResponse.text();this.textareaEvents=["change","keyup","blur","paste"];this.maxlength=this.ui.textarea.attr("maxlength");this.popup=new h(p.extend(this.config.popup,{content:this.ui.advice}));this.ui.textarea.on(this.textareaEvents.join(" "),f.throttle(this.textareaChange.bind(this),50))},showAdvice:function(){this.popup.open()},
textareaChange:function(){var a=this.ui.textarea.val();this.maxlength&&(p.detect.browser.ie||a.length>this.maxlength)&&(a=a.substr(0,this.maxlength),this.ui.textarea.val(a));this.trigger("docWriter.gotResponse",this.index,a);this.ui.charsLeft.text(this.maxlength-a.length)},startOver:function(){this.setResponse("")},setResponse:function(a){this.ui.textarea.val(a);this.textareaChange()},getResponse:function(){return this.ui.textarea.val()},getModelResponse:function(){return this.modelResponse},remove:function(){this.popup.destroy();
delete this.popup;this.ui.textarea.off(this.textareaEvents.join(" "))}},{displayName:"docWriterEntry",config:p.extend(a,t.configure(k.id))});q.trigger("docWriter.loaded",!0,m);return m});
!function(k,c){if("object"==typeof exports&&"undefined"!=typeof module){k=module;a:{try{var f=require("moment");break a}catch(m){}f=void 0}k.exports=c(f)}else"function"==typeof define&&define.amd?define("chart",["require"],function(f){a:{try{var k=f("moment");break a}catch(p){}k=void 0}return c(k)}):k.Chart=c(k.moment)}(this,function(k){function c(a){var c,d,e=a[0]/255,v=a[1]/255;a=a[2]/255;var f=Math.min(e,v,a),h=Math.max(e,v,a),k=h-f;return h==f?c=0:e==h?c=(v-a)/k:v==h?c=2+(a-e)/k:a==h&&(c=4+(e-
v)/k),0>(c=Math.min(60*c,360))&&(c+=360),d=(f+h)/2,[c,100*(h==f?0:.5>=d?k/(h+f):k/(2-h-f)),100*d]}function f(a){var c,d,e=a[0],v=a[1];a=a[2];var f=Math.min(e,v,a),h=Math.max(e,v,a),k=h-f;return d=0==h?0:k/h*1E3/10,h==f?c=0:e==h?c=(v-a)/k:v==h?c=2+(a-e)/k:a==h&&(c=4+(e-v)/k),0>(c=Math.min(60*c,360))&&(c+=360),[c,d,h/255*1E3/10]}function m(a){var d=a[0],e=a[1],v=a[2];return[c(a)[0],1/255*100*Math.min(d,Math.min(e,v)),100*(1-1/255*Math.max(d,Math.max(e,v)))]}function n(a){var c,d=a[0]/255,e=a[1]/255;
a=a[2]/255;return[100*((1-d-(c=Math.min(1-d,1-e,1-a)))/(1-c)||0),100*((1-e-c)/(1-c)||0),100*((1-a-c)/(1-c)||0),100*c]}function p(a){return Zb[JSON.stringify(a)]}function t(a){var c=a[0]/255,d=a[1]/255;a=a[2]/255;return[100*(.4124*(c=.04045<c?Math.pow((c+.055)/1.055,2.4):c/12.92)+.3576*(d=.04045<d?Math.pow((d+.055)/1.055,2.4):d/12.92)+.1805*(a=.04045<a?Math.pow((a+.055)/1.055,2.4):a/12.92)),100*(.2126*c+.7152*d+.0722*a),100*(.0193*c+.1192*d+.9505*a)]}function q(a){var c=t(a);a=c[0];var d=c[1];c=c[2];
return d/=100,c/=108.883,a=.008856<(a/=95.047)?Math.pow(a,1/3):7.787*a+16/116,[116*(d=.008856<d?Math.pow(d,1/3):7.787*d+16/116)-16,500*(a-d),200*(d-(.008856<c?Math.pow(c,1/3):7.787*c+16/116))]}function a(a){var c,d,e=a[0]/360;var v=a[1]/100;a=a[2]/100;if(0==v)return[d=255*a,d,d];v=2*a-(a=.5>a?a*(1+v):a+v-a*v);var f=[0,0,0];for(var h=0;3>h;h++)0>(c=e+1/3*-(h-1))&&c++,1<c&&c--,d=1>6*c?v+6*(a-v)*c:1>2*c?a:2>3*c?v+(a-v)*(2/3-c)*6:v,f[h]=255*d;return f}function h(a){var c=a[0]/60,d=a[1]/100;a=a[2]/100;
var e=Math.floor(c)%6,v=c-Math.floor(c);c=255*a*(1-d);var f=255*a*(1-d*v);d=255*a*(1-d*(1-v));a*=255;switch(e){case 0:return[a,d,c];case 1:return[f,a,c];case 2:return[c,a,d];case 3:return[c,f,a];case 4:return[d,c,a];case 5:return[a,c,f]}}function l(a){var c,d;var e=a[0]/360;var v=a[1]/100;a=a[2]/100;var f=v+a;switch(1<f&&(v/=f,a/=f),d=6*e-(c=Math.floor(6*e)),0!=(1&c)&&(d=1-d),f=v+d*((e=1-a)-v),c){default:case 6:case 0:r=e;g=f;b=v;break;case 1:r=f;g=e;b=v;break;case 2:r=v;g=e;b=f;break;case 3:r=v;
g=f;b=e;break;case 4:r=f;g=v;b=e;break;case 5:r=e,g=v,b=f}return[255*r,255*g,255*b]}function d(a){var c=a[3]/100;return[255*(1-Math.min(1,a[0]/100*(1-c)+c)),255*(1-Math.min(1,a[1]/100*(1-c)+c)),255*(1-Math.min(1,a[2]/100*(1-c)+c))]}function e(a){var c,d,e,v=a[0]/100,f=a[1]/100;a=a[2]/100;return d=-.9689*v+1.8758*f+.0415*a,e=.0557*v+-.204*f+1.057*a,c=.0031308<(c=3.2406*v+-1.5372*f+-.4986*a)?1.055*Math.pow(c,1/2.4)-.055:c*=12.92,d=.0031308<d?1.055*Math.pow(d,1/2.4)-.055:d*=12.92,e=.0031308<e?1.055*
Math.pow(e,1/2.4)-.055:e*=12.92,[255*Math.min(Math.max(0,c),1),255*Math.min(Math.max(0,d),1),255*Math.min(Math.max(0,e),1)]}function u(a){var c=a[0],d=a[1];a=a[2];return d/=100,a/=108.883,c=.008856<(c/=95.047)?Math.pow(c,1/3):7.787*c+16/116,[116*(d=.008856<d?Math.pow(d,1/3):7.787*d+16/116)-16,500*(c-d),200*(d-(.008856<a?Math.pow(a,1/3):7.787*a+16/116))]}function z(a){var c,d,e=a[0],v=a[1];a=a[2];return 8>=e?d=(c=100*e/903.3)/100*7.787+16/116:(c=100*Math.pow((e+16)/116,3),d=Math.pow(c/100,1/3)),[95.047*
Math.pow(v/500+d,3),c,108.883*Math.pow(d-a/200,3)]}function C(a){var c,d=a[0],e=a[1];a=a[2];return 0>(c=360*Math.atan2(a,e)/2/Math.PI)&&(c+=360),[d,Math.sqrt(e*e+a*a),c]}function D(a){return e(z(a))}function x(a){var c,d=a[0],e=a[1];return c=a[2]/360*2*Math.PI,[d,e*Math.cos(c),e*Math.sin(c)]}function E(a){if(a){var c=[0,0,0],d=1,e=a.match(/^#([a-fA-F0-9]{3,4})$/i);if(e){a=(e=e[1])[3];for(var v=0;v<c.length;v++)c[v]=parseInt(e[v]+e[v],16);a&&(d=Math.round(parseInt(a+a,16)/255*100)/100)}else if(e=a.match(/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i)){a=
e[2];e=e[1];for(v=0;v<c.length;v++)c[v]=parseInt(e.slice(2*v,2*v+2),16);a&&(d=Math.round(parseInt(a,16)/255*100)/100)}else if(e=a.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(v=0;v<c.length;v++)c[v]=parseInt(e[v+1]);d=parseFloat(e[4])}else if(e=a.match(/^rgba?\(\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(v=0;v<c.length;v++)c[v]=Math.round(2.55*parseFloat(e[v+1]));d=parseFloat(e[4])}else if(e=
a.match(/(\w+)/)){if("transparent"==e[1])return[0,0,0,0];if(!(c=Pb[e[1]]))return}for(v=0;v<c.length;v++)c[v]=I(c[v],0,255);return d=d||0==d?I(d,0,1):1,c[3]=d,c}}function H(a){if(a&&(a=a.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/))){var c=parseFloat(a[4]);return[I(parseInt(a[1]),0,360),I(parseFloat(a[2]),0,100),I(parseFloat(a[3]),0,100),I(isNaN(c)?1:c,0,1)]}}function A(a){if(a&&(a=a.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/))){var c=
parseFloat(a[4]);return[I(parseInt(a[1]),0,360),I(parseFloat(a[2]),0,100),I(parseFloat(a[3]),0,100),I(isNaN(c)?1:c,0,1)]}}function G(a,c){return void 0===c&&(c=void 0!==a[3]?a[3]:1),"rgba("+a[0]+", "+a[1]+", "+a[2]+", "+c+")"}function B(a,c){return"rgba("+Math.round(a[0]/255*100)+"%, "+Math.round(a[1]/255*100)+"%, "+Math.round(a[2]/255*100)+"%, "+(c||a[3]||1)+")"}function F(a,c){return void 0===c&&(c=void 0!==a[3]?a[3]:1),"hsla("+a[0]+", "+a[1]+"%, "+a[2]+"%, "+c+")"}function I(a,c,d){return Math.min(Math.max(c,
a),d)}function M(a){a=a.toString(16).toUpperCase();return 2>a.length?"0"+a:a}function L(a,c){var d=a._chartjs;d&&(d=d.listeners,c=d.indexOf(c),-1!==c&&d.splice(c,1),0<d.length||(mc.forEach(function(c){delete a[c]}),delete a._chartjs))}function J(a){var c=this._view;return!!c&&Math.abs(a-c.x)<c.radius+c.hitRadius}function P(a){return a&&void 0!==a.width}function W(a){var c,d,e,v,f;return P(a)?(f=a.width/2,c=a.x-f,d=a.x+f,e=Math.min(a.y,a.base),v=Math.max(a.y,a.base)):(f=a.height/2,c=Math.min(a.x,a.base),
d=Math.max(a.x,a.base),e=a.y-f,v=a.y+f),{left:c,top:e,right:d,bottom:v}}function U(a,c,d){var e=null===c,v=null===d;return(a=!(!a||e&&v)&&W(a))&&(e||c>=a.left&&c<=a.right)&&(v||d>=a.top&&d<=a.bottom)}function Z(a,c){return a.native?{x:a.x,y:a.y}:y.getRelativePosition(a,c)}function X(a,c){var d,e,v;var f=0;for(e=a.data.datasets.length;f<e;++f)if(a.isDatasetVisible(f)){var h=0;for(v=(d=a.getDatasetMeta(f)).data.length;h<v;++h){var k=d.data[h];k._view.skip||c(k)}}}function R(a,c){var d=[];return X(a,
function(a){a.inRange(c.x,c.y)&&d.push(a)}),d}function Ba(a,c,d,e){var v=Number.POSITIVE_INFINITY,f=[];return X(a,function(a){if(!d||a.inRange(c.x,c.y)){var h=a.getCenterPoint();h=e(c,h);h<v?(f=[a],v=h):h===v&&f.push(a)}}),f}function va(a){var c=-1!==a.indexOf("x"),d=-1!==a.indexOf("y");return function(a,e){return Math.sqrt(Math.pow(c?Math.abs(a.x-e.x):0,2)+Math.pow(d?Math.abs(a.y-e.y):0,2))}}function la(a,c,d){c=Z(c,a);d.axis=d.axis||"x";var e=va(d.axis),v=d.intersect?R(a,c):Ba(a,c,!1,e),f=[];return v.length?
(a.data.datasets.forEach(function(c,d){a.isDatasetVisible(d)&&(c=a.getDatasetMeta(d).data[v[0]._index])&&!c._view.skip&&f.push(c)}),f):[]}function O(a,c){return y.where(a,function(a){return a.position===c})}function S(a,c){a.forEach(function(a,c){return a._tmpIndex_=c,a});a.sort(function(a,d){var e=c?d:a;a=c?a:d;return e.weight===a.weight?e._tmpIndex_-a._tmpIndex_:e.weight-a.weight});a.forEach(function(a){delete a._tmpIndex_})}function ba(a,c){y.each(a,function(a){c[a.position]+=a.isHorizontal()?
a.height:a.width})}function fa(a,c){return(a=(a=y.getStyle(a,c))&&a.match(/^(\d+)(\.\d+)?px$/))?Number(a[1]):void 0}function xa(a,c,d){a.addEventListener(c,d,Lc)}function ma(a,c,d){a.removeEventListener(c,d,Lc)}function ra(a,c,d,e,f){return{type:a,chart:c,native:f||null,x:void 0!==d?d:null,y:void 0!==e?e:null}}function ha(a){var c=document.createElement("div");return c.className=a||"",c}function T(a,c,d){var e,f,v,h,k=a.$chartjs||(a.$chartjs={}),l=k.resizer=function(a){var c=ha("chartjs-size-monitor"),
d=ha("chartjs-size-monitor-expand"),e=ha("chartjs-size-monitor-shrink");d.appendChild(ha());e.appendChild(ha());c.appendChild(d);c.appendChild(e);c._reset=function(){d.scrollLeft=1E6;d.scrollTop=1E6;e.scrollLeft=1E6;e.scrollTop=1E6};var f=function(){c._reset();a()};return xa(d,"scroll",f.bind(d,"expand")),xa(e,"scroll",f.bind(e,"shrink")),c}((e=function(){if(k.resizer){var e=d.options.maintainAspectRatio&&a.parentNode,f=e?e.clientWidth:0;c(ra("resize",d));e&&e.clientWidth<f&&d.canvas&&c(ra("resize",
d))}},v=!1,h=[],function(){h=Array.prototype.slice.call(arguments);f=f||this;v||(v=!0,y.requestAnimFrame.call(window,function(){v=!1;e.apply(f,h)}))}));!function(a,c){var d=a.$chartjs||(a.$chartjs={}),e=d.renderProxy=function(a){"chartjs-render-animation"===a.animationName&&c()};y.each(Ac,function(c){xa(a,c,e)});d.reflow=!!a.offsetParent;a.classList.add("chartjs-render-monitor")}(a,function(){if(k.resizer){var c=a.parentNode;c&&c!==l.parentNode&&c.insertBefore(l,c.firstChild);l._reset()}})}function Ca(a){var c=
a.$chartjs||{},d=c.resizer;delete c.resizer;(function(a){var c=a.$chartjs||{},d=c.renderProxy;d&&(y.each(Ac,function(c){ma(a,c,d)}),delete c.renderProxy);a.classList.remove("chartjs-render-monitor")})(a);d&&d.parentNode&&d.parentNode.removeChild(d)}function ua(a,c){return c&&(y.isArray(c)?Array.prototype.push.apply(a,c):a.push(c)),a}function ya(a){return("string"==typeof a||a instanceof String)&&-1<a.indexOf("\n")?a.split("\n"):a}function Ha(a){var c=N.global;return{xPadding:a.xPadding,yPadding:a.yPadding,
xAlign:a.xAlign,yAlign:a.yAlign,bodyFontColor:a.bodyFontColor,_bodyFontFamily:ub(a.bodyFontFamily,c.defaultFontFamily),_bodyFontStyle:ub(a.bodyFontStyle,c.defaultFontStyle),_bodyAlign:a.bodyAlign,bodyFontSize:ub(a.bodyFontSize,c.defaultFontSize),bodySpacing:a.bodySpacing,titleFontColor:a.titleFontColor,_titleFontFamily:ub(a.titleFontFamily,c.defaultFontFamily),_titleFontStyle:ub(a.titleFontStyle,c.defaultFontStyle),titleFontSize:ub(a.titleFontSize,c.defaultFontSize),_titleAlign:a.titleAlign,titleSpacing:a.titleSpacing,
titleMarginBottom:a.titleMarginBottom,footerFontColor:a.footerFontColor,_footerFontFamily:ub(a.footerFontFamily,c.defaultFontFamily),_footerFontStyle:ub(a.footerFontStyle,c.defaultFontStyle),footerFontSize:ub(a.footerFontSize,c.defaultFontSize),_footerAlign:a.footerAlign,footerSpacing:a.footerSpacing,footerMarginTop:a.footerMarginTop,caretSize:a.caretSize,cornerRadius:a.cornerRadius,backgroundColor:a.backgroundColor,opacity:0,legendColorBackground:a.multiKeyBackground,displayColors:a.displayColors,
borderColor:a.borderColor,borderWidth:a.borderWidth}}function za(a,c){return"center"===c?a.x+a.width/2:"right"===c?a.x+a.width-a.xPadding:a.x+a.xPadding}function ic(){return y.merge({},[].slice.call(arguments),{merger:function(a,c,d,e){if("xAxes"===a||"yAxes"===a){var f=d[a].length;c[a]||(c[a]=[]);for(e=0;e<f;++e){var v=d[a][e];var h=Cc(v.type,"xAxes"===a?"category":"linear");e>=c[a].length&&c[a].push({});!c[a][e].type||v.type&&v.type!==c[a][e].type?y.merge(c[a][e],[pc.getScaleDefaults(h),v]):y.merge(c[a][e],
v)}}else y._merger(a,c,d,e)}})}function cb(){return y.merge({},[].slice.call(arguments),{merger:function(a,c,d,e){var f=c[a]||{},v=d[a];"scales"===a?c[a]=ic(f,v):"scale"===a?c[a]=y.merge(f,[pc.getScaleDefaults(v.type),v]):y._merger(a,c,d,e)}})}function da(a){return"top"===a||"bottom"===a}function w(){throw Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.");}function nb(a){this.options=a||{}}function Tb(a){var c,d=[];var e=0;for(c=a.length;e<
c;++e)d.push(a[e].label);return d}function Ub(a,c,d){return y.isArray(c)?y.longestText(a,d,c):a.measureText(c).width}function ob(a,c){return y.isFinite(a)&&0<=a?a:c}function Ia(a){var c=a.options;return c.angleLines.display||c.pointLabels.display?a.chart.data.labels.length:0}function Wa(a){var c=a.ticks;return c.display&&a.display?zc(c.fontSize,N.global.defaultFontSize)+2*c.backdropPaddingY:0}function Xb(a,c,d,e,f){return a===e||a===f?{start:c-d/2,end:c+d/2}:a<e||a>f?{start:c-d,end:c}:{start:c,end:c+
d}}function zb(a){return y.isNumber(a)?a:0}function Yb(a,c){return a-c}function Nb(a){var c,d,e={},f=[];var v=0;for(c=a.length;v<c;++v)e[d=a[v]]||(e[d]=!0,f.push(d));return f}function pb(a,c,d,e){var f,v;a:{for(var h,k=0,l=a.length-1;0<=k&&k<=l;){if(v=a[(f=k+l>>1)-1]||null,h=a[f],!v){f=null;v=h;break a}if(h[c]<d)k=f+1;else{if(!(v[c]>d)){f=v;v=h;break a}l=f-1}}f=h;v=null}h=f?v?f:a[a.length-2]:a[0];a=f?v?v:a[a.length-1]:a[1];f=a[c]-h[c];return h[e]+(a[e]-h[e])*(f?(d-h[c])/f:0)}function qb(a,c){var d=
a._adapter,e=a.options.time;e=(a=e.parser)||e.format;var f=c;return"function"==typeof a&&(f=a(f)),y.isFinite(f)||(f="string"==typeof e?d.parse(f,e):d.parse(f)),null!==f?+f:(a||"function"!=typeof e||(f=e(c),y.isFinite(f)||(f=d.parse(f))),f)}function ib(a,c){if(y.isNullOrUndef(c))return null;var d=a.options.time;c=qb(a,a.getRightValue(c));return null===c?c:(d.round&&(c=+a._adapter.startOf(c,d.round)),c)}function lc(a){a=Ta.indexOf(a)+1;for(var c=Ta.length;a<c;++a)if(kc[Ta[a]].common)return Ta[a]}function Ka(a,
c,d,e){var f=a._adapter,v=a.options;a=v.time;var h=a.unit||function(a,c,d,e){var f,v,h=Ta.length;for(a=Ta.indexOf(a);a<h-1;++a)if(v=(f=kc[Ta[a]]).steps?f.steps[f.steps.length-1]:Ic,f.common&&Math.ceil((d-c)/(v*f.size))<=e)return Ta[a];return Ta[h-1]}(a.minUnit,c,d,e),k=lc(h),l=Ec(a.stepSize,a.unitStepSize),m="week"===h&&a.isoWeekday;v=v.ticks.major.enabled;var K=kc[h],Q=c,q=d,p=[];l||(l=function(a,c,d,e){var f,v;a=c-a;c=kc[d];d=c.size;var h=c.steps;if(!h)return Math.ceil(a/(e*d));c=0;for(f=h.length;c<
f&&(v=h[c],!(Math.ceil(a/(d*v))<=e));++c);return v}(c,d,h,e));m&&(Q=+f.startOf(Q,"isoWeek",m),q=+f.startOf(q,"isoWeek",m));Q=+f.startOf(Q,m?"day":h);(q=+f.startOf(q,m?"day":h))<d&&(q=+f.add(q,1,h));c=Q;for(v&&k&&!m&&!a.round&&(c=+f.startOf(c,k),c=+f.add(c,~~((Q-c)/(K.size*l))*l,h));c<q;c=+f.add(c,l,h))p.push(+c);return p.push(+c),p}function Xa(a,c,d){var e;a=a._model||{};var f=a.fill;if(void 0===f&&(f=!!a.backgroundColor),!1===f||null===f)return!1;if(!0===f)return"origin";if(e=parseFloat(f,10),isFinite(e)&&
Math.floor(e)===e)return"-"!==f[0]&&"+"!==f[0]||(e=c+e),!(e===c||0>e||e>=d)&&e;switch(f){case "bottom":return"start";case "top":return"end";case "zero":return"origin";case "origin":case "start":case "end":return f;default:return!1}}function Ya(a){var c,d=a.el._model||{},e=a.el._scale||{};a=a.fill;var f=null;if(isFinite(a))return null;if("start"===a?f=void 0===d.scaleBottom?e.bottom:d.scaleBottom:"end"===a?f=void 0===d.scaleTop?e.top:d.scaleTop:void 0!==d.scaleZero?f=d.scaleZero:e.getBasePosition?
f=e.getBasePosition():e.getBasePixel&&(f=e.getBasePixel()),null!=f){if(void 0!==f.x&&void 0!==f.y)return f;if(y.isFinite(f))return{x:(c=e.isHorizontal())?f:null,y:c?null:f}}return null}function rb(a,c,d,e,f){var v;if(e&&f){a.moveTo(c[0].x,c[0].y);for(v=1;v<e;++v)y.canvas.lineTo(a,c[v-1],c[v]);a.lineTo(d[f-1].x,d[f-1].y);for(v=f-1;0<v;--v)y.canvas.lineTo(a,d[v],d[v-1],!0)}}function V(a,c){var d=new Tc({ctx:a.ctx,options:c,chart:a});$a.configure(a,d,c);$a.addBox(a,d);a.legend=d}function oa(a,c){var d=
new Qc({ctx:a.ctx,options:c,chart:a});$a.configure(a,d,c);$a.addBox(a,d);a.titleBlock=d}k=k&&k.hasOwnProperty("default")?k.default:k;var Ob={rgb2hsl:c,rgb2hsv:f,rgb2hwb:m,rgb2cmyk:n,rgb2keyword:p,rgb2xyz:t,rgb2lab:q,rgb2lch:function(a){return C(q(a))},hsl2rgb:a,hsl2hsv:function(a){var c=a[1]/100,d=a[2]/100;return 0===d?[0,0,0]:[a[0],100*(2*(c*=1>=(d*=2)?d:2-d)/(d+c)),(d+c)/2*100]},hsl2hwb:function(c){return m(a(c))},hsl2cmyk:function(c){return n(a(c))},hsl2keyword:function(c){return p(a(c))},hsv2rgb:h,
hsv2hsl:function(a){var c,d,e=a[0],f=a[1]/100;a=a[2]/100;return c=f*a,[e,100*(c/(1>=(d=(2-f)*a)?d:2-d)||0),d/2*100]},hsv2hwb:function(a){return m(h(a))},hsv2cmyk:function(a){return n(h(a))},hsv2keyword:function(a){return p(h(a))},hwb2rgb:l,hwb2hsl:function(a){return c(l(a))},hwb2hsv:function(a){return f(l(a))},hwb2cmyk:function(a){return n(l(a))},hwb2keyword:function(a){return p(l(a))},cmyk2rgb:d,cmyk2hsl:function(a){return c(d(a))},cmyk2hsv:function(a){return f(d(a))},cmyk2hwb:function(a){return m(d(a))},
cmyk2keyword:function(a){return p(d(a))},keyword2rgb:function(a){return Ra[a]},keyword2hsl:function(a){return c(Ra[a])},keyword2hsv:function(a){return f(Ra[a])},keyword2hwb:function(a){return m(Ra[a])},keyword2cmyk:function(a){return n(Ra[a])},keyword2lab:function(a){return q(Ra[a])},keyword2xyz:function(a){return t(Ra[a])},xyz2rgb:e,xyz2lab:u,xyz2lch:function(a){return C(u(a))},lab2xyz:z,lab2rgb:D,lab2lch:C,lch2lab:x,lch2xyz:function(a){return z(x(a))},lch2rgb:function(a){return D(x(a))}},Ra={aliceblue:[240,
248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,
11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],
firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,
230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],
mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,
170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,
90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Zb={},eb;for(eb in Ra)Zb[JSON.stringify(Ra[eb])]=eb;var Ea=function(){return new pa},Sa;for(Sa in Ob){Ea[Sa+"Raw"]=function(a){return function(c){return"number"==
typeof c&&(c=Array.prototype.slice.call(arguments)),Ob[a](c)}}(Sa);var $b=/(\w+)2(\w+)/.exec(Sa),ta=$b[1],qa=$b[2];(Ea[ta]=Ea[ta]||{})[qa]=Ea[Sa]=function(a){return function(c){"number"==typeof c&&(c=Array.prototype.slice.call(arguments));var d=Ob[a](c);if("string"==typeof d||void 0===d)return d;for(var e=0;e<d.length;e++)d[e]=Math.round(d[e]);return d}}(Sa)}var pa=function(){this.convs={}};pa.prototype.routeSpace=function(a,c){var d=c[0];return void 0===d?this.getValues(a):("number"==typeof d&&(d=
Array.prototype.slice.call(c)),this.setValues(a,d))};pa.prototype.setValues=function(a,c){return this.space=a,this.convs={},this.convs[a]=c,this};pa.prototype.getValues=function(a){var c=this.convs[a];c||(c=this.space,c=Ea[c][a](this.convs[c]),this.convs[a]=c);return c};["rgb","hsl","hsv","cmyk","keyword"].forEach(function(a){pa.prototype[a]=function(c){return this.routeSpace(a,arguments)}});var Pb={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,
255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,
107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],
gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],
lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,
179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,
239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,
255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},La={getRgba:E,getHsla:H,getRgb:function(a){return(a=E(a))&&a.slice(0,3)},getHsl:function(a){return(a=H(a))&&a.slice(0,3)},getHwb:A,getAlpha:function(a){var c=E(a);if(c||(c=H(a))||(c=A(a)))return c[3]},hexString:function(a,c){c=void 0!==c&&
3===a.length?c:a[3];return"#"+M(a[0])+M(a[1])+M(a[2])+(0<=c&&1>c?M(Math.round(255*c)):"")},rgbString:function(a,c){return 1>c||a[3]&&1>a[3]?G(a,c):"rgb("+a[0]+", "+a[1]+", "+a[2]+")"},rgbaString:G,percentString:function(a,c){return 1>c||a[3]&&1>a[3]?B(a,c):"rgb("+Math.round(a[0]/255*100)+"%, "+Math.round(a[1]/255*100)+"%, "+Math.round(a[2]/255*100)+"%)"},percentaString:B,hslString:function(a,c){return 1>c||a[3]&&1>a[3]?F(a,c):"hsl("+a[0]+", "+a[1]+"%, "+a[2]+"%)"},hslaString:F,hwbString:function(a,
c){void 0===c&&(c=void 0!==a[3]?a[3]:1);return"hwb("+a[0]+", "+a[1]+"%, "+a[2]+"%"+(void 0!==c&&1!==c?", "+c:"")+")"},keyword:function(a){return jb[a.slice(0,3)]}},jb={},Kb;for(Kb in Pb)jb[Pb[Kb]]=Kb;var Da=function(a){return a instanceof Da?a:this instanceof Da?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof a?(c=La.getRgba(a))?this.setValues("rgb",c):(c=La.getHsla(a))?this.setValues("hsl",c):(c=La.getHwb(a))&&this.setValues("hwb",
c):"object"==typeof a&&(void 0!==(c=a).r||void 0!==c.red?this.setValues("rgb",c):void 0!==c.l||void 0!==c.lightness?this.setValues("hsl",c):void 0!==c.v||void 0!==c.value?this.setValues("hsv",c):void 0!==c.w||void 0!==c.whiteness?this.setValues("hwb",c):void 0===c.c&&void 0===c.cyan||this.setValues("cmyk",c)))):new Da(a);var c};Da.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",
arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var a=this.values;return 1!==a.alpha?a.hwb.concat([a.alpha]):a.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var a=this.values;return a.rgb.concat([a.alpha])},hslaArray:function(){var a=this.values;return a.hsl.concat([a.alpha])},
alpha:function(a){return void 0===a?this.values.alpha:(this.setValues("alpha",a),this)},red:function(a){return this.setChannel("rgb",0,a)},green:function(a){return this.setChannel("rgb",1,a)},blue:function(a){return this.setChannel("rgb",2,a)},hue:function(a){return a&&(a=0>(a%=360)?360+a:a),this.setChannel("hsl",0,a)},saturation:function(a){return this.setChannel("hsl",1,a)},lightness:function(a){return this.setChannel("hsl",2,a)},saturationv:function(a){return this.setChannel("hsv",1,a)},whiteness:function(a){return this.setChannel("hwb",
1,a)},blackness:function(a){return this.setChannel("hwb",2,a)},value:function(a){return this.setChannel("hsv",2,a)},cyan:function(a){return this.setChannel("cmyk",0,a)},magenta:function(a){return this.setChannel("cmyk",1,a)},yellow:function(a){return this.setChannel("cmyk",2,a)},black:function(a){return this.setChannel("cmyk",3,a)},hexString:function(){return La.hexString(this.values.rgb)},rgbString:function(){return La.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return La.rgbaString(this.values.rgb,
this.values.alpha)},percentString:function(){return La.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return La.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return La.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return La.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return La.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var a=this.values.rgb;return a[0]<<16|a[1]<<8|a[2]},luminosity:function(){for(var a=
this.values.rgb,c=[],d=0;d<a.length;d++){var e=a[d]/255;c[d]=.03928>=e?e/12.92:Math.pow((e+.055)/1.055,2.4)}return.2126*c[0]+.7152*c[1]+.0722*c[2]},contrast:function(a){var c=this.luminosity();a=a.luminosity();return c>a?(c+.05)/(a+.05):(a+.05)/(c+.05)},level:function(a){a=this.contrast(a);return 7.1<=a?"AAA":4.5<=a?"AA":""},dark:function(){var a=this.values.rgb;return 128>(299*a[0]+587*a[1]+114*a[2])/1E3},light:function(){return!this.dark()},negate:function(){for(var a=[],c=0;3>c;c++)a[c]=255-this.values.rgb[c];
return this.setValues("rgb",a),this},lighten:function(a){var c=this.values.hsl;return c[2]+=c[2]*a,this.setValues("hsl",c),this},darken:function(a){var c=this.values.hsl;return c[2]-=c[2]*a,this.setValues("hsl",c),this},saturate:function(a){var c=this.values.hsl;return c[1]+=c[1]*a,this.setValues("hsl",c),this},desaturate:function(a){var c=this.values.hsl;return c[1]-=c[1]*a,this.setValues("hsl",c),this},whiten:function(a){var c=this.values.hwb;return c[1]+=c[1]*a,this.setValues("hwb",c),this},blacken:function(a){var c=
this.values.hwb;return c[2]+=c[2]*a,this.setValues("hwb",c),this},greyscale:function(){var a=this.values.rgb;a=.3*a[0]+.59*a[1]+.11*a[2];return this.setValues("rgb",[a,a,a]),this},clearer:function(a){var c=this.values.alpha;return this.setValues("alpha",c-c*a),this},opaquer:function(a){var c=this.values.alpha;return this.setValues("alpha",c+c*a),this},rotate:function(a){var c=this.values.hsl;a=(c[0]+a)%360;return c[0]=0>a?360+a:a,this.setValues("hsl",c),this},mix:function(a,c){c=void 0===c?.5:c;var d=
2*c-1,e=this.alpha()-a.alpha();d=((-1==d*e?d:(d+e)/(1+d*e))+1)/2;e=1-d;return this.rgb(d*this.red()+e*a.red(),d*this.green()+e*a.green(),d*this.blue()+e*a.blue()).alpha(this.alpha()*c+a.alpha()*(1-c))},toJSON:function(){return this.rgb()},clone:function(){var a,c,d=new Da,e=this.values,f=d.values,h;for(h in e)e.hasOwnProperty(h)&&(a=e[h],"[object Array]"===(c={}.toString.call(a))?f[h]=a.slice(0):"[object Number]"===c?f[h]=a:console.error("unexpected color value:",a));return d}};Da.prototype.spaces=
{rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]};Da.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]};Da.prototype.getValues=function(a){for(var c=this.values,d={},e=0;e<a.length;e++)d[a.charAt(e)]=c[a][e];return 1!==c.alpha&&(d.a=c.alpha),d};Da.prototype.setValues=function(a,c){var d=this.values,e=this.spaces,
f=this.maxes;var h=1;if(this.valid=!0,"alpha"===a)h=c;else if(c.length)d[a]=c.slice(0,a.length),h=c[a.length];else if(void 0!==c[a.charAt(0)]){for(h=0;h<a.length;h++)d[a][h]=c[a.charAt(h)];h=c.a}else if(void 0!==c[e[a][0]]){var v=e[a];for(h=0;h<a.length;h++)d[a][h]=c[v[h]];h=c.alpha}if(d.alpha=Math.max(0,Math.min(1,void 0===h?d.alpha:h)),"alpha"===a)return!1;for(h=0;h<a.length;h++)c=Math.max(0,Math.min(f[a][h],d[a][h])),d[a][h]=Math.round(c);for(var k in e)k!==a&&(d[k]=Ea[a][k](d[a]));return!0};Da.prototype.setSpace=
function(a,c){var d=c[0];return void 0===d?this.getValues(a):("number"==typeof d&&(d=Array.prototype.slice.call(c)),this.setValues(a,d),this)};Da.prototype.setChannel=function(a,c,d){var e=this.values[a];return void 0===d?e[c]:d===e[c]?this:(e[c]=d,this.setValues(a,e),this)};"undefined"!=typeof window&&(window.Color=Da);var Ab,ab=Da,ca={noop:function(){},uid:(Ab=0,function(){return Ab++}),isNullOrUndef:function(a){return null==a},isArray:function(a){if(Array.isArray&&Array.isArray(a))return!0;a=Object.prototype.toString.call(a);
return"[object"===a.substr(0,7)&&"Array]"===a.substr(-6)},isObject:function(a){return null!==a&&"[object Object]"===Object.prototype.toString.call(a)},isFinite:function(a){return("number"==typeof a||a instanceof Number)&&isFinite(a)},valueOrDefault:function(a,c){return void 0===a?c:a},valueAtIndexOrDefault:function(a,c,d){return ca.valueOrDefault(ca.isArray(a)?a[c]:a,d)},callback:function(a,c,d){if(a&&"function"==typeof a.call)return a.apply(d,c)},each:function(a,c,d,e){var f,h;if(ca.isArray(a))if(f=
a.length,e)for(e=f-1;0<=e;e--)c.call(d,a[e],e);else for(e=0;e<f;e++)c.call(d,a[e],e);else if(ca.isObject(a))for(f=(h=Object.keys(a)).length,e=0;e<f;e++)c.call(d,a[h[e]],h[e])},arrayEquals:function(a,c){var d,e,f;if(!a||!c||a.length!==c.length)return!1;var h=0;for(d=a.length;h<d;++h)if(e=a[h],f=c[h],e instanceof Array&&f instanceof Array){if(!ca.arrayEquals(e,f))return!1}else if(e!==f)return!1;return!0},clone:function(a){if(ca.isArray(a))return a.map(ca.clone);if(ca.isObject(a)){for(var c={},d=Object.keys(a),
e=d.length,f=0;f<e;++f)c[d[f]]=ca.clone(a[d[f]]);return c}return a},_merger:function(a,c,d,e){var f=c[a];d=d[a];ca.isObject(f)&&ca.isObject(d)?ca.merge(f,d,e):c[a]=ca.clone(d)},_mergerIf:function(a,c,d){var e=c[a];d=d[a];ca.isObject(e)&&ca.isObject(d)?ca.mergeIf(e,d):c.hasOwnProperty(a)||(c[a]=ca.clone(d))},merge:function(a,c,d){var e,f,h,v=ca.isArray(c)?c:[c],k=v.length;if(!ca.isObject(a))return a;var l=(d=d||{}).merger||ca._merger;for(e=0;e<k;++e)if(c=v[e],ca.isObject(c)){var m=0;for(h=(f=Object.keys(c)).length;m<
h;++m)l(f[m],a,c,d)}return a},mergeIf:function(a,c){return ca.merge(a,c,{merger:ca._mergerIf})},extend:function(a){for(var c=function(c,d){a[d]=c},d=1,e=arguments.length;d<e;++d)ca.each(arguments[d],c);return a},inherits:function(a){var c=this,d=a&&a.hasOwnProperty("constructor")?a.constructor:function(){return c.apply(this,arguments)},e=function(){this.constructor=d};return e.prototype=c.prototype,d.prototype=new e,d.extend=ca.inherits,a&&ca.extend(d.prototype,a),d.__super__=c.prototype,d}},Ma=ca;
ca.callCallback=ca.callback;ca.indexOf=function(a,c,d){return Array.prototype.indexOf.call(a,c,d)};ca.getValueOrDefault=ca.valueOrDefault;ca.getValueAtIndexOrDefault=ca.valueAtIndexOrDefault;var bb={linear:function(a){return a},easeInQuad:function(a){return a*a},easeOutQuad:function(a){return-a*(a-2)},easeInOutQuad:function(a){return 1>(a/=.5)?.5*a*a:-.5*(--a*(a-2)-1)},easeInCubic:function(a){return a*a*a},easeOutCubic:function(a){return--a*a*a+1},easeInOutCubic:function(a){return 1>(a/=.5)?.5*a*
a*a:.5*((a-=2)*a*a+2)},easeInQuart:function(a){return a*a*a*a},easeOutQuart:function(a){return-(--a*a*a*a-1)},easeInOutQuart:function(a){return 1>(a/=.5)?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2)},easeInQuint:function(a){return a*a*a*a*a},easeOutQuint:function(a){return--a*a*a*a*a+1},easeInOutQuint:function(a){return 1>(a/=.5)?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)},easeInSine:function(a){return 1-Math.cos(Math.PI/2*a)},easeOutSine:function(a){return Math.sin(Math.PI/2*a)},easeInOutSine:function(a){return-.5*(Math.cos(Math.PI*
a)-1)},easeInExpo:function(a){return 0===a?0:Math.pow(2,10*(a-1))},easeOutExpo:function(a){return 1===a?1:1-Math.pow(2,-10*a)},easeInOutExpo:function(a){return 0===a?0:1===a?1:1>(a/=.5)?.5*Math.pow(2,10*(a-1)):.5*(2-Math.pow(2,-10*--a))},easeInCirc:function(a){return 1<=a?a:-(Math.sqrt(1-a*a)-1)},easeOutCirc:function(a){return Math.sqrt(1- --a*a)},easeInOutCirc:function(a){return 1>(a/=.5)?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},easeInElastic:function(a){var c=1.70158,d=0,e=1;return 0===
a?0:1===a?1:(d||(d=.3),1>e?(e=1,c=d/4):c=d/(2*Math.PI)*Math.asin(1/e),-e*Math.pow(2,10*--a)*Math.sin(2*(a-c)*Math.PI/d))},easeOutElastic:function(a){var c=1.70158,d=0,e=1;return 0===a?0:1===a?1:(d||(d=.3),1>e?(e=1,c=d/4):c=d/(2*Math.PI)*Math.asin(1/e),e*Math.pow(2,-10*a)*Math.sin(2*(a-c)*Math.PI/d)+1)},easeInOutElastic:function(a){var c=1.70158,d=0,e=1;return 0===a?0:2==(a/=.5)?1:(d||(d=.45),1>e?(e=1,c=d/4):c=d/(2*Math.PI)*Math.asin(1/e),1>a?e*Math.pow(2,10*--a)*Math.sin(2*(a-c)*Math.PI/d)*-.5:e*
Math.pow(2,-10*--a)*Math.sin(2*(a-c)*Math.PI/d)*.5+1)},easeInBack:function(a){return a*a*(2.70158*a-1.70158)},easeOutBack:function(a){return--a*a*(2.70158*a+1.70158)+1},easeInOutBack:function(a){var c=1.70158;return 1>(a/=.5)?a*a*((1+(c*=1.525))*a-c)*.5:.5*((a-=2)*a*((1+(c*=1.525))*a+c)+2)},easeInBounce:function(a){return 1-bb.easeOutBounce(1-a)},easeOutBounce:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*
a+.984375},easeInOutBounce:function(a){return.5>a?.5*bb.easeInBounce(2*a):.5*bb.easeOutBounce(2*a-1)+.5}},hc={effects:bb};Ma.easingEffects=bb;var Aa=Math.PI,Qb=Aa/180,Gb=2*Aa,Fa=Aa/2,Za=Aa/4,Na=2*Aa/3,Oa={clear:function(a){a.ctx.clearRect(0,0,a.width,a.height)},roundedRect:function(a,c,d,e,f,h){if(h){h=Math.min(h,f/2,e/2);var k=c+h,v=d+h;e=c+e-h;f=d+f-h;a.moveTo(c,v);k<e&&v<f?(a.arc(k,v,h,-Aa,-Fa),a.arc(e,v,h,-Fa,0),a.arc(e,f,h,0,Fa),a.arc(k,f,h,Fa,Aa)):k<e?(a.moveTo(k,d),a.arc(e,v,h,-Fa,Fa),a.arc(k,
v,h,Fa,Aa+Fa)):v<f?(a.arc(k,v,h,-Aa,0),a.arc(k,f,h,0,Aa)):a.arc(k,v,h,-Aa,Aa);a.closePath();a.moveTo(c,d)}else a.rect(c,d,e,f)},drawPoint:function(a,c,d,e,f,h){var k,v=(h||0)*Qb;if(!c||"object"!=typeof c||"[object HTMLImageElement]"!==(k=c.toString())&&"[object HTMLCanvasElement]"!==k){if(!(isNaN(d)||0>=d)){switch(a.beginPath(),c){default:a.arc(e,f,d,0,Gb);a.closePath();break;case "triangle":a.moveTo(e+Math.sin(v)*d,f-Math.cos(v)*d);v+=Na;a.lineTo(e+Math.sin(v)*d,f-Math.cos(v)*d);v+=Na;a.lineTo(e+
Math.sin(v)*d,f-Math.cos(v)*d);a.closePath();break;case "rectRounded":h=d-(d*=.516);c=Math.cos(v+Za)*h;h*=Math.sin(v+Za);a.arc(e-c,f-h,d,v-Aa,v-Fa);a.arc(e+h,f-c,d,v-Fa,v);a.arc(e+c,f+h,d,v,v+Fa);a.arc(e-h,f+c,d,v+Fa,v+Aa);a.closePath();break;case "rect":if(!h){h=Math.SQRT1_2*d;a.rect(e-h,f-h,2*h,2*h);break}v+=Za;case "rectRot":c=Math.cos(v)*d;h=Math.sin(v)*d;a.moveTo(e-c,f-h);a.lineTo(e+h,f-c);a.lineTo(e+c,f+h);a.lineTo(e-h,f+c);a.closePath();break;case "crossRot":v+=Za;case "cross":c=Math.cos(v)*
d;h=Math.sin(v)*d;a.moveTo(e-c,f-h);a.lineTo(e+c,f+h);a.moveTo(e+h,f-c);a.lineTo(e-h,f+c);break;case "star":c=Math.cos(v)*d;h=Math.sin(v)*d;a.moveTo(e-c,f-h);a.lineTo(e+c,f+h);a.moveTo(e+h,f-c);a.lineTo(e-h,f+c);v+=Za;c=Math.cos(v)*d;h=Math.sin(v)*d;a.moveTo(e-c,f-h);a.lineTo(e+c,f+h);a.moveTo(e+h,f-c);a.lineTo(e-h,f+c);break;case "line":c=Math.cos(v)*d;h=Math.sin(v)*d;a.moveTo(e-c,f-h);a.lineTo(e+c,f+h);break;case "dash":a.moveTo(e,f),a.lineTo(e+Math.cos(v)*d,f+Math.sin(v)*d)}a.fill();a.stroke()}}else a.drawImage(c,
e-c.width/2,f-c.height/2,c.width,c.height)},_isPointInArea:function(a,c){return a.x>c.left-1E-6&&a.x<c.right+1E-6&&a.y>c.top-1E-6&&a.y<c.bottom+1E-6},clipArea:function(a,c){a.save();a.beginPath();a.rect(c.left,c.top,c.right-c.left,c.bottom-c.top);a.clip()},unclipArea:function(a){a.restore()},lineTo:function(a,c,d,e){var f=d.steppedLine;f?("middle"===f?(f=(c.x+d.x)/2,a.lineTo(f,e?d.y:c.y),a.lineTo(f,e?c.y:d.y)):"after"===f&&!e||"after"!==f&&e?a.lineTo(c.x,d.y):a.lineTo(d.x,c.y),a.lineTo(d.x,d.y)):
d.tension?a.bezierCurveTo(e?c.controlPointPreviousX:c.controlPointNextX,e?c.controlPointPreviousY:c.controlPointNextY,e?d.controlPointNextX:d.controlPointPreviousX,e?d.controlPointNextY:d.controlPointPreviousY,d.x,d.y):a.lineTo(d.x,d.y)}};Ma.clear=Oa.clear;Ma.drawRoundedRectangle=function(a){a.beginPath();Oa.roundedRect.apply(Oa,arguments)};var ac={_set:function(a,c){return Ma.merge(this[a]||(this[a]={}),c)}};ac._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",
defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var N=ac,vb=Ma.valueOrDefault,y=Ma;y.easing=hc;y.canvas=Oa;y.options={toLineHeight:function(a,c){var d=(""+a).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!d||"normal"===d[1])return 1.2*c;switch(a=+d[2],d[3]){case "px":return a;case "%":a/=100}return c*a},toPadding:function(a){var c,d,e,f;return Ma.isObject(a)?(c=+a.top||0,d=+a.right||0,e=+a.bottom||0,f=+a.left||0):c=d=e=f=+a||0,{top:c,right:d,bottom:e,left:f,height:c+
e,width:f+d}},_parseFont:function(a){var c=N.global,d=vb(a.fontSize,c.defaultFontSize);a={family:vb(a.fontFamily,c.defaultFontFamily),lineHeight:Ma.options.toLineHeight(vb(a.lineHeight,c.defaultLineHeight),d),size:d,style:vb(a.fontStyle,c.defaultFontStyle),weight:null,string:""};c=!a||Ma.isNullOrUndef(a.size)||Ma.isNullOrUndef(a.family)?null:(a.style?a.style+" ":"")+(a.weight?a.weight+" ":"")+a.size+"px "+a.family;return a.string=c,a},resolve:function(a,c,d){var e,f;var h=0;for(e=a.length;h<e;++h)if(void 0!==
(f=a[h])&&(void 0!==c&&"function"==typeof f&&(f=f(c)),void 0!==d&&Ma.isArray(f)&&(f=f[d]),void 0!==f))return f}};var wa=function(a){y.extend(this,a);this.initialize.apply(this,arguments)};y.extend(wa.prototype,{initialize:function(){this.hidden=!1},pivot:function(){return this._view||(this._view=y.clone(this._model)),this._start={},this},transition:function(a){var c=this._model,d=this._start,e=this._view;if(c&&1!==a){e||(e=this._view={});d||(d=this._start={});var f,h,k,v,l,m,q=Object.keys(c);var p=
0;for(f=q.length;p<f;++p)if(v=c[h=q[p]],e.hasOwnProperty(h)||(e[h]=v),(k=e[h])!==v&&"_"!==h[0]){if(d.hasOwnProperty(h)||(d[h]=k),(l=typeof v)==typeof(k=d[h]))if("string"===l){if((k=ab(k)).valid&&(m=ab(v)).valid){e[h]=m.mix(k,a).rgbString();continue}}else if(y.isFinite(k)&&y.isFinite(v)){e[h]=k+(v-k)*a;continue}e[h]=v}a=this}else a=(this._view=c,this._start=null,this);return a},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return y.isNumber(this._model.x)&&
y.isNumber(this._model.y)}});wa.extend=y.inherits;var Bb=wa.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null});Object.defineProperty(Bb.prototype,"animationObject",{get:function(){return this}});Object.defineProperty(Bb.prototype,"chartInstance",{get:function(){return this.chart},set:function(a){this.chart=a}});N._set("global",{animation:{duration:1E3,easing:"easeOutQuart",onProgress:y.noop,onComplete:y.noop}});var bc={animations:[],
request:null,addAnimation:function(a,c,d,e){var f=this.animations;c.chart=a;c.startTime=Date.now();c.duration=d;e||(a.animating=!0);d=0;for(e=f.length;d<e;++d)if(f[d].chart===a)return void(f[d]=c);f.push(c);1===f.length&&this.requestAnimationFrame()},cancelAnimation:function(a){var c=y.findIndex(this.animations,function(c){return c.chart===a});-1!==c&&(this.animations.splice(c,1),a.animating=!1)},requestAnimationFrame:function(){var a=this;null===a.request&&(a.request=y.requestAnimFrame.call(window,
function(){a.request=null;a.startDigest()}))},startDigest:function(){this.advance();0<this.animations.length&&this.requestAnimationFrame()},advance:function(){for(var a,c,d,e,f=this.animations,h=0;h<f.length;)c=(a=f[h]).chart,d=a.numSteps,e=Math.floor((Date.now()-a.startTime)/a.duration*d)+1,a.currentStep=Math.min(e,d),y.callback(a.render,[c,a],c),y.callback(a.onAnimationProgress,[a],c),a.currentStep>=d?(y.callback(a.onAnimationComplete,[a],c),c.animating=!1,f.splice(h,1)):++h}},Ja=y.options.resolve,
mc=["push","pop","shift","splice","unshift"],Ua=function(a,c){this.initialize(a,c)};y.extend(Ua.prototype,{datasetElementType:null,dataElementType:null,initialize:function(a,c){this.chart=a;this.index=c;this.linkScales();this.addElements()},updateIndex:function(a){this.index=a},linkScales:function(){var a=this.getMeta(),c=this.getDataset();null!==a.xAxisID&&a.xAxisID in this.chart.scales||(a.xAxisID=c.xAxisID||this.chart.options.scales.xAxes[0].id);null!==a.yAxisID&&a.yAxisID in this.chart.scales||
(a.yAxisID=c.yAxisID||this.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(a){return this.chart.scales[a]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},
reset:function(){this.update(!0)},destroy:function(){this._data&&L(this._data,this)},createMetaDataset:function(){var a=this.datasetElementType;return a&&new a({_chart:this.chart,_datasetIndex:this.index})},createMetaData:function(a){var c=this.dataElementType;return c&&new c({_chart:this.chart,_datasetIndex:this.index,_index:a})},addElements:function(){var a=this.getMeta();var c=this.getDataset().data||[];var d=a.data;var e=0;for(c=c.length;e<c;++e)d[e]=d[e]||this.createMetaData(e);a.dataset=a.dataset||
this.createMetaDataset()},addElementAndReset:function(a){var c=this.createMetaData(a);this.getMeta().data.splice(a,0,c);this.updateElement(c,a,!0)},buildOrUpdateElements:function(){var a=this.getDataset(),c=a.data||(a.data=[]);this._data!==c&&(this._data&&L(this._data,this),c&&Object.isExtensible(c)&&(c._chartjs?c._chartjs.listeners.push(this):(Object.defineProperty(c,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[this]}}),mc.forEach(function(a){var d="onData"+a.charAt(0).toUpperCase()+
a.slice(1),e=c[a];Object.defineProperty(c,a,{configurable:!0,enumerable:!1,value:function(){var a=Array.prototype.slice.call(arguments),f=e.apply(this,a);return y.each(c._chartjs.listeners,function(c){"function"==typeof c[d]&&c[d].apply(c,a)}),f}})}))),this._data=c);this.resyncElements()},update:y.noop,transition:function(a){for(var c=this.getMeta(),d=c.data||[],e=d.length,f=0;f<e;++f)d[f].transition(a);c.dataset&&c.dataset.transition(a)},draw:function(){var a=this.getMeta(),c=a.data||[],d=c.length,
e=0;for(a.dataset&&a.dataset.draw();e<d;++e)c[e].draw()},removeHoverStyle:function(a){y.merge(a._model,a.$previousStyle||{});delete a.$previousStyle},setHoverStyle:function(a){var c=this.chart.data.datasets[a._datasetIndex],d=a._index,e=a.custom||{},f=a._model,h=y.getHoverColor;a.$previousStyle={backgroundColor:f.backgroundColor,borderColor:f.borderColor,borderWidth:f.borderWidth};f.backgroundColor=Ja([e.hoverBackgroundColor,c.hoverBackgroundColor,h(f.backgroundColor)],void 0,d);f.borderColor=Ja([e.hoverBorderColor,
c.hoverBorderColor,h(f.borderColor)],void 0,d);f.borderWidth=Ja([e.hoverBorderWidth,c.hoverBorderWidth,f.borderWidth],void 0,d)},resyncElements:function(){var a=this.getMeta(),c=this.getDataset().data,d=a.data.length;c=c.length;c<d?a.data.splice(c,d-c):c>d&&this.insertElements(d,c-d)},insertElements:function(a,c){for(var d=0;d<c;++d)this.addElementAndReset(a+d)},onDataPush:function(){var a=arguments.length;this.insertElements(this.getDataset().data.length-a,a)},onDataPop:function(){this.getMeta().data.pop()},
onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(a,c){this.getMeta().data.splice(a,c);this.insertElements(a,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}});Ua.extend=y.inherits;N._set("global",{elements:{arc:{backgroundColor:N.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});var sc=wa.extend({inLabelRange:function(a){var c=this._view;return!!c&&Math.pow(a-c.x,2)<Math.pow(c.radius+c.hoverRadius,2)},inRange:function(a,
c){var d=this._view;if(d){c=y.getAngleFromPoint(d,{x:a,y:c});a=c.angle;var e=c.distance;c=d.startAngle;for(var f=d.endAngle;f<c;)f+=2*Math.PI;for(;a>f;)a-=2*Math.PI;for(;a<c;)a+=2*Math.PI;d=e>=d.innerRadius&&e<=d.outerRadius;return a>=c&&a<=f&&d}return!1},getCenterPoint:function(){var a=this._view,c=(a.startAngle+a.endAngle)/2,d=(a.innerRadius+a.outerRadius)/2;return{x:a.x+Math.cos(c)*d,y:a.y+Math.sin(c)*d}},getArea:function(){var a=this._view;return(a.endAngle-a.startAngle)/(2*Math.PI)*Math.PI*(Math.pow(a.outerRadius,
2)-Math.pow(a.innerRadius,2))},tooltipPosition:function(){var a=this._view,c=a.startAngle+(a.endAngle-a.startAngle)/2,d=(a.outerRadius-a.innerRadius)/2+a.innerRadius;return{x:a.x+Math.cos(c)*d,y:a.y+Math.sin(c)*d}},draw:function(){var a,c=this._chart.ctx,d=this._view,e=d.startAngle,f=d.endAngle,h="inner"===d.borderAlign?.33:0;c.save();c.beginPath();c.arc(d.x,d.y,Math.max(d.outerRadius-h,0),e,f);c.arc(d.x,d.y,d.innerRadius,f,e,!0);c.closePath();c.fillStyle=d.backgroundColor;c.fill();d.borderWidth&&
("inner"===d.borderAlign?(c.beginPath(),a=h/d.outerRadius,c.arc(d.x,d.y,d.outerRadius,e-a,f+a),d.innerRadius>h?(a=h/d.innerRadius,c.arc(d.x,d.y,d.innerRadius-h,f+a,e-a,!0)):c.arc(d.x,d.y,h,f+Math.PI/2,e-Math.PI/2),c.closePath(),c.clip(),c.beginPath(),c.arc(d.x,d.y,d.outerRadius,e,f),c.arc(d.x,d.y,d.innerRadius,f,e,!0),c.closePath(),c.lineWidth=2*d.borderWidth,c.lineJoin="round"):(c.lineWidth=d.borderWidth,c.lineJoin="bevel"),c.strokeStyle=d.borderColor,c.stroke());c.restore()}}),Cb=y.valueOrDefault,
Db=N.global.defaultColor;N._set("global",{elements:{line:{tension:.4,backgroundColor:Db,borderWidth:3,borderColor:Db,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var tc=wa.extend({draw:function(){var a=this._view;var c=this._chart.ctx,d=a.spanGaps,e=this._children.slice();var f=N.global;var h=f.elements.line;this._loop&&e.length&&e.push(e[0]);c.save();c.lineCap=a.borderCapStyle||h.borderCapStyle;c.setLineDash&&c.setLineDash(a.borderDash||
h.borderDash);c.lineDashOffset=Cb(a.borderDashOffset,h.borderDashOffset);c.lineJoin=a.borderJoinStyle||h.borderJoinStyle;c.lineWidth=Cb(a.borderWidth,h.borderWidth);c.strokeStyle=a.borderColor||f.defaultColor;c.beginPath();var k=-1;for(a=0;a<e.length;++a){f=e[a];h=y.previousItem(e,a);var l=f._view;0===a?l.skip||(c.moveTo(l.x,l.y),k=a):(h=-1===k?h:e[k],l.skip||(k!==a-1&&!d||-1===k?c.moveTo(l.x,l.y):y.canvas.lineTo(c,h._view,f._view),k=a))}c.stroke();c.restore()}}),Eb=y.valueOrDefault,kb=N.global.defaultColor;
N._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:kb,borderColor:kb,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});var Lb=wa.extend({inRange:function(a,c){var d=this._view;return!!d&&Math.pow(a-d.x,2)+Math.pow(c-d.y,2)<Math.pow(d.hitRadius+d.radius,2)},inLabelRange:J,inXRange:J,inYRange:function(a){var c=this._view;return!!c&&Math.abs(a-c.y)<c.radius+c.hitRadius},getCenterPoint:function(){var a=this._view;return{x:a.x,y:a.y}},getArea:function(){return Math.PI*
Math.pow(this._view.radius,2)},tooltipPosition:function(){var a=this._view;return{x:a.x,y:a.y,padding:a.radius+a.borderWidth}},draw:function(a){var c=this._view,d=this._chart.ctx,e=c.pointStyle,f=c.rotation,h=c.radius,k=c.x,l=c.y,v=N.global,m=v.defaultColor;c.skip||(void 0===a||y.canvas._isPointInArea(c,a))&&(d.strokeStyle=c.borderColor||m,d.lineWidth=Eb(c.borderWidth,v.elements.point.borderWidth),d.fillStyle=c.backgroundColor||m,y.canvas.drawPoint(d,e,h,k,l,f))}}),db=N.global.defaultColor;N._set("global",
{elements:{rectangle:{backgroundColor:db,borderColor:db,borderSkipped:"bottom",borderWidth:0}}});var sa={},cc=wa.extend({draw:function(){var a,c,d=this._chart.ctx,e=this._view,f=W(e),h=f.right-f.left,k=f.bottom-f.top;var l=h/2;var m=k/2,q,p,t=e.borderWidth;var u=e.borderSkipped;var n={};u?(e.horizontal?e.base>e.x&&(u="left"===u?"right":"right"===u?"left":u):e.base<e.y&&(u="bottom"===u?"top":"top"===u?"bottom":u),u=(n[u]=!0,n)):u=n;l=(y.isObject(t)?(a=+t.top||0,c=+t.right||0,q=+t.bottom||0,p=+t.left||
0):a=c=q=p=+t||0,{t:u.top||0>a?0:a>m?m:a,r:u.right||0>c?0:c>l?l:c,b:u.bottom||0>q?0:q>m?m:q,l:u.left||0>p?0:p>l?l:p});a=f.left;c=f.top;q=f.left+l.l;f=f.top+l.t;p=h-l.l-l.r;l=k-l.t-l.b;d.fillStyle=e.backgroundColor;d.fillRect(a,c,h,k);h===p&&k===l||(d.save(),d.beginPath(),d.rect(a,c,h,k),d.clip(),d.fillStyle=e.borderColor,d.rect(q,f,p,l),d.fill("evenodd"),d.restore())},height:function(){var a=this._view;return a.base-a.y},inRange:function(a,c){return U(this._view,a,c)},inLabelRange:function(a,c){var d=
this._view;return P(d)?U(d,a,null):U(d,null,c)},inXRange:function(a){return U(this._view,a,null)},inYRange:function(a){return U(this._view,null,a)},getCenterPoint:function(){var a,c,d=this._view;return P(d)?(a=d.x,c=(d.y+d.base)/2):(a=(d.x+d.base)/2,c=d.y),{x:a,y:c}},getArea:function(){var a=this._view;return P(a)?a.width*Math.abs(a.y-a.base):a.height*Math.abs(a.x-a.base)},tooltipPosition:function(){var a=this._view;return{x:a.x,y:a.y}}});sa.Arc=sc;sa.Line=tc;sa.Point=Lb;sa.Rectangle=cc;var nc=y.options.resolve;
N._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}});var lb=Ua.extend({dataElementType:sa.Rectangle,initialize:function(){var a;Ua.prototype.initialize.apply(this,arguments);(a=this.getMeta()).stack=this.getDataset().stack;a.bar=!0},update:function(a){var c,d=this.getMeta().data;this._ruler=this.getRuler();var e=0;for(c=d.length;e<c;++e)this.updateElement(d[e],e,a)},updateElement:function(a,
c,d){var e=this.getMeta(),f=this.getDataset(),h=this._resolveElementOptions(a,c);a._xScale=this.getScaleForId(e.xAxisID);a._yScale=this.getScaleForId(e.yAxisID);a._datasetIndex=this.index;a._index=c;a._model={backgroundColor:h.backgroundColor,borderColor:h.borderColor,borderSkipped:h.borderSkipped,borderWidth:h.borderWidth,datasetLabel:f.label,label:this.chart.data.labels[c]};this._updateElementGeometry(a,c,d);a.pivot()},_updateElementGeometry:function(a,c,d){a=a._model;var e=this._getValueScale(),
f=e.getBasePixel();e=e.isHorizontal();var h=this._ruler||this.getRuler(),k=this.calculateBarValuePixels(this.index,c);c=this.calculateBarIndexPixels(this.index,c,h);a.horizontal=e;a.base=d?f:k.base;a.x=e?d?f:k.head:c.center;a.y=e?c.center:d?f:k.head;a.height=e?c.size:void 0;a.width=e?void 0:c.size},_getStacks:function(a){var c,d=this.chart,e=this._getIndexScale().options.stacked,f=void 0===a?d.data.datasets.length:a+1,h=[];for(a=0;a<f;++a)(c=d.getDatasetMeta(a)).bar&&d.isDatasetVisible(a)&&(!1===
e||!0===e&&-1===h.indexOf(c.stack)||void 0===e&&(void 0===c.stack||-1===h.indexOf(c.stack)))&&h.push(c.stack);return h},getStackCount:function(){return this._getStacks().length},getStackIndex:function(a,c){a=this._getStacks(a);c=void 0!==c?a.indexOf(c):-1;return-1===c?a.length-1:c},getRuler:function(){var a,c=this._getIndexScale(),d=this.getStackCount(),e=this.index,f=c.isHorizontal(),h=f?c.left:c.top;f=h+(f?c.width:c.height);var k=[];var l=0;for(a=this.getMeta().data.length;l<a;++l)k.push(c.getPixelForValue(null,
l,e));if(y.isNullOrUndef(c.options.barThickness)){a=c.isHorizontal()?c.width:c.height;var m=c.getTicks();e=1;for(l=k.length;e<l;++e)a=Math.min(a,Math.abs(k[e]-k[e-1]));e=0;for(l=m.length;e<l;++e){m=c.getPixelForTick(e);a=0<e?Math.min(a,m-q):a;var q=m}q=a}else q=-1;return{min:q,pixels:k,start:h,end:f,stackCount:d,scale:c}},calculateBarValuePixels:function(a,c){var d,e,f,h,k,l=this.chart,v=this.getMeta(),m=this._getValueScale(),q=m.isHorizontal(),p=l.data.datasets,t=+m.getRightValue(p[a].data[c]),u=
m.options.minBarLength;var K=m.options.stacked;v=v.stack;var n=0;if(K||void 0===K&&void 0!==v)for(K=0;K<a;++K)(d=l.getDatasetMeta(K)).bar&&d.stack===v&&d.controller._getValueScaleId()===m.id&&l.isDatasetVisible(K)&&(e=+m.getRightValue(p[K].data[c]),(0>t&&0>e||0<=t&&0<e)&&(n+=e));return f=m.getPixelForValue(n),k=(h=m.getPixelForValue(n+t))-f,void 0!==u&&Math.abs(k)<u&&(k=u,h=0<=t&&!q||0>t&&q?f-u:f+u),{size:k,base:f,head:h,center:h+k/2}},calculateBarIndexPixels:function(a,c,d){var e=d.scale.options;
c="flex"===e.barThickness?function(a,c,d){var e,f=c.pixels,h=f[a],k=0<a?f[a-1]:null;a=a<f.length-1?f[a+1]:null;f=d.categoryPercentage;return null===k&&(k=h-(null===a?c.end-c.start:a-h)),null===a&&(a=h+h-k),e=h-(h-Math.min(k,a))/2*f,{chunk:Math.abs(a-k)/2*f/c.stackCount,ratio:d.barPercentage,start:e}}(c,d,e):function(a,c,d){var e,f,h=d.barThickness,k=c.stackCount;a=c.pixels[a];return y.isNullOrUndef(h)?(e=c.min*d.categoryPercentage,f=d.barPercentage):(e=h*k,f=1),{chunk:e/k,ratio:f,start:a-e/2}}(c,
d,e);a=this.getStackIndex(a,this.getMeta().stack);a=c.start+c.chunk*a+c.chunk/2;e=Math.min(y.valueOrDefault(e.maxBarThickness,1/0),c.chunk*c.ratio);return{base:a-e/2,head:a+e/2,center:a,size:e}},draw:function(){var a=this.chart,c=this._getValueScale(),d=this.getMeta().data,e=this.getDataset(),f=d.length,h=0;for(y.canvas.clipArea(a.ctx,a.chartArea);h<f;++h)isNaN(c.getRightValue(e.data[h]))||d[h].draw();y.canvas.unclipArea(a.ctx)},_resolveElementOptions:function(a,c){var d,e;var f=this.chart;var h=
f.data.datasets[this.index];a=a.custom||{};var k=f.options.elements.rectangle,l={},v={chart:f,dataIndex:c,dataset:h,datasetIndex:this.index},m=["backgroundColor","borderColor","borderSkipped","borderWidth"];f=0;for(d=m.length;f<d;++f)l[e=m[f]]=nc([a[e],h[e],k[e]],v,c);return l}}),Fb=y.valueOrDefault,sb=y.options.resolve;N._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},
label:function(a,c){return(c.datasets[a.datasetIndex].label||"")+": ("+a.xLabel+", "+a.yLabel+", "+c.datasets[a.datasetIndex].data[a.index].r+")"}}}});var Rb=Ua.extend({dataElementType:sa.Point,update:function(a){var c=this,d=c.getMeta().data;y.each(d,function(d,e){c.updateElement(d,e,a)})},updateElement:function(a,c,d){var e=this.getMeta(),f=a.custom||{},h=this.getScaleForId(e.xAxisID);e=this.getScaleForId(e.yAxisID);var k=this._resolveElementOptions(a,c),l=this.getDataset().data[c],v=this.index,
m=d?h.getPixelForDecimal(.5):h.getPixelForValue("object"==typeof l?l:NaN,c,v);l=d?e.getBasePixel():e.getPixelForValue(l,c,v);a._xScale=h;a._yScale=e;a._options=k;a._datasetIndex=v;a._index=c;a._model={backgroundColor:k.backgroundColor,borderColor:k.borderColor,borderWidth:k.borderWidth,hitRadius:k.hitRadius,pointStyle:k.pointStyle,rotation:k.rotation,radius:d?0:k.radius,skip:f.skip||isNaN(m)||isNaN(l),x:m,y:l};a.pivot()},setHoverStyle:function(a){var c=a._model,d=a._options,e=y.getHoverColor;a.$previousStyle=
{backgroundColor:c.backgroundColor,borderColor:c.borderColor,borderWidth:c.borderWidth,radius:c.radius};c.backgroundColor=Fb(d.hoverBackgroundColor,e(d.backgroundColor));c.borderColor=Fb(d.hoverBorderColor,e(d.borderColor));c.borderWidth=Fb(d.hoverBorderWidth,d.borderWidth);c.radius=d.radius+d.hoverRadius},_resolveElementOptions:function(a,c){var d,e;var f=this.chart;var h=f.data.datasets[this.index];a=a.custom||{};var k=f.options.elements.point,l=h.data[c],v={},m={chart:f,dataIndex:c,dataset:h,datasetIndex:this.index},
q="backgroundColor borderColor borderWidth hoverBackgroundColor hoverBorderColor hoverBorderWidth hoverRadius hitRadius pointStyle rotation".split(" ");f=0;for(d=q.length;f<d;++f)v[e=q[f]]=sb([a[e],h[e],k[e]],m,c);return v.radius=sb([a.radius,l?l.r:void 0,h.radius,k.radius],m,c),v}}),mb=y.options.resolve,tb=y.valueOrDefault;N._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(a){var c=[];c.push('<ul class="'+a.id+'-legend">');var d=a.data;a=
d.datasets;d=d.labels;if(a.length)for(var e=0;e<a[0].data.length;++e)c.push('<li><span style="background-color:'+a[0].backgroundColor[e]+'"></span>'),d[e]&&c.push(d[e]),c.push("</li>");return c.push("</ul>"),c.join("")},legend:{labels:{generateLabels:function(a){var c=a.data;return c.labels.length&&c.datasets.length?c.labels.map(function(d,e){var f=a.getDatasetMeta(0),h=c.datasets[0],k=f.data[e];k=k&&k.custom||{};var l=a.options.elements.arc;return{text:d,fillStyle:mb([k.backgroundColor,h.backgroundColor,
l.backgroundColor],void 0,e),strokeStyle:mb([k.borderColor,h.borderColor,l.borderColor],void 0,e),lineWidth:mb([k.borderWidth,h.borderWidth,l.borderWidth],void 0,e),hidden:isNaN(h.data[e])||f.data[e].hidden,index:e}}):[]}},onClick:function(a,c){var d,e=c.index,f=this.chart;a=0;for(c=(f.data.datasets||[]).length;a<c;++a)(d=f.getDatasetMeta(a)).data[e]&&(d.data[e].hidden=!d.data[e].hidden);f.update()}},cutoutPercentage:50,rotation:-.5*Math.PI,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},
label:function(a,c){var d=c.labels[a.index];a=": "+c.datasets[a.datasetIndex].data[a.index];return y.isArray(d)?(d=d.slice())[0]+=a:d+=a,d}}}});var Mb=Ua.extend({dataElementType:sa.Arc,linkScales:y.noop,getRingIndex:function(a){for(var c=0,d=0;d<a;++d)this.chart.isDatasetVisible(d)&&++c;return c},update:function(a){var c=this.chart,d=c.chartArea,e=c.options;var f=d.right-d.left;var h=d.bottom-d.top;var k=Math.min(f,h),l=0,v=0;d=this.getMeta();var m=d.data,q=e.cutoutPercentage,p=e.circumference,t=
this._getRingWeight(this.index);if(p<2*Math.PI){k=e.rotation%(2*Math.PI);e=(k+=2*Math.PI*(k>=Math.PI?-1:k<-Math.PI?1:0))+p;var u=Math.cos(k);p=Math.sin(k);var n=Math.cos(e),A=Math.sin(e),C=q/100;l=k<=-Math.PI&&-Math.PI<=e||k<=Math.PI&&Math.PI<=e?-1:Math.min(u*(0>u?1:C),n*(0>n?1:C));v=k<=.5*-Math.PI&&.5*-Math.PI<=e||k<=1.5*Math.PI&&1.5*Math.PI<=e?-1:Math.min(p*(0>p?1:C),A*(0>A?1:C));u=0>=k&&0<=e||k<=2*Math.PI&&2*Math.PI<=e?1:Math.max(u*(0<u?1:C),n*(0<n?1:C));e=k<=.5*Math.PI&&.5*Math.PI<=e||k<=2.5*
Math.PI&&2.5*Math.PI<=e?1:Math.max(p*(0<p?1:C),A*(0<A?1:C));k=Math.min(f/(.5*(u-l)),h/(.5*(e-v)));l=-.5*(u+l);v=-.5*(e+v)}f=0;for(h=m.length;f<h;++f)m[f]._options=this._resolveElementOptions(m[f],f);c.borderWidth=this.getMaxBorderWidth();c.outerRadius=Math.max((k-c.borderWidth)/2,0);c.innerRadius=Math.max(q?c.outerRadius/100*q:0,0);c.radiusLength=(c.outerRadius-c.innerRadius)/(this._getVisibleDatasetWeightTotal()||1);c.offsetX=l*c.outerRadius;c.offsetY=v*c.outerRadius;d.total=this.calculateTotal();
this.outerRadius=c.outerRadius-c.radiusLength*this._getRingWeightOffset(this.index);this.innerRadius=Math.max(this.outerRadius-c.radiusLength*t,0);f=0;for(h=m.length;f<h;++f)this.updateElement(m[f],f,a)},updateElement:function(a,c,d){var e=this.chart,f=e.chartArea,h=e.options,k=h.animation,l=(f.left+f.right)/2;f=(f.top+f.bottom)/2;var v=h.rotation,m=h.rotation,q=this.getDataset(),p=d&&k.animateRotate?0:a.hidden?0:this.calculateCircumference(q.data[c])*(h.circumference/(2*Math.PI)),t=a._options||{};
y.extend(a,{_datasetIndex:this.index,_index:c,_model:{backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth,borderAlign:t.borderAlign,x:l+e.offsetX,y:f+e.offsetY,startAngle:v,endAngle:m,circumference:p,outerRadius:d&&k.animateScale?0:this.outerRadius,innerRadius:d&&k.animateScale?0:this.innerRadius,label:y.valueAtIndexOrDefault(q.label,c,e.data.labels[c])}});e=a._model;d&&k.animateRotate||(e.startAngle=0===c?h.rotation:this.getMeta().data[c-1]._model.endAngle,e.endAngle=
e.startAngle+e.circumference);a.pivot()},calculateTotal:function(){var a,c=this.getDataset(),d=this.getMeta(),e=0;return y.each(d.data,function(d,f){a=c.data[f];isNaN(a)||d.hidden||(e+=Math.abs(a))}),e},calculateCircumference:function(a){var c=this.getMeta().total;return 0<c&&!isNaN(a)?Math.abs(a)/c*Math.PI*2:0},getMaxBorderWidth:function(a){var c,d,e,f,h,k=0;var l=this.chart;if(!a){var v=0;for(c=l.data.datasets.length;v<c;++v)if(l.isDatasetVisible(v)){a=(c=l.getDatasetMeta(v)).data;v!==this.index&&
(d=c.controller);break}}if(!a)return 0;v=0;for(c=a.length;v<c;++v)l=a[v],"inner"!==(e=d?d._resolveElementOptions(l,v):l._options).borderAlign&&(f=e.borderWidth,k=(h=e.hoverBorderWidth)>(k=f>k?f:k)?h:k);return k},setHoverStyle:function(a){var c=a._model,d=a._options,e=y.getHoverColor;a.$previousStyle={backgroundColor:c.backgroundColor,borderColor:c.borderColor,borderWidth:c.borderWidth};c.backgroundColor=tb(d.hoverBackgroundColor,e(d.backgroundColor));c.borderColor=tb(d.hoverBorderColor,e(d.borderColor));
c.borderWidth=tb(d.hoverBorderWidth,d.borderWidth)},_resolveElementOptions:function(a,c){var d,e;var f=this.chart;var h=this.getDataset();a=a.custom||{};var k=f.options.elements.arc,l={},v={chart:f,dataIndex:c,dataset:h,datasetIndex:this.index},m="backgroundColor borderColor borderWidth borderAlign hoverBackgroundColor hoverBorderColor hoverBorderWidth".split(" ");f=0;for(d=m.length;f<d;++f)l[e=m[f]]=mb([a[e],h[e],k[e]],v,c);return l},_getRingWeightOffset:function(a){for(var c=0,d=0;d<a;++d)this.chart.isDatasetVisible(d)&&
(c+=this._getRingWeight(d));return c},_getRingWeight:function(a){return Math.max(tb(this.chart.data.datasets[a].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});N._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},
tooltips:{mode:"index",axis:"y"}});var Sb=lb.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),Va=y.valueOrDefault,dc=y.options.resolve,ec=y.canvas._isPointInArea;N._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});var fc=Ua.extend({datasetElementType:sa.Line,dataElementType:sa.Point,update:function(a){var c=this.getMeta(),
d=c.dataset,e=c.data||[];var f=this.getScaleForId(c.yAxisID);var h=this.getDataset();(c=Va(h.showLine,this.chart.options.showLines))&&(void 0!==h.tension&&void 0===h.lineTension&&(h.lineTension=h.tension),d._scale=f,d._datasetIndex=this.index,d._children=e,d._model=this._resolveLineOptions(d),d.pivot());f=0;for(h=e.length;f<h;++f)this.updateElement(e[f],f,a);c&&0!==d._model.tension&&this.updateBezierControlPoints();f=0;for(h=e.length;f<h;++f)e[f].pivot()},updateElement:function(a,c,d){var e=this.getMeta();
var f=a.custom||{},h=this.getDataset(),k=this.index,l=h.data[c];h=this.getScaleForId(e.yAxisID);var m=this.getScaleForId(e.xAxisID),v=e.dataset._model,q=this._resolvePointOptions(a,c);e=m.getPixelForValue("object"==typeof l?l:NaN,c,k);d=d?h.getBasePixel():this.calculatePointY(l,c,k);a._xScale=m;a._yScale=h;a._options=q;a._datasetIndex=k;a._index=c;a._model={x:e,y:d,skip:f.skip||isNaN(e)||isNaN(d),radius:q.radius,pointStyle:q.pointStyle,rotation:q.rotation,backgroundColor:q.backgroundColor,borderColor:q.borderColor,
borderWidth:q.borderWidth,tension:Va(f.tension,v?v.tension:0),steppedLine:!!v&&v.steppedLine,hitRadius:q.hitRadius}},_resolvePointOptions:function(a,c){var d,e;var f=this.chart;var h=f.data.datasets[this.index];a=a.custom||{};var k=f.options.elements.point,l={},m={chart:f,dataIndex:c,dataset:h,datasetIndex:this.index},v={backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",
hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},q=Object.keys(v);f=0;for(d=q.length;f<d;++f)l[e=q[f]]=dc([a[e],h[v[e]],h[e],k[e]],m,c);return l},_resolveLineOptions:function(a){var c,d;var e=this.chart;var f=e.data.datasets[this.index];a=a.custom||{};var h=e.options,k=h.elements.line,l={},m="backgroundColor borderWidth borderColor borderCapStyle borderDash borderDashOffset borderJoinStyle fill cubicInterpolationMode".split(" ");
e=0;for(c=m.length;e<c;++e)l[d=m[e]]=dc([a[d],f[d],k[d]]);return l.spanGaps=Va(f.spanGaps,h.spanGaps),l.tension=Va(f.lineTension,k.tension),l.steppedLine=dc([a.steppedLine,f.steppedLine,k.stepped]),l},calculatePointY:function(a,c,d){var e,f,h,k=this.chart,l=this.getMeta();l=this.getScaleForId(l.yAxisID);var m=0,v=0;if(l.options.stacked){for(e=0;e<d;e++)if(f=k.data.datasets[e],"line"===(h=k.getDatasetMeta(e)).type&&h.yAxisID===l.id&&k.isDatasetVisible(e))f=Number(l.getRightValue(f.data[c])),0>f?v+=
f||0:m+=f||0;a=Number(l.getRightValue(a));return 0>a?l.getPixelForValue(v+a):l.getPixelForValue(m+a)}return l.getPixelForValue(a)},updateBezierControlPoints:function(){var a,c=this.chart;var d=this.getMeta();var e=d.dataset._model,f=c.chartArea,h=d.data||[];if(e.spanGaps&&(h=h.filter(function(a){return!a._model.skip})),"monotone"===e.cubicInterpolationMode)y.splineCurveMonotone(h);else for(d=0,a=h.length;d<a;++d){var k=h[d]._model;var l=y.splineCurve(y.previousItem(h,d)._model,k,y.nextItem(h,d)._model,
e.tension);k.controlPointPreviousX=l.previous.x;k.controlPointPreviousY=l.previous.y;k.controlPointNextX=l.next.x;k.controlPointNextY=l.next.y}if(c.options.elements.line.capBezierPoints)for(d=0,a=h.length;d<a;++d)k=h[d]._model,ec(k,f)&&(0<d&&ec(h[d-1]._model,f)&&(k.controlPointPreviousX=Math.max(Math.min(k.controlPointPreviousX,f.right),f.left),k.controlPointPreviousY=Math.max(Math.min(k.controlPointPreviousY,f.bottom),f.top)),d<h.length-1&&ec(h[d+1]._model,f)&&(k.controlPointNextX=Math.max(Math.min(k.controlPointNextX,
f.right),f.left),k.controlPointNextY=Math.max(Math.min(k.controlPointNextY,f.bottom),f.top)))},draw:function(){var a,c=this.chart,d=this.getMeta(),e=d.data||[],f=c.chartArea,h=e.length,k=0,l=this.getDataset();for(Va(l.showLine,c.options.showLines)&&(a=(d.dataset._model.borderWidth||0)/2,y.canvas.clipArea(c.ctx,{left:f.left,right:f.right,top:f.top-a,bottom:f.bottom+a}),d.dataset.draw(),y.canvas.unclipArea(c.ctx));k<h;++k)e[k].draw(f)},setHoverStyle:function(a){var c=a._model,d=a._options,e=y.getHoverColor;
a.$previousStyle={backgroundColor:c.backgroundColor,borderColor:c.borderColor,borderWidth:c.borderWidth,radius:c.radius};c.backgroundColor=Va(d.hoverBackgroundColor,e(d.backgroundColor));c.borderColor=Va(d.hoverBorderColor,e(d.borderColor));c.borderWidth=Va(d.hoverBorderWidth,d.borderWidth);c.radius=Va(d.hoverRadius,d.radius)}}),Pa=y.options.resolve;N._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,
animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(a){var c=[];c.push('<ul class="'+a.id+'-legend">');var d=a.data;a=d.datasets;d=d.labels;if(a.length)for(var e=0;e<a[0].data.length;++e)c.push('<li><span style="background-color:'+a[0].backgroundColor[e]+'"></span>'),d[e]&&c.push(d[e]),c.push("</li>");return c.push("</ul>"),c.join("")},legend:{labels:{generateLabels:function(a){var c=a.data;return c.labels.length&&c.datasets.length?c.labels.map(function(d,e){var f=a.getDatasetMeta(0),
h=c.datasets[0],k=f.data[e].custom||{},l=a.options.elements.arc;return{text:d,fillStyle:Pa([k.backgroundColor,h.backgroundColor,l.backgroundColor],void 0,e),strokeStyle:Pa([k.borderColor,h.borderColor,l.borderColor],void 0,e),lineWidth:Pa([k.borderWidth,h.borderWidth,l.borderWidth],void 0,e),hidden:isNaN(h.data[e])||f.data[e].hidden,index:e}}):[]}},onClick:function(a,c){var d,e=c.index,f=this.chart;a=0;for(c=(f.data.datasets||[]).length;a<c;++a)(d=f.getDatasetMeta(a)).data[e].hidden=!d.data[e].hidden;
f.update()}},tooltips:{callbacks:{title:function(){return""},label:function(a,c){return c.labels[a.index]+": "+a.yLabel}}}});var ea=Ua.extend({dataElementType:sa.Arc,linkScales:y.noop,update:function(a){var c=this.getDataset();var d=this.getMeta();var e=this.chart.options.startAngle||0,f=this._starts=[],h=this._angles=[],k=d.data;this._updateRadius();d.count=this.countVisibleElements();d=0;for(c=c.data.length;d<c;d++){f[d]=e;var l=this._computeAngle(d);h[d]=l;e+=l}d=0;for(c=k.length;d<c;++d)k[d]._options=
this._resolveElementOptions(k[d],d),this.updateElement(k[d],d,a)},_updateRadius:function(){var a=this.chart,c=a.chartArea,d=a.options;a.outerRadius=Math.max(Math.min(c.right-c.left,c.bottom-c.top)/2,0);a.innerRadius=Math.max(d.cutoutPercentage?a.outerRadius/100*d.cutoutPercentage:1,0);a.radiusLength=(a.outerRadius-a.innerRadius)/a.getVisibleDatasetCount();this.outerRadius=a.outerRadius-a.radiusLength*this.index;this.innerRadius=this.outerRadius-a.radiusLength},updateElement:function(a,c,d){var e=
this.chart,f=this.getDataset(),h=e.options,k=h.animation,l=e.scale;e=e.data.labels;var m=l.xCenter,v=l.yCenter;h=h.startAngle;var q=a.hidden?0:l.getDistanceFromCenterForValue(f.data[c]),p=this._starts[c],t=p+(a.hidden?0:this._angles[c]);f=k.animateScale?0:l.getDistanceFromCenterForValue(f.data[c]);var u=a._options||{};y.extend(a,{_datasetIndex:this.index,_index:c,_scale:l,_model:{backgroundColor:u.backgroundColor,borderColor:u.borderColor,borderWidth:u.borderWidth,borderAlign:u.borderAlign,x:m,y:v,
innerRadius:0,outerRadius:d?f:q,startAngle:d&&k.animateRotate?h:p,endAngle:d&&k.animateRotate?h:t,label:y.valueAtIndexOrDefault(e,c,e[c])}});a.pivot()},countVisibleElements:function(){var a=this.getDataset(),c=this.getMeta(),d=0;return y.each(c.data,function(c,e){isNaN(a.data[e])||c.hidden||d++}),d},setHoverStyle:function(a){var c=a._model,d=a._options,e=y.getHoverColor,f=y.valueOrDefault;a.$previousStyle={backgroundColor:c.backgroundColor,borderColor:c.borderColor,borderWidth:c.borderWidth};c.backgroundColor=
f(d.hoverBackgroundColor,e(d.backgroundColor));c.borderColor=f(d.hoverBorderColor,e(d.borderColor));c.borderWidth=f(d.hoverBorderWidth,d.borderWidth)},_resolveElementOptions:function(a,c){var d,e;var f=this.chart;var h=this.getDataset();a=a.custom||{};var k=f.options.elements.arc,l={},m={chart:f,dataIndex:c,dataset:h,datasetIndex:this.index},v="backgroundColor borderColor borderWidth borderAlign hoverBackgroundColor hoverBorderColor hoverBorderWidth".split(" ");f=0;for(d=v.length;f<d;++f)l[e=v[f]]=
Pa([a[e],h[e],k[e]],m,c);return l},_computeAngle:function(a){var c=this.getMeta().count,d=this.getDataset(),e=this.getMeta();return isNaN(d.data[a])||e.data[a].hidden?0:Pa([this.chart.options.elements.arc.angle,2*Math.PI/c],{chart:this.chart,dataIndex:a,dataset:d,datasetIndex:this.index},a)}});N._set("pie",y.clone(N.doughnut));N._set("pie",{cutoutPercentage:0});var Qa=y.valueOrDefault,ja=y.options.resolve;N._set("radar",{scale:{type:"radialLinear"},elements:{line:{tension:0}}});var Ga=Ua.extend({datasetElementType:sa.Line,
dataElementType:sa.Point,linkScales:y.noop,update:function(a){var c=this.getMeta();var d=c.dataset;c=c.data||[];var e=this.chart.scale;var f=this.getDataset();void 0!==f.tension&&void 0===f.lineTension&&(f.lineTension=f.tension);d._scale=e;d._datasetIndex=this.index;d._children=c;d._loop=!0;d._model=this._resolveLineOptions(d);d.pivot();d=0;for(e=c.length;d<e;++d)this.updateElement(c[d],d,a);this.updateBezierControlPoints();d=0;for(e=c.length;d<e;++d)c[d].pivot()},updateElement:function(a,c,d){var e=
a.custom||{},f=this.getDataset(),h=this.chart.scale,k=h.getPointPositionForValue(c,f.data[c]);f=this._resolvePointOptions(a,c);var l=this.getMeta().dataset._model,m=d?h.xCenter:k.x;d=d?h.yCenter:k.y;a._scale=h;a._options=f;a._datasetIndex=this.index;a._index=c;a._model={x:m,y:d,skip:e.skip||isNaN(m)||isNaN(d),radius:f.radius,pointStyle:f.pointStyle,rotation:f.rotation,backgroundColor:f.backgroundColor,borderColor:f.borderColor,borderWidth:f.borderWidth,tension:Qa(e.tension,l?l.tension:0),hitRadius:f.hitRadius}},
_resolvePointOptions:function(a,c){var d,e;var f=this.chart;var h=f.data.datasets[this.index];a=a.custom||{};var k=f.options.elements.point,l={},m={chart:f,dataIndex:c,dataset:h,datasetIndex:this.index},v={backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",
radius:"pointRadius",rotation:"pointRotation"},q=Object.keys(v);f=0;for(d=q.length;f<d;++f)l[e=q[f]]=ja([a[e],h[v[e]],h[e],k[e]],m,c);return l},_resolveLineOptions:function(a){var c,d;var e=this.chart;var f=e.data.datasets[this.index];a=a.custom||{};var h=e.options.elements.line,k={},l="backgroundColor borderWidth borderColor borderCapStyle borderDash borderDashOffset borderJoinStyle fill".split(" ");e=0;for(c=l.length;e<c;++e)k[d=l[e]]=ja([a[d],f[d],h[d]]);return k.tension=Qa(f.lineTension,h.tension),
k},updateBezierControlPoints:function(){var a;var c=this.getMeta();var d=this.chart.chartArea,e=c.data||[];c=0;for(a=e.length;c<a;++c){var f=e[c]._model;var h=y.splineCurve(y.previousItem(e,c,!0)._model,f,y.nextItem(e,c,!0)._model,f.tension);f.controlPointPreviousX=Math.max(Math.min(h.previous.x,d.right),d.left);f.controlPointPreviousY=Math.max(Math.min(h.previous.y,d.bottom),d.top);f.controlPointNextX=Math.max(Math.min(h.next.x,d.right),d.left);f.controlPointNextY=Math.max(Math.min(h.next.y,d.bottom),
d.top)}},setHoverStyle:function(a){var c=a._model,d=a._options,e=y.getHoverColor;a.$previousStyle={backgroundColor:c.backgroundColor,borderColor:c.borderColor,borderWidth:c.borderWidth,radius:c.radius};c.backgroundColor=Qa(d.hoverBackgroundColor,e(d.backgroundColor));c.borderColor=Qa(d.hoverBorderColor,e(d.borderColor));c.borderWidth=Qa(d.hoverBorderWidth,d.borderWidth);c.radius=Qa(d.hoverRadius,d.radius)}});N._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],
yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},showLines:!1,tooltips:{callbacks:{title:function(){return""},label:function(a){return"("+a.xLabel+", "+a.yLabel+")"}}}});var ka={bar:lb,bubble:Rb,doughnut:Mb,horizontalBar:Sb,line:fc,polarArea:ea,pie:Mb,radar:Ga,scatter:fc},aa={modes:{single:function(a,c){var d=Z(c,a),e=[];return X(a,function(a){if(a.inRange(d.x,d.y))return e.push(a),e}),e.slice(0,1)},label:la,index:la,dataset:function(a,c,d){c=Z(c,a);d.axis=d.axis||"xy";var e=va(d.axis);d=d.intersect?
R(a,c):Ba(a,c,!1,e);return 0<d.length&&(d=a.getDatasetMeta(d[0]._datasetIndex).data),d},"x-axis":function(a,c){return la(a,c,{intersect:!1})},point:function(a,c){return R(a,Z(c,a))},nearest:function(a,c,d){c=Z(c,a);d.axis=d.axis||"xy";var e=va(d.axis);return Ba(a,c,d.intersect,e)},x:function(a,c,d){var e=Z(c,a),f=[],h=!1;return X(a,function(a){a.inXRange(e.x)&&f.push(a);a.inRange(e.x,e.y)&&(h=!0)}),d.intersect&&!h&&(f=[]),f},y:function(a,c,d){var e=Z(c,a),f=[],h=!1;return X(a,function(a){a.inYRange(e.y)&&
f.push(a);a.inRange(e.x,e.y)&&(h=!0)}),d.intersect&&!h&&(f=[]),f}}};N._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var $a={defaults:{},addBox:function(a,c){a.boxes||(a.boxes=[]);c.fullWidth=c.fullWidth||!1;c.position=c.position||"top";c.weight=c.weight||0;a.boxes.push(c)},removeBox:function(a,c){c=a.boxes?a.boxes.indexOf(c):-1;-1!==c&&a.boxes.splice(c,1)},configure:function(a,c,d){for(var e=["fullWidth","position","weight"],f=e.length,h=0;h<f;++h)a=e[h],d.hasOwnProperty(a)&&(c[a]=
d[a])},update:function(a,c,d){function e(a){var c=y.findNextWhere(w,function(c){return c.box===a});c&&(c.horizontal?a.update(a.fullWidth?Q:z,C/2,{left:Math.max(B.left,H.left),right:Math.max(B.right,H.right),top:0,bottom:0}):a.update(c.width,E))}function f(a){a.isHorizontal()?(a.left=a.fullWidth?k:B.left,a.right=a.fullWidth?c-l:B.left+z,a.top=ea,a.bottom=ea+a.height,ea=a.bottom):(a.left=G,a.right=G+a.width,a.top=B.top,a.bottom=B.top+E,G=a.right)}if(a){var h=y.options.toPadding((a.options.layout||{}).padding),
k=h.left,l=h.right,m=h.top,v=h.bottom;h=O(a.boxes,"left");var q=O(a.boxes,"right"),p=O(a.boxes,"top"),t=O(a.boxes,"bottom"),u=O(a.boxes,"chartArea");S(h,!0);S(q,!1);S(p,!0);S(t,!1);var n=h.concat(q),A=p.concat(t),K=n.concat(A),Q=c-k-l,C=d-m-v,x=(c-Q/2)/n.length,z=Q,E=C,B={top:m,left:k,bottom:v,right:l},w=[];y.each(K,function(a){var c,d=a.isHorizontal();d?(c=a.update(a.fullWidth?Q:z,C/2),E-=c.height):(c=a.update(x,E),z-=c.width);w.push({horizontal:d,width:c.width,box:a})});var H=function(a){var c=
0,d=0,e=0,f=0;return y.each(a,function(a){a.getPadding&&(a=a.getPadding(),c=Math.max(c,a.top),d=Math.max(d,a.left),e=Math.max(e,a.bottom),f=Math.max(f,a.right))}),{top:c,left:d,bottom:e,right:f}}(K);y.each(n,e);ba(n,B);y.each(A,e);ba(A,B);y.each(n,function(a){var c=y.findNextWhere(w,function(c){return c.box===a}),d={left:0,right:0,top:B.top,bottom:B.bottom};c&&a.update(c.width,E,d)});ba(K,B={top:m,left:k,bottom:v,right:l});v=Math.max(H.left-B.left,0);B.left+=v;B.right+=Math.max(H.right-B.right,0);
K=Math.max(H.top-B.top,0);B.top+=K;B.bottom+=Math.max(H.bottom-B.bottom,0);var D=d-B.top-B.bottom,I=c-B.left-B.right;I===z&&D===E||(y.each(n,function(a){a.height=D}),y.each(A,function(a){a.fullWidth||(a.width=I)}),E=D,z=I);var G=k+v,ea=m+K;y.each(h.concat(p),f);G+=z;ea+=E;y.each(q,f);y.each(t,f);a.chartArea={left:B.left,top:B.top,right:B.left+z,bottom:B.top+E};y.each(u,function(c){c.left=a.chartArea.left;c.top=a.chartArea.top;c.right=a.chartArea.right;c.bottom=a.chartArea.bottom;c.update(z,E)})}}},
oc,Vc=(oc=Object.freeze({default:"@keyframes chartjs-render-animation{from{opacity:.99}to{opacity:1}}.chartjs-render-monitor{animation:chartjs-render-animation 1ms}.chartjs-size-monitor,.chartjs-size-monitor-expand,.chartjs-size-monitor-shrink{position:absolute;direction:ltr;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1}.chartjs-size-monitor-expand>div{position:absolute;width:1000000px;height:1000000px;left:0;top:0}.chartjs-size-monitor-shrink>div{position:absolute;width:200%;height:200%;left:0;top:0}"}))&&
oc.default||oc,Ac=["animationstart","webkitAnimationStart"],uc={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Lc=!!function(){var a=!1;try{var c=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("e",null,c)}catch(Q){}return a}()&&{passive:!0},vc={disableCSSInjection:!1,_enabled:"undefined"!=typeof window&&"undefined"!=
typeof document,_ensureLoaded:function(){var a,c;this._loaded||(this._loaded=!0,this.disableCSSInjection||(a=Vc,c=this._style||document.createElement("style"),this._style||(this._style=c,a="/* Chart.js */\n"+a,c.setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(c)),c.appendChild(document.createTextNode(a))))},acquireContext:function(a,c){"string"==typeof a?a=document.getElementById(a):a.length&&(a=a[0]);a&&a.canvas&&(a=a.canvas);var d=a&&a.getContext&&a.getContext("2d");
this._ensureLoaded();if(d&&d.canvas===a){var e=a.style,f=a.getAttribute("height"),h=a.getAttribute("width");if(a.$chartjs={initial:{height:f,width:h,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",null===h||""===h){var k=fa(a,"width");void 0!==k&&(a.width=k)}if(null===f||""===f)""===a.style.height?a.height=a.width/(c.options.aspectRatio||2):(c=fa(a,"height"),void 0!==k&&(a.height=c))}else d=null;return d},releaseContext:function(a){var c=a.canvas;if(c.$chartjs){var d=
c.$chartjs.initial;["height","width"].forEach(function(a){var e=d[a];y.isNullOrUndef(e)?c.removeAttribute(a):c.setAttribute(a,e)});y.each(d.style||{},function(a,d){c.style[d]=a});c.width=c.width;delete c.$chartjs}},addEventListener:function(a,c,d){var e=a.canvas;if("resize"!==c){var f=d.$chartjs||(d.$chartjs={});xa(e,c,(f.proxies||(f.proxies={}))[a.id+"_"+c]=function(c){var e=uc[c.type]||c.type,f=y.getRelativePosition(c,a);c=ra(e,a,f.x,f.y,c);d(c)})}else T(e,d,a)},removeEventListener:function(a,c,
d){var e=a.canvas;"resize"!==c?(a=((d.$chartjs||{}).proxies||{})[a.id+"_"+c])&&ma(e,c,a):Ca(e)}};y.addEvent=xa;y.removeEvent=ma;var gc=y.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},vc._enabled?vc:{acquireContext:function(a){return a&&a.canvas&&(a=a.canvas),a&&a.getContext("2d")||null}});N._set("global",{plugins:{}});var ia={_plugins:[],_cacheId:0,register:function(a){var c=this._plugins;[].concat(a).forEach(function(a){-1===
c.indexOf(a)&&c.push(a)});this._cacheId++},unregister:function(a){var c=this._plugins;[].concat(a).forEach(function(a){a=c.indexOf(a);-1!==a&&c.splice(a,1)});this._cacheId++},clear:function(){this._plugins=[];this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(a,c,d){var e,f,h,k,l,m=this.descriptors(a),v=m.length;for(e=0;e<v;++e)if("function"==typeof(l=(h=(f=m[e]).plugin)[c])&&((k=[a].concat(d||[])).push(f.options),!1===l.apply(h,
k)))return!1;return!0},descriptors:function(a){var c=a.$plugins||(a.$plugins={});if(c.id===this._cacheId)return c.descriptors;var d=[],e=[];a=a&&a.config||{};var f=a.options&&a.options.plugins||{};return this._plugins.concat(a.plugins||[]).forEach(function(a){if(-1===d.indexOf(a)){var c=a.id,h=f[c];!1!==h&&(!0===h&&(h=y.clone(N.global.plugins[c])),d.push(a),e.push({plugin:a,options:h||{}}))}}),c.descriptors=e,c.id=this._cacheId,e},_invalidate:function(a){delete a.$plugins}},pc={constructors:{},defaults:{},
registerScaleType:function(a,c,d){this.constructors[a]=c;this.defaults[a]=y.clone(d)},getScaleConstructor:function(a){return this.constructors.hasOwnProperty(a)?this.constructors[a]:void 0},getScaleDefaults:function(a){return this.defaults.hasOwnProperty(a)?y.merge({},[N.scale,this.defaults[a]]):{}},updateScaleDefaults:function(a,c){this.defaults.hasOwnProperty(a)&&(this.defaults[a]=y.extend(this.defaults[a],c))},addScalesToLayout:function(a){y.each(a.scales,function(c){c.fullWidth=c.options.fullWidth;
c.position=c.options.position;c.weight=c.options.weight;$a.addBox(a,c)})}},ub=y.valueOrDefault;N._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,
caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:y.noop,title:function(a,c){var d="",e=(c=c.labels)?c.length:0;0<a.length&&(a=a[0],a.label?d=a.label:a.xLabel?d=a.xLabel:0<e&&a.index<e&&(d=c[a.index]));return d},afterTitle:y.noop,beforeBody:y.noop,beforeLabel:y.noop,label:function(a,c){c=c.datasets[a.datasetIndex].label||"";return c&&(c+=": "),y.isNullOrUndef(a.value)?c+=a.yLabel:c+=a.value,c},labelColor:function(a,
c){a=c.getDatasetMeta(a.datasetIndex).data[a.index]._view;return{borderColor:a.borderColor,backgroundColor:a.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:y.noop,afterBody:y.noop,beforeFooter:y.noop,footer:y.noop,afterFooter:y.noop}}});var wc={average:function(a){if(!a.length)return!1;var c,d=0,e=0,f=0;var h=0;for(c=a.length;h<c;++h){var k=a[h];k&&k.hasValue()&&(k=k.tooltipPosition(),d+=k.x,e+=k.y,++f)}return{x:d/f,y:e/f}},nearest:function(a,c){var d,e,
f=c.x,h=c.y,k=Number.POSITIVE_INFINITY;var l=0;for(d=a.length;l<d;++l){var m=a[l];if(m&&m.hasValue()){var v=m.getCenterPoint();v=y.distanceBetweenPoints(c,v);v<k&&(k=v,e=m)}}e&&(a=e.tooltipPosition(),f=a.x,h=a.y);return{x:f,y:h}}},Bc=wa.extend({initialize:function(){this._model=Ha(this._options);this._lastActive=[]},getTitle:function(){var a=this._options.callbacks,c=a.beforeTitle.apply(this,arguments),d=a.title.apply(this,arguments);a=a.afterTitle.apply(this,arguments);var e=[];return e=ua(e,ya(c)),
e=ua(e,ya(d)),ua(e,ya(a))},getBeforeBody:function(){return ua([],ya(this._options.callbacks.beforeBody.apply(this,arguments)))},getBody:function(a,c){var d=this,e=d._options.callbacks,f=[];return y.each(a,function(a){var h={before:[],lines:[],after:[]};ua(h.before,ya(e.beforeLabel.call(d,a,c)));ua(h.lines,e.label.call(d,a,c));ua(h.after,ya(e.afterLabel.call(d,a,c)));f.push(h)}),f},getAfterBody:function(){return ua([],ya(this._options.callbacks.afterBody.apply(this,arguments)))},getFooter:function(){var a=
this._options.callbacks,c=a.beforeFooter.apply(this,arguments),d=a.footer.apply(this,arguments);a=a.afterFooter.apply(this,arguments);var e=[];return e=ua(e,ya(c)),e=ua(e,ya(d)),ua(e,ya(a))},update:function(a){var c,d,e,f,h,k,l,m,v=this,q=v._options,p=v._model,t=v._model=Ha(q),u=v._active,n=v._data;var A={xAlign:p.xAlign,yAlign:p.yAlign};var C={x:p.x,y:p.y};var x={width:p.width,height:p.height};p={x:p.caretX,y:p.caretY};if(u.length){t.opacity=1;var B=[],z=[];p=wc[q.position].call(v,u,v._eventPosition);
x=[];A=0;for(C=u.length;A<C;++A)x.push((c=u[A],d=void 0,e=void 0,f=void 0,h=void 0,k=void 0,l=void 0,m=void 0,d=c._xScale,e=c._yScale||c._scale,f=c._index,h=c._datasetIndex,k=c._chart.getDatasetMeta(h).controller,l=k._getIndexScale(),m=k._getValueScale(),{xLabel:d?d.getLabelForIndex(f,h):"",yLabel:e?e.getLabelForIndex(f,h):"",label:l?""+l.getLabelForIndex(f,h):"",value:m?""+m.getLabelForIndex(f,h):"",index:f,datasetIndex:h,x:c._model.x,y:c._model.y}));q.filter&&(x=x.filter(function(a){return q.filter(a,
n)}));q.itemSort&&(x=x.sort(function(a,c){return q.itemSort(a,c,n)}));y.each(x,function(a){B.push(q.callbacks.labelColor.call(v,a,v._chart));z.push(q.callbacks.labelTextColor.call(v,a,v._chart))});t.title=v.getTitle(x,n);t.beforeBody=v.getBeforeBody(x,n);t.body=v.getBody(x,n);t.afterBody=v.getAfterBody(x,n);t.footer=v.getFooter(x,n);t.x=p.x;t.y=p.y;t.caretPadding=q.caretPadding;t.labelColors=B;t.labelTextColors=z;t.dataPoints=x;x=function(a,c){var d=a._chart.ctx;a=2*c.yPadding;var e=0,f=c.body,h=
f.reduce(function(a,c){return a+c.before.length+c.lines.length+c.after.length},0);h+=c.beforeBody.length+c.afterBody.length;var k=c.title.length,l=c.footer.length,m=c.titleFontSize,v=c.bodyFontSize,q=c.footerFontSize;a=a+k*m+(k?(k-1)*c.titleSpacing:0);a+=k?c.titleMarginBottom:0;a+=h*v;a+=h?(h-1)*c.bodySpacing:0;a+=l?c.footerMarginTop:0;a+=l*q;a+=l?(l-1)*c.footerSpacing:0;var p=0,t=function(a){e=Math.max(e,d.measureText(a).width+p)};return d.font=y.fontString(m,c._titleFontStyle,c._titleFontFamily),
y.each(c.title,t),d.font=y.fontString(v,c._bodyFontStyle,c._bodyFontFamily),y.each(c.beforeBody.concat(c.afterBody),t),p=c.displayColors?v+2:0,y.each(f,function(a){y.each(a.before,t);y.each(a.lines,t);y.each(a.after,t)}),p=0,d.font=y.fontString(q,c._footerFontStyle,c._footerFontFamily),y.each(c.footer,t),{width:e+=2*c.xPadding,height:a}}(this,t);C=function(a,c,d,e){var f=a.x,h=a.y,k=a.caretPadding,l=d.xAlign;d=d.yAlign;var m=a.caretSize+k;a=a.cornerRadius+k;return"right"===l?f-=c.width:"center"===
l&&((f-=c.width/2)+c.width>e.width&&(f=e.width-c.width),0>f&&(f=0)),"top"===d?h+=m:h-="bottom"===d?c.height+m:c.height/2,"center"===d?"left"===l?f+=m:"right"===l&&(f-=m):"left"===l?f-=a:"right"===l&&(f+=a),{x:f,y:h}}(t,x,A=function(a,c){var d,e,f=a._model,h=a._chart;var k=a._chart.chartArea;var l="center",m="center";f.y<c.height?m="top":f.y>h.height-c.height&&(m="bottom");var v=(k.left+k.right)/2,q=(k.top+k.bottom)/2;"center"===m?(d=function(a){return a<=v},e=function(a){return a>v}):(d=function(a){return a<=
c.width/2},e=function(a){return a>=h.width-c.width/2});k=function(a){return a+c.width+f.caretSize+f.caretPadding>h.width};var p=function(a){return 0>a-c.width-f.caretSize-f.caretPadding};var t=function(a){return a<=q?"top":"bottom"};d(f.x)?(l="left",k(f.x)&&(l="center",m=t(f.y))):e(f.x)&&(l="right",p(f.x)&&(l="center",m=t(f.y)));a=a._options;return{xAlign:a.xAlign?a.xAlign:l,yAlign:a.yAlign?a.yAlign:m}}(this,x),v._chart)}else t.opacity=0;return t.xAlign=A.xAlign,t.yAlign=A.yAlign,t.x=C.x,t.y=C.y,
t.width=x.width,t.height=x.height,t.caretX=p.x,t.caretY=p.y,v._model=t,a&&q.custom&&q.custom.call(v,t),v},drawCaret:function(a,c){var d=this._chart.ctx;a=this.getCaretPosition(a,c,this._view);d.lineTo(a.x1,a.y1);d.lineTo(a.x2,a.y2);d.lineTo(a.x3,a.y3)},getCaretPosition:function(a,c,d){var e,f,h,k,l,m=d.caretSize,v=d.cornerRadius,q=d.xAlign,p=d.yAlign,t=a.x,u=a.y;a=c.width;c=c.height;"center"===p?(d=u+c/2,"left"===q?(f=(e=t)-m,h=e,k=d+m,l=d-m):(f=(e=t+a)+m,h=e,k=d-m,l=d+m)):("left"===q?(e=(f=t+v+m)-
m,h=f+m):"right"===q?(e=(f=t+a-v-m)-m,h=f+m):(e=(f=d.caretX)-m,h=f+m),"top"===p)?(d=(k=u)-m,l=k):(d=(k=u+c)+m,l=k,m=h,h=e,e=m);return{x1:e,x2:f,x3:h,y1:k,y2:d,y3:l}},drawTitle:function(a,c,d){var e=c.title;if(e.length){a.x=za(c,c._titleAlign);d.textAlign=c._titleAlign;d.textBaseline="top";var f,h=c.titleFontSize,k=c.titleSpacing;d.fillStyle=c.titleFontColor;d.font=y.fontString(h,c._titleFontStyle,c._titleFontFamily);var l=0;for(f=e.length;l<f;++l)d.fillText(e[l],a.x,a.y),a.y+=h+k,l+1===e.length&&
(a.y+=c.titleMarginBottom-k)}},drawBody:function(a,c,d){var e,f=c.bodyFontSize,h=c.bodySpacing,k=c._bodyAlign,l=c.body,m=c.displayColors,v=c.labelColors,q=0,p=m?za(c,"left"):0;d.textAlign=k;d.textBaseline="top";d.font=y.fontString(f,c._bodyFontStyle,c._bodyFontFamily);a.x=za(c,k);var t=function(c){d.fillText(c,a.x+q,a.y);a.y+=f+h};d.fillStyle=c.bodyFontColor;y.each(c.beforeBody,t);q=m&&"right"!==k?"center"===k?f/2+1:f+2:0;y.each(l,function(h,k){e=c.labelTextColors[k];d.fillStyle=e;y.each(h.before,
t);y.each(h.lines,function(h){m&&(d.fillStyle=c.legendColorBackground,d.fillRect(p,a.y,f,f),d.lineWidth=1,d.strokeStyle=v[k].borderColor,d.strokeRect(p,a.y,f,f),d.fillStyle=v[k].backgroundColor,d.fillRect(p+1,a.y+1,f-2,f-2),d.fillStyle=e);t(h)});y.each(h.after,t)});q=0;y.each(c.afterBody,t);a.y-=h},drawFooter:function(a,c,d){var e=c.footer;e.length&&(a.x=za(c,c._footerAlign),a.y+=c.footerMarginTop,d.textAlign=c._footerAlign,d.textBaseline="top",d.fillStyle=c.footerFontColor,d.font=y.fontString(c.footerFontSize,
c._footerFontStyle,c._footerFontFamily),y.each(e,function(e){d.fillText(e,a.x,a.y);a.y+=c.footerFontSize+c.footerSpacing}))},drawBackground:function(a,c,d,e){d.fillStyle=c.backgroundColor;d.strokeStyle=c.borderColor;d.lineWidth=c.borderWidth;var f=c.xAlign,h=c.yAlign,k=a.x,l=a.y,m=e.width,v=e.height,q=c.cornerRadius;d.beginPath();d.moveTo(k+q,l);"top"===h&&this.drawCaret(a,e);d.lineTo(k+m-q,l);d.quadraticCurveTo(k+m,l,k+m,l+q);"center"===h&&"right"===f&&this.drawCaret(a,e);d.lineTo(k+m,l+v-q);d.quadraticCurveTo(k+
m,l+v,k+m-q,l+v);"bottom"===h&&this.drawCaret(a,e);d.lineTo(k+q,l+v);d.quadraticCurveTo(k,l+v,k,l+v-q);"center"===h&&"left"===f&&this.drawCaret(a,e);d.lineTo(k,l+q);d.quadraticCurveTo(k,l,k+q,l);d.closePath();d.fill();0<c.borderWidth&&d.stroke()},draw:function(){var a=this._chart.ctx,c=this._view;if(0!==c.opacity){var d={width:c.width,height:c.height},e={x:c.x,y:c.y},f=Math.abs(.001>c.opacity)?0:c.opacity,h=c.title.length||c.beforeBody.length||c.body.length||c.afterBody.length||c.footer.length;this._options.enabled&&
h&&(a.save(),a.globalAlpha=f,this.drawBackground(e,c,a,d),e.y+=c.yPadding,this.drawTitle(e,c,a),this.drawBody(e,c,a),this.drawFooter(e,c,a),a.restore())}},handleEvent:function(a){var c,d=this._options;return this._lastActive=this._lastActive||[],"mouseout"===a.type?this._active=[]:this._active=this._chart.getElementsAtEventForMode(a,d.mode,d),(c=!y.arrayEquals(this._active,this._lastActive))&&(this._lastActive=this._active,(d.enabled||d.custom)&&(this._eventPosition={x:a.x,y:a.y},this.update(!0),
this.pivot())),c}});Bc.positioners=wc;var Cc=y.valueOrDefault;N._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});var Y=function(a,c){return this.construct(a,c),this};y.extend(Y.prototype,{construct:function(a,c){var d=this;c=function(a){var c=(a=a||{}).data=a.data||{};return c.datasets=c.datasets||[],c.labels=
c.labels||[],a.options=cb(N.global,N[a.type],a.options||{}),a}(c);var e=(a=gc.acquireContext(a,c))&&a.canvas,f=e&&e.height,h=e&&e.width;d.id=y.uid();d.ctx=a;d.canvas=e;d.config=c;d.width=h;d.height=f;d.aspectRatio=f?h/f:null;d.options=c.options;d._bufferedRender=!1;d.chart=d;d.controller=d;Y.instances[d.id]=d;Object.defineProperty(d,"data",{get:function(){return d.config.data},set:function(a){d.config.data=a}});a&&e?(d.initialize(),d.update()):console.error("Failed to create chart: can't acquire context from the given item")},
initialize:function(){return ia.notify(this,"beforeInit"),y.retinaScale(this,this.options.devicePixelRatio),this.bindEvents(),this.options.responsive&&this.resize(!0),this.ensureScalesHaveIDs(),this.buildOrUpdateScales(),this.initToolTip(),ia.notify(this,"afterInit"),this},clear:function(){return y.canvas.clear(this),this},stop:function(){return bc.cancelAnimation(this),this},resize:function(a){var c=this.options,d=this.canvas,e=c.maintainAspectRatio&&this.aspectRatio||null,f=Math.max(0,Math.floor(y.getMaximumWidth(d)));
e=Math.max(0,Math.floor(e?f/e:y.getMaximumHeight(d)));this.width===f&&this.height===e||(d.width=this.width=f,d.height=this.height=e,d.style.width=f+"px",d.style.height=e+"px",y.retinaScale(this,c.devicePixelRatio),a)||(a={width:f,height:e},ia.notify(this,"resize",[a]),c.onResize&&c.onResize(this,a),this.stop(),this.update({duration:c.responsiveAnimationDuration}))},ensureScalesHaveIDs:function(){var a=this.options,c=a.scales||{};a=a.scale;y.each(c.xAxes,function(a,c){a.id=a.id||"x-axis-"+c});y.each(c.yAxes,
function(a,c){a.id=a.id||"y-axis-"+c});a&&(a.id=a.id||"scale")},buildOrUpdateScales:function(){var a=this,c=a.options,d=a.scales||{},e=[],f=Object.keys(d).reduce(function(a,c){return a[c]=!1,a},{});c.scales&&(e=e.concat((c.scales.xAxes||[]).map(function(a){return{options:a,dtype:"category",dposition:"bottom"}}),(c.scales.yAxes||[]).map(function(a){return{options:a,dtype:"linear",dposition:"left"}})));c.scale&&e.push({options:c.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"});y.each(e,
function(c){var e=c.options,h=e.id,k=Cc(e.type,c.dtype);da(e.position)!==da(c.dposition)&&(e.position=c.dposition);f[h]=!0;if(h in d&&d[h].type===k)(h=d[h]).options=e,h.ctx=a.ctx,h.chart=a;else{var l=pc.getScaleConstructor(k);if(!l)return;h=new l({id:h,type:k,options:e,ctx:a.ctx,chart:a});d[h.id]=h}h.mergeTicksOptions();c.isDefault&&(a.scale=h)});y.each(f,function(a,c){a||delete d[c]});a.scales=d;pc.addScalesToLayout(this)},buildOrUpdateControllers:function(){var a=this,c=[];return y.each(a.data.datasets,
function(d,e){var f=a.getDatasetMeta(e);d=d.type||a.config.type;if(f.type&&f.type!==d&&(a.destroyDatasetMeta(e),f=a.getDatasetMeta(e)),f.type=d,f.controller)f.controller.updateIndex(e),f.controller.linkScales();else{d=ka[f.type];if(void 0===d)throw Error('"'+f.type+'" is not a chart type.');f.controller=new d(a,e);c.push(f.controller)}},a),c},resetElements:function(){var a=this;y.each(a.data.datasets,function(c,d){a.getDatasetMeta(d).controller.reset()},a)},reset:function(){this.resetElements();this.tooltip.initialize()},
update:function(a,c){var d,e=this;if(a&&"object"==typeof a||(a={duration:a,lazy:c}),d=e.options,y.each(e.scales,function(a){$a.removeBox(e,a)}),d=cb(N.global,N[e.config.type],d),e.options=e.config.options=d,e.ensureScalesHaveIDs(),e.buildOrUpdateScales(),e.tooltip._options=d.tooltips,e.tooltip.initialize(),ia._invalidate(e),!1!==ia.notify(e,"beforeUpdate"))e.tooltip._data=e.data,c=e.buildOrUpdateControllers(),y.each(e.data.datasets,function(a,c){e.getDatasetMeta(c).controller.buildOrUpdateElements()},
e),e.updateLayout(),e.options.animation&&e.options.animation.duration&&y.each(c,function(a){a.reset()}),e.updateDatasets(),e.tooltip.initialize(),e.lastActive=[],ia.notify(e,"afterUpdate"),e._bufferedRender?e._bufferedRequest={duration:a.duration,easing:a.easing,lazy:a.lazy}:e.render(a)},updateLayout:function(){!1!==ia.notify(this,"beforeLayout")&&($a.update(this,this.width,this.height),ia.notify(this,"afterScaleUpdate"),ia.notify(this,"afterLayout"))},updateDatasets:function(){if(!1!==ia.notify(this,
"beforeDatasetsUpdate")){for(var a=0,c=this.data.datasets.length;a<c;++a)this.updateDataset(a);ia.notify(this,"afterDatasetsUpdate")}},updateDataset:function(a){var c=this.getDatasetMeta(a);a={meta:c,index:a};!1!==ia.notify(this,"beforeDatasetUpdate",[a])&&(c.controller.update(),ia.notify(this,"afterDatasetUpdate",[a]))},render:function(a,c){var d=this;a&&"object"==typeof a||(a={duration:a,lazy:c});var e=d.options.animation;c=Cc(a.duration,e&&e.duration);var f=a.lazy;if(!1!==ia.notify(d,"beforeRender")){var h=
function(a){ia.notify(d,"afterRender");y.callback(e&&e.onComplete,[a],d)};e&&c?(a=new Bb({numSteps:c/16.66,easing:a.easing||e.easing,render:function(a,c){var d=c.currentStep,e=d/c.numSteps;a.draw((0,y.easing.effects[c.easing])(e),e,d)},onAnimationProgress:e.onProgress,onAnimationComplete:h}),bc.addAnimation(d,a,c,f)):(d.draw(),h(new Bb({numSteps:0,chart:d})));return d}},draw:function(a){var c=this;c.clear();y.isNullOrUndef(a)&&(a=1);c.transition(a);0>=c.width||0>=c.height||!1!==ia.notify(c,"beforeDraw",
[a])&&(y.each(c.boxes,function(a){a.draw(c.chartArea)},c),c.drawDatasets(a),c._drawTooltip(a),ia.notify(c,"afterDraw",[a]))},transition:function(a){for(var c=0,d=(this.data.datasets||[]).length;c<d;++c)this.isDatasetVisible(c)&&this.getDatasetMeta(c).controller.transition(a);this.tooltip.transition(a)},drawDatasets:function(a){if(!1!==ia.notify(this,"beforeDatasetsDraw",[a])){for(var c=(this.data.datasets||[]).length-1;0<=c;--c)this.isDatasetVisible(c)&&this.drawDataset(c,a);ia.notify(this,"afterDatasetsDraw",
[a])}},drawDataset:function(a,c){var d=this.getDatasetMeta(a);a={meta:d,index:a,easingValue:c};!1!==ia.notify(this,"beforeDatasetDraw",[a])&&(d.controller.draw(c),ia.notify(this,"afterDatasetDraw",[a]))},_drawTooltip:function(a){var c=this.tooltip;a={tooltip:c,easingValue:a};!1!==ia.notify(this,"beforeTooltipDraw",[a])&&(c.draw(),ia.notify(this,"afterTooltipDraw",[a]))},getElementAtEvent:function(a){return aa.modes.single(this,a)},getElementsAtEvent:function(a){return aa.modes.label(this,a,{intersect:!0})},
getElementsAtXAxis:function(a){return aa.modes["x-axis"](this,a,{intersect:!0})},getElementsAtEventForMode:function(a,c,d){c=aa.modes[c];return"function"==typeof c?c(this,a,d):[]},getDatasetAtEvent:function(a){return aa.modes.dataset(this,a,{intersect:!0})},getDatasetMeta:function(a){a=this.data.datasets[a];a._meta||(a._meta={});var c=a._meta[this.id];return c||(c=a._meta[this.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),c},getVisibleDatasetCount:function(){for(var a=
0,c=0,d=this.data.datasets.length;c<d;++c)this.isDatasetVisible(c)&&a++;return a},isDatasetVisible:function(a){var c=this.getDatasetMeta(a);return"boolean"==typeof c.hidden?!c.hidden:!this.data.datasets[a].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(a){var c=this.id;a=this.data.datasets[a];var d=a._meta&&a._meta[c];d&&(d.controller.destroy(),delete a._meta[c])},destroy:function(){var a,c=this.canvas;this.stop();var d=0;for(a=this.data.datasets.length;d<
a;++d)this.destroyDatasetMeta(d);c&&(this.unbindEvents(),y.canvas.clear(this),gc.releaseContext(this.ctx),this.canvas=null,this.ctx=null);ia.notify(this,"destroy");delete Y.instances[this.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){this.tooltip=new Bc({_chart:this,_chartInstance:this,_data:this.data,_options:this.options.tooltips},this)},bindEvents:function(){var a=this,c=a._listeners={},d=function(){a.eventHandler.apply(a,arguments)};
y.each(a.options.events,function(e){gc.addEventListener(a,e,d);c[e]=d});a.options.responsive&&(d=function(){a.resize()},gc.addEventListener(a,"resize",d),c.resize=d)},unbindEvents:function(){var a=this,c=a._listeners;c&&(delete a._listeners,y.each(c,function(c,d){gc.removeEventListener(a,d,c)}))},updateHoverStyle:function(a,c,d){var e,f=d?"setHoverStyle":"removeHoverStyle";c=0;for(d=a.length;c<d;++c)(e=a[c])&&this.getDatasetMeta(e._datasetIndex).controller[f](e)},eventHandler:function(a){var c=this.tooltip;
if(!1!==ia.notify(this,"beforeEvent",[a])){this._bufferedRender=!0;this._bufferedRequest=null;var d=this.handleEvent(a);c&&(d=c._start?c.handleEvent(a):d|c.handleEvent(a));ia.notify(this,"afterEvent",[a]);a=this._bufferedRequest;return a?this.render(a):d&&!this.animating&&(this.stop(),this.render({duration:this.options.hover.animationDuration,lazy:!0})),this._bufferedRender=!1,this._bufferedRequest=null,this}},handleEvent:function(a){var c,d=this.options||{},e=d.hover;return this.lastActive=this.lastActive||
[],"mouseout"===a.type?this.active=[]:this.active=this.getElementsAtEventForMode(a,e.mode,e),y.callback(d.onHover||d.hover.onHover,[a.native,this.active],this),"mouseup"!==a.type&&"click"!==a.type||d.onClick&&d.onClick.call(this,a.native,this.active),this.lastActive.length&&this.updateHoverStyle(this.lastActive,e.mode,!1),this.active.length&&e.mode&&this.updateHoverStyle(this.active,e.mode,!0),c=!y.arrayEquals(this.active,this.lastActive),this.lastActive=this.active,c}});Y.instances={};Y.Controller=
Y;Y.types={};y.configMerge=cb;y.scaleMerge=ic;y.extend(nb.prototype,{formats:w,parse:w,format:w,add:w,diff:w,startOf:w,endOf:w,_create:function(a){return a}});nb.override=function(a){y.extend(nb.prototype,a)};var Fc={_date:nb},qc={formatters:{values:function(a){return y.isArray(a)?a:""+a},linear:function(a,c,d){c=3<d.length?d[2]-d[1]:d[1]-d[0];1<Math.abs(c)&&a!==Math.floor(a)&&(c=a-Math.floor(a));c=y.log10(Math.abs(c));0!==a?1E-4>Math.max(Math.abs(d[0]),Math.abs(d[d.length-1]))?(d=y.log10(Math.abs(a)),
a=a.toExponential(Math.floor(d)-Math.floor(c))):(d=-1*Math.floor(c),d=Math.max(Math.min(d,20),0),a=a.toFixed(d)):a="0";return a},logarithmic:function(a,c,d){var e=a/Math.pow(10,Math.floor(y.log10(a)));return 0===a?"0":1===e||2===e||5===e||0===c||c===d.length-1?a.toExponential():""}}},Gc=y.valueOrDefault,rc=y.valueAtIndexOrDefault;N._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,
zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:qc.formatters.values,minor:{},major:{}}});var fb=wa.extend({getPadding:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||
0,bottom:this.paddingBottom||0}},getTicks:function(){return this._ticks},mergeTicksOptions:function(){var a=this.options.ticks,c;for(c in!1===a.minor&&(a.minor={display:!1}),!1===a.major&&(a.major={display:!1}),a)"major"!==c&&"minor"!==c&&(void 0===a.minor[c]&&(a.minor[c]=a[c]),void 0===a.major[c]&&(a.major[c]=a[c]))},beforeUpdate:function(){y.callback(this.options.beforeUpdate,[this])},update:function(a,c,d){var e;this.beforeUpdate();this.maxWidth=a;this.maxHeight=c;this.margins=y.extend({left:0,
right:0,top:0,bottom:0},d);this.longestLabelWidth=this._maxLabelLines=0;this.longestTextCache=this.longestTextCache||{};this.beforeSetDimensions();this.setDimensions();this.afterSetDimensions();this.beforeDataLimits();this.determineDataLimits();this.afterDataLimits();this.beforeBuildTicks();var f=this.buildTicks()||[];f=this.afterBuildTicks(f)||f;this.beforeTickToLabelConversion();d=this.convertTicksToLabels(f)||this.ticks;this.afterTickToLabelConversion();this.ticks=d;a=0;for(c=d.length;a<c;++a){var h=
d[a];(e=f[a])?e.label=h:f.push(e={label:h,major:!1})}return this._ticks=f,this.beforeCalculateTickRotation(),this.calculateTickRotation(),this.afterCalculateTickRotation(),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate(),this.minSize},afterUpdate:function(){y.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){y.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):
(this.height=this.maxHeight,this.top=0,this.bottom=this.height);this.paddingBottom=this.paddingRight=this.paddingTop=this.paddingLeft=0},afterSetDimensions:function(){y.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){y.callback(this.options.beforeDataLimits,[this])},determineDataLimits:y.noop,afterDataLimits:function(){y.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){y.callback(this.options.beforeBuildTicks,[this])},buildTicks:y.noop,afterBuildTicks:function(a){return y.isArray(a)&&
a.length?y.callback(this.options.afterBuildTicks,[this,a]):(this.ticks=y.callback(this.options.afterBuildTicks,[this,this.ticks])||this.ticks,a)},beforeTickToLabelConversion:function(){y.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var a=this.options.ticks;this.ticks=this.ticks.map(a.userCallback||a.callback,this)},afterTickToLabelConversion:function(){y.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){y.callback(this.options.beforeCalculateTickRotation,
[this])},calculateTickRotation:function(){var a=this.ctx,c=this.options.ticks,d=Tb(this._ticks),e=y.options._parseFont(c);a.font=e.string;var f=c.minRotation||0;if(d.length&&this.options.display&&this.isHorizontal())for(e=a=y.longestText(a,e.string,d,this.longestTextCache),d=this.getPixelForTick(1)-this.getPixelForTick(0)-6;e>d&&f<c.maxRotation;){var h=y.toRadians(f);if(e=Math.cos(h),Math.sin(h)*a>this.maxHeight){f--;break}f++;e*=a}this.labelRotation=f},afterCalculateTickRotation:function(){y.callback(this.options.afterCalculateTickRotation,
[this])},beforeFit:function(){y.callback(this.options.beforeFit,[this])},fit:function(){var a=this.minSize={width:0,height:0},c=Tb(this._ticks),d=this.options,e=d.ticks,f=d.scaleLabel,h=d.gridLines,k=this._isVisible(),l=d.position,m=this.isHorizontal(),q=y.options._parseFont,p=q(e);d=d.gridLines.tickMarkLength;if(a.width=m?this.isFullWidth()?this.maxWidth-this.margins.left-this.margins.right:this.maxWidth:k&&h.drawTicks?d:0,a.height=m?k&&h.drawTicks?d:0:this.maxHeight,f.display&&k)h=q(f),f=y.options.toPadding(f.padding),
f=h.lineHeight+f.height,m?a.height+=f:a.width+=f;if(e.display&&k)if(f=y.longestText(this.ctx,p.string,c,this.longestTextCache),h=y.numberOfLabelLines(c),k=.5*p.size,q=this.options.ticks.padding,this._maxLabelLines=h,this.longestLabelWidth=f,m){m=y.toRadians(this.labelRotation);e=Math.cos(m);a.height=Math.min(this.maxHeight,a.height+(Math.sin(m)*f+p.lineHeight*h+k)+q);this.ctx.font=p.string;var t,u;m=Ub(this.ctx,c[0],p.string);p=Ub(this.ctx,c[c.length-1],p.string);f=this.getPixelForTick(0)-this.left;
c=this.right-this.getPixelForTick(c.length-1);0!==this.labelRotation?(t="bottom"===l?e*m:e*k,u="bottom"===l?e*k:e*p):(t=m/2,u=p/2);this.paddingLeft=Math.max(t-f,0)+3;this.paddingRight=Math.max(u-c,0)+3}else e.mirror?f=0:f+=q+k,a.width=Math.min(this.maxWidth,a.width+f),this.paddingTop=p.size/2,this.paddingBottom=p.size/2;this.handleMargins();this.width=a.width;this.height=a.height},handleMargins:function(){this.margins&&(this.paddingLeft=Math.max(this.paddingLeft-this.margins.left,0),this.paddingTop=
Math.max(this.paddingTop-this.margins.top,0),this.paddingRight=Math.max(this.paddingRight-this.margins.right,0),this.paddingBottom=Math.max(this.paddingBottom-this.margins.bottom,0))},afterFit:function(){y.callback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(a){if(y.isNullOrUndef(a)||("number"==typeof a||a instanceof Number)&&!isFinite(a))return NaN;
if(a)if(this.isHorizontal()){if(void 0!==a.x)return this.getRightValue(a.x)}else if(void 0!==a.y)return this.getRightValue(a.y);return a},getLabelForIndex:y.noop,getPixelForValue:y.noop,getValueForPixel:y.noop,getPixelForTick:function(a){var c=this.options.offset;if(this.isHorizontal()){var d=(this.width-(this.paddingLeft+this.paddingRight))/Math.max(this._ticks.length-(c?0:1),1);a=d*a+this.paddingLeft;c&&(a+=d/2);return this.left+a+(this.isFullWidth()?this.margins.left:0)}return this.top+(this.height-
(this.paddingTop+this.paddingBottom))/(this._ticks.length-1)*a},getPixelForDecimal:function(a){return this.isHorizontal()?this.left+((this.width-(this.paddingLeft+this.paddingRight))*a+this.paddingLeft)+(this.isFullWidth()?this.margins.left:0):this.top+a*this.height},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var a=this.min,c=this.max;return this.beginAtZero?0:0>a&&0>c?c:0<a&&0<c?a:0},_autoSkip:function(a){var c=this.isHorizontal(),d=a.length,
e=!1;var f=this.options.ticks.minor.maxTicksLimit;var h=this._tickSize()*(d-1);var k=c?this.width-(this.paddingLeft+this.paddingRight):this.height-(this.paddingTop+this.PaddingBottom);c=[];h>k&&(e=1+Math.floor(h/k));d>f&&(e=Math.max(e,1+Math.floor(d/f)));for(f=0;f<d;f++)h=a[f],1<e&&0<f%e&&delete h.label,c.push(h);return c},_tickSize:function(){var a=this.isHorizontal(),c=this.options.ticks.minor,d=y.toRadians(this.labelRotation),e=Math.abs(Math.cos(d));d=Math.abs(Math.sin(d));var f=c.autoSkipPadding||
0,h=this.longestLabelWidth+f||0;c=y.options._parseFont(c);c=this._maxLabelLines*c.lineHeight+f||0;return a?c*e>h*d?h/e:c/d:c*d<h*e?c/e:h/d},_isVisible:function(){var a,c,d=this.chart;var e=this.options.display;if("auto"!==e)return!!e;e=0;for(a=d.data.datasets.length;e<a;++e)if(d.isDatasetVisible(e)&&((c=d.getDatasetMeta(e)).xAxisID===this.id||c.yAxisID===this.id))return!0;return!1},draw:function(a){var c=this,d=c.options;if(c._isVisible()){var e,f,h,k=c.chart,l=c.ctx,m=N.global.defaultFontColor,q=
d.ticks.minor,p=d.ticks.major||q,t=d.gridLines,u=d.scaleLabel,v=d.position,n=0!==c.labelRotation,A=q.mirror,C=c.isHorizontal(),x=y.options._parseFont,B=q.display&&q.autoSkip?c._autoSkip(c.getTicks()):c.getTicks(),z=Gc(q.fontColor,m),E=x(q),w=E.lineHeight,H=Gc(p.fontColor,m),D=x(p),I=q.padding,G=q.labelOffset,ea=t.drawTicks?t.tickMarkLength:0;m=Gc(u.fontColor,m);x=x(u);var J=y.options.toPadding(u.padding),Qa=y.toRadians(c.labelRotation),M=[],F=t.drawBorder?rc(t.lineWidth,0,0):0,ja=y._alignPixel;"top"===
v?(e=ja(k,c.bottom,F),f=c.bottom-ea,h=e-F/2):"bottom"===v?(e=ja(k,c.top,F),f=e+F/2,h=c.top+ea):"left"===v?(e=ja(k,c.right,F),f=c.right-ea,h=e-F/2):(e=ja(k,c.left,F),f=e+F/2,h=c.left+ea);if(y.each(B,function(e,l){if(!y.isNullOrUndef(e.label)){var m,q,p,u,x,B,z,E,H,D,Q,K=e.label;l===c.zeroLineIndex&&d.offset===t.offsetGridLines?(m=t.zeroLineWidth,q=t.zeroLineColor,p=t.zeroLineBorderDash||[],u=t.zeroLineBorderDashOffset||0):(m=rc(t.lineWidth,l),q=rc(t.color,l),p=t.borderDash||[],u=t.borderDashOffset||
0);var J=y.isArray(K)?K.length:1;var gb=t.offsetGridLines;var L=c.getPixelForTick(l);var P=(gb&&(1===c.getTicks().length?L-=c.isHorizontal()?Math.max(L-c.left,c.right-L):Math.max(L-c.top,c.bottom-L):L-=0===l?(c.getPixelForTick(1)-L)/2:(L-c.getPixelForTick(l-1))/2),L);if(C){var hb=ea+I;P<c.left-1E-7&&(q="rgba(0,0,0,0)");L=gb=x=z=ja(k,P,m);P=f;var ka=h;var U=c.getPixelForTick(l)+G;"top"===v?(B=ja(k,a.top,F)+F/2,E=a.bottom,D=((n?1:.5)-J)*w,Q=n?"left":"center",H=c.bottom-hb):(B=a.top,E=ja(k,a.bottom,
F)-F/2,D=(n?0:.5)*w,Q=n?"right":"center",H=c.top+hb)}else hb=(A?0:ea)+I,P<c.top-1E-7&&(q="rgba(0,0,0,0)"),L=f,gb=h,P=ka=B=E=ja(k,P,m),H=c.getPixelForTick(l)+G,D=(1-J)*w/2,"left"===v?(x=ja(k,a.left,F)+F/2,z=a.right,Q=A?"left":"right",U=c.right-hb):(x=a.left,z=ja(k,a.right,F)-F/2,Q=A?"right":"left",U=c.left+hb);M.push({tx1:L,ty1:P,tx2:gb,ty2:ka,x1:x,y1:B,x2:z,y2:E,labelX:U,labelY:H,glWidth:m,glColor:q,glBorderDash:p,glBorderDashOffset:u,rotation:-1*Qa,label:K,major:e.major,textOffset:D,textAlign:Q})}}),
y.each(M,function(a){var c=a.glWidth,d=a.glColor;if(t.display&&c&&d&&(l.save(),l.lineWidth=c,l.strokeStyle=d,l.setLineDash&&(l.setLineDash(a.glBorderDash),l.lineDashOffset=a.glBorderDashOffset),l.beginPath(),t.drawTicks&&(l.moveTo(a.tx1,a.ty1),l.lineTo(a.tx2,a.ty2)),t.drawOnChartArea&&(l.moveTo(a.x1,a.y1),l.lineTo(a.x2,a.y2)),l.stroke(),l.restore()),q.display){l.save();l.translate(a.labelX,a.labelY);l.rotate(a.rotation);l.font=a.major?D.string:E.string;l.fillStyle=a.major?H:z;l.textBaseline="middle";
l.textAlign=a.textAlign;c=a.label;a=a.textOffset;if(y.isArray(c))for(d=0;d<c.length;++d)l.fillText(""+c[d],0,a),a+=w;else l.fillText(c,0,a);l.restore()}}),u.display){var L=0,P=x.lineHeight/2;C?(p=c.left+(c.right-c.left)/2,J="bottom"===v?c.bottom-P-J.bottom:c.top+P+J.top):(p=(L="left"===v)?c.left+P+J.top:c.right-P-J.top,J=c.top+(c.bottom-c.top)/2,L=L?-.5*Math.PI:.5*Math.PI);l.save();l.translate(p,J);l.rotate(L);l.textAlign="center";l.textBaseline="middle";l.fillStyle=m;l.font=x.string;l.fillText(u.labelString,
0,0);l.restore()}if(F){var ka,U,Ga,Z;u=rc(t.lineWidth,B.length-1,0);C?(ka=ja(k,c.left,F)-F/2,U=ja(k,c.right,u)+u/2,Ga=Z=e):(Ga=ja(k,c.top,F)-F/2,Z=ja(k,c.bottom,u)+u/2,ka=U=e);l.lineWidth=F;l.strokeStyle=rc(t.color,0);l.beginPath();l.moveTo(ka,Ga);l.lineTo(U,Z);l.stroke()}}}}),jc=fb.extend({getLabels:function(){var a=this.chart.data;return this.options.labels||(this.isHorizontal()?a.xLabels:a.yLabels)||a.labels},determineDataLimits:function(){var a,c=this.getLabels();this.minIndex=0;this.maxIndex=
c.length-1;void 0!==this.options.ticks.min&&(a=c.indexOf(this.options.ticks.min),this.minIndex=-1!==a?a:this.minIndex);void 0!==this.options.ticks.max&&(a=c.indexOf(this.options.ticks.max),this.maxIndex=-1!==a?a:this.maxIndex);this.min=c[this.minIndex];this.max=c[this.maxIndex]},buildTicks:function(){var a=this.getLabels();this.ticks=0===this.minIndex&&this.maxIndex===a.length-1?a:a.slice(this.minIndex,this.maxIndex+1)},getLabelForIndex:function(a,c){var d=this.chart;return d.getDatasetMeta(c).controller._getValueScaleId()===
this.id?this.getRightValue(d.data.datasets[c].data[a]):this.ticks[a-this.minIndex]},getPixelForValue:function(a,c){var d,e=this.options.offset,f=Math.max(this.maxIndex+1-this.minIndex-(e?0:1),1);if(null!=a&&(d=this.isHorizontal()?a.x:a.y),void 0!==d||void 0!==a&&isNaN(c))a=d||a,a=this.getLabels().indexOf(a),c=-1!==a?a:c;if(this.isHorizontal())return f=this.width/f,c=f*(c-this.minIndex),e&&(c+=f/2),this.left+c;f=this.height/f;c=f*(c-this.minIndex);return e&&(c+=f/2),this.top+c},getPixelForTick:function(a){return this.getPixelForValue(this.ticks[a],
a+this.minIndex,null)},getValueForPixel:function(a){var c=this.options.offset,d=Math.max(this._ticks.length-(c?0:1),1),e=this.isHorizontal();d=(e?this.width:this.height)/d;return a-=e?this.left:this.top,c&&(a-=d/2),(0>=a?0:Math.round(a/d))+this.minIndex},getBasePixel:function(){return this.bottom}});jc._defaults={position:"bottom"};var Wb=y.isNullOrUndef,xc=fb.extend({getRightValue:function(a){return"string"==typeof a?+a:fb.prototype.getRightValue.call(this,a)},handleTickRangeOptions:function(){var a=
this.options.ticks;if(a.beginAtZero){var c=y.sign(this.min),d=y.sign(this.max);0>c&&0>d?this.max=0:0<c&&0<d&&(this.min=0)}c=void 0!==a.min||void 0!==a.suggestedMin;d=void 0!==a.max||void 0!==a.suggestedMax;void 0!==a.min?this.min=a.min:void 0!==a.suggestedMin&&(null===this.min?this.min=a.suggestedMin:this.min=Math.min(this.min,a.suggestedMin));void 0!==a.max?this.max=a.max:void 0!==a.suggestedMax&&(null===this.max?this.max=a.suggestedMax:this.max=Math.max(this.max,a.suggestedMax));c!==d&&this.min>=
this.max&&(c?this.max=this.min+1:this.min=this.max-1);this.min===this.max&&(this.max++,a.beginAtZero||this.min--)},getTickLimit:function(){var a,c=this.options.ticks,d=c.stepSize;c=c.maxTicksLimit;return d?a=Math.ceil(this.max/d)-Math.floor(this.min/d)+1:(a=this._computeTickLimit(),c=c||11),c&&(a=Math.min(c,a)),a},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:y.noop,buildTicks:function(){var a=this.options.ticks,c=this.getTickLimit(),d=Math.max(2,c),e=a.min;
c=a.max;var f=a.precision;var h,k=[],l=y.valueOrDefault(a.fixedStepSize,a.stepSize);var m=l||1;var q=d-1,p=this.min,t=this.max;d=y.niceNum((t-p)/q/m)*m;if(1E-14>d&&Wb(e)&&Wb(c))var u=[p,t];else{(h=Math.ceil(t/d)-Math.floor(p/d))>q&&(d=y.niceNum(h*d/q/m)*m);l||Wb(f)?u=Math.pow(10,y._decimalPlaces(d)):(u=Math.pow(10,f),d=Math.ceil(d*u)/u);f=Math.floor(p/d)*d;m=Math.ceil(t/d)*d;l&&(!Wb(e)&&y.almostWhole(e/d,d/1E3)&&(f=e),!Wb(c)&&y.almostWhole(c/d,d/1E3)&&(m=c));h=(m-f)/d;h=y.almostEquals(h,Math.round(h),
d/1E3)?Math.round(h):Math.ceil(h);f=Math.round(f*u)/u;m=Math.round(m*u)/u;k.push(Wb(e)?f:e);for(e=1;e<h;++e)k.push(Math.round((f+e*d)*u)/u);u=(k.push(Wb(c)?m:c),k)}u=this.ticks=u;this.handleDirectionalChanges();this.max=y.max(u);this.min=y.min(u);a.reverse?(u.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max)},convertTicksToLabels:function(){this.ticksAsNumbers=this.ticks.slice();this.zeroLineIndex=this.ticks.indexOf(0);fb.prototype.convertTicksToLabels.call(this)}}),
bd={position:"left",ticks:{callback:qc.formatters.linear}},Nc=xc.extend({determineDataLimits:function(){function a(a){return h?a.xAxisID===c.id:a.yAxisID===c.id}var c=this,d=c.options,e=c.chart,f=e.data.datasets,h=c.isHorizontal();c.min=null;c.max=null;var k=d.stacked;if(void 0===k&&y.each(f,function(c,d){k||(c=e.getDatasetMeta(d),e.isDatasetVisible(d)&&a(c)&&void 0!==c.stack&&(k=!0))}),d.stacked||k){var l={};y.each(f,function(f,h){var k=e.getDatasetMeta(h),m=[k.type,void 0===d.stacked&&void 0===
k.stack?h:"",k.stack].join(".");void 0===l[m]&&(l[m]={positiveValues:[],negativeValues:[]});var q=l[m].positiveValues,p=l[m].negativeValues;e.isDatasetVisible(h)&&a(k)&&y.each(f.data,function(a,e){a=+c.getRightValue(a);isNaN(a)||k.data[e].hidden||(q[e]=q[e]||0,p[e]=p[e]||0,d.relativePoints?q[e]=100:0>a?p[e]+=a:q[e]+=a)})});y.each(l,function(a){var d=a.positiveValues.concat(a.negativeValues);a=y.min(d);d=y.max(d);c.min=null===c.min?a:Math.min(c.min,a);c.max=null===c.max?d:Math.max(c.max,d)})}else y.each(f,
function(d,f){var h=e.getDatasetMeta(f);e.isDatasetVisible(f)&&a(h)&&y.each(d.data,function(a,d){a=+c.getRightValue(a);isNaN(a)||h.data[d].hidden||(null===c.min?c.min=a:a<c.min&&(c.min=a),null===c.max?c.max=a:a>c.max&&(c.max=a))})});c.min=isFinite(c.min)&&!isNaN(c.min)?c.min:0;c.max=isFinite(c.max)&&!isNaN(c.max)?c.max:1;this.handleTickRangeOptions()},_computeTickLimit:function(){var a;return this.isHorizontal()?Math.ceil(this.width/40):(a=y.options._parseFont(this.options.ticks),Math.ceil(this.height/
a.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(a,c){return+this.getRightValue(this.chart.data.datasets[c].data[a])},getPixelForValue:function(a){var c=this.start;a=+this.getRightValue(a);var d=this.end-c;return this.isHorizontal()?this.left+this.width/d*(a-c):this.bottom-this.height/d*(a-c)},getValueForPixel:function(a){var c=this.isHorizontal();return this.start+(c?a-this.left:this.bottom-a)/(c?this.width:this.height)*(this.end-
this.start)},getPixelForTick:function(a){return this.getPixelForValue(this.ticksAsNumbers[a])}});Nc._defaults=bd;var yc=y.valueOrDefault,Wc={position:"left",ticks:{callback:qc.formatters.logarithmic}},Pc=fb.extend({determineDataLimits:function(){function a(a){return h?a.xAxisID===c.id:a.yAxisID===c.id}var c=this,d=c.options,e=c.chart,f=e.data.datasets,h=c.isHorizontal();c.min=null;c.max=null;c.minNotZero=null;var k=d.stacked;if(void 0===k&&y.each(f,function(c,d){k||(c=e.getDatasetMeta(d),e.isDatasetVisible(d)&&
a(c)&&void 0!==c.stack&&(k=!0))}),d.stacked||k){var l={};y.each(f,function(f,h){var k=e.getDatasetMeta(h),m=[k.type,void 0===d.stacked&&void 0===k.stack?h:"",k.stack].join(".");e.isDatasetVisible(h)&&a(k)&&(void 0===l[m]&&(l[m]=[]),y.each(f.data,function(a,d){var e=l[m];a=+c.getRightValue(a);isNaN(a)||k.data[d].hidden||0>a||(e[d]=e[d]||0,e[d]+=a)}))});y.each(l,function(a){if(0<a.length){var d=y.min(a);a=y.max(a);c.min=null===c.min?d:Math.min(c.min,d);c.max=null===c.max?a:Math.max(c.max,a)}})}else y.each(f,
function(d,f){var h=e.getDatasetMeta(f);e.isDatasetVisible(f)&&a(h)&&y.each(d.data,function(a,d){a=+c.getRightValue(a);isNaN(a)||h.data[d].hidden||0>a||(null===c.min?c.min=a:a<c.min&&(c.min=a),null===c.max?c.max=a:a>c.max&&(c.max=a),0!==a&&(null===c.minNotZero||a<c.minNotZero)&&(c.minNotZero=a))})});this.handleTickRangeOptions()},handleTickRangeOptions:function(){var a=this.options.ticks;this.min=ob(a.min,this.min);this.max=ob(a.max,this.max);this.min===this.max&&(0!==this.min&&null!==this.min?(this.min=
Math.pow(10,Math.floor(y.log10(this.min))-1),this.max=Math.pow(10,Math.floor(y.log10(this.max))+1)):(this.min=1,this.max=10));null===this.min&&(this.min=Math.pow(10,Math.floor(y.log10(this.max))-1));null===this.max&&(this.max=0!==this.min?Math.pow(10,Math.floor(y.log10(this.min))+1):10);null===this.minNotZero&&(0<this.min?this.minNotZero=this.min:1>this.max?this.minNotZero=Math.pow(10,Math.floor(y.log10(this.max))):this.minNotZero=1)},buildTicks:function(){var a=this.options.ticks,c=!this.isHorizontal(),
d=ob(a.min),e=ob(a.max),f,h,k=[];d=yc(d,Math.pow(10,Math.floor(y.log10(this.min))));var l=Math.floor(y.log10(this.max)),m=Math.ceil(this.max/Math.pow(10,l));0===d?(f=Math.floor(y.log10(this.minNotZero)),h=Math.floor(this.minNotZero/Math.pow(10,f)),k.push(d),d=h*Math.pow(10,f)):(f=Math.floor(y.log10(d)),h=Math.floor(d/Math.pow(10,f)));var q=0>f?Math.pow(10,Math.abs(f)):1;do k.push(d),10==++h&&(h=1,q=0<=++f?1:q),d=Math.round(h*Math.pow(10,f)*q)/q;while(f<l||f===l&&h<m);e=yc(e,d);k=this.ticks=(k.push(e),
k);this.max=y.max(k);this.min=y.min(k);a.reverse?(c=!c,this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max);c&&k.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice();fb.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(a,c){return+this.getRightValue(this.chart.data.datasets[c].data[a])},getPixelForTick:function(a){return this.getPixelForValue(this.tickValues[a])},_getFirstTickValue:function(a){var c=Math.floor(y.log10(a));return Math.floor(a/
Math.pow(10,c))*Math.pow(10,c)},getPixelForValue:function(a){var c,d,e,f,h,k=this.options.ticks,l=k.reverse,m=y.log10,q=this._getFirstTickValue(this.minNotZero),p=0;return a=+this.getRightValue(a),l?(e=this.end,f=this.start,h=-1):(e=this.start,f=this.end,h=1),this.isHorizontal()?(c=this.width,d=l?this.right:this.left):(c=this.height,h*=-1,d=l?this.top:this.bottom),a!==e&&(0===e&&(c-=p=yc(k.fontSize,N.global.defaultFontSize),e=q),0!==a&&(p+=c/(m(f)-m(e))*(m(a)-m(e))),d+=h*p),d},getValueForPixel:function(a){var c,
d,e,f,h=this.options.ticks,k=h.reverse,l=y.log10,m=this._getFirstTickValue(this.minNotZero);if(k?(d=this.end,e=this.start):(d=this.start,e=this.end),this.isHorizontal()?(c=this.width,f=k?this.right-a:a-this.left):(c=this.height,f=k?a-this.top:this.bottom-a),f!==d)0===d&&(a=yc(h.fontSize,N.global.defaultFontSize),f-=a,c-=a,d=m),f*=l(e)-l(d),f/=c,f=Math.pow(10,l(d)+f);return f}});Pc._defaults=Wc;var zc=y.valueOrDefault,Hc=y.valueAtIndexOrDefault,Oc=y.options.resolve,Zc={display:!0,animate:!0,position:"chartArea",
angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:qc.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(a){return a}}},Mc=xc.extend({setDimensions:function(){this.width=this.maxWidth;this.height=this.maxHeight;this.paddingTop=Wa(this.options)/2;this.xCenter=Math.floor(this.width/2);this.yCenter=
Math.floor((this.height-this.paddingTop)/2);this.drawingArea=Math.min(this.height-this.paddingTop,this.width)/2},determineDataLimits:function(){var a=this,c=a.chart,d=Number.POSITIVE_INFINITY,e=Number.NEGATIVE_INFINITY;y.each(c.data.datasets,function(f,h){if(c.isDatasetVisible(h)){var k=c.getDatasetMeta(h);y.each(f.data,function(c,f){c=+a.getRightValue(c);isNaN(c)||k.data[f].hidden||(d=Math.min(c,d),e=Math.max(c,e))})}});a.min=d===Number.POSITIVE_INFINITY?0:d;a.max=e===Number.NEGATIVE_INFINITY?0:
e;a.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/Wa(this.options))},convertTicksToLabels:function(){xc.prototype.convertTicksToLabels.call(this);this.pointLabels=this.chart.data.labels.map(this.options.pointLabels.callback,this)},getLabelForIndex:function(a,c){return+this.getRightValue(this.chart.data.datasets[c].data[a])},fit:function(){var a=this.options;if(a.display&&a.pointLabels.display){var c=y.options._parseFont(this.options.pointLabels),d={l:0,r:this.width,
t:0,b:this.height-this.paddingTop},e={};this.ctx.font=c.string;this._pointLabelSizes=[];var f=Ia(this);for(a=0;a<f;a++){var h=this.getPointPosition(a,this.drawingArea+5);var k=this.ctx;var l=c.lineHeight;var m=this.pointLabels[a]||"";m=y.isArray(m)?{w:y.longestText(k,k.font,m),h:m.length*l}:{w:k.measureText(m).width,h:l};this._pointLabelSizes[a]=m;k=this.getIndexAngle(a);var q=y.toDegrees(k)%360;l=Xb(q,h.x,m.w,0,180);h=Xb(q,h.y,m.h,90,270);l.start<d.l&&(d.l=l.start,e.l=k);l.end>d.r&&(d.r=l.end,e.r=
k);h.start<d.t&&(d.t=h.start,e.t=k);h.end>d.b&&(d.b=h.end,e.b=k)}this.setReductions(this.drawingArea,d,e)}else this.setCenterPoint(0,0,0,0)},setReductions:function(a,c,d){var e=c.l/Math.sin(d.l),f=Math.max(c.r-this.width,0)/Math.sin(d.r),h=-c.t/Math.cos(d.t);c=-Math.max(c.b-(this.height-this.paddingTop),0)/Math.cos(d.b);e=zb(e);f=zb(f);h=zb(h);c=zb(c);this.drawingArea=Math.min(Math.floor(a-(e+f)/2),Math.floor(a-(h+c)/2));this.setCenterPoint(e,f,h,c)},setCenterPoint:function(a,c,d,e){d+=this.drawingArea;
e=this.height-this.paddingTop-e-this.drawingArea;this.xCenter=Math.floor((a+this.drawingArea+(this.width-c-this.drawingArea))/2+this.left);this.yCenter=Math.floor((d+e)/2+this.top+this.paddingTop)},getIndexAngle:function(a){return a*(2*Math.PI/Ia(this))+(this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0)*Math.PI*2/360},getDistanceFromCenterForValue:function(a){if(null===a)return 0;var c=this.drawingArea/(this.max-this.min);return this.options.ticks.reverse?(this.max-
a)*c:(a-this.min)*c},getPointPosition:function(a,c){a=this.getIndexAngle(a)-Math.PI/2;return{x:Math.cos(a)*c+this.xCenter,y:Math.sin(a)*c+this.yCenter}},getPointPositionForValue:function(a,c){return this.getPointPosition(a,this.getDistanceFromCenterForValue(c))},getBasePosition:function(){var a=this.min,c=this.max;return this.getPointPositionForValue(0,this.beginAtZero?0:0>a&&0>c?c:0<a&&0<c?a:0)},draw:function(){var a=this,c=a.options,d=c.gridLines,e=c.ticks;if(c.display){var f=a.ctx,h=this.getIndexAngle(0),
k=y.options._parseFont(e);(c.angleLines.display||c.pointLabels.display)&&function(a){var c=a.ctx,d=a.options,e=d.angleLines,f=d.gridLines,h=d.pointLabels,k=zc(e.lineWidth,f.lineWidth),l=zc(e.color,f.color),m=Wa(d);c.save();c.lineWidth=k;c.strokeStyle=l;c.setLineDash&&(c.setLineDash(Oc([e.borderDash,f.borderDash,[]])),c.lineDashOffset=Oc([e.borderDashOffset,f.borderDashOffset,0]));d=a.getDistanceFromCenterForValue(d.ticks.reverse?a.min:a.max);f=y.options._parseFont(h);c.font=f.string;c.textBaseline=
"middle";for(var q=Ia(a)-1;0<=q;q--){if(e.display&&k&&l){var p=a.getPointPosition(q,d);c.beginPath();c.moveTo(a.xCenter,a.yCenter);c.lineTo(p.x,p.y);c.stroke()}if(h.display){p=a.getPointPosition(q,d+(0===q?m/2:0)+5);var t=Hc(h.fontColor,q,N.global.defaultFontColor);c.fillStyle=t;t=a.getIndexAngle(q);t=y.toDegrees(t);c.textAlign=0===t||180===t?"center":180>t?"left":"right";var u=a._pointLabelSizes[q],n=p;90===t||270===t?n.y-=u.h/2:(270<t||90>t)&&(n.y-=u.h);t=c;u=a.pointLabels[q]||"";var v=p,A=f.lineHeight,
C=v.y+A/2;if(y.isArray(u))for(n=0,p=u.length;n<p;++n)t.fillText(u[n],v.x,C),C+=A;else t.fillText(u,v.x,C)}}c.restore()}(a);y.each(a.ticks,function(c,l){if(0<l||e.reverse){var m=a.getDistanceFromCenterForValue(a.ticksAsNumbers[l]);if(d.display&&0!==l){var q=a.ctx;var p=d.circular;var t=Ia(a),u=Hc(d.color,l-1);l=Hc(d.lineWidth,l-1);if((p||t)&&u&&l){if(q.save(),q.strokeStyle=u,q.lineWidth=l,q.setLineDash&&(q.setLineDash(d.borderDash||[]),q.lineDashOffset=d.borderDashOffset||0),q.beginPath(),p)q.arc(a.xCenter,
a.yCenter,m,0,2*Math.PI);else for(p=a.getPointPosition(0,m),q.moveTo(p.x,p.y),u=1;u<t;u++)p=a.getPointPosition(u,m),q.lineTo(p.x,p.y);q.closePath();q.stroke();q.restore()}}if(e.display){q=zc(e.fontColor,N.global.defaultFontColor);if(f.font=k.string,f.save(),f.translate(a.xCenter,a.yCenter),f.rotate(h),e.showLabelBackdrop)t=f.measureText(c).width,f.fillStyle=e.backdropColor,f.fillRect(-t/2-e.backdropPaddingX,-m-k.size/2-e.backdropPaddingY,t+2*e.backdropPaddingX,k.size+2*e.backdropPaddingY);f.textAlign=
"center";f.textBaseline="middle";f.fillStyle=q;f.fillText(c,0,-m);f.restore()}}})}}});Mc._defaults=Zc;var Ec=y.valueOrDefault,Rc=Number.MIN_SAFE_INTEGER||-9007199254740991,Ic=Number.MAX_SAFE_INTEGER||9007199254740991,kc={millisecond:{common:!0,size:1,steps:[1,2,5,10,20,50,100,250,500]},second:{common:!0,size:1E3,steps:[1,2,5,10,15,30]},minute:{common:!0,size:6E4,steps:[1,2,5,10,15,30]},hour:{common:!0,size:36E5,steps:[1,2,3,6,12]},day:{common:!0,size:864E5,steps:[1,2,5]},week:{common:!1,size:6048E5,
steps:[1,2,3,4]},month:{common:!0,size:2628E6,steps:[1,2,3]},quarter:{common:!1,size:7884E6,steps:[1,2,3,4]},year:{common:!0,size:3154E7}},Ta=Object.keys(kc),Sc=fb.extend({initialize:function(){this.mergeTicksOptions();fb.prototype.initialize.call(this)},update:function(){var a=this.options,c=a.time||(a.time={});a=this._adapter=new Fc._date(a.adapters.date);return c.format&&console.warn("options.time.format is deprecated and replaced by options.time.parser."),y.mergeIf(c.displayFormats,a.formats()),
fb.prototype.update.apply(this,arguments)},getRightValue:function(a){return a&&void 0!==a.t&&(a=a.t),fb.prototype.getRightValue.call(this,a)},determineDataLimits:function(){var a,c,d,e=this.chart,f=this._adapter,h=this.options.time,k=h.unit||"day",l=Ic,m=Rc,q=[],p=[],t=[];var u=e.data.labels||[];var n=0;for(a=u.length;n<a;++n)t.push(ib(this,u[n]));n=0;for(a=(e.data.datasets||[]).length;n<a;++n)if(e.isDatasetVisible(n))if(d=e.data.datasets[n].data,y.isObject(d[0]))for(p[n]=[],u=0,c=d.length;u<c;++u){var A=
ib(this,d[u]);q.push(A);p[n][u]=A}else{u=0;for(c=t.length;u<c;++u)q.push(t[u]);p[n]=t.slice(0)}else p[n]=[];t.length&&(t=Nb(t).sort(Yb),l=Math.min(l,t[0]),m=Math.max(m,t[t.length-1]));q.length&&(q=Nb(q).sort(Yb),l=Math.min(l,q[0]),m=Math.max(m,q[q.length-1]));l=ib(this,h.min)||l;m=ib(this,h.max)||m;l=l===Ic?+f.startOf(Date.now(),k):l;m=m===Rc?+f.endOf(Date.now(),k)+1:m;this.min=Math.min(l,m);this.max=Math.max(l+1,m);this._horizontal=this.isHorizontal();this._table=[];this._timestamps={data:q,datasets:p,
labels:t}},buildTicks:function(){var a,c,d=this.min,e=this.max,f=this.options,h=f.time,k=[],l=[];switch(f.ticks.source){case "data":k=this._timestamps.data;break;case "labels":k=this._timestamps.labels;break;default:k=Ka(this,d,e,this.getLabelCapacity(d))}"ticks"===f.bounds&&k.length&&(d=k[0],e=k[k.length-1]);d=ib(this,h.min)||d;e=ib(this,h.max)||e;var m=0;for(a=k.length;m<a;++m)(c=k[m])>=d&&c<=e&&l.push(c);return this.min=d,this.max=e,this._unit=h.unit||function(a,c,d,e,f){var h,k;for(h=Ta.length-
1;h>=Ta.indexOf(d);h--)if(k=Ta[h],kc[k].common&&a._adapter.diff(f,e,k)>=c.length)return k;return Ta[d?Ta.indexOf(d):0]}(this,l,h.minUnit,this.min,this.max),this._majorUnit=lc(this._unit),this._table=function(a,c,d,e){if("linear"===e||!a.length)return[{time:c,pos:0},{time:d,pos:1}];var f,h,k=[],l=[c];e=0;for(f=a.length;e<f;++e)(h=a[e])>c&&h<d&&l.push(h);l.push(d);e=0;for(f=l.length;e<f;++e)c=l[e+1],a=l[e-1],h=l[e],void 0!==a&&void 0!==c&&Math.round((c+a)/2)===h||k.push({time:h,pos:e/(f-1)});return k}(this._timestamps.data,
d,e,f.distribution),this._offsets=function(a,c,d,e,f){var h,k;e=d=0;return f.offset&&c.length&&(f.time.min||(h=pb(a,"time",c[0],"pos"),d=1===c.length?1-h:(pb(a,"time",c[1],"pos")-h)/2),f.time.max||(k=pb(a,"time",c[c.length-1],"pos"),e=1===c.length?k:(k-pb(a,"time",c[c.length-2],"pos"))/2)),{start:d,end:e}}(this._table,l,0,0,f),f.ticks.reverse&&l.reverse(),function(a,c,d){var e,f=[];var h=0;for(e=c.length;h<e;++h){var k=c[h];var l=!!d&&k===+a._adapter.startOf(k,d);f.push({value:k,major:l})}return f}(this,
l,this._majorUnit)},getLabelForIndex:function(a,c){var d=this._adapter,e=this.chart.data,f=this.options.time,h=e.labels&&a<e.labels.length?e.labels[a]:"";a=e.datasets[c].data[a];return y.isObject(a)&&(h=this.getRightValue(a)),f.tooltipFormat?d.format(qb(this,h),f.tooltipFormat):"string"==typeof h?h:d.format(qb(this,h),f.displayFormats.datetime)},tickFormatFunction:function(a,c,d,e){var f=this._adapter,h=this.options,k=h.time.displayFormats,l=k[this._unit],m=this._majorUnit,q=k[m],p=+f.startOf(a,m);
k=h.ticks.major;m=k.enabled&&m&&q&&a===p;a=f.format(a,e||(m?q:l));h=m?k:h.ticks.minor;return(h=Ec(h.callback,h.userCallback))?h(a,c,d):a},convertTicksToLabels:function(a){var c,d=[];var e=0;for(c=a.length;e<c;++e)d.push(this.tickFormatFunction(a[e].value,e,a));return d},getPixelForOffset:function(a){var c=this.options.ticks.reverse,d=this._horizontal?this.width:this.height,e=this._horizontal?c?this.right:this.left:c?this.bottom:this.top;a=pb(this._table,"time",a,"pos");d=d*(this._offsets.start+a)/
(this._offsets.start+1+this._offsets.end);return c?e-d:e+d},getPixelForValue:function(a,c,d){var e=null;if(void 0!==c&&void 0!==d&&(e=this._timestamps.datasets[d][c]),null===e&&(e=ib(this,a)),null!==e)return this.getPixelForOffset(e)},getPixelForTick:function(a){var c=this.getTicks();return 0<=a&&a<c.length?this.getPixelForOffset(c[a].value):null},getValueForPixel:function(a){var c=this._horizontal?this.width:this.height,d=this._horizontal?this.left:this.top;a=pb(this._table,"pos",(c?(a-d)/c:0)*(this._offsets.start+
1+this._offsets.start)-this._offsets.end,"time");return this._adapter._create(a)},getLabelWidth:function(a){var c=this.options.ticks;a=this.ctx.measureText(a).width;var d=y.toRadians(c.maxRotation),e=Math.sin(d);return a*Math.cos(d)+Ec(c.fontSize,N.global.defaultFontSize)*e},getLabelCapacity:function(a){a=this.tickFormatFunction(a,0,[],this.options.time.displayFormats.millisecond);a=this.getLabelWidth(a);var c=this.isHorizontal()?this.width:this.height;a=Math.floor(c/a);return 0<a?a:1}});Sc._defaults=
{position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}};var cd={category:jc,linear:Nc,logarithmic:Pc,radialLinear:Mc,time:Sc},Jc={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};Fc._date.override("function"==
typeof k?{_id:"moment",formats:function(){return Jc},parse:function(a,c){return"string"==typeof a&&"string"==typeof c?a=k(a,c):a instanceof k||(a=k(a)),a.isValid()?a.valueOf():null},format:function(a,c){return k(a).format(c)},add:function(a,c,d){return k(a).add(c,d).valueOf()},diff:function(a,c,d){return k.duration(k(a).diff(k(c))).as(d)},startOf:function(a,c,d){return a=k(a),"isoWeek"===c?a.isoWeekday(d).valueOf():a.startOf(c).valueOf()},endOf:function(a,c){return k(a).endOf(c).valueOf()},_create:function(a){return k(a)}}:
{});N._set("global",{plugins:{filler:{propagate:!0}}});var ad={dataset:function(a){var c=a.fill;a=a.chart;var d=a.getDatasetMeta(c),e=d&&a.isDatasetVisible(c)&&d.dataset._children||[],f=e.length||0;return f?function(a,c){return c<f&&e[c]._view||null}:null},boundary:function(a){var c=(a=a.boundary)?a.x:null,d=a?a.y:null;return function(a){return{x:null===c?a.x:c,y:null===d?a.y:d}}}},Ib=y.noop,Hb=y.valueOrDefault;N._set("global",{legend:{display:!0,position:"top",fullWidth:!0,reverse:!1,weight:1E3,
onClick:function(a,c){a=c.datasetIndex;c=this.chart;var d=c.getDatasetMeta(a);d.hidden=null===d.hidden?!c.data.datasets[a].hidden:null;c.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(a){var c=a.data;return y.isArray(c.datasets)?c.datasets.map(function(c,d){return{text:c.label,fillStyle:y.isArray(c.backgroundColor)?c.backgroundColor[0]:c.backgroundColor,hidden:!a.isDatasetVisible(d),lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,
lineJoin:c.borderJoinStyle,lineWidth:c.borderWidth,strokeStyle:c.borderColor,pointStyle:c.pointStyle,datasetIndex:d}},this):[]}}},legendCallback:function(a){var c=[];c.push('<ul class="'+a.id+'-legend">');for(var d=0;d<a.data.datasets.length;d++)c.push('<li><span style="background-color:'+a.data.datasets[d].backgroundColor+'"></span>'),a.data.datasets[d].label&&c.push(a.data.datasets[d].label),c.push("</li>");return c.push("</ul>"),c.join("")}});var Tc=wa.extend({initialize:function(a){y.extend(this,
a);this.legendHitBoxes=[];this._hoveredItem=null;this.doughnutMode=!1},beforeUpdate:Ib,update:function(a,c,d){return this.beforeUpdate(),this.maxWidth=a,this.maxHeight=c,this.margins=d,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this.beforeBuildLabels(),this.buildLabels(),this.afterBuildLabels(),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate(),this.minSize},afterUpdate:Ib,beforeSetDimensions:Ib,setDimensions:function(){this.isHorizontal()?(this.width=this.maxWidth,
this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height);this.paddingBottom=this.paddingRight=this.paddingTop=this.paddingLeft=0;this.minSize={width:0,height:0}},afterSetDimensions:Ib,beforeBuildLabels:Ib,buildLabels:function(){var a=this,c=a.options.labels||{},d=y.callback(c.generateLabels,[a.chart],a)||[];c.filter&&(d=d.filter(function(d){return c.filter(d,a.chart.data)}));a.options.reverse&&d.reverse();a.legendItems=d},afterBuildLabels:Ib,beforeFit:Ib,
fit:function(){var a=this.options,c=a.labels;a=a.display;var d=this.ctx,e=y.options._parseFont(c),f=e.size,h=this.legendHitBoxes=[],k=this.minSize,l=this.isHorizontal();if(l?(k.width=this.maxWidth,k.height=a?10:0):(k.width=a?10:0,k.height=this.maxHeight),a)if(d.font=e.string,l){var m=this.lineWidths=[0],q=0;d.textAlign="left";d.textBaseline="top";y.each(this.legendItems,function(a,e){a=(c.usePointStyle&&c.boxWidth>f?f:c.boxWidth)+f/2+d.measureText(a.text).width;(0===e||m[m.length-1]+a+c.padding>k.width)&&
(q+=f+c.padding,m[m.length-(0<e?0:1)]=c.padding);h[e]={left:0,top:0,width:a,height:f};m[m.length-1]+=a+c.padding});k.height+=q}else{var p=c.padding,t=this.columnWidths=[],u=c.padding,n=0,A=0,C=f+p;y.each(this.legendItems,function(a,e){a=(c.usePointStyle&&c.boxWidth>f?f:c.boxWidth)+f/2+d.measureText(a.text).width;0<e&&A+C>k.height-p&&(u+=n+c.padding,t.push(n),n=0,A=0);n=Math.max(n,a);A+=C;h[e]={left:0,top:0,width:a,height:f}});u+=n;t.push(n);k.width+=u}this.width=k.width;this.height=k.height},afterFit:Ib,
isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var a=this,c=a.options,d=c.labels,e=N.global,f=e.defaultColor,h=e.elements.line,k=a.width,l=a.lineWidths;if(c.display){var m=a.ctx;e=Hb(d.fontColor,e.defaultFontColor);var q=y.options._parseFont(d),p=q.size;m.textAlign="left";m.textBaseline="middle";m.lineWidth=.5;m.strokeStyle=e;m.fillStyle=e;m.font=q.string;var t=d.usePointStyle&&d.boxWidth>p?p:d.boxWidth,u=a.legendHitBoxes,n=a.isHorizontal();
var A=n?{x:a.left+(k-l[0])/2+d.padding,y:a.top+d.padding,line:0}:{x:a.left+d.padding,y:a.top+d.padding,line:0};var C=p+d.padding;y.each(a.legendItems,function(e,q){var v=m.measureText(e.text).width,x=t+p/2+v,B=A.x,z=A.y;n?0<q&&B+x+d.padding>a.left+a.minSize.width&&(z=A.y+=C,A.line++,B=A.x=a.left+(k-l[A.line])/2+d.padding):0<q&&z+C>a.top+a.minSize.height&&(B=A.x=B+a.columnWidths[A.line]+d.padding,z=A.y=a.top+d.padding,A.line++);(function(a,d,e){if(!(isNaN(t)||0>=t)){m.save();var k=Hb(e.lineWidth,h.borderWidth);
(m.fillStyle=Hb(e.fillStyle,f),m.lineCap=Hb(e.lineCap,h.borderCapStyle),m.lineDashOffset=Hb(e.lineDashOffset,h.borderDashOffset),m.lineJoin=Hb(e.lineJoin,h.borderJoinStyle),m.lineWidth=k,m.strokeStyle=Hb(e.strokeStyle,f),m.setLineDash&&m.setLineDash(Hb(e.lineDash,h.borderDash)),c.labels&&c.labels.usePointStyle)?y.canvas.drawPoint(m,e.pointStyle,t*Math.SQRT2/2,a+t/2,d+p/2):(0!==k&&m.strokeRect(a,d,t,p),m.fillRect(a,d,t,p));m.restore()}})(B,z,e);u[q].left=B;u[q].top=z;(function(a,c,d,e){var f=p/2;a=
t+f+a;c+=f;m.fillText(d.text,a,c);d.hidden&&(m.beginPath(),m.lineWidth=2,m.moveTo(a,c),m.lineTo(a+e,c),m.stroke())})(B,z,e,v);n?A.x+=x+d.padding:A.y+=C})}},_getLegendItemAt:function(a,c){var d,e;if(a>=this.left&&a<=this.right&&c>=this.top&&c<=this.bottom){var f=this.legendHitBoxes;for(d=0;d<f.length;++d)if(a>=(e=f[d]).left&&a<=e.left+e.width&&c>=e.top&&c<=e.top+e.height)return this.legendItems[d]}return null},handleEvent:function(a){var c=this.options,d="mouseup"===a.type?"click":a.type;if("mousemove"===
d){if(!c.onHover&&!c.onLeave)return}else if("click"!==d||!c.onClick)return;var e=this._getLegendItemAt(a.x,a.y);"click"===d?e&&c.onClick&&c.onClick.call(this,a.native,e):(c.onLeave&&e!==this._hoveredItem&&(this._hoveredItem&&c.onLeave.call(this,a.native,this._hoveredItem),this._hoveredItem=e),c.onHover&&e&&c.onHover.call(this,a.native,e))}}),$c={id:"legend",_element:Tc,beforeInit:function(a){var c=a.options.legend;c&&V(a,c)},beforeUpdate:function(a){var c=a.options.legend,d=a.legend;c?(y.mergeIf(c,
N.global.legend),d?($a.configure(a,d,c),d.options=c):V(a,c)):d&&($a.removeBox(a,d),delete a.legend)},afterEvent:function(a,c){(a=a.legend)&&a.handleEvent(c)}},wb=y.noop;N._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2E3}});var Qc=wa.extend({initialize:function(a){y.extend(this,a);this.legendHitBoxes=[]},beforeUpdate:wb,update:function(a,c,d){return this.beforeUpdate(),this.maxWidth=a,this.maxHeight=c,this.margins=d,this.beforeSetDimensions(),
this.setDimensions(),this.afterSetDimensions(),this.beforeBuildLabels(),this.buildLabels(),this.afterBuildLabels(),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate(),this.minSize},afterUpdate:wb,beforeSetDimensions:wb,setDimensions:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height);this.paddingBottom=this.paddingRight=this.paddingTop=this.paddingLeft=0;this.minSize={width:0,height:0}},
afterSetDimensions:wb,beforeBuildLabels:wb,buildLabels:wb,afterBuildLabels:wb,beforeFit:wb,fit:function(){var a=this.options,c=a.display,d=this.minSize,e=y.isArray(a.text)?a.text.length:1,f=y.options._parseFont(a);a=c?e*f.lineHeight+2*a.padding:0;this.isHorizontal()?(d.width=this.maxWidth,d.height=a):(d.width=a,d.height=this.maxHeight);this.width=d.width;this.height=d.height},afterFit:wb,isHorizontal:function(){var a=this.options.position;return"top"===a||"bottom"===a},draw:function(){var a=this.ctx,
c=this.options;if(c.display){var d,e,f,h=y.options._parseFont(c),k=h.lineHeight,l=k/2+c.padding,m=0,q=this.top,p=this.left,t=this.bottom,u=this.right;a.fillStyle=y.valueOrDefault(c.fontColor,N.global.defaultFontColor);a.font=h.string;this.isHorizontal()?(e=p+(u-p)/2,f=q+l,d=u-p):(e="left"===c.position?p+l:u-l,f=q+(t-q)/2,d=t-q,m=Math.PI*("left"===c.position?-.5:.5));a.save();a.translate(e,f);a.rotate(m);a.textAlign="center";a.textBaseline="middle";c=c.text;if(y.isArray(c))for(f=e=0;f<c.length;++f)a.fillText(c[f],
0,e,d),e+=k;else a.fillText(c,0,0,d);a.restore()}}}),Jb={},dd={id:"filler",afterDatasetsUpdate:function(a,c){var d,e,f=(a.data.datasets||[]).length,h=c.propagate,k=[];for(c=0;c<f;++c){var l=null;(e=(d=a.getDatasetMeta(c)).dataset)&&e._model&&e instanceof sa.Line&&(l={visible:a.isDatasetVisible(c),fill:Xa(e,c,f),chart:a,el:e});d.$filler=l;k.push(l)}for(c=0;c<f;++c)if(l=k[c]){a=l;a:{d=k;var m=d[c].fill,q=[c];if(h){for(;!1!==m&&-1===q.indexOf(m);){if(!isFinite(m)){e=m;break a}if(!(e=d[m]))break;if(e.visible){e=
m;break a}q.push(m);m=e.fill}e=!1}else e=m}a.fill=e;l.boundary=Ya(l);e=a=l;d=e.fill;l="dataset";e=!1===d?null:(isFinite(d)||(l="boundary"),ad[l](e));a.mapper=e}},beforeDatasetDraw:function(a,c){var d=c.meta.$filler;if(d){c=a.ctx;var e=d.el,f=e._view,h=e._children||[];d=d.mapper;var k=f.backgroundColor||N.global.defaultColor;if(d&&k&&h.length){y.canvas.clipArea(c,a.chartArea);var l=e._loop,m,q;e=h.length;var p=f.spanGaps,t=[],u=[],n=0,A=0;c.beginPath();a=0;for(l=e+!!l;a<l;++a){var v=d(q=h[m=a%e]._view,
m,f);var C=q&&!q.skip;var x=v&&!v.skip;C&&x?(n=t.push(q),A=u.push(v)):n&&A&&(p?(C&&t.push(q),x&&u.push(v)):(rb(c,t,u,n,A),n=A=0,t=[],u=[]))}rb(c,t,u,n,A);c.closePath();c.fillStyle=k;c.fill();y.canvas.unclipArea(c)}}}},ed={id:"title",_element:Qc,beforeInit:function(a){var c=a.options.title;c&&oa(a,c)},beforeUpdate:function(a){var c=a.options.title,d=a.titleBlock;c?(y.mergeIf(c,N.global.title),d?($a.configure(a,d,c),d.options=c):oa(a,c)):d&&($a.removeBox(a,d),delete a.titleBlock)}},Kc;for(Kc in Jb.filler=
dd,Jb.legend=$c,Jb.title=ed,Y.helpers=y,function(){function a(a,c,d){var e;return"string"==typeof a?(e=parseInt(a,10),-1!==a.indexOf("%")&&(e=e/100*c.parentNode[d])):e=a,e}function c(c,d,e){var f=document.defaultView,h=y._getParentNode(c),k=f.getComputedStyle(c)[d];d=f.getComputedStyle(h)[d];f=null!=k&&"none"!==k;var l=null!=d&&"none"!==d,m=Number.POSITIVE_INFINITY;return f||l?Math.min(f?a(k,c,e):m,l?a(d,h,e):m):"none"}y.where=function(a,c){if(y.isArray(a)&&Array.prototype.filter)return a.filter(c);
var d=[];return y.each(a,function(a){c(a)&&d.push(a)}),d};y.findIndex=Array.prototype.findIndex?function(a,c,d){return a.findIndex(c,d)}:function(a,c,d){d=void 0===d?a:d;for(var e=0,f=a.length;e<f;++e)if(c.call(d,a[e],e,a))return e;return-1};y.findNextWhere=function(a,c,d){y.isNullOrUndef(d)&&(d=-1);for(d+=1;d<a.length;d++){var e=a[d];if(c(e))return e}};y.findPreviousWhere=function(a,c,d){y.isNullOrUndef(d)&&(d=a.length);for(--d;0<=d;d--){var e=a[d];if(c(e))return e}};y.isNumber=function(a){return!isNaN(parseFloat(a))&&
isFinite(a)};y.almostEquals=function(a,c,d){return Math.abs(a-c)<d};y.almostWhole=function(a,c){var d=Math.round(a);return d-c<a&&d+c>a};y.max=function(a){return a.reduce(function(a,c){return isNaN(c)?a:Math.max(a,c)},Number.NEGATIVE_INFINITY)};y.min=function(a){return a.reduce(function(a,c){return isNaN(c)?a:Math.min(a,c)},Number.POSITIVE_INFINITY)};y.sign=Math.sign?function(a){return Math.sign(a)}:function(a){return 0==(a=+a)||isNaN(a)?a:0<a?1:-1};y.log10=Math.log10?function(a){return Math.log10(a)}:
function(a){var c=Math.log(a)*Math.LOG10E,d=Math.round(c);return a===Math.pow(10,d)?d:c};y.toRadians=function(a){return Math.PI/180*a};y.toDegrees=function(a){return 180/Math.PI*a};y._decimalPlaces=function(a){if(y.isFinite(a)){for(var c=1,d=0;Math.round(a*c)/c!==a;)c*=10,d++;return d}};y.getAngleFromPoint=function(a,c){var d=c.x-a.x;c=c.y-a.y;a=Math.sqrt(d*d+c*c);d=Math.atan2(c,d);return d<-.5*Math.PI&&(d+=2*Math.PI),{angle:d,distance:a}};y.distanceBetweenPoints=function(a,c){return Math.sqrt(Math.pow(c.x-
a.x,2)+Math.pow(c.y-a.y,2))};y.aliasPixel=function(a){return 0==a%2?0:.5};y._alignPixel=function(a,c,d){a=a.currentDevicePixelRatio;d/=2;return Math.round((c-d)*a)/a+d};y.splineCurve=function(a,c,d,e){a=a.skip?c:a;d=d.skip?c:d;var f=Math.sqrt(Math.pow(c.x-a.x,2)+Math.pow(c.y-a.y,2)),h=Math.sqrt(Math.pow(d.x-c.x,2)+Math.pow(d.y-c.y,2)),k=f/(f+h);f=h/(f+h);k=e*(isNaN(k)?0:k);e*=isNaN(f)?0:f;return{previous:{x:c.x-k*(d.x-a.x),y:c.y-k*(d.y-a.y)},next:{x:c.x+e*(d.x-a.x),y:c.y+e*(d.y-a.y)}}};y.EPSILON=
Number.EPSILON||1E-14;y.splineCurveMonotone=function(a){var c,d,e,f,h,k,l,m,q=(a||[]).map(function(a){return{model:a._model,deltaK:0,mK:0}}),p=q.length;for(a=0;a<p;++a)if(!(d=q[a]).model.skip){if(c=0<a?q[a-1]:null,(e=a<p-1?q[a+1]:null)&&!e.model.skip){var t=e.model.x-d.model.x;d.deltaK=0!==t?(e.model.y-d.model.y)/t:0}!c||c.model.skip?d.mK=d.deltaK:!e||e.model.skip?d.mK=c.deltaK:this.sign(c.deltaK)!==this.sign(d.deltaK)?d.mK=0:d.mK=(c.deltaK+d.deltaK)/2}for(a=0;a<p-1;++a)d=q[a],e=q[a+1],d.model.skip||
e.model.skip||(y.almostEquals(d.deltaK,0,this.EPSILON)?d.mK=e.mK=0:(f=d.mK/d.deltaK,h=e.mK/d.deltaK,9>=(l=Math.pow(f,2)+Math.pow(h,2))||(k=3/Math.sqrt(l),d.mK=f*k*d.deltaK,e.mK=h*k*d.deltaK)));for(a=0;a<p;++a)(d=q[a]).model.skip||(c=0<a?q[a-1]:null,e=a<p-1?q[a+1]:null,c&&!c.model.skip&&(m=(d.model.x-c.model.x)/3,d.model.controlPointPreviousX=d.model.x-m,d.model.controlPointPreviousY=d.model.y-m*d.mK),e&&!e.model.skip&&(m=(e.model.x-d.model.x)/3,d.model.controlPointNextX=d.model.x+m,d.model.controlPointNextY=
d.model.y+m*d.mK))};y.nextItem=function(a,c,d){return d?c>=a.length-1?a[0]:a[c+1]:c>=a.length-1?a[a.length-1]:a[c+1]};y.previousItem=function(a,c,d){return d?0>=c?a[a.length-1]:a[c-1]:0>=c?a[0]:a[c-1]};y.niceNum=function(a,c){var d=Math.floor(y.log10(a));a/=Math.pow(10,d);return(c?1.5>a?1:3>a?2:7>a?5:10:1>=a?1:2>=a?2:5>=a?5:10)*Math.pow(10,d)};y.requestAnimFrame="undefined"==typeof window?function(a){a()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||
window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){return window.setTimeout(a,1E3/60)};y.getRelativePosition=function(a,c){var d,e,f=a.originalEvent||a;a=a.target||a.srcElement;var h=a.getBoundingClientRect(),k=f.touches;k&&0<k.length?(d=k[0].clientX,e=k[0].clientY):(d=f.clientX,e=f.clientY);f=parseFloat(y.getStyle(a,"padding-left"));k=parseFloat(y.getStyle(a,"padding-top"));var l=parseFloat(y.getStyle(a,"padding-right")),m=parseFloat(y.getStyle(a,"padding-bottom"));return{x:Math.round((d-
h.left-f)/(h.right-h.left-f-l)*a.width/c.currentDevicePixelRatio),y:Math.round((e-h.top-k)/(h.bottom-h.top-k-m)*a.height/c.currentDevicePixelRatio)}};y.getConstraintWidth=function(a){return c(a,"max-width","clientWidth")};y.getConstraintHeight=function(a){return c(a,"max-height","clientHeight")};y._calculatePadding=function(a,c,d){return-1<(c=y.getStyle(a,c)).indexOf("%")?d*parseInt(c,10)/100:parseInt(c,10)};y._getParentNode=function(a){a=a.parentNode;return a&&"[object ShadowRoot]"===a.toString()&&
(a=a.host),a};y.getMaximumWidth=function(a){var c=y._getParentNode(a);if(!c)return a.clientWidth;var d=c.clientWidth;c=d-y._calculatePadding(c,"padding-left",d)-y._calculatePadding(c,"padding-right",d);a=y.getConstraintWidth(a);return isNaN(a)?c:Math.min(c,a)};y.getMaximumHeight=function(a){var c=y._getParentNode(a);if(!c)return a.clientHeight;var d=c.clientHeight;c=d-y._calculatePadding(c,"padding-top",d)-y._calculatePadding(c,"padding-bottom",d);a=y.getConstraintHeight(a);return isNaN(a)?c:Math.min(c,
a)};y.getStyle=function(a,c){return a.currentStyle?a.currentStyle[c]:document.defaultView.getComputedStyle(a,null).getPropertyValue(c)};y.retinaScale=function(a,c){c=a.currentDevicePixelRatio=c||"undefined"!=typeof window&&window.devicePixelRatio||1;if(1!==c){var d=a.canvas,e=a.height,f=a.width;d.height=e*c;d.width=f*c;a.ctx.scale(c,c);d.style.height||d.style.width||(d.style.height=e+"px",d.style.width=f+"px")}};y.fontString=function(a,c,d){return c+" "+a+"px "+d};y.longestText=function(a,c,d,e){var f=
(e=e||{}).data=e.data||{},h=e.garbageCollect=e.garbageCollect||[];e.font!==c&&(f=e.data={},h=e.garbageCollect=[],e.font=c);a.font=c;var k=0;y.each(d,function(c){null!=c&&!0!==y.isArray(c)?k=y.measureText(a,f,h,k,c):y.isArray(c)&&y.each(c,function(c){null==c||y.isArray(c)||(k=y.measureText(a,f,h,k,c))})});c=h.length/2;if(c>d.length){for(d=0;d<c;d++)delete f[h[d]];h.splice(0,c)}return k};y.measureText=function(a,c,d,e,f){var h=c[f];return h||(h=c[f]=a.measureText(f).width,d.push(f)),h>e&&(e=h),e};y.numberOfLabelLines=
function(a){var c=1;return y.each(a,function(a){y.isArray(a)&&a.length>c&&(c=a.length)}),c};y.color=ab?function(a){return a instanceof CanvasGradient&&(a=N.global.defaultColor),ab(a)}:function(a){return console.error("Color.js not found!"),a};y.getHoverColor=function(a){return a instanceof CanvasPattern||a instanceof CanvasGradient?a:y.color(a).saturate(.5).darken(.1).rgbString()}}(),Y._adapters=Fc,Y.Animation=Bb,Y.animationService=bc,Y.controllers=ka,Y.DatasetController=Ua,Y.defaults=N,Y.Element=
wa,Y.elements=sa,Y.Interaction=aa,Y.layouts=$a,Y.platform=gc,Y.plugins=ia,Y.Scale=fb,Y.scaleService=pc,Y.Ticks=qc,Y.Tooltip=Bc,Y.helpers.each(cd,function(a,c){Y.scaleService.registerScaleType(c,a,a._defaults)}),Jb)Jb.hasOwnProperty(Kc)&&Y.plugins.register(Jb[Kc]);Y.platform.initialize();return"undefined"!=typeof window&&(window.Chart=Y),Y.Chart=Y,Y.Legend=Jb.legend._element,Y.Title=Jb.title._element,Y.pluginService=Y.plugins,Y.PluginBase=Y.Element.extend({}),Y.canvasHelpers=Y.helpers.canvas,Y.layoutService=
Y.layouts,Y.LinearScaleBase=xc,Y.helpers.each("Bar Bubble Doughnut Line PolarArea Radar Scatter".split(" "),function(a){Y[a]=function(c,d){return new Y(c,Y.helpers.merge(d||{},{type:a.charAt(0).toLowerCase()+a.slice(1)}))}}),Y});
define("elements/chartTable/chartTable","module jquery underscore chart elements/element/element app/utilities/XyTools app/configuration app/events app/completionApi app/player/communication lang/lang".split(" "),function(k,c,f,m,n,p,t,q,a,h,l){var d={chart:"bar",legend:!1},e={chart:"pie",legend:!0},u={chart:"horizontalBar",legend:!1},z={chart:"polarArea",legend:!0},C={chart:"doughnut",legend:!0};k=n.extend({initialize:function(a){this.constructor.__super__.initialize.call(this,a)},render:function(){this.buildChart("bar",
!0)},getChartType:function(){if(this.$el.hasClass("ChartBar"))return d;if(this.$el.hasClass("ChartPie"))return e;if(this.$el.hasClass("ChartHorizontalBar"))return u;if(this.$el.hasClass("ChartPolarArea"))return z;if(this.$el.hasClass("ChartDoughnut"))return C},buildChart:function(){var a=this.$el.attr("title"),d=this.$el.attr("summary").length?this.$el.attr("summary"):"";this.$el.closest(".TableWrapper").find(".TableTitleWrapper").css("display","none");var e=[],f=[],h=[];c("tbody tr:first td",this.$el).each(function(){e.push(c(this).find(".RichText").html())});
var k=c("tbody tr:last td",this.$el).length;c("tbody tr:last td",this.$el).each(function(){f.push(c(this).find(".RichText").html())});if(c("tfoot tr:first td",this.$el).length)c("tfoot tr:first td",this.$el).each(function(){h.push(c(this).find(".RichText").html())});else for(var l=0;l<k;l++)h.push(this.config.defaultChartColors[l%this.config.defaultChartColors.length]);k=c('<canvas width="800" height="450"></canvas>');l=this.$el.closest(".TableWrapper");l.removeClass("TableWrapper").addClass("ChartTableWrapper");
l.find(".TableChartContainer").append(k).show();l=this.getChartType();new m(k,{type:l.chart,data:{labels:e,datasets:[{label:d,backgroundColor:h,data:f}]},options:{legend:{display:l.legend},title:{display:!0,text:a}}})}},{displayName:"chartTable",config:p.extend({selector:"table.Table.ChartBar, table.Table.ChartPie, table.Table.ChartHorizontalBar, table.Table.ChartPolarArea, table.Table.ChartDoughnut",defaultChartColors:"#2d3142 #43465a #7cc24d #b3b4b4 #75b9be #F0A202 #773c5f #85130B".split(" ")},
t.configure(k.id))});q.trigger("chartTable.loaded",!0,k);return k});
define("mediaelement",["jquery"],function(k){(function(){function c(f,k,n){function m(a,h){if(!k[a]){if(!f[a]){var l="function"==typeof require&&require;if(!h&&l)return l(a,!0);if(t)return t(a,!0);h=Error("Cannot find module '"+a+"'");throw h.code="MODULE_NOT_FOUND",h;}h=k[a]={exports:{}};f[a][0].call(h.exports,function(c){var d=f[a][1][c];return m(d?d:c)},h,h.exports,c,f,k,n)}return k[a].exports}for(var t="function"==typeof require&&require,q=0;q<n.length;q++)m(n[q]);return m}return c})()({1:[function(c,
f,k){},{}],2:[function(c,f,k){k="undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{};k="undefined"!==typeof k?k:"undefined"!==typeof window?window:{};c=c(1);if("undefined"!==typeof document)var m=document;else(m=k["__GLOBAL_DOCUMENT_CACHE@4"])||(m=k["__GLOBAL_DOCUMENT_CACHE@4"]=c);f.exports=m},{1:1}],3:[function(c,f,k){c="undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{};f.exports="undefined"!==
typeof window?window:"undefined"!==typeof c?c:"undefined"!==typeof self?self:{}},{}],4:[function(c,f,k){(function(c){function k(){}function m(a,c){return function(){a.apply(c,arguments)}}function q(a){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof a)throw new TypeError("not a function");this._state=0;this._handled=!1;this._value=void 0;this._deferreds=[];u(a,this)}function a(a,c){for(;3===a._state;)a=a._value;0===a._state?a._deferreds.push(c):
(a._handled=!0,q._immediateFn(function(){var d=1===a._state?c.onFulfilled:c.onRejected;if(null===d)(1===a._state?h:l)(c.promise,a._value);else{try{var e=d(a._value)}catch(H){l(c.promise,H);return}h(c.promise,e)}}))}function h(a,c){try{if(c===a)throw new TypeError("A promise cannot be resolved with itself.");if(c&&("object"===typeof c||"function"===typeof c)){var e=c.then;if(c instanceof q){a._state=3;a._value=c;d(a);return}if("function"===typeof e){u(m(e,c),a);return}}a._state=1;a._value=c;d(a)}catch(E){l(a,
E)}}function l(a,c){a._state=2;a._value=c;d(a)}function d(c){2===c._state&&0===c._deferreds.length&&q._immediateFn(function(){c._handled||q._unhandledRejectionFn(c._value)});for(var d=0,e=c._deferreds.length;d<e;d++)a(c,c._deferreds[d]);c._deferreds=null}function e(a,c,d){this.onFulfilled="function"===typeof a?a:null;this.onRejected="function"===typeof c?c:null;this.promise=d}function u(a,c){var d=!1;try{a(function(a){d||(d=!0,h(c,a))},function(a){d||(d=!0,l(c,a))})}catch(E){d||(d=!0,l(c,E))}}var n=
setTimeout;q.prototype["catch"]=function(a){return this.then(null,a)};q.prototype.then=function(c,d){var f=new this.constructor(k);a(this,new e(c,d,f));return f};q.all=function(a){var c=Array.prototype.slice.call(a);return new q(function(a,d){function e(h,k){try{if(k&&("object"===typeof k||"function"===typeof k)){var l=k.then;if("function"===typeof l){l.call(k,function(a){e(h,a)},d);return}}c[h]=k;0===--f&&a(c)}catch(M){d(M)}}if(0===c.length)return a([]);for(var f=c.length,h=0;h<c.length;h++)e(h,
c[h])})};q.resolve=function(a){return a&&"object"===typeof a&&a.constructor===q?a:new q(function(c){c(a)})};q.reject=function(a){return new q(function(c,d){d(a)})};q.race=function(a){return new q(function(c,d){for(var e=0,f=a.length;e<f;e++)a[e].then(c,d)})};q._immediateFn="function"===typeof setImmediate&&function(a){setImmediate(a)}||function(a){n(a,0)};q._unhandledRejectionFn=function(a){"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",a)};q._setImmediateFn=
function(a){q._immediateFn=a};q._setUnhandledRejectionFn=function(a){q._unhandledRejectionFn=a};"undefined"!==typeof f&&f.exports?f.exports=q:c.Promise||(c.Promise=q)})(this)},{}],5:[function(c,f,k){Object.defineProperty(k,"__esModule",{value:!0});var m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};f=(f=c(7))&&f.__esModule?f:{default:f};var p=
c(15),t=c(27),q={lang:"en",en:p.EN,language:function(){for(var a=arguments.length,c=Array(a),f=0;f<a;f++)c[f]=arguments[f];if(null!==c&&void 0!==c&&c.length){if("string"!==typeof c[0])throw new TypeError("Language code must be a string value");if(!/^[a-z]{2,3}((\-|_)[a-z]{2})?$/i.test(c[0]))throw new TypeError("Language code must have format 2-3 letters and. optionally, hyphen, underscore followed by 2 more letters");q.lang=c[0];void 0===q[c[0]]?(c[1]=null!==c[1]&&void 0!==c[1]&&"object"===m(c[1])?
c[1]:{},q[c[0]]=(0,t.isObjectEmpty)(c[1])?p.EN:c[1]):null!==c[1]&&void 0!==c[1]&&"object"===m(c[1])&&(q[c[0]]=c[1])}return q.lang},t:function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if("string"===typeof a&&a.length){var f=void 0,d=void 0;d=q.language();var e=function(a,c,d){return"object"!==("undefined"===typeof a?"undefined":m(a))||"number"!==typeof c||"number"!==typeof d?a:function(){return[function(){return 1>=arguments.length?void 0:arguments[1]},function(){return 1===
(0>=arguments.length?void 0:arguments[0])?1>=arguments.length?void 0:arguments[1]:2>=arguments.length?void 0:arguments[2]},function(){return 0===(0>=arguments.length?void 0:arguments[0])||1===(0>=arguments.length?void 0:arguments[0])?1>=arguments.length?void 0:arguments[1]:2>=arguments.length?void 0:arguments[2]},function(){return 1===(0>=arguments.length?NaN:arguments[0])%10&&11!==(0>=arguments.length?NaN:arguments[0])%100?1>=arguments.length?void 0:arguments[1]:0!==(0>=arguments.length?void 0:arguments[0])?
2>=arguments.length?void 0:arguments[2]:3>=arguments.length?void 0:arguments[3]},function(){return 1===(0>=arguments.length?void 0:arguments[0])||11===(0>=arguments.length?void 0:arguments[0])?1>=arguments.length?void 0:arguments[1]:2===(0>=arguments.length?void 0:arguments[0])||12===(0>=arguments.length?void 0:arguments[0])?2>=arguments.length?void 0:arguments[2]:2<(0>=arguments.length?void 0:arguments[0])&&20>(0>=arguments.length?void 0:arguments[0])?3>=arguments.length?void 0:arguments[3]:4>=arguments.length?
void 0:arguments[4]},function(){return 1===(0>=arguments.length?void 0:arguments[0])?1>=arguments.length?void 0:arguments[1]:0===(0>=arguments.length?void 0:arguments[0])||0<(0>=arguments.length?NaN:arguments[0])%100&&20>(0>=arguments.length?NaN:arguments[0])%100?2>=arguments.length?void 0:arguments[2]:3>=arguments.length?void 0:arguments[3]},function(){return 1===(0>=arguments.length?NaN:arguments[0])%10&&11!==(0>=arguments.length?NaN:arguments[0])%100?1>=arguments.length?void 0:arguments[1]:2<=
(0>=arguments.length?NaN:arguments[0])%10&&(10>(0>=arguments.length?NaN:arguments[0])%100||20<=(0>=arguments.length?NaN:arguments[0])%100)?2>=arguments.length?void 0:arguments[2]:[3]},function(){return 1===(0>=arguments.length?NaN:arguments[0])%10&&11!==(0>=arguments.length?NaN:arguments[0])%100?1>=arguments.length?void 0:arguments[1]:2<=(0>=arguments.length?NaN:arguments[0])%10&&4>=(0>=arguments.length?NaN:arguments[0])%10&&(10>(0>=arguments.length?NaN:arguments[0])%100||20<=(0>=arguments.length?
NaN:arguments[0])%100)?2>=arguments.length?void 0:arguments[2]:3>=arguments.length?void 0:arguments[3]},function(){return 1===(0>=arguments.length?void 0:arguments[0])?1>=arguments.length?void 0:arguments[1]:2<=(0>=arguments.length?void 0:arguments[0])&&4>=(0>=arguments.length?void 0:arguments[0])?2>=arguments.length?void 0:arguments[2]:3>=arguments.length?void 0:arguments[3]},function(){return 1===(0>=arguments.length?void 0:arguments[0])?1>=arguments.length?void 0:arguments[1]:2<=(0>=arguments.length?
NaN:arguments[0])%10&&4>=(0>=arguments.length?NaN:arguments[0])%10&&(10>(0>=arguments.length?NaN:arguments[0])%100||20<=(0>=arguments.length?NaN:arguments[0])%100)?2>=arguments.length?void 0:arguments[2]:3>=arguments.length?void 0:arguments[3]},function(){return 1===(0>=arguments.length?NaN:arguments[0])%100?2>=arguments.length?void 0:arguments[2]:2===(0>=arguments.length?NaN:arguments[0])%100?3>=arguments.length?void 0:arguments[3]:3===(0>=arguments.length?NaN:arguments[0])%100||4===(0>=arguments.length?
NaN:arguments[0])%100?4>=arguments.length?void 0:arguments[4]:1>=arguments.length?void 0:arguments[1]},function(){return 1===(0>=arguments.length?void 0:arguments[0])?1>=arguments.length?void 0:arguments[1]:2===(0>=arguments.length?void 0:arguments[0])?2>=arguments.length?void 0:arguments[2]:2<(0>=arguments.length?void 0:arguments[0])&&7>(0>=arguments.length?void 0:arguments[0])?3>=arguments.length?void 0:arguments[3]:6<(0>=arguments.length?void 0:arguments[0])&&11>(0>=arguments.length?void 0:arguments[0])?
4>=arguments.length?void 0:arguments[4]:5>=arguments.length?void 0:arguments[5]},function(){return 0===(0>=arguments.length?void 0:arguments[0])?1>=arguments.length?void 0:arguments[1]:1===(0>=arguments.length?void 0:arguments[0])?2>=arguments.length?void 0:arguments[2]:2===(0>=arguments.length?void 0:arguments[0])?3>=arguments.length?void 0:arguments[3]:3<=(0>=arguments.length?NaN:arguments[0])%100&&10>=(0>=arguments.length?NaN:arguments[0])%100?4>=arguments.length?void 0:arguments[4]:11<=(0>=arguments.length?
NaN:arguments[0])%100?5>=arguments.length?void 0:arguments[5]:6>=arguments.length?void 0:arguments[6]},function(){return 1===(0>=arguments.length?void 0:arguments[0])?1>=arguments.length?void 0:arguments[1]:0===(0>=arguments.length?void 0:arguments[0])||1<(0>=arguments.length?NaN:arguments[0])%100&&11>(0>=arguments.length?NaN:arguments[0])%100?2>=arguments.length?void 0:arguments[2]:10<(0>=arguments.length?NaN:arguments[0])%100&&20>(0>=arguments.length?NaN:arguments[0])%100?3>=arguments.length?void 0:
arguments[3]:4>=arguments.length?void 0:arguments[4]},function(){return 1===(0>=arguments.length?NaN:arguments[0])%10?1>=arguments.length?void 0:arguments[1]:2===(0>=arguments.length?NaN:arguments[0])%10?2>=arguments.length?void 0:arguments[2]:3>=arguments.length?void 0:arguments[3]},function(){return 11!==(0>=arguments.length?void 0:arguments[0])&&1===(0>=arguments.length?NaN:arguments[0])%10?1>=arguments.length?void 0:arguments[1]:2>=arguments.length?void 0:arguments[2]},function(){return 1===(0>=
arguments.length?void 0:arguments[0])?1>=arguments.length?void 0:arguments[1]:2<=(0>=arguments.length?NaN:arguments[0])%10&&4>=(0>=arguments.length?NaN:arguments[0])%10&&(10>(0>=arguments.length?NaN:arguments[0])%100||20<=(0>=arguments.length?NaN:arguments[0])%100)?2>=arguments.length?void 0:arguments[2]:3>=arguments.length?void 0:arguments[3]},function(){return 1===(0>=arguments.length?void 0:arguments[0])?1>=arguments.length?void 0:arguments[1]:2===(0>=arguments.length?void 0:arguments[0])?2>=arguments.length?
void 0:arguments[2]:8!==(0>=arguments.length?void 0:arguments[0])&&11!==(0>=arguments.length?void 0:arguments[0])?3>=arguments.length?void 0:arguments[3]:4>=arguments.length?void 0:arguments[4]},function(){return 0===(0>=arguments.length?void 0:arguments[0])?1>=arguments.length?void 0:arguments[1]:2>=arguments.length?void 0:arguments[2]},function(){return 1===(0>=arguments.length?void 0:arguments[0])?1>=arguments.length?void 0:arguments[1]:2===(0>=arguments.length?void 0:arguments[0])?2>=arguments.length?
void 0:arguments[2]:3===(0>=arguments.length?void 0:arguments[0])?3>=arguments.length?void 0:arguments[3]:4>=arguments.length?void 0:arguments[4]},function(){return 0===(0>=arguments.length?void 0:arguments[0])?1>=arguments.length?void 0:arguments[1]:1===(0>=arguments.length?void 0:arguments[0])?2>=arguments.length?void 0:arguments[2]:3>=arguments.length?void 0:arguments[3]}]}()[d].apply(null,[c].concat(a))};void 0!==q[d]&&(f=q[d][a],null!==c&&"number"===typeof c&&(d=q[d]["mejs.plural-form"],f=e.apply(null,
[f,c,d])));!f&&q.en&&(f=q.en[a],null!==c&&"number"===typeof c&&(d=q.en["mejs.plural-form"],f=e.apply(null,[f,c,d])));f=f||a;null!==c&&"number"===typeof c&&(f=f.replace("%1",c));return(0,t.escapeHTML)(f)}return a}};f.default.i18n=q;"undefined"!==typeof mejsL10n&&f.default.i18n.language(mejsL10n.language,mejsL10n.strings);k.default=q},{15:15,27:27,7:7}],6:[function(c,f,k){function m(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(k,"__esModule",{value:!0});var p="function"===typeof Symbol&&
"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};f=c(3);var t=m(f);f=c(2);var q=m(f);f=c(7);var a=m(f),h=c(27),l=c(28),d=c(8),e=c(25);c=function x(c,f,k){var m=this;if(!(this instanceof x))throw new TypeError("Cannot call a class as a function");var n=this;k=Array.isArray(k)?k:null;n.defaults={renderers:[],fakeNodeName:"mediaelementwrapper",pluginPath:"build/",shimScriptAccess:"sameDomain"};
f=Object.assign(n.defaults,f);n.mediaElement=q.default.createElement(f.fakeNodeName);var A=c,z=!1;"string"===typeof c?n.mediaElement.originalNode=q.default.getElementById(c):(n.mediaElement.originalNode=c,A=c.id);if(void 0===n.mediaElement.originalNode||null===n.mediaElement.originalNode)return null;n.mediaElement.options=f;A=A||"mejs_"+Math.random().toString().slice(2);n.mediaElement.originalNode.setAttribute("id",A+"_from_mejs");c=n.mediaElement.originalNode.tagName.toLowerCase();-1<["video","audio"].indexOf(c)&&
!n.mediaElement.originalNode.getAttribute("preload")&&n.mediaElement.originalNode.setAttribute("preload","metadata");n.mediaElement.originalNode.parentNode.insertBefore(n.mediaElement,n.mediaElement.originalNode);n.mediaElement.appendChild(n.mediaElement.originalNode);c=function(c,d){"https:"===t.default.location.protocol&&0===c.indexOf("http:")&&e.IS_IOS&&-1<a.default.html5media.mediaTypes.indexOf(d)&&(d=new XMLHttpRequest,d.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var a=
(t.default.URL||t.default.webkitURL).createObjectURL(this.response);n.mediaElement.originalNode.setAttribute("src",a);return a}return c},d.open("GET",c),d.responseType="blob",d.send());return c};var B=void 0;if(null!==k)B=k;else if(null!==n.mediaElement.originalNode)switch(B=[],n.mediaElement.originalNode.nodeName.toLowerCase()){case "iframe":B.push({type:"",src:n.mediaElement.originalNode.getAttribute("src")});break;case "audio":case "video":k=n.mediaElement.originalNode.children.length;if(f=n.mediaElement.originalNode.getAttribute("src")){var C=
n.mediaElement.originalNode;C=(0,l.formatType)(f,C.getAttribute("type"));B.push({type:C,src:c(f,C)})}for(f=0;f<k;f++){var I=n.mediaElement.originalNode.children[f];"source"===I.tagName.toLowerCase()&&(C=I.getAttribute("src"),I=(0,l.formatType)(C,I.getAttribute("type")),B.push({type:I,src:c(C,I)}))}}n.mediaElement.id=A;n.mediaElement.renderers={};n.mediaElement.events={};n.mediaElement.promises=[];n.mediaElement.renderer=null;n.mediaElement.rendererName=null;n.mediaElement.changeRenderer=function(a,
c){var e=2<Object.keys(c[0]).length?c[0]:c[0].src;if(void 0!==m.mediaElement.renderer&&null!==m.mediaElement.renderer&&m.mediaElement.renderer.name===a)return m.mediaElement.renderer.pause(),m.mediaElement.renderer.stop&&m.mediaElement.renderer.stop(),m.mediaElement.renderer.show(),m.mediaElement.renderer.setSrc(e),!0;void 0!==m.mediaElement.renderer&&null!==m.mediaElement.renderer&&(m.mediaElement.renderer.pause(),m.mediaElement.renderer.stop&&m.mediaElement.renderer.stop(),m.mediaElement.renderer.hide());
var f=m.mediaElement.renderers[a];if(void 0!==f&&null!==f)return f.show(),f.setSrc(e),m.mediaElement.renderer=f,m.mediaElement.rendererName=a,!0;f=m.mediaElement.options.renderers.length?m.mediaElement.options.renderers:d.renderer.order;e=0;for(var h=f.length;e<h;e++){var k=f[e];if(k===a)return e=d.renderer.renderers[k],f=Object.assign(e.options,m.mediaElement.options),f=e.create(m.mediaElement,f,c),f.name=a,m.mediaElement.renderers[e.name]=f,m.mediaElement.renderer=f,m.mediaElement.rendererName=
a,f.show(),!0}return!1};n.mediaElement.setSize=function(a,c){void 0!==n.mediaElement.renderer&&null!==n.mediaElement.renderer&&n.mediaElement.renderer.setSize(a,c)};n.mediaElement.generateError=function(a,c){a=a||"";c=Array.isArray(c)?c:[];var d=(0,h.createEvent)("error",n.mediaElement);d.message=a;d.urls=c;n.mediaElement.dispatchEvent(d);z=!0};k=a.default.html5media.properties;A=a.default.html5media.methods;var D=function(a,c,d,e){var f=a[c];Object.defineProperty(a,c,{get:function(){return d.apply(a,
[f])},set:function(c){return f=e.apply(a,[c])}})};f=function(a){if("src"!==a){var c=""+a.substring(0,1).toUpperCase()+a.substring(1),d=function(){return void 0!==n.mediaElement.renderer&&null!==n.mediaElement.renderer&&"function"===typeof n.mediaElement.renderer["get"+c]?n.mediaElement.renderer["get"+c]():null},e=function(a){if(void 0!==n.mediaElement.renderer&&null!==n.mediaElement.renderer&&"function"===typeof n.mediaElement.renderer["set"+c])n.mediaElement.renderer["set"+c](a)};D(n.mediaElement,
a,d,e);n.mediaElement["get"+c]=d;n.mediaElement["set"+c]=e}};C=function(){return void 0!==n.mediaElement.renderer&&null!==n.mediaElement.renderer?n.mediaElement.renderer.getSrc():null};I=function(a){var c=[];if("string"===typeof a)c.push({src:a,type:a?(0,l.getTypeFromFile)(a):""});else if("object"===("undefined"===typeof a?"undefined":p(a))&&void 0!==a.src){var e=(0,l.absolutizeUrl)(a.src),f=a.type;a=Object.assign(a,{src:e,type:""!==f&&null!==f&&void 0!==f||!e?f:(0,l.getTypeFromFile)(e)});c.push(a)}else if(Array.isArray(a))for(e=
0,f=a.length;e<f;e++){var k=(0,l.absolutizeUrl)(a[e].src),m=a[e].type;k=Object.assign(a[e],{src:k,type:""!==m&&null!==m&&void 0!==m||!k?m:(0,l.getTypeFromFile)(k)});c.push(k)}a=d.renderer.select(c,n.mediaElement.options.renderers.length?n.mediaElement.options.renderers:[]);n.mediaElement.paused||null==n.mediaElement.src||""===n.mediaElement.src||(n.mediaElement.pause(),e=(0,h.createEvent)("pause",n.mediaElement),n.mediaElement.dispatchEvent(e));n.mediaElement.originalNode.src=c[0].src||"";if(null===
a&&c[0].src)n.mediaElement.generateError("No renderer found",c);else return null!=c[0].src&&""!==c[0].src?n.mediaElement.changeRenderer(a.rendererName,c):null};var L=function(a,c){try{if("play"!==a||"native_dash"!==n.mediaElement.rendererName&&"native_hls"!==n.mediaElement.rendererName&&"vimeo_iframe"!==n.mediaElement.rendererName)n.mediaElement.renderer[a](c);else{var d=n.mediaElement.renderer[a](c);d&&"function"===typeof d.then&&d.catch(function(){n.mediaElement.paused&&setTimeout(function(){var a=
n.mediaElement.renderer.play();void 0!==a&&a.catch(function(){n.mediaElement.renderer.paused||n.mediaElement.renderer.pause()})},150)})}}catch(U){n.mediaElement.generateError(U,B)}};c=function(a){n.mediaElement[a]=function(){for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];void 0!==n.mediaElement.renderer&&null!==n.mediaElement.renderer&&"function"===typeof n.mediaElement.renderer[a]&&(n.mediaElement.promises.length?Promise.all(n.mediaElement.promises).then(function(){L(a,d)}).catch(function(a){n.mediaElement.generateError(a,
B)}):L(a,d));return null}};D(n.mediaElement,"src",C,I);n.mediaElement.getSrc=C;n.mediaElement.setSrc=I;C=0;for(I=k.length;C<I;C++)f(k[C]);k=0;for(f=A.length;k<f;k++)c(A[k]);n.mediaElement.addEventListener=function(a,c){n.mediaElement.events[a]=n.mediaElement.events[a]||[];n.mediaElement.events[a].push(c)};n.mediaElement.removeEventListener=function(a,c){if(!a)return n.mediaElement.events={},!0;var d=n.mediaElement.events[a];if(!d)return!0;if(!c)return n.mediaElement.events[a]=[],!0;for(var e=0;e<
d.length;e++)if(d[e]===c)return n.mediaElement.events[a].splice(e,1),!0;return!1};n.mediaElement.dispatchEvent=function(a){var c=n.mediaElement.events[a.type];if(c)for(var d=0;d<c.length;d++)c[d].apply(null,[a])};n.mediaElement.destroy=function(){var a=n.mediaElement.originalNode.cloneNode(!0),c=n.mediaElement.parentElement;a.removeAttribute("id");a.remove();n.mediaElement.remove();c.appendChild(a)};B.length&&(n.mediaElement.src=B);n.mediaElement.promises.length?Promise.all(n.mediaElement.promises).then(function(){n.mediaElement.options.success&&
n.mediaElement.options.success(n.mediaElement,n.mediaElement.originalNode)}).catch(function(){z&&n.mediaElement.options.error&&n.mediaElement.options.error(n.mediaElement,n.mediaElement.originalNode)}):(n.mediaElement.options.success&&n.mediaElement.options.success(n.mediaElement,n.mediaElement.originalNode),z&&n.mediaElement.options.error&&n.mediaElement.options.error(n.mediaElement,n.mediaElement.originalNode));return n.mediaElement};t.default.MediaElement=c;a.default.MediaElement=c;k.default=c},
{2:2,25:25,27:27,28:28,3:3,7:7,8:8}],7:[function(c,f,k){Object.defineProperty(k,"__esModule",{value:!0});c=c(3);f={version:"4.2.16",html5media:{properties:"volume src currentTime muted duration paused ended buffered error networkState readyState seeking seekable currentSrc preload bufferedBytes bufferedTime initialTime startOffsetTime defaultPlaybackRate playbackRate played autoplay loop controls".split(" "),readOnlyProperties:"duration paused ended buffered error networkState readyState seeking seekable".split(" "),
methods:["load","play","pause","canPlayType"],events:"loadstart durationchange loadedmetadata loadeddata progress canplay canplaythrough suspend abort error emptied stalled play playing pause waiting seeking seeked timeupdate ended ratechange volumechange".split(" "),mediaTypes:"audio/mp3 audio/ogg audio/oga audio/wav audio/x-wav audio/wave audio/x-pn-wav audio/mpeg audio/mp4 video/mp4 video/webm video/ogg video/ogv".split(" ")}};(c&&c.__esModule?c:{default:c}).default.mejs=f;k.default=f},{3:3}],
8:[function(c,f,k){Object.defineProperty(k,"__esModule",{value:!0});k.renderer=void 0;var m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"===typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},p=function(){function c(c,a){for(var f=0;f<a.length;f++){var k=a[f];k.enumerable=k.enumerable||!1;k.configurable=!0;"value"in k&&(k.writable=!0);Object.defineProperty(c,k.key,k)}}return function(f,a,h){a&&
c(f.prototype,a);h&&c(f,h);return f}}();c=(c=c(7))&&c.__esModule?c:{default:c};f=function(){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.renderers={};this.order=[]}p(c,[{key:"add",value:function(c){if(void 0===c.name)throw new TypeError("renderer must contain at least `name` property");this.renderers[c.name]=c;this.order.push(c.name)}},{key:"select",value:function(c){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],f=a.length;a=
a.length?a:this.order;if(!f){var k=[/^(html5|native)/i,/^flash/i,/iframe$/i],d=function(a){for(var c=0,d=k.length;c<d;c++)if(k[c].test(a))return c;return k.length};a.sort(function(a,c){return d(a)-d(c)})}f=0;for(var e=a.length;f<e;f++){var m=this.renderers[a[f]];if(null!==m&&void 0!==m)for(var q=0,p=c.length;q<p;q++)if("function"===typeof m.canPlayType&&"string"===typeof c[q].type&&m.canPlayType(c[q].type))return{rendererName:m.name,src:c[q].src}}return null}},{key:"order",set:function(c){if(!Array.isArray(c))throw new TypeError("order must be an array of strings.");
this._order=c},get:function(){return this._order}},{key:"renderers",set:function(c){if(null!==c&&"object"!==("undefined"===typeof c?"undefined":m(c)))throw new TypeError("renderers must be an array of objects.");this._renderers=c},get:function(){return this._renderers}}]);return c}();k=k.renderer=new f;c.default.Renderers=k},{7:7}],9:[function(c,f,k){function m(a){return a&&a.__esModule?a:{default:a}}f=c(3);var p=m(f);f=c(2);var t=m(f);f=c(5);var q=m(f);f=c(16);k=m(f);var a=function(a){if(a&&a.__esModule)return a;
var c={};if(null!=a)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);c.default=a;return c}(c(25)),h=c(27),l=c(26),d=c(28);Object.assign(f.config,{usePluginFullScreen:!0,fullscreenText:null,useFakeFullscreen:!1});Object.assign(k.default.prototype,{isFullScreen:!1,isNativeFullScreen:!1,isInIframe:!1,isPluginClickThroughCreated:!1,fullscreenMode:"",containerSizeTimeout:null,buildfullscreen:function(c){if(c.isVideo){c.isInIframe=p.default.location!==p.default.parent.location;c.detectFullscreenMode();
var d=this,e=(0,h.isString)(d.options.fullscreenText)?d.options.fullscreenText:q.default.t("mejs.fullscreen"),f=t.default.createElement("div");f.className=d.options.classPrefix+"button "+d.options.classPrefix+"fullscreen-button";f.innerHTML='<button type="button" aria-controls="'+d.id+'" title="'+e+'" aria-label="'+e+'" tabindex="0"></button>';d.addControlElement(f,"fullscreen");f.addEventListener("click",function(){a.HAS_TRUE_NATIVE_FULLSCREEN&&a.IS_FULLSCREEN||c.isFullScreen?c.exitFullScreen():
c.enterFullScreen()});c.fullscreenBtn=f;d.options.keyActions.push({keys:[70],action:function(a,c,d,e){e.ctrlKey||"undefined"!==typeof a.enterFullScreen&&(a.isFullScreen?a.exitFullScreen():a.enterFullScreen())}});d.exitFullscreenCallback=function(e){e=e.which||e.keyCode||0;d.options.enableKeyboard&&27===e&&(a.HAS_TRUE_NATIVE_FULLSCREEN&&a.IS_FULLSCREEN||d.isFullScreen)&&c.exitFullScreen()};d.globalBind("keydown",d.exitFullscreenCallback);d.normalHeight=0;d.normalWidth=0;a.HAS_TRUE_NATIVE_FULLSCREEN&&
c.globalBind(a.FULLSCREEN_EVENT_NAME,function(){c.isFullScreen&&(a.isFullScreen()?(c.isNativeFullScreen=!0,c.setControlsSize()):(c.isNativeFullScreen=!1,c.exitFullScreen()))})}},cleanfullscreen:function(a){a.exitFullScreen();a.globalUnbind("keydown",a.exitFullscreenCallback)},detectFullscreenMode:function(){var c=null!==this.media.rendererName&&/(native|html5)/i.test(this.media.rendererName),d="";a.HAS_TRUE_NATIVE_FULLSCREEN&&c?d="native-native":a.HAS_TRUE_NATIVE_FULLSCREEN&&!c?d="plugin-native":
this.usePluginFullScreen&&a.SUPPORT_POINTER_EVENTS&&(d="plugin-click");return this.fullscreenMode=d},enterFullScreen:function(){var c=this,f=null!==c.media.rendererName&&/(html5|native)/i.test(c.media.rendererName),k=getComputedStyle(c.getElement(c.container));if(c.isVideo)if(!1===c.options.useFakeFullscreen&&(a.IS_IOS||a.IS_SAFARI)&&a.HAS_IOS_FULLSCREEN&&"function"===typeof c.media.originalNode.webkitEnterFullscreen&&c.media.originalNode.canPlayType((0,d.getTypeFromFile)(c.media.getSrc())))c.media.originalNode.webkitEnterFullscreen();
else{(0,l.addClass)(t.default.documentElement,c.options.classPrefix+"fullscreen");(0,l.addClass)(c.getElement(c.container),c.options.classPrefix+"container-fullscreen");(0,l.addClass)(c.getElement(c.container.parentNode),"Fullscreen");c.normalHeight=parseFloat(k.height);c.normalWidth=parseFloat(k.width);if("native-native"===c.fullscreenMode||"plugin-native"===c.fullscreenMode)a.requestFullScreen(c.getElement(c.container)),c.isInIframe&&setTimeout(function x(){if(c.isNativeFullScreen){var a=screen.width;
Math.abs(a-(p.default.innerWidth||t.default.documentElement.clientWidth||t.default.body.clientWidth))>.002*a||setTimeout(x,500)}},1E3);c.getElement(c.container).style.width="100%";c.getElement(c.container).style.height="100%";c.containerSizeTimeout=setTimeout(function(){c.getElement(c.container).style.width="100%";c.getElement(c.container).style.height="100%";c.setControlsSize()},500);if(f)c.node.style.width="100%",c.node.style.height="100%";else{f=c.getElement(c.container).querySelectorAll("embed, object, video");
k=f.length;for(var m=0;m<k;m++)f[m].style.width="100%",f[m].style.height="100%"}c.options.setDimensions&&"function"===typeof c.media.setSize&&c.media.setSize(screen.width,screen.height);f=c.getElement(c.layers).children;k=f.length;for(m=0;m<k;m++)f[m].style.width="100%",f[m].style.height="100%";c.fullscreenBtn&&((0,l.removeClass)(c.fullscreenBtn,c.options.classPrefix+"fullscreen"),(0,l.addClass)(c.fullscreenBtn,c.options.classPrefix+"unfullscreen"));c.setControlsSize();c.isFullScreen=!0;f=Math.min(screen.width/
c.width,screen.height/c.height);if(k=c.getElement(c.container).querySelector("."+c.options.classPrefix+"captions-text"))k.style.fontSize=100*f+"%",k.style.lineHeight="normal",c.getElement(c.container).querySelector("."+c.options.classPrefix+"captions-position").style.bottom=(screen.height-c.normalHeight)/2-c.getElement(c.controls).offsetHeight/2+f+15+"px";f=(0,h.createEvent)("enteredfullscreen",c.getElement(c.container));c.getElement(c.container).dispatchEvent(f)}},exitFullScreen:function(){var c=
null!==this.media.rendererName&&/(native|html5)/i.test(this.media.rendererName);if(this.isVideo){clearTimeout(this.containerSizeTimeout);a.HAS_TRUE_NATIVE_FULLSCREEN&&(a.IS_FULLSCREEN||this.isFullScreen)&&a.cancelFullScreen();(0,l.removeClass)(t.default.documentElement,this.options.classPrefix+"fullscreen");(0,l.removeClass)(this.getElement(this.container),this.options.classPrefix+"container-fullscreen");(0,l.removeClass)(this.getElement(this.container.parentNode),"Fullscreen");if(this.options.setDimensions){this.getElement(this.container).style.width=
this.normalWidth+"px";this.getElement(this.container).style.height=this.normalHeight+"px";if(c)this.node.style.width=this.normalWidth+"px",this.node.style.height=this.normalHeight+"px";else{c=this.getElement(this.container).querySelectorAll("embed, object, video");for(var d=c.length,f=0;f<d;f++)c[f].style.width=this.normalWidth+"px",c[f].style.height=this.normalHeight+"px"}"function"===typeof this.media.setSize&&this.media.setSize(this.normalWidth,this.normalHeight);c=this.getElement(this.layers).children;
d=c.length;for(f=0;f<d;f++)c[f].style.width=this.normalWidth+"px",c[f].style.height=this.normalHeight+"px"}this.fullscreenBtn&&((0,l.removeClass)(this.fullscreenBtn,this.options.classPrefix+"unfullscreen"),(0,l.addClass)(this.fullscreenBtn,this.options.classPrefix+"fullscreen"));this.setControlsSize();this.isFullScreen=!1;if(c=this.getElement(this.container).querySelector("."+this.options.classPrefix+"captions-text"))c.style.fontSize="",c.style.lineHeight="",this.getElement(this.container).querySelector("."+
this.options.classPrefix+"captions-position").style.bottom="";c=(0,h.createEvent)("exitedfullscreen",this.getElement(this.container));this.getElement(this.container).dispatchEvent(c)}}})},{16:16,2:2,25:25,26:26,27:27,28:28,3:3,5:5}],10:[function(c,f,k){function m(a){return a&&a.__esModule?a:{default:a}}f=c(2);var p=m(f);f=c(16);k=m(f);var t=c(5),q=m(t),a=c(27),h=c(26);Object.assign(f.config,{playText:null,pauseText:null});Object.assign(k.default.prototype,{buildplaypause:function(c,d,e,f){function k(a){"play"===
a?((0,h.removeClass)(n,l.options.classPrefix+"play"),(0,h.removeClass)(n,l.options.classPrefix+"replay"),(0,h.addClass)(n,l.options.classPrefix+"pause"),u.setAttribute("title",t),u.setAttribute("aria-label",t)):((0,h.removeClass)(n,l.options.classPrefix+"pause"),(0,h.removeClass)(n,l.options.classPrefix+"replay"),(0,h.addClass)(n,l.options.classPrefix+"play"),u.setAttribute("title",m),u.setAttribute("aria-label",m))}var l=this;d=l.options;var m=(0,a.isString)(d.playText)?d.playText:q.default.t("mejs.play"),
t=(0,a.isString)(d.pauseText)?d.pauseText:q.default.t("mejs.pause"),n=p.default.createElement("div");n.className=l.options.classPrefix+"button "+l.options.classPrefix+"playpause-button "+l.options.classPrefix+"play";n.innerHTML='<button type="button" aria-controls="'+l.id+'" title="'+m+'" aria-label="'+t+'" tabindex="0"></button>';n.addEventListener("click",function(){l.paused?l.play():l.pause()});var u=n.querySelector("button");l.addControlElement(n,"playpause");k("pse");f.addEventListener("loadedmetadata",
function(){-1===f.rendererName.indexOf("flash")&&k("pse")});f.addEventListener("play",function(){k("play")});f.addEventListener("playing",function(){k("play")});f.addEventListener("pause",function(){k("pse")});f.addEventListener("ended",function(){c.options.loop||((0,h.removeClass)(n,l.options.classPrefix+"pause"),(0,h.removeClass)(n,l.options.classPrefix+"play"),(0,h.addClass)(n,l.options.classPrefix+"replay"),u.setAttribute("title",m),u.setAttribute("aria-label",m))})}})},{16:16,2:2,26:26,27:27,
5:5}],11:[function(c,f,k){function m(a){return a&&a.__esModule?a:{default:a}}f=c(2);var p=m(f);f=c(16);k=m(f);var t=c(5),q=m(t),a=c(25),h=c(30),l=c(26);Object.assign(f.config,{enableProgressTooltip:!0,useSmoothHover:!0,forceLive:!1});Object.assign(k.default.prototype,{buildprogress:function(c,e,f,k){var d=0,m=!1,t=!1,n=this,u=c.options.autoRewind;f=c.options.enableProgressTooltip?'<span class="'+n.options.classPrefix+'time-float"><span class="'+(n.options.classPrefix+'time-float-current">00:00</span><span class="')+
(n.options.classPrefix+'time-float-corner"></span></span>'):"";var A=p.default.createElement("div");A.className=n.options.classPrefix+"time-rail";A.innerHTML='<span class="'+n.options.classPrefix+"time-total "+n.options.classPrefix+'time-slider"><span class="'+(n.options.classPrefix+'time-buffering"></span><span class="')+(n.options.classPrefix+'time-loaded"></span><span class="')+(n.options.classPrefix+'time-current"></span><span class="')+(n.options.classPrefix+'time-hovered no-hover"></span><span class="')+
(n.options.classPrefix+'time-handle"><span class="'+n.options.classPrefix+'time-handle-content"></span></span>')+f+"</span>";n.addControlElement(A,"progress");n.options.keyActions.push({keys:[37,227],action:function(a){if(!isNaN(a.duration)&&0<a.duration){a.isVideo&&(a.showControls(),a.startControlsTimer());var c=a.getElement(a.container).querySelector("."+n.options.classPrefix+"time-total");c&&c.focus();var d=Math.max(a.currentTime-a.options.defaultSeekBackwardInterval(a),0);a.paused||a.pause();
setTimeout(function(){a.setCurrentTime(d)},0);setTimeout(function(){a.play()},0)}}},{keys:[39,228],action:function(a){if(!isNaN(a.duration)&&0<a.duration){a.isVideo&&(a.showControls(),a.startControlsTimer());var c=a.getElement(a.container).querySelector("."+n.options.classPrefix+"time-total");c&&c.focus();var d=Math.min(a.currentTime+a.options.defaultSeekForwardInterval(a),a.duration);a.paused||a.pause();setTimeout(function(){a.setCurrentTime(d)},0);setTimeout(function(){a.play()},0)}}});n.rail=e.querySelector("."+
n.options.classPrefix+"time-rail");n.total=e.querySelector("."+n.options.classPrefix+"time-total");n.loaded=e.querySelector("."+n.options.classPrefix+"time-loaded");n.current=e.querySelector("."+n.options.classPrefix+"time-current");n.handle=e.querySelector("."+n.options.classPrefix+"time-handle");n.timefloat=e.querySelector("."+n.options.classPrefix+"time-float");n.timefloatcurrent=e.querySelector("."+n.options.classPrefix+"time-float-current");n.slider=e.querySelector("."+n.options.classPrefix+
"time-slider");n.hovered=e.querySelector("."+n.options.classPrefix+"time-hovered");n.buffer=e.querySelector("."+n.options.classPrefix+"time-buffering");n.newTime=0;n.forcedHandlePause=!1;n.setTransformStyle=function(a,c){a.style.transform=c;a.style.webkitTransform=c;a.style.MozTransform=c;a.style.msTransform=c;a.style.OTransform=c};n.buffer.style.display="none";var z=function(d){var e=getComputedStyle(n.total),f=(0,l.offset)(n.total),k=n.total.offsetWidth,q=void 0!==e.webkitTransform?"webkitTransform":
void 0!==e.mozTransform?"mozTransform ":void 0!==e.oTransform?"oTransform":void 0!==e.msTransform?"msTransform":"transform",p=function(){if("WebKitCSSMatrix"in window)return"WebKitCSSMatrix";if("MSCSSMatrix"in window)return"MSCSSMatrix";if("CSSMatrix"in window)return"CSSMatrix"}();e=e=0;var t=void 0;t=d.originalEvent&&d.originalEvent.changedTouches?d.originalEvent.changedTouches[0].pageX:d.changedTouches?d.changedTouches[0].pageX:d.pageX;n.getDuration()?(t<f.left?t=f.left:t>k+f.left&&(t=k+f.left),
e=t-f.left,n.newTime=e/k*n.getDuration(),m&&null!==n.getCurrentTime()&&n.newTime.toFixed(4)!==n.getCurrentTime().toFixed(4)&&(n.setCurrentRailHandle(n.newTime),n.updateCurrent(n.newTime)),a.IS_IOS||a.IS_ANDROID||(0>e&&(e=0),n.options.useSmoothHover&&null!==p&&"undefined"!==typeof window[p]&&(d=(new window[p](getComputedStyle(n.handle)[q])).m41,f=e/parseFloat(getComputedStyle(n.total).width)-d/parseFloat(getComputedStyle(n.total).width),n.hovered.style.left=d+"px",n.setTransformStyle(n.hovered,"scaleX("+
f+")"),n.hovered.setAttribute("pos",e),0<=f?(0,l.removeClass)(n.hovered,"negative"):(0,l.addClass)(n.hovered,"negative")),n.timefloat&&(f=n.timefloat.offsetWidth/2,k=mejs.Utils.offset(n.getElement(n.container)),d=getComputedStyle(n.timefloat),e=t-k.left<n.timefloat.offsetWidth?f:t-k.left>=n.getElement(n.container).offsetWidth-f?n.total.offsetWidth-f:e,(0,l.hasClass)(n.getElement(n.container),n.options.classPrefix+"long-video")&&(e+=parseFloat(d.marginLeft)/2+n.timefloat.offsetWidth/2),n.timefloat.style.left=
e+"px",n.timefloatcurrent.innerHTML=(0,h.secondsToTimeCode)(n.newTime,c.options.alwaysShowHours,c.options.showTimecodeFrameCount,c.options.framesPerSecond,c.options.secondsDecimalLength,c.options.timeFormat),n.timefloat.style.display="block"))):a.IS_IOS||a.IS_ANDROID||!n.timefloat||(e=n.timefloat.offsetWidth+k>=n.getElement(n.container).offsetWidth?n.timefloat.offsetWidth/2:0,n.timefloat.style.left=e+"px",n.timefloat.style.left=e+"px",n.timefloat.style.display="block")},B=function(){1E3<=new Date-
d&&n.play()};n.slider.addEventListener("focus",function(){c.options.autoRewind=!1});n.slider.addEventListener("blur",function(){c.options.autoRewind=u});n.slider.addEventListener("keydown",function(e){1E3<=new Date-d&&(t=n.paused);if(n.options.enableKeyboard&&n.options.keyActions.length){var f=e.which||e.keyCode||0,h=n.getDuration(),l=c.options.defaultSeekForwardInterval(k),m=c.options.defaultSeekBackwardInterval(k),q=n.getCurrentTime(),p=n.getElement(n.container).querySelector("."+n.options.classPrefix+
"volume-slider");if(38===f||40===f)p&&(p.style.display="block"),n.isVideo&&(n.showControls(),n.startControlsTimer()),e=38===f?Math.min(n.volume+.1,1):Math.max(n.volume-.1,0),f=0>=e,n.setVolume(e),n.setMuted(f);else{p&&(p.style.display="none");switch(f){case 37:Infinity!==n.getDuration()&&(q-=m);break;case 39:Infinity!==n.getDuration()&&(q+=l);break;case 36:q=0;break;case 35:q=h;break;case 13:case 32:a.IS_FIREFOX&&(n.paused?n.play():n.pause());return;default:return}q=0>q||isNaN(q)?0:q>=h?h:Math.floor(q);
d=new Date;t||c.pause();setTimeout(function(){n.setCurrentTime(q)},0);q<n.getDuration()&&!t&&setTimeout(B,1100);c.showControls();e.preventDefault();e.stopPropagation()}}});f=["mousedown","touchstart"];n.slider.addEventListener("dragstart",function(){return!1});A=0;for(var F=f.length;A<F;A++)n.slider.addEventListener(f[A],function(a){n.forcedHandlePause=!1;if(Infinity!==n.getDuration()&&(1===a.which||0===a.which)){n.paused||(n.pause(),n.forcedHandlePause=!0);m=!0;z(a);a=["mouseup","touchend"];for(var c=
0,d=a.length;c<d;c++)n.getElement(n.container).addEventListener(a[c],function(a){var c=a.target;(c===n.slider||c.closest("."+n.options.classPrefix+"time-slider"))&&z(a)});n.globalBind("mouseup.dur touchend.dur",function(){m&&null!==n.getCurrentTime()&&n.newTime.toFixed(4)!==n.getCurrentTime().toFixed(4)&&(n.setCurrentTime(n.newTime),n.setCurrentRailHandle(n.newTime),n.updateCurrent(n.newTime));n.forcedHandlePause&&(n.slider.focus(),n.play());m=n.forcedHandlePause=!1;n.timefloat&&(n.timefloat.style.display=
"none")})}},a.SUPPORT_PASSIVE_EVENT&&"touchstart"===f[A]?{passive:!0}:!1);n.slider.addEventListener("mouseenter",function(c){c.target===n.slider&&Infinity!==n.getDuration()&&(n.getElement(n.container).addEventListener("mousemove",function(a){var c=a.target;(c===n.slider||c.closest("."+n.options.classPrefix+"time-slider"))&&z(a)}),!n.timefloat||a.IS_IOS||a.IS_ANDROID||(n.timefloat.style.display="block"),n.hovered&&!a.IS_IOS&&!a.IS_ANDROID&&n.options.useSmoothHover&&(0,l.removeClass)(n.hovered,"no-hover"))});
n.slider.addEventListener("mouseleave",function(){Infinity===n.getDuration()||m||(n.timefloat&&(n.timefloat.style.display="none"),n.hovered&&n.options.useSmoothHover&&(0,l.addClass)(n.hovered,"no-hover"))});n.broadcastCallback=function(a){var d=e.querySelector("."+n.options.classPrefix+"broadcast");if(n.options.forceLive||Infinity===n.getDuration())!d&&n.options.forceLive&&(a=p.default.createElement("span"),a.className=n.options.classPrefix+"broadcast",a.innerText=q.default.t("mejs.live-broadcast"),
n.slider.style.display="none",n.rail.appendChild(a));else{d&&(n.slider.style.display="",d.remove());c.setProgressRail(a);n.forcedHandlePause||c.setCurrentRail(a);a=n.getCurrentTime();d=q.default.t("mejs.time-slider");var f=(0,h.secondsToTimeCode)(a,c.options.alwaysShowHours,c.options.showTimecodeFrameCount,c.options.framesPerSecond,c.options.secondsDecimalLength,c.options.timeFormat),l=n.getDuration();n.slider.setAttribute("role","slider");n.slider.tabIndex=0;k.paused?(n.slider.setAttribute("aria-label",
d),n.slider.setAttribute("aria-valuemin",0),n.slider.setAttribute("aria-valuemax",isNaN(l)?0:l),n.slider.setAttribute("aria-valuenow",a),n.slider.setAttribute("aria-valuetext",f)):(n.slider.removeAttribute("aria-label"),n.slider.removeAttribute("aria-valuemin"),n.slider.removeAttribute("aria-valuemax"),n.slider.removeAttribute("aria-valuenow"),n.slider.removeAttribute("aria-valuetext"))}};k.addEventListener("progress",n.broadcastCallback);k.addEventListener("timeupdate",n.broadcastCallback);k.addEventListener("play",
function(){n.buffer.style.display="none"});k.addEventListener("playing",function(){n.buffer.style.display="none"});k.addEventListener("seeking",function(){n.buffer.style.display=""});k.addEventListener("seeked",function(){n.buffer.style.display="none"});k.addEventListener("pause",function(){n.buffer.style.display="none"});k.addEventListener("waiting",function(){n.buffer.style.display=""});k.addEventListener("loadeddata",function(){n.buffer.style.display=""});k.addEventListener("canplay",function(){n.buffer.style.display=
"none"});k.addEventListener("error",function(){n.buffer.style.display="none"});n.getElement(n.container).addEventListener("controlsresize",function(a){Infinity!==n.getDuration()&&(c.setProgressRail(a),n.forcedHandlePause||c.setCurrentRail(a))})},cleanprogress:function(a,c,f,h){h.removeEventListener("progress",a.broadcastCallback);h.removeEventListener("timeupdate",a.broadcastCallback);a.rail&&a.rail.remove()},setProgressRail:function(a){var c=void 0!==a?a.detail.target||a.target:this.media,d=null;
c&&c.buffered&&0<c.buffered.length&&c.buffered.end&&this.getDuration()?d=c.buffered.end(c.buffered.length-1)/this.getDuration():c&&void 0!==c.bytesTotal&&0<c.bytesTotal&&void 0!==c.bufferedBytes?d=c.bufferedBytes/c.bytesTotal:a&&a.lengthComputable&&0!==a.total&&(d=a.loaded/a.total);null!==d&&(d=Math.min(1,Math.max(0,d)),this.loaded&&this.setTransformStyle(this.loaded,"scaleX("+d+")"))},setCurrentRailHandle:function(a){this.setCurrentRailMain(this,a)},setCurrentRail:function(){this.setCurrentRailMain(this)},
setCurrentRailMain:function(a,c){if(void 0!==a.getCurrentTime()&&a.getDuration()){var d="undefined"===typeof c?a.getCurrentTime():c;if(a.total&&a.handle){c=parseFloat(getComputedStyle(a.total).width);var e=Math.round(c*d/a.getDuration());d=e-Math.round(a.handle.offsetWidth/2);d=0>d?0:d;a.setTransformStyle(a.current,"scaleX("+e/c+")");a.setTransformStyle(a.handle,"translateX("+d+"px)");a.options.useSmoothHover&&!(0,l.hasClass)(a.hovered,"no-hover")&&(e=parseInt(a.hovered.getAttribute("pos"),10),e=
isNaN(e)?0:e,c=e/c-d/c,a.hovered.style.left=d+"px",a.setTransformStyle(a.hovered,"scaleX("+c+")"),0<=c?(0,l.removeClass)(a.hovered,"negative"):(0,l.addClass)(a.hovered,"negative"))}}}})},{16:16,2:2,25:25,26:26,30:30,5:5}],12:[function(c,f,k){var m=(f=c(2))&&f.__esModule?f:{default:f};k=(f=c(16))&&f.__esModule?f:{default:f};var p=c(30),t=c(26);Object.assign(f.config,{duration:0,timeAndDurationSeparator:"<span> | </span>"});Object.assign(k.default.prototype,{buildcurrent:function(c,a,f,k){var d=this;
a=m.default.createElement("div");a.className=d.options.classPrefix+"time";a.setAttribute("role","timer");a.setAttribute("aria-live","off");a.innerHTML='<span class="'+d.options.classPrefix+'currenttime">'+(0,p.secondsToTimeCode)(0,c.options.alwaysShowHours,c.options.showTimecodeFrameCount,c.options.framesPerSecond,c.options.secondsDecimalLength,c.options.timeFormat)+"</span>";d.addControlElement(a,"current");c.updateCurrent();d.updateTimeCallback=function(){d.controlsAreVisible&&c.updateCurrent()};
k.addEventListener("timeupdate",d.updateTimeCallback)},cleancurrent:function(c,a,f,k){k.removeEventListener("timeupdate",c.updateTimeCallback)},buildduration:function(c,a,f,k){var d=this;a.lastChild.querySelector("."+d.options.classPrefix+"currenttime")?a.querySelector("."+d.options.classPrefix+"time").innerHTML+=d.options.timeAndDurationSeparator+'<span class="'+d.options.classPrefix+'duration">'+((0,p.secondsToTimeCode)(d.options.duration,d.options.alwaysShowHours,d.options.showTimecodeFrameCount,
d.options.framesPerSecond,d.options.secondsDecimalLength,d.options.timeFormat)+"</span>"):(a.querySelector("."+d.options.classPrefix+"currenttime")&&(0,t.addClass)(a.querySelector("."+d.options.classPrefix+"currenttime").parentNode,d.options.classPrefix+"currenttime-container"),a=m.default.createElement("div"),a.className=d.options.classPrefix+"time "+d.options.classPrefix+"duration-container",a.innerHTML='<span class="'+d.options.classPrefix+'duration">'+((0,p.secondsToTimeCode)(d.options.duration,
d.options.alwaysShowHours,d.options.showTimecodeFrameCount,d.options.framesPerSecond,d.options.secondsDecimalLength,d.options.timeFormat)+"</span>"),d.addControlElement(a,"duration"));d.updateDurationCallback=function(){d.controlsAreVisible&&c.updateDuration()};k.addEventListener("timeupdate",d.updateDurationCallback)},cleanduration:function(c,a,f,k){k.removeEventListener("timeupdate",c.updateDurationCallback)},updateCurrent:function(){var c=this.getCurrentTime();isNaN(c)&&(c=0);c=(0,p.secondsToTimeCode)(c,
this.options.alwaysShowHours,this.options.showTimecodeFrameCount,this.options.framesPerSecond,this.options.secondsDecimalLength,this.options.timeFormat);5<c.length?(0,t.addClass)(this.getElement(this.container),this.options.classPrefix+"long-video"):(0,t.removeClass)(this.getElement(this.container),this.options.classPrefix+"long-video");this.getElement(this.controls).querySelector("."+this.options.classPrefix+"currenttime")&&(this.getElement(this.controls).querySelector("."+this.options.classPrefix+
"currenttime").innerText=c)},updateDuration:function(){var c=this.getDuration();void 0!==this.media&&(isNaN(c)||Infinity===c||0>c)&&(this.media.duration=this.options.duration=c=0);0<this.options.duration&&(c=this.options.duration);var a=(0,p.secondsToTimeCode)(c,this.options.alwaysShowHours,this.options.showTimecodeFrameCount,this.options.framesPerSecond,this.options.secondsDecimalLength,this.options.timeFormat);5<a.length?(0,t.addClass)(this.getElement(this.container),this.options.classPrefix+"long-video"):
(0,t.removeClass)(this.getElement(this.container),this.options.classPrefix+"long-video");this.getElement(this.controls).querySelector("."+this.options.classPrefix+"duration")&&0<c&&(this.getElement(this.controls).querySelector("."+this.options.classPrefix+"duration").innerHTML=a)}})},{16:16,2:2,26:26,30:30}],13:[function(c,f,m){function n(a){return a&&a.__esModule?a:{default:a}}f=c(2);var p=n(f);f=c(7);var t=n(f);f=c(5);var q=n(f);f=c(16);m=n(f);var a=c(30),h=c(27),l=c(26);Object.assign(f.config,
{startLanguage:"",tracksText:null,chaptersText:null,tracksAriaLive:!1,hideCaptionsButtonWhenEmpty:!0,toggleCaptionsButtonWhenOnlyOne:!1,slidesSelector:""});Object.assign(m.default.prototype,{hasChapters:!1,buildtracks:function(a,c,f,k){this.findTracks();if(a.tracks.length||a.trackFiles){var d=this,e=d.options.tracksAriaLive?' role="log" aria-live="assertive" aria-atomic="false"':"",m=(0,h.isString)(d.options.tracksText)?d.options.tracksText:q.default.t("mejs.captions-subtitles"),n=(0,h.isString)(d.options.chaptersText)?
d.options.chaptersText:q.default.t("mejs.captions-chapters"),t=null===a.trackFiles?a.tracks.length:a.trackFiles.length;if(d.domNode.textTracks)for(var u=d.domNode.textTracks.length-1;0<=u;u--)d.domNode.textTracks[u].mode="hidden";d.cleartracks(a);a.captions=p.default.createElement("div");a.captions.className=d.options.classPrefix+"captions-layer "+d.options.classPrefix+"layer";a.captions.innerHTML='<div class="'+d.options.classPrefix+"captions-position "+d.options.classPrefix+'captions-position-hover"'+
e+'><span class="'+(d.options.classPrefix+'captions-text"></span></div>');a.captions.style.display="none";f.insertBefore(a.captions,f.firstChild);a.captionsText=a.captions.querySelector("."+d.options.classPrefix+"captions-text");a.captionsButton=p.default.createElement("div");a.captionsButton.className=d.options.classPrefix+"button "+d.options.classPrefix+"captions-button";a.captionsButton.innerHTML='<button type="button" aria-controls="'+d.id+'" title="'+m+'" aria-label="'+m+'" tabindex="-1"></button><div class="'+
(d.options.classPrefix+"captions-selector "+d.options.classPrefix+'offscreen"><ul class="')+(d.options.classPrefix+'captions-selector-list"><li class="')+(d.options.classPrefix+'captions-selector-list-item"><input type="radio" class="')+(d.options.classPrefix+'captions-selector-input" name="')+(a.id+'_captions" id="'+a.id+'_captions_none" value="none" checked disabled><label class="')+(d.options.classPrefix+"captions-selector-label ")+(d.options.classPrefix+'captions-selected" for="')+(a.id+'_captions_none">'+
q.default.t("mejs.none")+"</label></li></ul></div>");d.addControlElement(a.captionsButton,"tracks");a.captionsButton.querySelector("."+d.options.classPrefix+"captions-selector-input").disabled=!1;a.chaptersButton=p.default.createElement("div");a.chaptersButton.className=d.options.classPrefix+"button "+d.options.classPrefix+"chapters-button";a.chaptersButton.innerHTML='<button type="button" aria-controls="'+d.id+'" title="'+n+'" aria-label="'+n+'" tabindex="0"></button><div class="'+(d.options.classPrefix+
"chapters-selector "+d.options.classPrefix+'offscreen"><ul class="')+(d.options.classPrefix+'chapters-selector-list"></ul></div>');for(e=f=0;e<t;e++)m=a.tracks[e].kind,a.tracks[e].src.trim()&&("subtitles"===m||"captions"===m?f++:"chapters"!==m||c.querySelector("."+d.options.classPrefix+"chapter-selector")||a.captionsButton.parentNode.insertBefore(a.chaptersButton,a.captionsButton));a.trackToLoad=-1;a.selectedTrack=null;a.isLoadingTrack=!1;for(c=0;c<t;c++)e=a.tracks[c].kind,!a.tracks[c].src.trim()||
"subtitles"!==e&&"captions"!==e||a.addTrackButton(a.tracks[c].trackId,a.tracks[c].srclang,a.tracks[c].label);a.loadNextTrack();c=["mouseenter","focusin"];t=["mouseleave","focusout"];if(d.options.toggleCaptionsButtonWhenOnlyOne&&1===f)a.captionsButton.addEventListener("click",function(c){var d="none";null===a.selectedTrack&&(d=a.tracks[0].trackId);a.setTrack(d,"undefined"!==typeof(c.keyCode||c.which))});else{f=a.captionsButton.querySelectorAll("."+d.options.classPrefix+"captions-selector-label");e=
a.captionsButton.querySelectorAll("input[type=radio]");m=0;for(n=c.length;m<n;m++)a.captionsButton.addEventListener(c[m],function(){(0,l.removeClass)(this.querySelector("."+d.options.classPrefix+"captions-selector"),d.options.classPrefix+"offscreen")});m=0;for(n=t.length;m<n;m++)a.captionsButton.addEventListener(t[m],function(){(0,l.addClass)(this.querySelector("."+d.options.classPrefix+"captions-selector"),d.options.classPrefix+"offscreen")});m=0;for(n=e.length;m<n;m++)e[m].addEventListener("click",
function(c){a.setTrack(this.value,"undefined"!==typeof(c.keyCode||c.which))});e=0;for(m=f.length;e<m;e++)f[e].addEventListener("click",function(a){var c=(0,l.siblings)(this,function(a){return"INPUT"===a.tagName})[0],d=(0,h.createEvent)("click",c);c.dispatchEvent(d);a.preventDefault()});a.captionsButton.addEventListener("keydown",function(a){a.stopPropagation()})}f=0;for(e=c.length;f<e;f++)a.chaptersButton.addEventListener(c[f],function(){this.querySelector("."+d.options.classPrefix+"chapters-selector-list").children.length&&
(0,l.removeClass)(this.querySelector("."+d.options.classPrefix+"chapters-selector"),d.options.classPrefix+"offscreen")});c=0;for(f=t.length;c<f;c++)a.chaptersButton.addEventListener(t[c],function(){(0,l.addClass)(this.querySelector("."+d.options.classPrefix+"chapters-selector"),d.options.classPrefix+"offscreen")});a.chaptersButton.addEventListener("keydown",function(a){a.stopPropagation()});a.options.alwaysShowControls?(0,l.addClass)(a.getElement(a.container).querySelector("."+d.options.classPrefix+
"captions-position"),d.options.classPrefix+"captions-position-hover"):(a.getElement(a.container).addEventListener("controlsshown",function(){(0,l.addClass)(a.getElement(a.container).querySelector("."+d.options.classPrefix+"captions-position"),d.options.classPrefix+"captions-position-hover")}),a.getElement(a.container).addEventListener("controlshidden",function(){k.paused||(0,l.removeClass)(a.getElement(a.container).querySelector("."+d.options.classPrefix+"captions-position"),d.options.classPrefix+
"captions-position-hover")}));k.addEventListener("timeupdate",function(){a.displayCaptions()});""!==a.options.slidesSelector&&(a.slidesContainer=p.default.querySelectorAll(a.options.slidesSelector),k.addEventListener("timeupdate",function(){a.displaySlides()}))}},cleartracks:function(a){a&&(a.captions&&a.captions.remove(),a.chapters&&a.chapters.remove(),a.captionsText&&a.captionsText.remove(),a.captionsButton&&a.captionsButton.remove(),a.chaptersButton&&a.chaptersButton.remove())},rebuildtracks:function(){this.findTracks();
this.buildtracks(this,this.getElement(this.controls),this.getElement(this.layers),this.media)},findTracks:function(){var a=null===this.trackFiles?this.node.querySelectorAll("track"):this.trackFiles,c=a.length;this.tracks=[];for(var f=0;f<c;f++){var h=a[f],k=h.getAttribute("srclang").toLowerCase()||"",l=this.id+"_track_"+f+"_"+h.getAttribute("kind")+"_"+k;this.tracks.push({trackId:l,srclang:k,src:h.getAttribute("src"),kind:h.getAttribute("kind"),label:h.getAttribute("label")||"",entries:[],isLoaded:!1})}},
setTrack:function(a,c){for(var d=this,e=d.captionsButton.querySelectorAll('input[type="radio"]'),f=d.captionsButton.querySelectorAll("."+d.options.classPrefix+"captions-selected"),k=d.captionsButton.querySelector('input[value="'+a+'"]'),m=0,n=e.length;m<n;m++)e[m].checked=!1;e=0;for(m=f.length;e<m;e++)(0,l.removeClass)(f[e],d.options.classPrefix+"captions-selected");k.checked=!0;f=(0,l.siblings)(k,function(a){return(0,l.hasClass)(a,d.options.classPrefix+"captions-selector-label")});k=0;for(e=f.length;k<
e;k++)(0,l.addClass)(f[k],d.options.classPrefix+"captions-selected");if("none"===a)d.selectedTrack=null,(0,l.removeClass)(d.captionsButton,d.options.classPrefix+"captions-enabled");else for(f=0,k=d.tracks.length;f<k;f++)if(e=d.tracks[f],e.trackId===a){null===d.selectedTrack&&(0,l.addClass)(d.captionsButton,d.options.classPrefix+"captions-enabled");d.selectedTrack=e;d.captions.setAttribute("lang",d.selectedTrack.srclang);d.displayCaptions();break}a=(0,h.createEvent)("captionschange",d.media);a.detail.caption=
d.selectedTrack;d.media.dispatchEvent(a);c||setTimeout(function(){d.getElement(d.container).focus()},500)},loadNextTrack:function(){this.trackToLoad++;this.trackToLoad<this.tracks.length?(this.isLoadingTrack=!0,this.loadTrack(this.trackToLoad)):(this.isLoadingTrack=!1,this.checkForTracks())},loadTrack:function(a){var c=this,d=c.tracks[a];void 0===d||void 0===d.src&&""===d.src||(0,l.ajax)(d.src,"text",function(a){d.entries="string"===typeof a&&/<tt\s+xml/ig.exec(a)?t.default.TrackFormatParser.dfxp.parse(a):
t.default.TrackFormatParser.webvtt.parse(a);d.isLoaded=!0;c.enableTrackButton(d);c.loadNextTrack();"slides"===d.kind?c.setupSlides(d):"chapters"!==d.kind||c.hasChapters||(c.drawChapters(d),c.hasChapters=!0)},function(){c.removeTrackButton(d.trackId);c.loadNextTrack()})},enableTrackButton:function(a){var c=this,d=a.srclang,f=p.default.getElementById(""+a.trackId);if(f){a=a.label;""===a&&(a=q.default.t(t.default.language.codes[d])||d);f.disabled=!1;for(var k=(0,l.siblings)(f,function(a){return(0,l.hasClass)(a,
c.options.classPrefix+"captions-selector-label")}),m=0,n=k.length;m<n;m++)k[m].innerHTML=a;c.options.startLanguage===d&&(f.checked=!0,d=(0,h.createEvent)("click",f),f.dispatchEvent(d))}},removeTrackButton:function(a){(a=p.default.getElementById(""+a))&&(a=a.closest("li"))&&a.remove()},addTrackButton:function(a,c,f){""===f&&(f=q.default.t(t.default.language.codes[c])||c);this.captionsButton.querySelector("ul").innerHTML+='<li class="'+this.options.classPrefix+'captions-selector-list-item"><input type="radio" class="'+
(this.options.classPrefix+'captions-selector-input" name="')+(this.id+'_captions" id="'+a+'" value="'+a+'" disabled><label class="')+(this.options.classPrefix+'captions-selector-label"for="')+(a+'">'+f+" (loading)</label></li>")},checkForTracks:function(){var a=!1;if(this.options.hideCaptionsButtonWhenEmpty){for(var c=0,f=this.tracks.length;c<f;c++){var h=this.tracks[c].kind;if(("subtitles"===h||"captions"===h)&&this.tracks[c].isLoaded){a=!0;break}}this.captionsButton.style.display=a?"":"none";this.setControlsSize()}},
displayCaptions:function(){if(void 0!==this.tracks){var a=this.selectedTrack;if(null!==a&&a.isLoaded){var c=this.searchTrackPosition(a.entries,this.media.currentTime);if(-1<c){var f=a.entries[c].text;"function"===typeof this.options.captionTextPreprocessor&&(f=this.options.captionTextPreprocessor(f));var h=this.captionsText,k=f;f=p.default.createElement("div");f.innerHTML=k;k=f.getElementsByTagName("script");for(var l=k.length;l--;)k[l].remove();k=f.getElementsByTagName("*");l=0;for(var m=k.length;l<
m;l++)for(var n=Array.prototype.slice.call(k[l].attributes),q=0,t=n.length;q<t;q++)n[q].name.startsWith("on")||n[q].value.startsWith("javascript")?k[l].remove():"style"===n[q].name&&k[l].removeAttribute(n[q].name);h.innerHTML=f.innerHTML;this.captionsText.className=this.options.classPrefix+"captions-text "+(a.entries[c].identifier||"");this.captions.style.display="";this.captions.style.height="0px";return}}this.captions.style.display="none"}},setupSlides:function(a){this.slides=a;this.slides.entries.imgs=
[this.slides.entries.length];this.showSlide(0)},showSlide:function(a){var c=this,d=this;if(void 0!==d.tracks&&void 0!==d.slidesContainer){var f=d.slides.entries[a].text,h=d.slides.entries[a].imgs;if(void 0===h||void 0===h.fadeIn){var k=p.default.createElement("img");k.src=f;k.addEventListener("load",function(){var a=(0,l.siblings)(c,function(c){return a(c)});c.style.display="none";d.slidesContainer.innerHTML+=c.innerHTML;(0,l.fadeIn)(d.slidesContainer.querySelector(k));for(var e=0,f=a.length;e<f;e++)(0,
l.fadeOut)(a[e],400)});d.slides.entries[a].imgs=h=k}else if(!(0,l.visible)(h)){var m=(0,l.siblings)(self,function(a){return m(a)});(0,l.fadeIn)(d.slidesContainer.querySelector(h));a=0;for(f=m.length;a<f;a++)(0,l.fadeOut)(m[a])}}},displaySlides:function(){if(void 0!==this.slides){var a=this.searchTrackPosition(this.slides.entries,this.media.currentTime);-1<a&&this.showSlide(a)}},drawChapters:function(a){var c=this,d=a.entries.length;if(d){c.chaptersButton.querySelector("ul").innerHTML="";for(var f=
0;f<d;f++)c.chaptersButton.querySelector("ul").innerHTML+='<li class="'+c.options.classPrefix+'chapters-selector-list-item" role="menuitemcheckbox" aria-live="polite" aria-disabled="false" aria-checked="false"><input type="radio" class="'+(c.options.classPrefix+'captions-selector-input" name="')+(c.id+'_chapters" id="'+c.id+"_chapters_"+f+'" value="'+a.entries[f].start+'" disabled><label class="')+(c.options.classPrefix+'chapters-selector-label"for="')+(c.id+"_chapters_"+f+'">'+a.entries[f].text+
"</label></li>");d=c.chaptersButton.querySelectorAll('input[type="radio"]');a=c.chaptersButton.querySelectorAll("."+c.options.classPrefix+"chapters-selector-label");f=0;for(var k=d.length;f<k;f++)d[f].disabled=!1,d[f].checked=!1,d[f].addEventListener("click",function(a){var d=c.chaptersButton.querySelectorAll("li"),e=(0,l.siblings)(this,function(a){return(0,l.hasClass)(a,c.options.classPrefix+"chapters-selector-label")})[0];this.checked=!0;this.parentNode.setAttribute("aria-checked",!0);(0,l.addClass)(e,
c.options.classPrefix+"chapters-selected");(0,l.removeClass)(c.chaptersButton.querySelector("."+c.options.classPrefix+"chapters-selected"),c.options.classPrefix+"chapters-selected");e=0;for(var f=d.length;e<f;e++)d[e].setAttribute("aria-checked",!1);"undefined"===typeof(a.keyCode||a.which)&&setTimeout(function(){c.getElement(c.container).focus()},500);c.media.setCurrentTime(parseFloat(this.value));c.media.paused&&c.media.play()});d=0;for(f=a.length;d<f;d++)a[d].addEventListener("click",function(a){var c=
(0,l.siblings)(this,function(a){return"INPUT"===a.tagName})[0],d=(0,h.createEvent)("click",c);c.dispatchEvent(d);a.preventDefault()})}},searchTrackPosition:function(a,c){for(var d=0,e=a.length-1,f,h,k;d<=e;){f=d+e>>1;h=a[f].start;k=a[f].stop;if(c>=h&&c<k)return f;h<c?d=f+1:h>c&&(e=f-1)}return-1}});t.default.language={codes:{af:"mejs.afrikaans",sq:"mejs.albanian",ar:"mejs.arabic",be:"mejs.belarusian",bg:"mejs.bulgarian",ca:"mejs.catalan",zh:"mejs.chinese","zh-cn":"mejs.chinese-simplified","zh-tw":"mejs.chines-traditional",
hr:"mejs.croatian",cs:"mejs.czech",da:"mejs.danish",nl:"mejs.dutch",en:"mejs.english",et:"mejs.estonian",fl:"mejs.filipino",fi:"mejs.finnish",fr:"mejs.french",gl:"mejs.galician",de:"mejs.german",el:"mejs.greek",ht:"mejs.haitian-creole",iw:"mejs.hebrew",hi:"mejs.hindi",hu:"mejs.hungarian",is:"mejs.icelandic",id:"mejs.indonesian",ga:"mejs.irish",it:"mejs.italian",ja:"mejs.japanese",ko:"mejs.korean",lv:"mejs.latvian",lt:"mejs.lithuanian",mk:"mejs.macedonian",ms:"mejs.malay",mt:"mejs.maltese",no:"mejs.norwegian",
fa:"mejs.persian",pl:"mejs.polish",pt:"mejs.portuguese",ro:"mejs.romanian",ru:"mejs.russian",sr:"mejs.serbian",sk:"mejs.slovak",sl:"mejs.slovenian",es:"mejs.spanish",sw:"mejs.swahili",sv:"mejs.swedish",tl:"mejs.tagalog",th:"mejs.thai",tr:"mejs.turkish",uk:"mejs.ukrainian",vi:"mejs.vietnamese",cy:"mejs.welsh",yi:"mejs.yiddish"}};t.default.TrackFormatParser={webvtt:{pattern:/^((?:[0-9]{1,2}:)?[0-9]{2}:[0-9]{2}([,.][0-9]{1,3})?) --\x3e ((?:[0-9]{1,2}:)?[0-9]{2}:[0-9]{2}([,.][0-9]{3})?)(.*)$/,parse:function(c){c=
c.split(/\r?\n/);for(var d=[],f,h,k=void 0,l=0,m=c.length;l<m;l++){if((f=this.pattern.exec(c[l]))&&l<c.length){0<=l-1&&""!==c[l-1]&&(k=c[l-1]);l++;h=c[l];for(l++;""!==c[l]&&l<c.length;)h=h+"\n"+c[l],l++;h=null===h?"":h.trim().replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig,"<a href='$1' target='_blank'>$1</a>");d.push({identifier:k,start:0===(0,a.convertSMPTEtoSeconds)(f[1])?.2:(0,a.convertSMPTEtoSeconds)(f[1]),stop:(0,a.convertSMPTEtoSeconds)(f[3]),text:h,settings:f[5]})}k=
""}return d}},dfxp:{parse:function(c){c=k(c).filter("tt");var d=c.firstChild,f=d.querySelectorAll("p"),h=c.getElementById(""+d.attr("style"));c=[];d=void 0;if(h.length&&(h.removeAttribute("id"),h=h.attributes,h.length)){d={};for(var l=0,m=h.length;l<m;l++)d[h[l].name.split(":")[1]]=h[l].value}h=0;for(l=f.length;h<l;h++){m=void 0;var n={start:null,stop:null,style:null,text:null};f.eq(h).attr("begin")&&(n.start=(0,a.convertSMPTEtoSeconds)(f.eq(h).attr("begin")));!n.start&&f.eq(h-1).attr("end")&&(n.start=
(0,a.convertSMPTEtoSeconds)(f.eq(h-1).attr("end")));f.eq(h).attr("end")&&(n.stop=(0,a.convertSMPTEtoSeconds)(f.eq(h).attr("end")));!n.stop&&f.eq(h+1).attr("begin")&&(n.stop=(0,a.convertSMPTEtoSeconds)(f.eq(h+1).attr("begin")));if(d){m="";for(var q in d)m+=q+":"+d[q]+";"}m&&(n.style=m);0===n.start&&(n.start=.2);n.text=f.eq(h).innerHTML.trim().replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig,"<a href='$1' target='_blank'>$1</a>");c.push(n)}return c}}}},{16:16,2:2,
26:26,27:27,30:30,5:5,7:7}],14:[function(c,f,m){function n(a){return a&&a.__esModule?a:{default:a}}f=c(2);var p=n(f);f=c(16);m=n(f);var t=c(5),q=n(t),a=c(25),h=c(27),l=c(26);Object.assign(f.config,{muteText:null,unmuteText:null,allyVolumeControlText:null,hideVolumeOnTouchDevices:!0,audioVolume:"horizontal",videoVolume:"vertical",startVolume:.8});Object.assign(m.default.prototype,{buildvolume:function(c,e,f,m){if(!a.IS_ANDROID&&!a.IS_IOS||!this.options.hideVolumeOnTouchDevices){var d=this,n=d.isVideo?
d.options.videoVolume:d.options.audioVolume,t=(0,h.isString)(d.options.muteText)?d.options.muteText:q.default.t("mejs.mute"),u=(0,h.isString)(d.options.unmuteText)?d.options.unmuteText:q.default.t("mejs.unmute");e=(0,h.isString)(d.options.allyVolumeControlText)?d.options.allyVolumeControlText:q.default.t("mejs.volume-help-text");var z=p.default.createElement("div");150>k("#"+this.id).position().top-parseInt(k("#PageBody").css("margin-top"))&&(n=d.isVideo?n:"horizontal");z.className=d.options.classPrefix+
"button "+d.options.classPrefix+"volume-button "+d.options.classPrefix+"mute";z.innerHTML="horizontal"===n?'<button type="button" aria-controls="'+d.id+'" title="'+t+'" aria-label="'+t+'" tabindex="0"></button>':'<button type="button" aria-controls="'+d.id+'" title="'+t+'" aria-label="'+t+'" tabindex="0"></button><a href="javascript:void(0);" class="'+(d.options.classPrefix+'volume-slider" aria-label="')+(q.default.t("mejs.volume-slider")+'" aria-valuemin="0" aria-valuemax="100" role="slider" aria-orientation="vertical"><span class="')+
(d.options.classPrefix+'offscreen">'+e+'</span><div class="')+(d.options.classPrefix+'volume-total"><div class="')+(d.options.classPrefix+'volume-current"></div><div class="')+(d.options.classPrefix+'volume-handle"></div></div></a>');d.addControlElement(z,"volume");d.options.keyActions.push({keys:[38],action:function(a){var c=a.getElement(a.container).querySelector("."+d.options.classPrefix+"volume-slider");c&&c.matches(":focus")&&(c.style.display="block");a.isVideo&&(a.showControls(),a.startControlsTimer());
c=Math.min(a.volume+.1,1);a.setVolume(c);0<c&&a.setMuted(!1)}},{keys:[40],action:function(a){var c=a.getElement(a.container).querySelector("."+d.options.classPrefix+"volume-slider");c&&(c.style.display="block");a.isVideo&&(a.showControls(),a.startControlsTimer());c=Math.max(a.volume-.1,0);a.setVolume(c);.1>=c&&a.setMuted(!0)}},{keys:[77],action:function(a){var c=a.getElement(a.container).querySelector("."+d.options.classPrefix+"volume-slider");c&&(c.style.display="block");a.isVideo&&(a.showControls(),
a.startControlsTimer());a.media.muted?a.setMuted(!1):a.setMuted(!0)}});"horizontal"===n&&(f=p.default.createElement("a"),f.className=d.options.classPrefix+"horizontal-volume-slider",f.href="javascript:void(0);",f.setAttribute("aria-label",q.default.t("mejs.volume-slider")),f.setAttribute("aria-valuemin",0),f.setAttribute("aria-valuemax",100),f.setAttribute("aria-valuenow",100),f.setAttribute("role","slider"),f.innerHTML+='<span class="'+d.options.classPrefix+'offscreen">'+e+'</span><div class="'+
(d.options.classPrefix+'horizontal-volume-total"><div class="')+(d.options.classPrefix+'horizontal-volume-current"></div><div class="')+(d.options.classPrefix+'horizontal-volume-handle"></div></div>'),z.parentNode.insertBefore(f,z.nextSibling));var A=!1,G=!1,B=!1,F="vertical"===n?d.getElement(d.container).querySelector("."+d.options.classPrefix+"volume-slider"):d.getElement(d.container).querySelector("."+d.options.classPrefix+"horizontal-volume-slider"),I="vertical"===n?d.getElement(d.container).querySelector("."+
d.options.classPrefix+"volume-total"):d.getElement(d.container).querySelector("."+d.options.classPrefix+"horizontal-volume-total"),M="vertical"===n?d.getElement(d.container).querySelector("."+d.options.classPrefix+"volume-current"):d.getElement(d.container).querySelector("."+d.options.classPrefix+"horizontal-volume-current"),L="vertical"===n?d.getElement(d.container).querySelector("."+d.options.classPrefix+"volume-handle"):d.getElement(d.container).querySelector("."+d.options.classPrefix+"horizontal-volume-handle"),
J=function(a){if(null!==a&&!isNaN(a)&&void 0!==a){a=Math.max(0,a);a=Math.min(a,1);if(0===a){(0,l.removeClass)(z,d.options.classPrefix+"mute");(0,l.addClass)(z,d.options.classPrefix+"unmute");var c=z.firstElementChild;c.setAttribute("title",u);c.setAttribute("aria-label",u)}else(0,l.removeClass)(z,d.options.classPrefix+"unmute"),(0,l.addClass)(z,d.options.classPrefix+"mute"),c=z.firstElementChild,c.setAttribute("title",t),c.setAttribute("aria-label",t);a=100*a+"%";c=getComputedStyle(L);"vertical"===
n?(M.style.bottom=0,M.style.height=a,L.style.bottom=a,L.style.marginBottom=-parseFloat(c.height)/2+"px"):(M.style.left=0,M.style.width=a,L.style.left=a,L.style.marginLeft=-parseFloat(c.width)/2+"px")}},P=function(a){var c=(0,l.offset)(I),e=getComputedStyle(I);B=!0;if("vertical"===n){if(e=parseFloat(e.height),e=(e-(a.pageY-c.top))/e,0===c.top||0===c.left)return}else e=parseFloat(e.width),e=(a.pageX-c.left)/e;e=Math.max(0,e);e=Math.min(e,1);J(e);d.setMuted(0===e);d.setVolume(e);a.preventDefault();a.stopPropagation()},
W=function(){d.muted?(J(0),(0,l.removeClass)(z,d.options.classPrefix+"mute"),(0,l.addClass)(z,d.options.classPrefix+"unmute")):(J(m.volume),(0,l.removeClass)(z,d.options.classPrefix+"unmute"),(0,l.addClass)(z,d.options.classPrefix+"mute"))};c.getElement(c.container).addEventListener("keydown",function(a){a.target.closest("."+d.options.classPrefix+"container")||"vertical"!==n||(F.style.display="none")});z.addEventListener("mouseenter",function(a){a.target===z&&(F.style.display="block",G=!0,a.preventDefault(),
a.stopPropagation())});z.addEventListener("focusin",function(){F.style.display="block";G=!0});z.addEventListener("focusout",function(a){a.relatedTarget&&(!a.relatedTarget||a.relatedTarget.matches("."+d.options.classPrefix+"volume-slider"))||"vertical"!==n||(F.style.display="none")});z.addEventListener("mouseleave",function(){G=!1;A||"vertical"!==n||(F.style.display="none")});z.addEventListener("focusout",function(){G=!1});z.addEventListener("keydown",function(a){if(d.options.enableKeyboard&&d.options.keyActions.length){var c=
m.volume;switch(a.which||a.keyCode||0){case 38:c=Math.min(c+.1,1);break;case 40:c=Math.max(0,c-.1);break;default:return!0}A=!1;J(c);m.setVolume(c);a.preventDefault();a.stopPropagation()}});z.querySelector("button").addEventListener("click",function(){m.setMuted(!m.muted);var a=(0,h.createEvent)("volumechange",m);m.dispatchEvent(a)});F.addEventListener("dragstart",function(){return!1});F.addEventListener("mouseover",function(){G=!0});F.addEventListener("focusin",function(){F.style.display="block";
G=!0});F.addEventListener("focusout",function(){G=!1;A||"vertical"!==n||(F.style.display="none")});F.addEventListener("mousedown",function(a){P(a);d.globalBind("mousemove.vol",function(a){var c=a.target;A&&(c===F||c.closest("vertical"===n?"."+d.options.classPrefix+"volume-slider":"."+d.options.classPrefix+"horizontal-volume-slider"))&&P(a)});d.globalBind("mouseup.vol",function(){A=!1;G||"vertical"!==n||(F.style.display="none")});A=!0;a.preventDefault();a.stopPropagation()});m.addEventListener("volumechange",
function(a){A||W();a=Math.floor(100*m.volume);F.setAttribute("aria-valuenow",a);F.setAttribute("aria-valuetext",a+"%")});var U=!1;m.addEventListener("rendererready",function(){B||setTimeout(function(){U=!0;if(0===c.options.startVolume||m.originalNode.muted)m.setMuted(!0),c.options.startVolume=0;m.setVolume(c.options.startVolume);d.setControlsSize()},250)});m.addEventListener("loadedmetadata",function(){setTimeout(function(){B||U||((0===c.options.startVolume||m.originalNode.muted)&&m.setMuted(!0),
m.setVolume(c.options.startVolume),d.setControlsSize());U=!1},250)});if(0===c.options.startVolume||m.originalNode.muted)m.setMuted(!0),c.options.startVolume=0,W();d.getElement(d.container).addEventListener("controlsresize",function(){W()})}}})},{16:16,2:2,25:25,26:26,27:27,5:5}],15:[function(c,f,k){Object.defineProperty(k,"__esModule",{value:!0});k.EN={"mejs.plural-form":1,"mejs.download-file":"Download File","mejs.install-flash":"You are using a browser that does not have Flash player enabled or installed. Please turn on your Flash player plugin or download the latest version from https://get.adobe.com/flashplayer/",
"mejs.fullscreen":"Fullscreen","mejs.play":"Play","mejs.pause":"Pause","mejs.time-slider":"Time Slider","mejs.time-help-text":"Use Left/Right Arrow keys to advance one second, Up/Down arrows to advance ten seconds.","mejs.live-broadcast":"Live Broadcast","mejs.volume-help-text":"Use Up/Down Arrow keys to increase or decrease volume.","mejs.unmute":"Unmute","mejs.mute":"Mute","mejs.volume-slider":"Volume Slider","mejs.video-player":"Video Player","mejs.audio-player":"Audio Player","mejs.captions-subtitles":"Captions/Subtitles",
"mejs.captions-chapters":"Chapters","mejs.none":"None","mejs.afrikaans":"Afrikaans","mejs.albanian":"Albanian","mejs.arabic":"Arabic","mejs.belarusian":"Belarusian","mejs.bulgarian":"Bulgarian","mejs.catalan":"Catalan","mejs.chinese":"Chinese","mejs.chinese-simplified":"Chinese (Simplified)","mejs.chinese-traditional":"Chinese (Traditional)","mejs.croatian":"Croatian","mejs.czech":"Czech","mejs.danish":"Danish","mejs.dutch":"Dutch","mejs.english":"English","mejs.estonian":"Estonian","mejs.filipino":"Filipino",
"mejs.finnish":"Finnish","mejs.french":"French","mejs.galician":"Galician","mejs.german":"German","mejs.greek":"Greek","mejs.haitian-creole":"Haitian Creole","mejs.hebrew":"Hebrew","mejs.hindi":"Hindi","mejs.hungarian":"Hungarian","mejs.icelandic":"Icelandic","mejs.indonesian":"Indonesian","mejs.irish":"Irish","mejs.italian":"Italian","mejs.japanese":"Japanese","mejs.korean":"Korean","mejs.latvian":"Latvian","mejs.lithuanian":"Lithuanian","mejs.macedonian":"Macedonian","mejs.malay":"Malay","mejs.maltese":"Maltese",
"mejs.norwegian":"Norwegian","mejs.persian":"Persian","mejs.polish":"Polish","mejs.portuguese":"Portuguese","mejs.romanian":"Romanian","mejs.russian":"Russian","mejs.serbian":"Serbian","mejs.slovak":"Slovak","mejs.slovenian":"Slovenian","mejs.spanish":"Spanish","mejs.swahili":"Swahili","mejs.swedish":"Swedish","mejs.tagalog":"Tagalog","mejs.thai":"Thai","mejs.turkish":"Turkish","mejs.ukrainian":"Ukrainian","mejs.vietnamese":"Vietnamese","mejs.welsh":"Welsh","mejs.yiddish":"Yiddish"}},{}],16:[function(c,
f,k){function m(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(k,"__esModule",{value:!0});k.config=void 0;var p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},t=function(){function a(a,c){for(var d=0;d<c.length;d++){var e=c[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,
e.key,e)}}return function(c,d,e){d&&a(c.prototype,d);e&&a(c,e);return c}}();f=c(3);var q=m(f);f=c(2);var a=m(f);f=c(7);var h=m(f);f=c(6);var l=m(f);f=c(17);var d=m(f);f=c(5);var e=m(f),u=c(25),z=c(27),C=c(30),D=c(28),x=function(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);c.default=a;return c}(c(26));h.default.mepIndex=0;h.default.players={};var E=k.config={poster:"",showPosterWhenEnded:!1,showPosterWhenPaused:!1,defaultVideoWidth:480,
defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,defaultAudioWidth:400,defaultAudioHeight:40,defaultSeekBackwardInterval:function(a){return.05*a.getDuration()},defaultSeekForwardInterval:function(a){return.05*a.getDuration()},setDimensions:!0,audioWidth:-1,audioHeight:-1,loop:!1,autoRewind:!0,enableAutosize:!0,timeFormat:"",alwaysShowHours:!1,showTimecodeFrameCount:!1,framesPerSecond:25,alwaysShowControls:!1,hideVideoControlsOnLoad:!1,hideVideoControlsOnPause:!1,clickToPlayPause:!0,controlsTimeoutDefault:1500,
controlsTimeoutMouseEnter:2500,controlsTimeoutMouseLeave:1E3,iPadUseNativeControls:!1,iPhoneUseNativeControls:!1,AndroidUseNativeControls:!1,features:"playpause current progress duration tracks volume fullscreen".split(" "),useDefaultControls:!1,isVideo:!0,stretching:"auto",classPrefix:"mejs__",enableKeyboard:!0,pauseOtherPlayers:!0,secondsDecimalLength:0,customError:null,keyActions:[{keys:[32,179],action:function(a){u.IS_FIREFOX||(a.paused||a.ended?a.play():a.pause())}}]};h.default.MepDefaults=E;
c=function(){function c(d,e){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");d="string"===typeof d?a.default.getElementById(d):d;if(!(this instanceof c))return new c(d,e);if(this.node=this.media=d){if(this.media.player)return this.media.player;this.hasFocus=!1;this.controlsEnabled=this.controlsAreVisible=!0;this.controlsTimer=null;this.currentMediaTime=0;this.proxy=null;void 0===e&&(e=(e=this.node.getAttribute("data-mejsoptions"))?JSON.parse(e):{});this.options=Object.assign({},
E,e);this.options.loop&&!this.media.getAttribute("loop")?(this.media.loop=!0,this.node.loop=!0):this.media.loop&&(this.options.loop=!0);this.options.timeFormat||(this.options.timeFormat="mm:ss",this.options.alwaysShowHours&&(this.options.timeFormat="hh:mm:ss"),this.options.showTimecodeFrameCount&&(this.options.timeFormat+=":ff"));(0,C.calculateTimeFormat)(0,this.options,this.options.framesPerSecond||25);this.id="mep_"+h.default.mepIndex++;h.default.players[this.id]=this;this.init();return this}}t(c,
[{key:"getElement",value:function(a){return a}},{key:"init",value:function(){var c=this,d=Object.assign({},c.options,{success:function(a,d){c._meReady(a,d)},error:function(a){c._handleError(a)}}),f=c.node.tagName.toLowerCase();c.isDynamic="audio"!==f&&"video"!==f&&"iframe"!==f;c.isVideo=c.isDynamic?c.options.isVideo:"audio"!==f&&c.options.isVideo;c.mediaFiles=null;c.trackFiles=null;if(u.IS_IPAD&&c.options.iPadUseNativeControls||u.IS_IPHONE&&c.options.iPhoneUseNativeControls)c.node.setAttribute("controls",
!0),u.IS_IPAD&&c.node.getAttribute("autoplay")&&c.play();else if(!c.isVideo&&(c.isVideo||!c.options.features.length&&!c.options.useDefaultControls)||u.IS_ANDROID&&c.options.AndroidUseNativeControls)c.isVideo||c.options.features.length||c.options.useDefaultControls||(c.node.style.display="none");else{c.node.removeAttribute("controls");f=c.isVideo?e.default.t("mejs.video-player"):e.default.t("mejs.audio-player");var k=a.default.createElement("span");k.className=c.options.classPrefix+"offscreen";k.innerText=
f;c.media.parentNode.insertBefore(k,c.media);c.container=a.default.createElement("div");c.getElement(c.container).id=c.id;c.getElement(c.container).className=c.options.classPrefix+"container "+c.options.classPrefix+"container-keyboard-inactive "+c.media.className;c.getElement(c.container).tabIndex=0;c.getElement(c.container).setAttribute("role","application");c.getElement(c.container).setAttribute("aria-label",f);c.getElement(c.container).innerHTML='<div class="'+c.options.classPrefix+'inner"><div class="'+
(c.options.classPrefix+'mediaelement"></div><div class="')+(c.options.classPrefix+'layers"></div><div class="')+(c.options.classPrefix+'controls"></div></div>');c.getElement(c.container).addEventListener("focus",function(a){c.controlsAreVisible||c.hasFocus||!c.controlsEnabled||(c.showControls(!0),a=(0,z.isNodeAfter)(a.relatedTarget,c.getElement(c.container))?"."+c.options.classPrefix+"controls ."+c.options.classPrefix+"button:last-child > button":"."+c.options.classPrefix+"playpause-button > button",
c.getElement(c.container).querySelector(a).focus())});c.node.parentNode.insertBefore(c.getElement(c.container),c.node);c.options.features.length||c.options.useDefaultControls||(c.getElement(c.container).style.background="transparent",c.getElement(c.container).querySelector("."+c.options.classPrefix+"controls").style.display="none");c.isVideo&&"fill"===c.options.stretching&&!x.hasClass(c.getElement(c.container).parentNode,c.options.classPrefix+"fill-container")&&(c.outerContainer=c.media.parentNode,
f=a.default.createElement("div"),f.className=c.options.classPrefix+"fill-container",c.getElement(c.container).parentNode.insertBefore(f,c.getElement(c.container)),f.appendChild(c.getElement(c.container)));u.IS_ANDROID&&x.addClass(c.getElement(c.container),c.options.classPrefix+"android");u.IS_IOS&&x.addClass(c.getElement(c.container),c.options.classPrefix+"ios");u.IS_IPAD&&x.addClass(c.getElement(c.container),c.options.classPrefix+"ipad");u.IS_IPHONE&&x.addClass(c.getElement(c.container),c.options.classPrefix+
"iphone");x.addClass(c.getElement(c.container),c.isVideo?c.options.classPrefix+"video":c.options.classPrefix+"audio");c.getElement(c.container).querySelector("."+c.options.classPrefix+"mediaelement").appendChild(c.node);c.media.player=c;c.controls=c.getElement(c.container).querySelector("."+c.options.classPrefix+"controls");c.layers=c.getElement(c.container).querySelector("."+c.options.classPrefix+"layers");f=c.isVideo?"video":"audio";k=f.substring(0,1).toUpperCase()+f.substring(1);0<c.options[f+
"Width"]||-1<c.options[f+"Width"].toString().indexOf("%")?c.width=c.options[f+"Width"]:""!==c.node.style.width&&null!==c.node.style.width?c.width=c.node.style.width:c.node.getAttribute("width")?c.width=c.node.getAttribute("width"):c.width=c.options["default"+k+"Width"];0<c.options[f+"Height"]||-1<c.options[f+"Height"].toString().indexOf("%")?c.height=c.options[f+"Height"]:""!==c.node.style.height&&null!==c.node.style.height?c.height=c.node.style.height:c.node.getAttribute("height")?c.height=c.node.getAttribute("height"):
c.height=c.options["default"+k+"Height"];c.initialAspectRatio=c.height>=c.width?c.width/c.height:c.height/c.width;c.setPlayerSize(c.width,c.height);d.pluginWidth=c.width;d.pluginHeight=c.height}h.default.MepDefaults=d;new l.default(c.media,d,c.mediaFiles);void 0!==c.getElement(c.container)&&c.options.features.length&&c.controlsAreVisible&&!c.options.hideVideoControlsOnLoad&&(d=(0,z.createEvent)("controlsshown",c.getElement(c.container)),c.getElement(c.container).dispatchEvent(d))}},{key:"showControls",
value:function(a){var c=this;if(!c.controls.classList.contains("AccessiblyHidden")&&!c.controlsAreVisible&&c.isVideo){if(void 0===a||a)(function(){x.fadeIn(c.getElement(c.controls),200,function(){x.removeClass(c.getElement(c.controls),c.options.classPrefix+"offscreen");var a=(0,z.createEvent)("controlsshown",c.getElement(c.container));c.getElement(c.container).dispatchEvent(a)});for(var a=c.getElement(c.container).querySelectorAll("."+c.options.classPrefix+"control"),d=function(d,e){x.fadeIn(a[d],
200,function(){x.removeClass(a[d],c.options.classPrefix+"offscreen")})},e=0,f=a.length;e<f;e++)d(e,f)})();else{x.removeClass(c.getElement(c.controls),c.options.classPrefix+"offscreen");c.getElement(c.controls).style.display="";c.getElement(c.controls).style.opacity=1;a=c.getElement(c.container).querySelectorAll("."+c.options.classPrefix+"control");for(var d=0,e=a.length;d<e;d++)x.removeClass(a[d],c.options.classPrefix+"offscreen"),a[d].style.display="";a=(0,z.createEvent)("controlsshown",c.getElement(c.container));
c.getElement(c.container).dispatchEvent(a)}c.controlsAreVisible=!0;c.setControlsSize()}}},{key:"hideControls",value:function(a,c){var d=this;if(!0===c||!(!d.controlsAreVisible||d.options.alwaysShowControls||d.paused&&4===d.readyState&&(!d.options.hideVideoControlsOnLoad&&0>=d.currentTime||!d.options.hideVideoControlsOnPause&&0<d.currentTime)||d.isVideo&&!d.options.hideVideoControlsOnLoad&&!d.readyState||d.ended)){if(void 0===a||a)(function(){x.fadeOut(d.getElement(d.controls),200,function(){x.addClass(d.getElement(d.controls),
d.options.classPrefix+"offscreen");d.getElement(d.controls).style.display="";var a=(0,z.createEvent)("controlshidden",d.getElement(d.container));d.getElement(d.container).dispatchEvent(a)});for(var a=d.getElement(d.container).querySelectorAll("."+d.options.classPrefix+"control"),c=function(c,e){x.fadeOut(a[c],200,function(){x.addClass(a[c],d.options.classPrefix+"offscreen");a[c].style.display=""})},e=0,f=a.length;e<f;e++)c(e,f)})();else{x.addClass(d.getElement(d.controls),d.options.classPrefix+"offscreen");
d.getElement(d.controls).style.display="";d.getElement(d.controls).style.opacity=0;a=d.getElement(d.container).querySelectorAll("."+d.options.classPrefix+"control");c=0;for(var e=a.length;c<e;c++)x.addClass(a[c],d.options.classPrefix+"offscreen"),a[c].style.display="";a=(0,z.createEvent)("controlshidden",d.getElement(d.container));d.getElement(d.container).dispatchEvent(a)}d.controlsAreVisible=!1}}},{key:"startControlsTimer",value:function(a){var c=this;a="undefined"!==typeof a?a:c.options.controlsTimeoutDefault;
c.killControlsTimer("start");c.controlsTimer=setTimeout(function(){c.hideControls();c.killControlsTimer("hide")},a)}},{key:"killControlsTimer",value:function(){null!==this.controlsTimer&&(clearTimeout(this.controlsTimer),delete this.controlsTimer,this.controlsTimer=null)}},{key:"disableControls",value:function(){this.killControlsTimer();this.controlsEnabled=!1;this.hideControls(!1,!0)}},{key:"enableControls",value:function(){this.controlsEnabled=!0;this.showControls(!1)}},{key:"_setDefaultPlayer",
value:function(){var a=this;a.proxy&&a.proxy.pause();a.proxy=new d.default(a);a.media.addEventListener("loadedmetadata",function(){0<a.getCurrentTime()&&0<a.currentMediaTime&&(a.setCurrentTime(a.currentMediaTime),u.IS_IOS||u.IS_ANDROID||a.play())})}},{key:"_meReady",value:function(c,d){var e=this,f=d.getAttribute("autoplay");f=!(void 0===f||null===f||"false"===f);var k=null!==c.rendererName&&/(native|html5)/i.test(c.rendererName);e.getElement(e.controls)&&e.enableControls();e.getElement(e.container)&&
e.getElement(e.container).querySelector("."+e.options.classPrefix+"overlay-play")&&(e.getElement(e.container).querySelector("."+e.options.classPrefix+"overlay-play").style.display="");if(!e.created){e.created=!0;e.media=c;e.domNode=d;if(!(u.IS_ANDROID&&e.options.AndroidUseNativeControls||u.IS_IPAD&&e.options.iPadUseNativeControls||u.IS_IPHONE&&e.options.iPhoneUseNativeControls)){if(!e.isVideo&&!e.options.features.length&&!e.options.useDefaultControls){f&&k&&e.play();if(e.options.success)if("string"===
typeof e.options.success)q.default[e.options.success](e.media,e.domNode,e);else e.options.success(e.media,e.domNode,e);return}e.featurePosition={};e._setDefaultPlayer();e.buildposter(e,e.getElement(e.controls),e.getElement(e.layers),e.media);e.buildkeyboard(e,e.getElement(e.controls),e.getElement(e.layers),e.media);e.buildoverlays(e,e.getElement(e.controls),e.getElement(e.layers),e.media);if(e.options.useDefaultControls){var l="playpause current progress duration tracks volume fullscreen".split(" ");
e.options.features=l.concat(e.options.features.filter(function(a){return-1===l.indexOf(a)}))}e.buildfeatures(e,e.getElement(e.controls),e.getElement(e.layers),e.media);c=(0,z.createEvent)("controlsready",e.getElement(e.container));e.getElement(e.container).dispatchEvent(c);e.setPlayerSize(e.width,e.height);e.setControlsSize();e.isVideo&&(e.clickToPlayPauseCallback=function(){if(e.options.clickToPlayPause){var a=e.getElement(e.container).querySelector("."+e.options.classPrefix+"overlay-button"),c=
a.getAttribute("aria-pressed");e.paused&&c?e.pause():e.paused?e.play():e.pause();a.setAttribute("aria-pressed",!c);e.getElement(e.container).focus()}},e.createIframeLayer(),e.media.addEventListener("click",e.clickToPlayPauseCallback),!u.IS_ANDROID&&!u.IS_IOS||e.options.alwaysShowControls?(e.getElement(e.container).addEventListener("mouseenter",function(){e.controlsEnabled&&!e.options.alwaysShowControls&&(e.killControlsTimer("enter"),e.showControls(),e.startControlsTimer(e.options.controlsTimeoutMouseEnter))}),
e.getElement(e.container).addEventListener("mousemove",function(){e.controlsEnabled&&(e.controlsAreVisible||e.showControls(),e.options.alwaysShowControls||e.startControlsTimer(e.options.controlsTimeoutMouseEnter))}),e.getElement(e.container).addEventListener("mouseleave",function(){e.controlsEnabled&&(e.paused||e.options.alwaysShowControls||e.startControlsTimer(e.options.controlsTimeoutMouseLeave))})):e.node.addEventListener("touchstart",function(){e.controlsAreVisible?e.hideControls(!1):e.controlsEnabled&&
e.showControls(!1)},u.SUPPORT_PASSIVE_EVENT?{passive:!0}:!1),e.options.hideVideoControlsOnLoad&&e.hideControls(!1),e.options.enableAutosize&&e.media.addEventListener("loadedmetadata",function(a){a=void 0!==a?a.detail.target||a.target:e.media;0>=e.options.videoHeight&&!e.domNode.getAttribute("height")&&!e.domNode.style.height&&null!==a&&!isNaN(a.videoHeight)&&(e.setPlayerSize(a.videoWidth,a.videoHeight),e.setControlsSize(),e.media.setSize(a.videoWidth,a.videoHeight))}));e.media.addEventListener("play",
function(){e.hasFocus=!0;for(var a in h.default.players)if(h.default.players.hasOwnProperty(a)){var c=h.default.players[a];c.id===e.id||!e.options.pauseOtherPlayers||c.paused||c.ended||!0===c.options.ignorePauseOtherPlayersOption||(c.pause(),c.hasFocus=!1)}u.IS_ANDROID||u.IS_IOS||e.options.alwaysShowControls||!e.isVideo||e.hideControls()});e.media.addEventListener("ended",function(){if(e.options.autoRewind)try{setTimeout(function(){e.setCurrentTime(0);var a=e.getElement(e.container).querySelector("."+
e.options.classPrefix+"overlay-loading");a&&a.parentNode&&(a.parentNode.style.display="none")},20)}catch(J){}"function"===typeof e.media.renderer.stop?e.media.renderer.stop():e.pause();e.setProgressRail&&e.setProgressRail();e.setCurrentRail&&e.setCurrentRail();e.options.loop?e.play():!e.options.alwaysShowControls&&e.controlsEnabled&&e.showControls()});e.media.addEventListener("loadedmetadata",function(){(0,C.calculateTimeFormat)(e.getDuration(),e.options,e.options.framesPerSecond||25);e.updateDuration&&
e.updateDuration();e.updateCurrent&&e.updateCurrent();e.isFullScreen||(e.setPlayerSize(e.width,e.height),e.setControlsSize())});var m=null;e.media.addEventListener("timeupdate",function(){isNaN(e.getDuration())||m===e.getDuration()||(m=e.getDuration(),(0,C.calculateTimeFormat)(m,e.options,e.options.framesPerSecond||25),e.updateDuration&&e.updateDuration(),e.updateCurrent&&e.updateCurrent(),e.setControlsSize())});e.getElement(e.container).addEventListener("click",function(a){x.addClass(a.currentTarget,
e.options.classPrefix+"container-keyboard-inactive")});e.getElement(e.container).addEventListener("focusin",function(a){x.removeClass(a.currentTarget,e.options.classPrefix+"container-keyboard-inactive");!e.isVideo||u.IS_ANDROID||u.IS_IOS||!e.controlsEnabled||e.options.alwaysShowControls||(e.killControlsTimer("enter"),e.showControls(),e.startControlsTimer(e.options.controlsTimeoutMouseEnter))});e.getElement(e.container).addEventListener("focusout",function(a){setTimeout(function(){a.relatedTarget&&
e.keyboardAction&&!a.relatedTarget.closest("."+e.options.classPrefix+"container")&&(e.keyboardAction=!1,!e.isVideo||e.options.alwaysShowControls||e.paused||e.startControlsTimer(e.options.controlsTimeoutMouseLeave))},0)});setTimeout(function(){e.setPlayerSize(e.width,e.height);e.setControlsSize()},0);e.globalResizeCallback=function(){e.isFullScreen||u.HAS_TRUE_NATIVE_FULLSCREEN&&a.default.webkitIsFullScreen||e.setPlayerSize(e.width,e.height);e.setControlsSize()};e.globalBind("resize",e.globalResizeCallback)}f&&
k&&e.play();if(e.options.success)if("string"===typeof e.options.success)q.default[e.options.success](e.media,e.domNode,e);else e.options.success(e.media,e.domNode,e)}}},{key:"_handleError",value:function(c,d,e){var f=this.getElement(this.layers).querySelector("."+this.options.classPrefix+"overlay-play");f&&(f.style.display="none");this.options.error&&this.options.error(c,d,e);this.getElement(this.container).querySelector("."+this.options.classPrefix+"cannotplay")&&this.getElement(this.container).querySelector("."+
this.options.classPrefix+"cannotplay").remove();d=a.default.createElement("div");d.className=this.options.classPrefix+"cannotplay";d.style.width="100%";d.style.height="100%";e="function"===typeof this.options.customError?this.options.customError(this.media,this.media.originalNode):this.options.customError;f="";if(!e){var k=this.media.originalNode.getAttribute("poster");k&&(f='<img src="'+k+'" alt="'+h.default.i18n.t("mejs.download-file")+'">');c.message&&(e="<p>"+c.message+"</p>");if(c.urls){k=0;
for(var l=c.urls.length;k<l;k++){var m=c.urls[k];e+='<a href="'+m.src+'" data-type="'+m.type+'"><span>'+h.default.i18n.t("mejs.download-file")+": "+m.src+"</span></a>"}}}e&&this.getElement(this.layers).querySelector("."+this.options.classPrefix+"overlay-error")&&(d.innerHTML=e,this.getElement(this.layers).querySelector("."+this.options.classPrefix+"overlay-error").innerHTML=""+f+d.outerHTML,this.getElement(this.layers).querySelector("."+this.options.classPrefix+"overlay-error").parentNode.style.display=
"block");this.controlsEnabled&&this.disableControls()}},{key:"setPlayerSize",value:function(a,c){if(!this.options.setDimensions)return!1;"undefined"!==typeof a&&(this.width=a);"undefined"!==typeof c&&(this.height=c);switch(this.options.stretching){case "fill":this.isVideo?this.setFillMode():this.setDimensions(this.width,this.height);break;case "responsive":this.setResponsiveMode();break;case "none":this.setDimensions(this.width,this.height);break;default:!0===this.hasFluidMode()?this.setResponsiveMode():
this.setDimensions(this.width,this.height)}}},{key:"hasFluidMode",value:function(){return-1!==this.height.toString().indexOf("%")||this.node&&this.node.style.maxWidth&&"none"!==this.node.style.maxWidth&&this.node.style.maxWidth!==this.width||this.node&&this.node.currentStyle&&"100%"===this.node.currentStyle.maxWidth}},{key:"setResponsiveMode",value:function(){var c=this,d=function(){for(var a=void 0,d=c.getElement(c.container);d;){try{if(u.IS_FIREFOX&&"html"===d.tagName.toLowerCase()&&q.default.self!==
q.default.top&&null!==q.default.frameElement)return q.default.frameElement;a=d.parentElement}catch(W){a=d.parentElement}if(a&&x.visible(a))return a;d=a}return null}(),e=d?getComputedStyle(d,null):getComputedStyle(a.default.body,null);d=c.isVideo?c.node.videoWidth&&0<c.node.videoWidth?c.node.videoWidth:c.node.getAttribute("width")?c.node.getAttribute("width"):c.options.defaultVideoWidth:c.options.defaultAudioWidth;var f=c.isVideo?c.node.videoHeight&&0<c.node.videoHeight?c.node.videoHeight:c.node.getAttribute("height")?
c.node.getAttribute("height"):c.options.defaultVideoHeight:c.options.defaultAudioHeight,h=function(){var a=1;if(!c.isVideo)return a;a=c.node.videoWidth&&0<c.node.videoWidth&&c.node.videoHeight&&0<c.node.videoHeight?c.height>=c.width?c.node.videoWidth/c.node.videoHeight:c.node.videoHeight/c.node.videoWidth:c.initialAspectRatio;if(isNaN(a)||.01>a||100<a)a=1;return a}(),k=parseFloat(e.height),l=void 0;e=parseFloat(e.width);l=c.isVideo?"100%"===c.height?parseFloat(e*f/d,10):c.height>=c.width?parseFloat(e/
h,10):parseFloat(e*h,10):f;isNaN(l)&&(l=k);0<c.getElement(c.container).parentNode.length&&"body"===c.getElement(c.container).parentNode.tagName.toLowerCase()&&(e=q.default.innerWidth||a.default.documentElement.clientWidth||a.default.body.clientWidth,l=q.default.innerHeight||a.default.documentElement.clientHeight||a.default.body.clientHeight);if(l&&e)for(c.getElement(c.container).style.width=e+"px",c.getElement(c.container).style.height=l+"px",c.node.style.width="100%",c.node.style.height="100%",c.isVideo&&
c.media.setSize&&c.media.setSize(e,l),d=c.getElement(c.layers).children,f=0,h=d.length;f<h;f++)d[f].style.width="100%",d[f].style.height="100%"}},{key:"setFillMode",value:function(){var c=this,d=q.default.self!==q.default.top&&null!==q.default.frameElement,e=function(){for(var a=void 0,d=c.getElement(c.container);d;){try{if(u.IS_FIREFOX&&"html"===d.tagName.toLowerCase()&&q.default.self!==q.default.top&&null!==q.default.frameElement)return q.default.frameElement;a=d.parentElement}catch(U){a=d.parentElement}if(a&&
x.visible(a))return a;d=a}return null}(),f=e?getComputedStyle(e,null):getComputedStyle(a.default.body,null);"none"!==c.node.style.height&&c.node.style.height!==c.height&&(c.node.style.height="auto");"none"!==c.node.style.maxWidth&&c.node.style.maxWidth!==c.width&&(c.node.style.maxWidth="none");"none"!==c.node.style.maxHeight&&c.node.style.maxHeight!==c.height&&(c.node.style.maxHeight="none");c.node.currentStyle&&("100%"===c.node.currentStyle.height&&(c.node.currentStyle.height="auto"),"100%"===c.node.currentStyle.maxWidth&&
(c.node.currentStyle.maxWidth="none"),"100%"===c.node.currentStyle.maxHeight&&(c.node.currentStyle.maxHeight="none"));d||parseFloat(f.width)||(e.style.width=c.media.offsetWidth+"px");d||parseFloat(f.height)||(e.style.height=c.media.offsetHeight+"px");f=getComputedStyle(e);d=parseFloat(f.width);var h=parseFloat(f.height);c.setDimensions("100%","100%");if(f=c.getElement(c.container).querySelector("."+c.options.classPrefix+"poster>img"))f.style.display="";f=c.getElement(c.container).querySelectorAll("object, embed, iframe, video");
var k=c.height,l=c.width;e=l*h/k;var m=!1===e>d;e=m?Math.floor(d):Math.floor(e);l=m?Math.floor(k*d/l):Math.floor(h);k=m?d+"px":e+"px";h=m?l+"px":h+"px";m=0;for(l=f.length;m<l;m++)f[m].style.height=h,f[m].style.width=k,c.media.setSize&&c.media.setSize(k,h),f[m].style.marginLeft=Math.floor((d-e)/2)+"px",f[m].style.marginTop=0}},{key:"setDimensions",value:function(a,c){a=(0,z.isString)(a)&&-1<a.indexOf("%")?a:parseFloat(a)+"px";c=(0,z.isString)(c)&&-1<c.indexOf("%")?c:parseFloat(c)+"px";this.getElement(this.container).style.width=
a;this.getElement(this.container).style.height=c;for(var d=this.getElement(this.layers).children,e=0,f=d.length;e<f;e++)d[e].style.width=a,d[e].style.height=c}},{key:"setControlsSize",value:function(){var a=this;if(x.visible(a.getElement(a.container)))if(a.rail&&x.visible(a.rail)){var c=a.total?getComputedStyle(a.total,null):null;c=c?parseFloat(c.marginLeft)+parseFloat(c.marginRight):0;var d=getComputedStyle(a.rail);d=parseFloat(d.marginLeft)+parseFloat(d.marginRight);for(var e=0,f=x.siblings(a.rail,
function(c){return c!==a.rail}),h=f.length,k=0;k<h;k++)e+=f[k].offsetWidth;e+=c+(0===c?2*d:d)+1;a.getElement(a.container).style.minWidth=e+"px";c=(0,z.createEvent)("controlsresize",a.getElement(a.container));a.getElement(a.container).dispatchEvent(c)}else{c=a.getElement(a.controls).children;e=d=0;for(f=c.length;e<f;e++)d+=c[e].offsetWidth;a.getElement(a.container).style.minWidth=d+"px"}}},{key:"addControlElement",value:function(a,c){if(void 0!==this.featurePosition[c])c=this.getElement(this.controls).children[this.featurePosition[c]-
1],c.parentNode.insertBefore(a,c.nextSibling);else{this.getElement(this.controls).appendChild(a);for(var d=this.getElement(this.controls).children,e=0,f=d.length;e<f;e++)if(a===d[e]){this.featurePosition[c]=e;break}}}},{key:"createIframeLayer",value:function(){var c=this;if(c.isVideo&&null!==c.media.rendererName&&-1<c.media.rendererName.indexOf("iframe")&&!a.default.getElementById(c.media.id+"-iframe-overlay")){var d=a.default.createElement("div"),e=a.default.getElementById(c.media.id+"_"+c.media.rendererName);
d.id=c.media.id+"-iframe-overlay";d.className=c.options.classPrefix+"iframe-overlay";d.addEventListener("click",function(a){c.options.clickToPlayPause&&(c.paused?c.play():c.pause(),a.preventDefault(),a.stopPropagation())});e.parentNode.insertBefore(d,e)}}},{key:"resetSize",value:function(){var a=this;setTimeout(function(){a.setPlayerSize(a.width,a.height);a.setControlsSize()},50)}},{key:"setPoster",value:function(c){if(this.getElement(this.container)){var d=this.getElement(this.container).querySelector("."+
this.options.classPrefix+"poster");d||(d=a.default.createElement("div"),d.className=this.options.classPrefix+"poster "+this.options.classPrefix+"layer",this.getElement(this.layers).appendChild(d));var e=d.querySelector("img");!e&&c&&(e=a.default.createElement("img"),e.className=this.options.classPrefix+"poster-img",e.width="100%",e.height="100%",d.style.display="",d.appendChild(e));c?(e.setAttribute("src",c),d.style.backgroundImage='url("'+c+'")',d.style.display=""):e?(d.style.backgroundImage="none",
d.style.display="none",e.remove()):d.style.display="none"}else if(u.IS_IPAD&&this.options.iPadUseNativeControls||u.IS_IPHONE&&this.options.iPhoneUseNativeControls||u.IS_ANDROID&&this.options.AndroidUseNativeControls)this.media.originalNode.poster=c}},{key:"changeSkin",value:function(a){this.getElement(this.container).className=this.options.classPrefix+"container "+a;this.setPlayerSize(this.width,this.height);this.setControlsSize()}},{key:"globalBind",value:function(c,d){var e=this.node?this.node.ownerDocument:
a.default;c=(0,z.splitEvents)(c,this.id);if(c.d)for(var f=c.d.split(" "),h=0,k=f.length;h<k;h++)f[h].split(".").reduce(function(a,c){e.addEventListener(c,d,!1);return c},"");if(c.w)for(c=c.w.split(" "),f=0,h=c.length;f<h;f++)c[f].split(".").reduce(function(a,c){q.default.addEventListener(c,d,!1);return c},"")}},{key:"globalUnbind",value:function(c,d){var e=this.node?this.node.ownerDocument:a.default;c=(0,z.splitEvents)(c,this.id);if(c.d)for(var f=c.d.split(" "),h=0,k=f.length;h<k;h++)f[h].split(".").reduce(function(a,
c){e.removeEventListener(c,d,!1);return c},"");if(c.w)for(c=c.w.split(" "),f=0,h=c.length;f<h;f++)c[f].split(".").reduce(function(a,c){q.default.removeEventListener(c,d,!1);return c},"")}},{key:"buildfeatures",value:function(a,c,d,e){for(var f=0,h=this.options.features.length;f<h;f++){var k=this.options.features[f];if(this["build"+k])try{this["build"+k](a,c,d,e)}catch(J){console.error("error building "+k,J)}}}},{key:"buildposter",value:function(c,d,e,f){var h=a.default.createElement("div");h.className=
this.options.classPrefix+"poster "+this.options.classPrefix+"layer";e.appendChild(h);d=f.originalNode.getAttribute("poster");""!==c.options.poster&&(d&&u.IS_IOS&&f.originalNode.removeAttribute("poster"),d=c.options.poster);d?this.setPoster(d):null!==this.media.renderer&&"function"===typeof this.media.renderer.getPosterUrl?this.setPoster(this.media.renderer.getPosterUrl()):h.style.display="none";f.addEventListener("play",function(){h.style.display="none"});f.addEventListener("playing",function(){h.style.display=
"none"});c.options.showPosterWhenEnded&&c.options.autoRewind&&f.addEventListener("ended",function(){h.style.display=""});f.addEventListener("error",function(){h.style.display="none"});c.options.showPosterWhenPaused&&f.addEventListener("pause",function(){c.ended||(h.style.display="")})}},{key:"buildoverlays",value:function(c,d,f,h){if(c.isVideo){var k=this,l=a.default.createElement("div"),m=a.default.createElement("div"),n=a.default.createElement("div");l.style.display="none";l.className=k.options.classPrefix+
"overlay "+k.options.classPrefix+"layer";l.innerHTML='<div class="'+k.options.classPrefix+'overlay-loading"><span class="'+(k.options.classPrefix+'overlay-loading-bg-img"></span></div>');f.appendChild(l);m.style.display="none";m.className=k.options.classPrefix+"overlay "+k.options.classPrefix+"layer";m.innerHTML='<div class="'+k.options.classPrefix+'overlay-error"></div>';f.appendChild(m);n.className=k.options.classPrefix+"overlay "+k.options.classPrefix+"layer "+k.options.classPrefix+"overlay-play";
n.innerHTML='<div class="'+k.options.classPrefix+'overlay-button" role="button" tabindex="0" aria-label="'+(e.default.t("mejs.play")+'" aria-pressed="false"></div>');n.addEventListener("click",function(){if(k.options.clickToPlayPause){var a=k.getElement(k.container).querySelector("."+k.options.classPrefix+"overlay-button"),c=a.getAttribute("aria-pressed");k.paused?k.play():k.pause();a.setAttribute("aria-pressed",!!c);k.getElement(k.container).focus()}});n.addEventListener("keydown",function(a){a=
a.keyCode||a.which||0;if(13===a||u.IS_FIREFOX&&32===a)return a=(0,z.createEvent)("click",n),n.dispatchEvent(a),!1});f.appendChild(n);null!==k.media.rendererName&&(/(youtube|facebook)/i.test(k.media.rendererName)&&!(k.media.originalNode.getAttribute("poster")||c.options.poster||"function"===typeof k.media.renderer.getPosterUrl&&k.media.renderer.getPosterUrl())||u.IS_STOCK_ANDROID||k.media.originalNode.getAttribute("autoplay"))&&(n.style.display="none");var q=!1;h.addEventListener("play",function(){n.style.display=
"none";l.style.display="none";m.style.display="none";q=!1});h.addEventListener("playing",function(){n.style.display="none";l.style.display="none";m.style.display="none";q=!1});h.addEventListener("seeking",function(){n.style.display="none";l.style.display="";q=!1});h.addEventListener("seeked",function(){n.style.display=k.paused&&!u.IS_STOCK_ANDROID?"":"none";l.style.display="none";q=!1});h.addEventListener("pause",function(){l.style.display="none";u.IS_STOCK_ANDROID||q||(n.style.display="");q=!1});
h.addEventListener("waiting",function(){l.style.display="";q=!1});h.addEventListener("loadeddata",function(){l.style.display="";u.IS_ANDROID&&(h.canplayTimeout=setTimeout(function(){if(a.default.createEvent){var c=a.default.createEvent("HTMLEvents");c.initEvent("canplay",!0,!0);return h.dispatchEvent(c)}},300));q=!1});h.addEventListener("canplay",function(){l.style.display="none";clearTimeout(h.canplayTimeout);q=!1});h.addEventListener("error",function(a){k._handleError(a,k.media,k.node);l.style.display=
"none";n.style.display="none";q=!0});h.addEventListener("loadedmetadata",function(){k.controlsEnabled||k.enableControls()});h.addEventListener("keydown",function(a){k.onkeydown(c,h,a);q=!1})}}},{key:"buildkeyboard",value:function(c,d,e,f){var h=this;h.getElement(h.container).addEventListener("keydown",function(){h.keyboardAction=!0});h.globalKeydownCallback=function(d){var e=a.default.activeElement.closest("."+h.options.classPrefix+"container"),k=h.media.closest("."+h.options.classPrefix+"container");
h.hasFocus=!(!e||!k||e.id!==k.id);return h.onkeydown(c,f,d)};h.globalClickCallback=function(a){h.hasFocus=!!a.target.closest("."+h.options.classPrefix+"container")};h.globalBind("keydown",h.globalKeydownCallback);h.globalBind("click",h.globalClickCallback)}},{key:"onkeydown",value:function(a,c,d){if(a.hasFocus&&a.options.enableKeyboard)for(var e=0,f=a.options.keyActions.length;e<f;e++)for(var h=a.options.keyActions[e],k=0,l=h.keys.length;k<l;k++)if(d.keyCode===h.keys[k]){h.action(a,c,d.keyCode,d);
d.preventDefault();d.stopPropagation();return}return!0}},{key:"play",value:function(){this.proxy.play()}},{key:"pause",value:function(){this.proxy.pause()}},{key:"load",value:function(){this.proxy.load()}},{key:"setCurrentTime",value:function(a){this.proxy.setCurrentTime(a)}},{key:"getCurrentTime",value:function(){return this.proxy.currentTime}},{key:"getDuration",value:function(){return this.proxy.duration}},{key:"setVolume",value:function(a){this.proxy.volume=a}},{key:"getVolume",value:function(){return this.proxy.getVolume()}},
{key:"setMuted",value:function(a){this.proxy.setMuted(a)}},{key:"setSrc",value:function(a){this.controlsEnabled||this.enableControls();this.proxy.setSrc(a)}},{key:"getSrc",value:function(){return this.proxy.getSrc()}},{key:"canPlayType",value:function(a){return this.proxy.canPlayType(a)}},{key:"remove",value:function(){var c=this,d=c.media.rendererName,e=c.media.originalNode.src;for(k in c.options.features){var f=c.options.features[k];if(c["clean"+f])try{c["clean"+f](c,c.getElement(c.layers),c.getElement(c.controls),
c.media)}catch(M){console.error("error cleaning "+f,M)}}var k=c.node.getAttribute("width");f=c.node.getAttribute("height");k?-1===k.indexOf("%")&&(k+="px"):k="auto";f?-1===f.indexOf("%")&&(f+="px"):f="auto";c.node.style.width=k;c.node.style.height=f;c.setPlayerSize(0,0);c.isDynamic?c.getElement(c.container).parentNode.insertBefore(c.node,c.getElement(c.container)):function(){c.node.setAttribute("controls",!0);c.node.setAttribute("id",c.node.getAttribute("id").replace("_"+d,"").replace("_from_mejs",
""));var f=c.getElement(c.container).querySelector("."+c.options.classPrefix+"poster>img");f&&c.node.setAttribute("poster",f.src);delete c.node.autoplay;c.node.setAttribute("src","");""!==c.media.canPlayType((0,D.getTypeFromFile)(e))&&c.node.setAttribute("src",e);d&&-1<d.indexOf("iframe")&&a.default.getElementById(c.media.id+"-iframe-overlay").remove();var h=c.node.cloneNode();h.style.display="";c.getElement(c.container).parentNode.insertBefore(h,c.getElement(c.container));c.node.remove();if(c.mediaFiles){f=
0;for(var k=c.mediaFiles.length;f<k;f++){var l=a.default.createElement("source");l.setAttribute("src",c.mediaFiles[f].src);l.setAttribute("type",c.mediaFiles[f].type);h.appendChild(l)}}if(c.trackFiles)for(f=function(d,e){e=c.trackFiles[d];var f=a.default.createElement("track");f.kind=e.kind;f.label=e.label;f.srclang=e.srclang;f.src=e.src;h.appendChild(f);f.addEventListener("load",function(){this.mode="showing";h.textTracks[d].mode="showing"})},k=0,l=c.trackFiles.length;k<l;k++)f(k,l);delete c.node;
delete c.mediaFiles;delete c.trackFiles}();c.media.renderer&&"function"===typeof c.media.renderer.destroy&&c.media.renderer.destroy();delete h.default.players[c.id];"object"===p(c.getElement(c.container))&&(c.getElement(c.container).parentNode.querySelector("."+c.options.classPrefix+"offscreen").remove(),c.getElement(c.container).remove());c.globalUnbind("resize",c.globalResizeCallback);c.globalUnbind("keydown",c.globalKeydownCallback);c.globalUnbind("click",c.globalClickCallback);delete c.media.player}},
{key:"paused",get:function(){return this.proxy.paused}},{key:"muted",get:function(){return this.proxy.muted},set:function(a){this.setMuted(a)}},{key:"ended",get:function(){return this.proxy.ended}},{key:"readyState",get:function(){return this.proxy.readyState}},{key:"currentTime",set:function(a){this.setCurrentTime(a)},get:function(){return this.getCurrentTime()}},{key:"duration",get:function(){return this.getDuration()}},{key:"volume",set:function(a){this.setVolume(a)},get:function(){return this.getVolume()}},
{key:"src",set:function(a){this.setSrc(a)},get:function(){return this.getSrc()}}]);return c}();q.default.MediaElementPlayer=c;h.default.MediaElementPlayer=c;k.default=c},{17:17,2:2,25:25,26:26,27:27,28:28,3:3,30:30,5:5,6:6,7:7}],17:[function(c,f,k){Object.defineProperty(k,"__esModule",{value:!0});var m=function(){function c(c,f){for(var a=0;a<f.length;a++){var h=f[a];h.enumerable=h.enumerable||!1;h.configurable=!0;"value"in h&&(h.writable=!0);Object.defineProperty(c,h.key,h)}}return function(f,k,
a){k&&c(f.prototype,k);a&&c(f,a);return f}}();c=(c=c(3))&&c.__esModule?c:{default:c};f=function(){function c(f){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.media=f.media;this.isVideo=f.isVideo;this.classPrefix=f.options.classPrefix;this.createIframeLayer=function(){return f.createIframeLayer()};this.setPoster=function(c){return f.setPoster(c)};return this}m(c,[{key:"play",value:function(){this.media.play()}},{key:"pause",value:function(){this.media.pause()}},
{key:"load",value:function(){this.isLoaded||this.media.load();this.isLoaded=!0}},{key:"setCurrentTime",value:function(c){this.media.setCurrentTime(c)}},{key:"getCurrentTime",value:function(){return this.media.currentTime}},{key:"getDuration",value:function(){var c=this.media.getDuration();Infinity===c&&this.media.seekable&&this.media.seekable.length&&(c=this.media.seekable.end(0));return c}},{key:"setVolume",value:function(c){this.media.setVolume(c)}},{key:"getVolume",value:function(){return this.media.getVolume()}},
{key:"setMuted",value:function(c){this.media.setMuted(c)}},{key:"setSrc",value:function(c){var f=document.getElementById(this.media.id+"-iframe-overlay");f&&f.remove();!this.media.setSrc&&this.media instanceof HTMLVideoElement?this.media.setAttribute("src",c):this.media.setSrc(c);this.createIframeLayer();null!==this.media.renderer&&"function"===typeof this.media.renderer.getPosterUrl&&this.setPoster(this.media.renderer.getPosterUrl())}},{key:"getSrc",value:function(){return this.media.getSrc()}},
{key:"canPlayType",value:function(c){return this.media.canPlayType(c)}},{key:"paused",get:function(){return this.media.paused}},{key:"muted",set:function(c){this.setMuted(c)},get:function(){return this.media.muted}},{key:"ended",get:function(){return this.media.ended}},{key:"readyState",get:function(){return this.media.readyState}},{key:"currentTime",set:function(c){this.setCurrentTime(c)},get:function(){return this.getCurrentTime()}},{key:"duration",get:function(){return this.getDuration()}},{key:"remainingTime",
get:function(){return this.getDuration()-this.currentTime()}},{key:"volume",set:function(c){this.setVolume(c)},get:function(){return this.getVolume()}},{key:"src",set:function(c){this.setSrc(c)},get:function(){return this.getSrc()}}]);return c}();k.default=f;c.default.DefaultPlayer=f},{3:3}],18:[function(c,f,k){function m(c){return c&&c.__esModule?c:{default:c}}f=c(3);m(f);f=c(7);var p=m(f);c=c(16);var t=m(c);"undefined"!==typeof jQuery?p.default.$=jQuery:"undefined"!==typeof Zepto?p.default.$=Zepto:
"undefined"!==typeof ender&&(p.default.$=ender);(function(c){"undefined"!==typeof c&&(c.fn.mediaelementplayer=function(a){!1===a?this.each(function(){var a=c(this).data("mediaelementplayer");a&&a.remove();c(this).removeData("mediaelementplayer")}):this.each(function(){c(this).data("mediaelementplayer",new t.default(this,a))});return this},c(document).ready(function(){c("."+p.default.MepDefaults.classPrefix+"player").mediaelementplayer()}))})(p.default.$)},{16:16,3:3,7:7}],19:[function(c,f,k){var m=
"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},p=(f=c(3))&&f.__esModule?f:{default:f},t=(f=c(7))&&f.__esModule?f:{default:f},q=c(8),a=c(27);f=c(28);var h=c(25),l=c(26),d={promise:null,load:function(a){"undefined"!==typeof dashjs?d.promise=(new Promise(function(a){a()})).then(function(){d._createPlayer(a)}):(a.options.path="string"===typeof a.options.path?
a.options.path:"https://cdn.dashjs.org/latest/dash.all.min.js",d.promise=d.promise||(0,l.loadScript)(a.options.path),d.promise.then(function(){d._createPlayer(a)}));return d.promise},_createPlayer:function(a){var c=dashjs.MediaPlayer().create();p.default["__ready__"+a.id](c);return c}};f.typeChecks.push(function(a){return~a.toLowerCase().indexOf(".mpd")?"application/dash+xml":null});q.renderer.add({name:"native_dash",options:{prefix:"native_dash",dash:{path:"https://cdn.dashjs.org/latest/dash.all.min.js",
debug:!1,drm:{},robustnessLevel:""}},canPlayType:function(a){return h.HAS_MSE&&-1<["application/dash+xml"].indexOf(a.toLowerCase())},create:function(c,f,h){var e=c.originalNode,k=c.id+"_"+f.prefix,l=e.autoplay,n=e.children,u=null,z=null;e.removeAttribute("type");for(var G=0,B=n.length;G<B;G++)n[G].removeAttribute("type");u=e.cloneNode(!0);f=Object.assign(f,c.options);n=t.default.html5media.properties;var F=t.default.html5media.events.concat(["click","mouseover","mouseout"]).filter(function(a){return"error"!==
a}),I=function(d){d=(0,a.createEvent)(d.type,c);c.dispatchEvent(d)};G=function(c){var e=""+c.substring(0,1).toUpperCase()+c.substring(1);u["get"+e]=function(){return null!==z?u[c]:null};u["set"+e]=function(e){if(-1===t.default.html5media.readOnlyProperties.indexOf(c))if("src"===c){var h="object"===("undefined"===typeof e?"undefined":m(e))&&e.src?e.src:e;u[c]=h;if(null!==z){z.reset();for(var n=0,q=F.length;n<q;n++)u.removeEventListener(F[n],I);z=d._createPlayer({options:f.dash,id:k});e&&"object"===
("undefined"===typeof e?"undefined":m(e))&&"object"===m(e.drm)&&(z.setProtectionData(e.drm),(0,a.isString)(f.dash.robustnessLevel)&&f.dash.robustnessLevel&&z.getProtectionController().setRobustnessLevel(f.dash.robustnessLevel));z.attachSource(h);l&&z.play()}}else u[c]=e}};B=0;for(var M=n.length;B<M;B++)G(n[B]);p.default["__ready__"+k]=function(d){c.dashPlayer=z=d;d=dashjs.MediaPlayer.events;for(var e=function(c){"loadedmetadata"===c&&(z.initialize(),z.attachView(u),z.setAutoPlay(!1),"object"!==m(f.dash.drm)||
t.default.Utils.isObjectEmpty(f.dash.drm)||(z.setProtectionData(f.dash.drm),(0,a.isString)(f.dash.robustnessLevel)&&f.dash.robustnessLevel&&z.getProtectionController().setRobustnessLevel(f.dash.robustnessLevel)),z.attachSource(u.getSrc()));u.addEventListener(c,I)},h=0,k=F.length;h<k;h++)e(F[h]);for(var l in d)if(d.hasOwnProperty(l))z.on(d[l],function(d){if("error"===d.type.toLowerCase())c.generateError(d.message,u.src),console.error(d);else{var e=(0,a.createEvent)(d.type,c);e.data=d;c.dispatchEvent(e)}})};
if(h&&0<h.length)for(n=0,G=h.length;n<G;n++)if(q.renderer.renderers[f.prefix].canPlayType(h[n].type)){u.setAttribute("src",h[n].src);"undefined"!==typeof h[n].drm&&(f.dash.drm=h[n].drm);break}u.setAttribute("id",k);e.parentNode.insertBefore(u,e);e.autoplay=!1;e.style.display="none";u.setSize=function(a,c){u.style.width=a+"px";u.style.height=c+"px";return u};u.hide=function(){u.pause();u.style.display="none";return u};u.show=function(){u.style.display="";return u};u.destroy=function(){null!==z&&z.reset()};
h=(0,a.createEvent)("rendererready",u);c.dispatchEvent(h);c.promises.push(d.load({options:f.dash,id:k}));return u}})},{25:25,26:26,27:27,28:28,3:3,7:7,8:8}],20:[function(c,f,k){function m(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(k,"__esModule",{value:!0});k.PluginDetector=void 0;var p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":
typeof a};f=c(3);var t=m(f);f=c(2);var q=m(f);f=c(7);var a=m(f);f=c(5);var h=m(f),l=c(8),d=c(27),e=c(25),u=c(28),z=mejs.PluginDetector=k.PluginDetector={plugins:[],hasPluginVersion:function(a,c){a=z.plugins[a];c[1]=c[1]||0;c[2]=c[2]||0;return a[0]>c[0]||a[0]===c[0]&&a[1]>c[1]||a[0]===c[0]&&a[1]===c[1]&&a[2]>=c[2]},addPlugin:function(a,c,d,e,f){z.plugins[a]=z.detectPlugin(c,d,e,f)},detectPlugin:function(a,c,d,f){var h=[0,0,0],k=void 0;if(null!==e.NAV.plugins&&void 0!==e.NAV.plugins&&"object"===p(e.NAV.plugins[a])){if((d=
e.NAV.plugins[a].description)&&("undefined"===typeof e.NAV.mimeTypes||!e.NAV.mimeTypes[c]||e.NAV.mimeTypes[c].enabledPlugin))for(h=d.replace(a,"").replace(/^\s+/,"").replace(/\sr/gi,".").split("."),a=0,c=h.length;a<c;a++)h[a]=parseInt(h[a].match(/\d+/),10)}else if(void 0!==t.default.ActiveXObject)try{k=new ActiveXObject(d),h=f(k)}catch(G){}return h}};z.addPlugin("flash","Shockwave Flash","application/x-shockwave-flash","ShockwaveFlash.ShockwaveFlash",function(a){var c=[];if(a=a.GetVariable("$version"))a=
a.split(" ")[1].split(","),c=[parseInt(a[0],10),parseInt(a[1],10),parseInt(a[2],10)];return c});z.addPlugin("silverlight","Silverlight Plug-In","application/x-silverlight-2","AgControl.AgControl",function(a){var c=[0,0,0,0],d=function(a,c,d,e){for(;a.isVersionSupported(c[0]+"."+c[1]+"."+c[2]+"."+c[3]);)c[d]+=e;c[d]-=e};d(a,c,0,1);d(a,c,1,1);d(a,c,2,1E4);d(a,c,2,1E3);d(a,c,2,100);d(a,c,2,10);d(a,c,2,1);d(a,c,3,1);return c});c=function(c,f,k){var m={},n=!1;m.options=f;m.id=c.id+"_"+m.options.prefix;
m.mediaElement=c;m.flashState={};m.flashApi=null;m.flashApiStack=[];for(var p=a.default.html5media.properties,x=function(a){m.flashState[a]=null;var c=""+a.substring(0,1).toUpperCase()+a.substring(1);m["get"+c]=function(){if(null!==m.flashApi&&"function"===typeof m.flashApi["get_"+a]){var c=m.flashApi["get_"+a]();return"buffered"===a?{start:function(){return 0},end:function(){return c},length:1}:c}return null};m["set"+c]=function(c){"src"===a&&(c=(0,u.absolutizeUrl)(c));if(null!==m.flashApi&&void 0!==
m.flashApi["set_"+a])try{m.flashApi["set_"+a](c)}catch(P){}else m.flashApiStack.push({type:"set",propName:a,value:c})}},z=0,C=p.length;z<C;z++)x(p[z]);p=a.default.html5media.methods;x=function(a){m[a]=function(){if(n)if(null!==m.flashApi){if(m.flashApi["fire_"+a])try{m.flashApi["fire_"+a]()}catch(L){}}else m.flashApiStack.push({type:"call",methodName:a})}};p.push("stop");z=0;for(C=p.length;z<C;z++)x(p[z]);p=["rendererready"];x=0;for(z=p.length;x<z;x++)C=(0,d.createEvent)(p[x],m),c.dispatchEvent(C);
t.default["__ready__"+m.id]=function(){m.flashReady=!0;m.flashApi=q.default.getElementById("__"+m.id);if(m.flashApiStack.length)for(var a=0,c=m.flashApiStack.length;a<c;a++){var d=m.flashApiStack[a];if("set"===d.type){var e=d.propName;e=""+e.substring(0,1).toUpperCase()+e.substring(1);m["set"+e](d.value)}else if("call"===d.type)m[d.methodName]()}};t.default["__event__"+m.id]=function(a,c){a=(0,d.createEvent)(a,m);if(c)try{a.data=JSON.parse(c),a.details.data=JSON.parse(c)}catch(J){a.message=c}m.mediaElement.dispatchEvent(a)};
m.flashWrapper=q.default.createElement("div");-1===["always","sameDomain"].indexOf(m.options.shimScriptAccess)&&(m.options.shimScriptAccess="sameDomain");p=["uid="+m.id,"autoplay="+c.originalNode.autoplay,"allowScriptAccess="+m.options.shimScriptAccess,"preload="+(c.originalNode.getAttribute("preload")||"")];var D=null!==c.originalNode&&"video"===c.originalNode.tagName.toLowerCase();x=D?c.originalNode.height:1;z=D?c.originalNode.width:1;c.originalNode.getAttribute("src")&&p.push("src="+c.originalNode.getAttribute("src"));
!0===m.options.enablePseudoStreaming&&(p.push("pseudostreamstart="+m.options.pseudoStreamingStartQueryParam),p.push("pseudostreamtype="+m.options.pseudoStreamingType));m.options.streamDelimiter&&p.push("streamdelimiter="+encodeURIComponent(m.options.streamDelimiter));m.options.proxyType&&p.push("proxytype="+m.options.proxyType);c.appendChild(m.flashWrapper);c.originalNode.style.display="none";c=[];e.IS_IE||e.IS_EDGE?(C=q.default.createElement("div"),m.flashWrapper.appendChild(C),c=e.IS_EDGE?['type="application/x-shockwave-flash"',
'data="'+m.options.pluginPath+m.options.filename+'"','id="__'+m.id+'"','width="'+z+'"','height="'+x+"'\""]:['classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"','codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab"','id="__'+m.id+'"','width="'+z+'"','height="'+x+'"'],D||c.push('style="clip: rect(0 0 0 0); position: absolute;"'),C.outerHTML="<object "+c.join(" ")+">"+('<param name="movie" value="'+m.options.pluginPath+m.options.filename+"?x="+new Date+'" /><param name="flashvars" value="')+
(p.join("&amp;")+'" /><param name="quality" value="high" /><param name="bgcolor" value="#000000" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="')+(m.options.shimScriptAccess+'" /><param name="allowFullScreen" value="true" /><div>')+(h.default.t("mejs.install-flash")+"</div></object>")):(c=['id="__'+m.id+'"','name="__'+m.id+'"','play="true"','loop="false"','quality="high"','bgcolor="#000000"','wmode="transparent"','allowScriptAccess="'+m.options.shimScriptAccess+
'"','allowFullScreen="true"','type="application/x-shockwave-flash"','pluginspage="//www.macromedia.com/go/getflashplayer"','src="'+m.options.pluginPath+m.options.filename+'"','flashvars="'+p.join("&")+'"'],D?(c.push('width="'+z+'"'),c.push('height="'+x+'"')):c.push('style="position: fixed; left: -9999em; top: -9999em;"'),m.flashWrapper.innerHTML="<embed "+c.join(" ")+">");m.flashNode=m.flashWrapper.lastChild;m.hide=function(){n=!1;D&&(m.flashNode.style.display="none")};m.show=function(){n=!0;D&&(m.flashNode.style.display=
"")};m.setSize=function(a,c){m.flashNode.style.width=a+"px";m.flashNode.style.height=c+"px";null!==m.flashApi&&"function"===typeof m.flashApi.fire_setSize&&m.flashApi.fire_setSize(a,c)};m.destroy=function(){m.flashNode.remove()};if(k&&0<k.length)for(c=0,p=k.length;c<p;c++)if(l.renderer.renderers[f.prefix].canPlayType(k[c].type)){m.setSrc(k[c].src);break}return m};z.hasPluginVersion("flash",[10,0,0])&&(u.typeChecks.push(function(a){a=a.toLowerCase();return a.startsWith("rtmp")?~a.indexOf(".mp3")?"audio/rtmp":
"video/rtmp":/\.og(a|g)/i.test(a)?"audio/ogg":~a.indexOf(".m3u8")?"application/x-mpegURL":~a.indexOf(".mpd")?"application/dash+xml":~a.indexOf(".flv")?"video/flv":null}),l.renderer.add({name:"flash_video",options:{prefix:"flash_video",filename:"mediaelement-flash-video.swf",enablePseudoStreaming:!1,pseudoStreamingStartQueryParam:"start",pseudoStreamingType:"byte",proxyType:"",streamDelimiter:""},canPlayType:function(a){return~"video/mp4 video/rtmp audio/rtmp rtmp/mp4 audio/mp4 video/flv video/x-flv".split(" ").indexOf(a.toLowerCase())},
create:c}),l.renderer.add({name:"flash_hls",options:{prefix:"flash_hls",filename:"mediaelement-flash-video-hls.swf"},canPlayType:function(a){return~["application/x-mpegurl","application/vnd.apple.mpegurl","audio/mpegurl","audio/hls","video/hls"].indexOf(a.toLowerCase())},create:c}),l.renderer.add({name:"flash_dash",options:{prefix:"flash_dash",filename:"mediaelement-flash-video-mdash.swf"},canPlayType:function(a){return~["application/dash+xml"].indexOf(a.toLowerCase())},create:c}),l.renderer.add({name:"flash_audio",
options:{prefix:"flash_audio",filename:"mediaelement-flash-audio.swf"},canPlayType:function(a){return~["audio/mp3"].indexOf(a.toLowerCase())},create:c}),l.renderer.add({name:"flash_audio_ogg",options:{prefix:"flash_audio_ogg",filename:"mediaelement-flash-audio-ogg.swf"},canPlayType:function(a){return~["audio/ogg","audio/oga","audio/ogv"].indexOf(a.toLowerCase())},create:c}))},{2:2,25:25,27:27,28:28,3:3,5:5,7:7,8:8}],21:[function(c,f,k){var m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?
function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},p=(f=c(3))&&f.__esModule?f:{default:f},t=(f=c(7))&&f.__esModule?f:{default:f},q=c(8),a=c(27),h=c(25);f=c(28);var l=c(26),d={promise:null,load:function(a){"undefined"!==typeof flvjs?d.promise=(new Promise(function(a){a()})).then(function(){d._createPlayer(a)}):(a.options.path="string"===typeof a.options.path?a.options.path:"https://cdn.jsdelivr.net/npm/flv.js@latest",
d.promise=d.promise||(0,l.loadScript)(a.options.path),d.promise.then(function(){d._createPlayer(a)}));return d.promise},_createPlayer:function(a){flvjs.LoggingControl.enableDebug=a.options.debug;flvjs.LoggingControl.enableVerbose=a.options.debug;var c=flvjs.createPlayer(a.options,a.configs);p.default["__ready__"+a.id](c);return c}};f.typeChecks.push(function(a){return~a.toLowerCase().indexOf(".flv")?"video/flv":null});q.renderer.add({name:"native_flv",options:{prefix:"native_flv",flv:{path:"https://cdn.jsdelivr.net/npm/flv.js@latest",
cors:!0,debug:!1}},canPlayType:function(a){return h.HAS_MSE&&-1<["video/x-flv","video/flv"].indexOf(a.toLowerCase())},create:function(c,f,h){var e=c.originalNode,k=c.id+"_"+f.prefix,l=null,n=null;l=e.cloneNode(!0);f=Object.assign(f,c.options);for(var u=t.default.html5media.properties,z=t.default.html5media.events.concat(["click","mouseover","mouseout"]).filter(function(a){return"error"!==a}),G=function(d){d=(0,a.createEvent)(d.type,c);c.dispatchEvent(d)},B=function(a){var c=""+a.substring(0,1).toUpperCase()+
a.substring(1);l["get"+c]=function(){return null!==n?l[a]:null};l["set"+c]=function(c){if(-1===t.default.html5media.readOnlyProperties.indexOf(a))if("src"===a){if(l[a]="object"===("undefined"===typeof c?"undefined":m(c))&&c.src?c.src:c,null!==n){var e={type:"flv"};e.url=c;e.cors=f.flv.cors;e.debug=f.flv.debug;e.path=f.flv.path;c=f.flv.configs;n.destroy();for(var h=0,q=z.length;h<q;h++)l.removeEventListener(z[h],G);n=d._createPlayer({options:e,configs:c,id:k});n.attachMediaElement(l);n.load()}}else l[a]=
c}},F=0,I=u.length;F<I;F++)B(u[F]);p.default["__ready__"+k]=function(d){c.flvPlayer=n=d;var e=flvjs.Events;d=function(a){"loadedmetadata"===a&&(n.unload(),n.detachMediaElement(),n.attachMediaElement(l),n.load());l.addEventListener(a,G)};for(var f=0,h=z.length;f<h;f++)d(z[f]);d=function(d){if(e.hasOwnProperty(d))n.on(e[d],function(){for(var f=arguments.length,h=Array(f),k=0;k<f;k++)h[k]=arguments[k];f=e[d];"error"===f?c.generateError(h[0]+": "+h[1]+" "+h[2].msg,l.src):(f=(0,a.createEvent)(f,c),f.data=
h,c.dispatchEvent(f))})};for(var k in e)d(k)};if(h&&0<h.length)for(u=0,B=h.length;u<B;u++)if(q.renderer.renderers[f.prefix].canPlayType(h[u].type)){l.setAttribute("src",h[u].src);break}l.setAttribute("id",k);e.parentNode.insertBefore(l,e);e.autoplay=!1;e.style.display="none";h={type:"flv"};h.url=l.src;h.cors=f.flv.cors;h.debug=f.flv.debug;h.path=f.flv.path;e=f.flv.configs;l.setSize=function(a,c){l.style.width=a+"px";l.style.height=c+"px";return l};l.hide=function(){null!==n&&n.pause();l.style.display=
"none";return l};l.show=function(){l.style.display="";return l};l.destroy=function(){null!==n&&n.destroy()};u=(0,a.createEvent)("rendererready",l);c.dispatchEvent(u);c.promises.push(d.load({options:h,configs:e,id:k}));return l}})},{25:25,26:26,27:27,28:28,3:3,7:7,8:8}],22:[function(c,f,k){var m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},
p=(f=c(3))&&f.__esModule?f:{default:f},t=(f=c(7))&&f.__esModule?f:{default:f},q=c(8),a=c(27),h=c(25);f=c(28);var l=c(26),d={promise:null,load:function(a){"undefined"!==typeof Hls?d.promise=(new Promise(function(a){a()})).then(function(){d._createPlayer(a)}):(a.options.path="string"===typeof a.options.path?a.options.path:"https://cdn.jsdelivr.net/npm/hls.js@latest",d.promise=d.promise||(0,l.loadScript)(a.options.path),d.promise.then(function(){d._createPlayer(a)}));return d.promise},_createPlayer:function(a){var c=
new Hls(a.options);p.default["__ready__"+a.id](c);return c}};f.typeChecks.push(function(a){return~a.toLowerCase().indexOf(".m3u8")?"application/x-mpegURL":null});q.renderer.add({name:"native_hls",options:{prefix:"native_hls",hls:{path:"https://cdn.jsdelivr.net/npm/hls.js@latest",autoStartLoad:!1,debug:!1}},canPlayType:function(a){return h.HAS_MSE&&-1<["application/x-mpegurl","application/vnd.apple.mpegurl","audio/mpegurl","audio/hls","video/hls"].indexOf(a.toLowerCase())},create:function(c,f,h){var e=
c.originalNode,k=c.id+"_"+f.prefix,l=e.getAttribute("preload"),n=e.autoplay,u=null,z=null,G=0,B=h.length;z=e.cloneNode(!0);f=Object.assign(f,c.options);f.hls.autoStartLoad=l&&"none"!==l||n;for(var F=t.default.html5media.properties,I=t.default.html5media.events.concat(["click","mouseover","mouseout"]).filter(function(a){return"error"!==a}),M=function(d){d=(0,a.createEvent)(d.type,c);c.dispatchEvent(d)},L=function(a){var c=""+a.substring(0,1).toUpperCase()+a.substring(1);z["get"+c]=function(){return null!==
u?z[a]:null};z["set"+c]=function(c){if(-1===t.default.html5media.readOnlyProperties.indexOf(a))if("src"===a){if(z[a]="object"===("undefined"===typeof c?"undefined":m(c))&&c.src?c.src:c,null!==u){u.destroy();for(var e=0,h=I.length;e<h;e++)z.removeEventListener(I[e],M);u=d._createPlayer({options:f.hls,id:k});u.loadSource(c);u.attachMedia(z)}}else z[a]=c}},J=0,P=F.length;J<P;J++)L(F[J]);p.default["__ready__"+k]=function(d){c.hlsPlayer=u=d;var e=Hls.Events;d=function(a){if("loadedmetadata"===a){var d=
c.originalNode.src;u.detachMedia();u.loadSource(d);u.attachMedia(z)}z.addEventListener(a,M)};for(var f=0,k=I.length;f<k;f++)d(I[f]);var l=void 0,m=void 0;d=function(d){if(e.hasOwnProperty(d))u.on(e[d],function(){for(var f=arguments.length,k=Array(f),n=0;n<f;n++)k[n]=arguments[n];a:{f=e[d];if("hlsError"===f&&(console.warn(k),k=k[1],k.fatal)){switch(k.type){case "mediaError":k=(new Date).getTime();!l||3E3<k-l?(l=(new Date).getTime(),u.recoverMediaError()):!m||3E3<k-m?(m=(new Date).getTime(),console.warn("Attempting to swap Audio Codec and recover from media error"),
u.swapAudioCodec(),u.recoverMediaError()):(c.generateError("Cannot recover, last media error recovery failed",z.src),console.error("Cannot recover, last media error recovery failed"));break;case "networkError":"manifestLoadError"===k.details?G<B&&void 0!==h[G+1]?(z.setSrc(h[G++].src),z.load(),z.play()):(c.generateError("Network error",h),console.error("Network error")):(c.generateError("Network error",h),console.error("Network error"));break;default:u.destroy()}k=void 0;break a}f=(0,a.createEvent)(f,
c);f.data=k;c.dispatchEvent(f);k=void 0}return k})};for(var n in e)d(n)};if(0<B)for(;G<B;G++)if(q.renderer.renderers[f.prefix].canPlayType(h[G].type)){z.setAttribute("src",h[G].src);break}"auto"===l||n||(z.addEventListener("play",function(){null!==u&&u.startLoad()}),z.addEventListener("pause",function(){null!==u&&u.stopLoad()}));z.setAttribute("id",k);e.parentNode.insertBefore(z,e);e.autoplay=!1;e.style.display="none";z.setSize=function(a,c){z.style.width=a+"px";z.style.height=c+"px";return z};z.hide=
function(){z.pause();z.style.display="none";return z};z.show=function(){z.style.display="";return z};z.destroy=function(){null!==u&&(u.stopLoad(),u.destroy())};e=(0,a.createEvent)("rendererready",z);c.dispatchEvent(e);c.promises.push(d.load({options:f.hls,id:k}));return z}})},{25:25,26:26,27:27,28:28,3:3,7:7,8:8}],23:[function(c,f,k){function m(a){return a&&a.__esModule?a:{default:a}}f=c(3);f=m(f);k=c(2);var p=m(k);k=c(7);var t=m(k),q=c(8),a=c(27),h=c(25);c={name:"html5",options:{prefix:"html5"},
canPlayType:function(a){var c=p.default.createElement("video");return h.IS_ANDROID&&/\/mp(3|4)$/i.test(a)||~["application/x-mpegurl","vnd.apple.mpegurl","audio/mpegurl","audio/hls","video/hls"].indexOf(a.toLowerCase())&&h.SUPPORTS_NATIVE_HLS?"yes":c.canPlayType?c.canPlayType(a.toLowerCase()).replace(/no/,""):""},create:function(c,d,e){var f=c.id+"_"+d.prefix,h=!1,k=null;void 0===c.originalNode||null===c.originalNode?(k=p.default.createElement("audio"),c.appendChild(k)):k=c.originalNode;k.setAttribute("id",
f);f=t.default.html5media.properties;for(var l=function(a){var c=""+a.substring(0,1).toUpperCase()+a.substring(1);k["get"+c]=function(){return k[a]};k["set"+c]=function(c){-1===t.default.html5media.readOnlyProperties.indexOf(a)&&(k[a]=c)}},m=0,n=f.length;m<n;m++)l(f[m]);f=t.default.html5media.events.concat(["click","mouseover","mouseout"]).filter(function(a){return"error"!==a});l=function(d){k.addEventListener(d,function(d){h&&(d=(0,a.createEvent)(d.type,d.target),c.dispatchEvent(d))})};m=0;for(n=
f.length;m<n;m++)l(f[m]);k.setSize=function(a,c){k.style.width=a+"px";k.style.height=c+"px";return k};k.hide=function(){h=!1;k.style.display="none";return k};k.show=function(){h=!0;k.style.display="";return k};var H=0,A=e.length;if(0<A)for(;H<A;H++)if(q.renderer.renderers[d.prefix].canPlayType(e[H].type)){k.setAttribute("src",e[H].src);break}k.addEventListener("error",function(a){a&&a.target&&a.target.error&&4===a.target.error.code&&h&&(H<A&&void 0!==e[H+1]?(k.src=e[H++].src,k.load(),k.play()):c.generateError("Media error: Format(s) not supported or source(s) not found",
e))});d=(0,a.createEvent)("rendererready",k);c.dispatchEvent(d);return k}};f.default.HtmlMediaElement=t.default.HtmlMediaElement=c;q.renderer.add(c)},{2:2,25:25,27:27,3:3,7:7,8:8}],24:[function(c,f,k){function m(a){return a&&a.__esModule?a:{default:a}}f=c(3);var p=m(f);f=c(2);var t=m(f);f=c(7);var q=m(f);f=c(8);var a=c(27);k=c(28);var h=c(26),l={isIframeStarted:!1,isIframeLoaded:!1,iframeQueue:[],enqueueIframe:function(a){l.isLoaded="undefined"!==typeof YT&&YT.loaded;l.isLoaded?l.createIframe(a):
(l.loadIframeApi(),l.iframeQueue.push(a))},loadIframeApi:function(){l.isIframeStarted||((0,h.loadScript)("https://www.youtube.com/player_api"),l.isIframeStarted=!0)},iFrameReady:function(){l.isLoaded=!0;for(l.isIframeLoaded=!0;0<l.iframeQueue.length;){var a=l.iframeQueue.pop();l.createIframe(a)}},createIframe:function(a){return new YT.Player(a.containerId,a)},getYouTubeId:function(a){if(0<a.indexOf("?")){var c=l.getYouTubeIdFromParam(a);""===c&&(c=l.getYouTubeIdFromUrl(a))}else c=l.getYouTubeIdFromUrl(a);
c=c.substring(c.lastIndexOf("/")+1).split("?");return c[0]},getYouTubeIdFromParam:function(a){if(void 0===a||null===a||!a.trim().length)return null;a=a.split("?")[1].split("&");for(var c="",d=0,f=a.length;d<f;d++){var h=a[d].split("=");if("v"===h[0]){c=h[1];break}}return c},getYouTubeIdFromUrl:function(a){if(void 0===a||null===a||!a.trim().length)return null;a=a.split("?")[0];return a.substring(a.lastIndexOf("/")+1)},getYouTubeNoCookieUrl:function(a){if(void 0===a||null===a||!a.trim().length||-1===
a.indexOf("//www.youtube"))return a;a=a.split("/");a[2]=a[2].replace(".com","-nocookie.com");return a.join("/")}};p.default.onYouTubePlayerAPIReady=function(){l.iFrameReady()};k.typeChecks.push(function(a){return/\/\/(www\.youtube|youtu\.?be)/i.test(a)?"video/x-youtube":null});f.renderer.add({name:"youtube_iframe",options:{prefix:"youtube_iframe",youtube:{autoplay:0,controls:0,disablekb:1,end:0,loop:0,modestbranding:0,playsinline:0,rel:0,showinfo:0,start:0,iv_load_policy:3,nocookie:!1,imageQuality:null}},
canPlayType:function(a){return~["video/youtube","video/x-youtube"].indexOf(a.toLowerCase())},create:function(c,e,f){var d={},h=[],k=null,m=!0,n=!1,u=null,A=1;d.options=e;d.id=c.id+"_"+e.prefix;d.mediaElement=c;for(var G=q.default.html5media.properties,B=function(e){var f=""+e.substring(0,1).toUpperCase()+e.substring(1);d["get"+f]=function(){if(null!==k)switch(e){case "currentTime":return k.getCurrentTime();case "duration":return k.getDuration();case "volume":return A=k.getVolume()/100;case "playbackRate":return k.getPlaybackRate();
case "paused":return m;case "ended":return n;case "muted":return k.isMuted();case "buffered":var a=k.getVideoLoadedFraction(),c=k.getDuration();return{start:function(){return 0},end:function(){return a*c},length:1};case "src":return k.getVideoUrl();case "readyState":return 4}return null};d["set"+f]=function(f){if(null!==k)switch(e){case "src":f=l.getYouTubeId("string"===typeof f?f:f[0].src);c.originalNode.autoplay?k.loadVideoById(f):k.cueVideoById(f);break;case "currentTime":k.seekTo(f);break;case "muted":f?
k.mute():k.unMute();setTimeout(function(){var e=(0,a.createEvent)("volumechange",d);c.dispatchEvent(e)},50);break;case "volume":A=f;k.setVolume(100*f);setTimeout(function(){var e=(0,a.createEvent)("volumechange",d);c.dispatchEvent(e)},50);break;case "playbackRate":k.setPlaybackRate(f);setTimeout(function(){var e=(0,a.createEvent)("ratechange",d);c.dispatchEvent(e)},50);break;case "readyState":f=(0,a.createEvent)("canplay",d),c.dispatchEvent(f)}else h.push({type:"set",propName:e,value:f})}},F=0,I=
G.length;F<I;F++)B(G[F]);G=q.default.html5media.methods;B=function(a){d[a]=function(){if(null!==k)switch(a){case "play":return m=!1,k.playVideo();case "pause":return m=!0,k.pauseVideo();case "load":return null}else h.push({type:"call",methodName:a})}};F=0;for(I=G.length;F<I;F++)B(G[F]);B=t.default.createElement("div");B.id=d.id;d.options.youtube.nocookie&&(c.originalNode.src=l.getYouTubeNoCookieUrl(f[0].src));c.originalNode.parentNode.insertBefore(B,c.originalNode);c.originalNode.style.display="none";
F=(G="audio"===c.originalNode.tagName.toLowerCase())?"1":c.originalNode.height;I=G?"1":c.originalNode.width;var M=l.getYouTubeId(f[0].src);B={id:d.id,containerId:B.id,videoId:M,height:F,width:I,playerVars:Object.assign({controls:0,rel:0,disablekb:1,showinfo:0,modestbranding:0,html5:1,iv_load_policy:3},d.options.youtube),origin:p.default.location.host,events:{onReady:function(e){c.youTubeApi=k=e.target;c.youTubeState={paused:!0,ended:!1};if(h.length){e=0;for(var f=h.length;e<f;e++){var l=h[e];if("set"===
l.type){var m=l.propName;m=""+m.substring(0,1).toUpperCase()+m.substring(1);d["set"+m](l.value)}else if("call"===l.type)d[l.methodName]()}}u=k.getIframe();c.originalNode.muted&&k.mute();e=["mouseover","mouseout"];f=function(e){e=(0,a.createEvent)(e.type,d);c.dispatchEvent(e)};l=0;for(m=e.length;l<m;l++)u.addEventListener(e[l],f,!1);e=["rendererready","loadedmetadata","loadeddata","canplay"];f=0;for(l=e.length;f<l;f++)m=(0,a.createEvent)(e[f],d),c.dispatchEvent(m)},onStateChange:function(e){var f=
[];switch(e.data){case -1:f=["loadedmetadata"];m=!0;n=!1;break;case 0:f=["ended"];m=!1;n=!d.options.youtube.loop;d.options.youtube.loop||d.stopInterval();break;case 1:f=["play","playing"];n=m=!1;d.startInterval();break;case 2:f=["pause"];m=!0;n=!1;d.stopInterval();break;case 3:f=["progress"];n=!1;break;case 5:f=["loadeddata","loadedmetadata","canplay"],m=!0,n=!1}e=0;for(var h=f.length;e<h;e++){var k=(0,a.createEvent)(f[e],d);c.dispatchEvent(k)}},onError:function(a){switch(a.data){case 2:var d="The request contains an invalid parameter value. Verify that video ID has 11 characters and that contains no invalid characters, such as exclamation points or asterisks.";
break;case 5:d="The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.";break;case 100:d="The video requested was not found. Either video has been removed or has been marked as private.";break;case 101:case 105:d="The owner of the requested video does not allow it to be played in embedded players.";break;default:d="Unknown error."}c.generateError("Code "+a.data+": "+d,f)}}};if(G||c.originalNode.hasAttribute("playsinline"))B.playerVars.playsinline=
1;c.originalNode.controls&&(B.playerVars.controls=1);c.originalNode.autoplay&&(B.playerVars.autoplay=1);c.originalNode.loop&&(B.playerVars.loop=1);(B.playerVars.loop&&1===parseInt(B.playerVars.loop,10)||-1<c.originalNode.src.indexOf("loop="))&&!B.playerVars.playlist&&-1===c.originalNode.src.indexOf("playlist=")&&(B.playerVars.playlist=l.getYouTubeId(c.originalNode.src));l.enqueueIframe(B);d.onEvent=function(a,d,e){null!==e&&void 0!==e&&(c.youTubeState=e)};d.setSize=function(a,c){null!==k&&k.setSize(a,
c)};d.hide=function(){d.stopInterval();d.pause();u&&(u.style.display="none")};d.show=function(){u&&(u.style.display="")};d.destroy=function(){k.destroy()};d.interval=null;d.startInterval=function(){d.interval=setInterval(function(){var e=(0,a.createEvent)("timeupdate",d);c.dispatchEvent(e)},250)};d.stopInterval=function(){d.interval&&clearInterval(d.interval)};d.getPosterUrl=function(){var a=e.youtube.imageQuality,d=["default","hqdefault","mqdefault","sddefault","maxresdefault"],f=l.getYouTubeId(c.originalNode.src);
return a&&-1<d.indexOf(a)&&f?"https://img.youtube.com/vi/"+f+"/"+a+".jpg":""};return d}})},{2:2,26:26,27:27,28:28,3:3,7:7,8:8}],25:[function(c,f,k){function m(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(k,"__esModule",{value:!0});k.cancelFullScreen=k.requestFullScreen=k.isFullScreen=k.FULLSCREEN_EVENT_NAME=k.HAS_NATIVE_FULLSCREEN_ENABLED=k.HAS_TRUE_NATIVE_FULLSCREEN=k.HAS_IOS_FULLSCREEN=k.HAS_MS_NATIVE_FULLSCREEN=k.HAS_MOZ_NATIVE_FULLSCREEN=k.HAS_WEBKIT_NATIVE_FULLSCREEN=k.HAS_NATIVE_FULLSCREEN=
k.SUPPORTS_NATIVE_HLS=k.SUPPORT_PASSIVE_EVENT=k.SUPPORT_POINTER_EVENTS=k.HAS_MSE=k.IS_STOCK_ANDROID=k.IS_SAFARI=k.IS_FIREFOX=k.IS_CHROME=k.IS_EDGE=k.IS_IE=k.IS_ANDROID=k.IS_IOS=k.IS_IPOD=k.IS_IPHONE=k.IS_IPAD=k.UA=k.NAV=void 0;f=c(3);var p=m(f);f=c(2);var t=m(f);c=c(7);c=m(c);var q=k.NAV=p.default.navigator,a=k.UA=q.userAgent.toLowerCase();f=k.IS_IPAD=/ipad/i.test(a)&&!p.default.MSStream;var h=k.IS_IPHONE=/iphone/i.test(a)&&!p.default.MSStream,l=k.IS_IPOD=/ipod/i.test(a)&&!p.default.MSStream;k.IS_IOS=
/ipad|iphone|ipod/i.test(a)&&!p.default.MSStream;var d=k.IS_ANDROID=/android/i.test(a),e=k.IS_IE=/(trident|microsoft)/i.test(q.appName);q=k.IS_EDGE="msLaunchUri"in q&&!("documentMode"in t.default);var u=k.IS_CHROME=/chrome/i.test(a),z=k.IS_FIREFOX=/firefox/i.test(a),C=k.IS_SAFARI=/safari/i.test(a)&&!u,D=k.IS_STOCK_ANDROID=/^mozilla\/\d+\.\d+\s\(linux;\su;/i.test(a),x=k.HAS_MSE="MediaSource"in p.default,E=k.SUPPORT_POINTER_EVENTS=function(){var a=t.default.createElement("x"),c=t.default.documentElement,
d=p.default.getComputedStyle;if(!("pointerEvents"in a.style))return!1;a.style.pointerEvents="auto";a.style.pointerEvents="x";c.appendChild(a);c=d&&"auto"===(d(a,"")||{}).pointerEvents;a.remove();return!!c}(),H=k.SUPPORT_PASSIVE_EVENT=function(){var a=!1;try{var c=Object.defineProperty({},"passive",{get:function(){a=!0}});p.default.addEventListener("test",null,c)}catch(la){}return a}(),A=["source","track","audio","video"],G=void 0,B=0,F=A.length;for(;B<F;B++)G=t.default.createElement(A[B]);A=k.SUPPORTS_NATIVE_HLS=
C||e&&/edge/i.test(a);var I=void 0!==G.webkitEnterFullscreen,M=void 0!==G.requestFullscreen;I&&/mac os x 10_5/i.test(a)&&(I=M=!1);var L=void 0!==G.webkitRequestFullScreen,J=void 0!==G.mozRequestFullScreen,P=void 0!==G.msRequestFullscreen,W=L||J||P,U=W;F="";B=G=a=void 0;J?U=t.default.mozFullScreenEnabled:P&&(U=t.default.msFullscreenEnabled);u&&(I=!1);W&&(L?F="webkitfullscreenchange":J?F="fullscreenchange":P&&(F="MSFullscreenChange"),k.isFullScreen=a=function(){if(J)return t.default.mozFullScreen;if(L)return t.default.webkitIsFullScreen;
if(P)return null!==t.default.msFullscreenElement},k.requestFullScreen=G=function(a){L?a.webkitRequestFullScreen():J?a.mozRequestFullScreen():P&&a.msRequestFullscreen()},k.cancelFullScreen=B=function(){L?t.default.webkitCancelFullScreen():J?t.default.mozCancelFullScreen():P&&t.default.msExitFullscreen()});M=k.HAS_NATIVE_FULLSCREEN=M;var Z=k.HAS_WEBKIT_NATIVE_FULLSCREEN=L,X=k.HAS_MOZ_NATIVE_FULLSCREEN=J,R=k.HAS_MS_NATIVE_FULLSCREEN=P;I=k.HAS_IOS_FULLSCREEN=I;W=k.HAS_TRUE_NATIVE_FULLSCREEN=W;U=k.HAS_NATIVE_FULLSCREEN_ENABLED=
U;F=k.FULLSCREEN_EVENT_NAME=F;k.isFullScreen=a;k.requestFullScreen=G;k.cancelFullScreen=B;c.default.Features=c.default.Features||{};c.default.Features.isiPad=f;c.default.Features.isiPod=l;c.default.Features.isiPhone=h;c.default.Features.isiOS=c.default.Features.isiPhone||c.default.Features.isiPad;c.default.Features.isAndroid=d;c.default.Features.isIE=e;c.default.Features.isEdge=q;c.default.Features.isChrome=u;c.default.Features.isFirefox=z;c.default.Features.isSafari=C;c.default.Features.isStockAndroid=
D;c.default.Features.hasMSE=x;c.default.Features.supportsNativeHLS=A;c.default.Features.supportsPointerEvents=E;c.default.Features.supportsPassiveEvent=H;c.default.Features.hasiOSFullScreen=I;c.default.Features.hasNativeFullscreen=M;c.default.Features.hasWebkitNativeFullScreen=Z;c.default.Features.hasMozNativeFullScreen=X;c.default.Features.hasMsNativeFullScreen=R;c.default.Features.hasTrueNativeFullScreen=W;c.default.Features.nativeFullScreenEnabled=U;c.default.Features.fullScreenEventName=F;c.default.Features.isFullScreen=
a;c.default.Features.requestFullScreen=G;c.default.Features.cancelFullScreen=B},{2:2,3:3,7:7}],26:[function(c,f,k){function m(a){return a&&a.__esModule?a:{default:a}}function p(a){return new Promise(function(c,d){var e=z.default.createElement("script");e.src=a;e.async=!0;e.onload=function(){e.remove();c()};e.onerror=function(){e.remove();d()};z.default.head.appendChild(e)})}function t(a){a=a.getBoundingClientRect();return{top:a.top+(u.default.pageYOffset||z.default.documentElement.scrollTop),left:a.left+
(u.default.pageXOffset||z.default.documentElement.scrollLeft)}}function q(a,c){x(a,c)?H(a,c):E(a,c)}function a(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:400,d=arguments[2];a.style.opacity||(a.style.opacity=1);var e=null;u.default.requestAnimationFrame(function L(f){e=e||f;f-=e;var h=parseFloat(1-f/c,2);a.style.opacity=0>h?0:h;f>c?d&&"function"===typeof d&&d():u.default.requestAnimationFrame(L)})}function h(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:400,d=
arguments[2];a.style.opacity||(a.style.opacity=0);var e=null;u.default.requestAnimationFrame(function L(f){e=e||f;f-=e;var h=parseFloat(f/c,2);a.style.opacity=1<h?1:h;f>c?d&&"function"===typeof d&&d():u.default.requestAnimationFrame(L)})}function l(a,c){var d=[];a=a.parentNode.firstChild;do c&&!c(a)||d.push(a);while(a=a.nextSibling);return d}function d(a){return void 0!==a.getClientRects&&"function"===a.getClientRects?!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length):!(!a.offsetWidth&&
!a.offsetHeight)}function e(a,c,d,e){var f=u.default.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),h="application/x-www-form-urlencoded; charset=UTF-8",k=!1,l="*/".concat("*");switch(c){case "text":h="text/plain";break;case "json":h="application/json, text/javascript";break;case "html":h="text/html";break;case "xml":h="application/xml, text/xml"}"application/x-www-form-urlencoded"!==h&&(l=h+", */*; q=0.01");f&&(f.open("GET",a,!0),f.setRequestHeader("Accept",l),f.onreadystatechange=
function(){if(!k&&4===f.readyState)if(200===f.status){k=!0;switch(c){case "json":var a=JSON.parse(f.responseText);break;case "xml":a=f.responseXML;break;default:a=f.responseText}d(a)}else"function"===typeof e&&e(f.status)},f.send())}Object.defineProperty(k,"__esModule",{value:!0});k.removeClass=k.addClass=k.hasClass=void 0;k.loadScript=p;k.offset=t;k.toggleClass=q;k.fadeOut=a;k.fadeIn=h;k.siblings=l;k.visible=d;k.ajax=e;f=c(3);var u=m(f);f=c(2);var z=m(f);c=c(7);c=m(c);var C=f=void 0,D=void 0;"classList"in
z.default.documentElement?(f=function(a,c){return void 0!==a.classList&&a.classList.contains(c)},C=function(a,c){return a.classList.add(c)},D=function(a,c){return a.classList.remove(c)}):(f=function(a,c){return(new RegExp("\\b"+c+"\\b")).test(a.className)},C=function(a,c){x(a,c)||(a.className+=" "+c)},D=function(a,c){a.className=a.className.replace(new RegExp("\\b"+c+"\\b","g"),"")});var x=k.hasClass=f,E=k.addClass=C,H=k.removeClass=D;c.default.Utils=c.default.Utils||{};c.default.Utils.offset=t;c.default.Utils.hasClass=
x;c.default.Utils.addClass=E;c.default.Utils.removeClass=H;c.default.Utils.toggleClass=q;c.default.Utils.fadeIn=h;c.default.Utils.fadeOut=a;c.default.Utils.siblings=l;c.default.Utils.visible=d;c.default.Utils.ajax=e;c.default.Utils.loadScript=p},{2:2,3:3,7:7}],27:[function(c,f,k){function m(a){if("string"!==typeof a)throw Error("Argument passed must be a string");var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};return a.replace(/[&<>"]/g,function(a){return c[a]})}function p(a,c){var d=this,
e=arguments,f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;if("function"!==typeof a)throw Error("First argument must be a function");if("number"!==typeof c)throw Error("Second argument must be a numeric value");var h=void 0;return function(){var k=f&&!h;clearTimeout(h);h=setTimeout(function(){h=null;f||a.apply(d,e)},c);k&&a.apply(d,e)}}function t(a){return 0>=Object.getOwnPropertyNames(a).length}function q(a,c){var d=/^((after|before)print|(before)?unload|hashchange|message|o(ff|n)line|page(hide|show)|popstate|resize|storage)\b/,
e={d:[],w:[]};(a||"").split(" ").forEach(function(a){var f=""+a+(c?"."+c:"");f.startsWith(".")?(e.d.push(f),e.w.push(f)):e[d.test(a)?"w":"d"].push(f)});e.d=e.d.join(" ");e.w=e.w.join(" ");return e}function a(a,c){if("string"!==typeof a)throw Error("Event name must be a string");var d=a.match(/([a-z]+\.([a-z]+))/i);c={target:c};null!==d&&(a=d[1],c.namespace=d[2]);return new window.CustomEvent(a,{detail:c})}function h(a,c){return!!(a&&c&&a.compareDocumentPosition(c)&2)}function l(a){return"string"===
typeof a}Object.defineProperty(k,"__esModule",{value:!0});k.escapeHTML=m;k.debounce=p;k.isObjectEmpty=t;k.splitEvents=q;k.createEvent=a;k.isNodeAfter=h;k.isString=l;c=(c=c(7))&&c.__esModule?c:{default:c};c.default.Utils=c.default.Utils||{};c.default.Utils.escapeHTML=m;c.default.Utils.debounce=p;c.default.Utils.isObjectEmpty=t;c.default.Utils.splitEvents=q;c.default.Utils.createEvent=a;c.default.Utils.isNodeAfter=h;c.default.Utils.isString=l},{7:7}],28:[function(c,f,k){function m(a){if("string"!==
typeof a)throw Error("`url` argument must be a string");var c=document.createElement("div");c.innerHTML='<a href="'+(0,l.escapeHTML)(a)+'">x</a>';return c.firstChild.href}function p(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return a&&!c?q(a):c}function t(a){if("string"!==typeof a)throw Error("`type` argument must be a string");return a&&-1<a.indexOf(";")?a.substr(0,a.indexOf(";")):a}function q(c){if("string"!==typeof c)throw Error("`url` argument must be a string");for(var e=
0,f=d.length;e<f;e++){var k=d[e](c);if(k)return k}c=a(c);c=h(c);e="video/mp4";c&&(~"mp4 m4v ogg ogv webm flv mpeg".split(" ").indexOf(c)?e="video/"+c:"mov"===c?e="video/quicktime":~["mp3","oga","wav","mid","midi"].indexOf(c)&&(e="audio/"+c));return e}function a(a){if("string"!==typeof a)throw Error("`url` argument must be a string");a=a.split("?")[0].split("\\").pop().split("/").pop();return~a.indexOf(".")?a.substring(a.lastIndexOf(".")+1):""}function h(a){if("string"!==typeof a)throw Error("`extension` argument must be a string");
switch(a){case "mp4":case "m4v":return"mp4";case "webm":case "webma":case "webmv":return"webm";case "ogg":case "oga":case "ogv":return"ogg";default:return a}}Object.defineProperty(k,"__esModule",{value:!0});k.typeChecks=void 0;k.absolutizeUrl=m;k.formatType=p;k.getMimeFromType=t;k.getTypeFromFile=q;k.getExtension=a;k.normalizeExtension=h;f=(f=c(7))&&f.__esModule?f:{default:f};var l=c(27),d=k.typeChecks=[];f.default.Utils=f.default.Utils||{};f.default.Utils.typeChecks=d;f.default.Utils.absolutizeUrl=
m;f.default.Utils.formatType=p;f.default.Utils.getMimeFromType=t;f.default.Utils.getTypeFromFile=q;f.default.Utils.getExtension=a;f.default.Utils.normalizeExtension=h},{27:27,7:7}],29:[function(c,f,k){var m=(f=c(2))&&f.__esModule?f:{default:f};c=(c=c(4))&&c.__esModule?c:{default:c};(function(c){c.forEach(function(c){c.hasOwnProperty("remove")||Object.defineProperty(c,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})})([Element.prototype,CharacterData.prototype,
DocumentType.prototype]);(function(){function c(c,a){a=a||{bubbles:!1,cancelable:!1,detail:void 0};var f=m.default.createEvent("CustomEvent");f.initCustomEvent(c,a.bubbles,a.cancelable,a.detail);return f}if("function"===typeof window.CustomEvent)return!1;c.prototype=window.Event.prototype;window.CustomEvent=c})();"function"!==typeof Object.assign&&(Object.assign=function(c){if(null===c||void 0===c)throw new TypeError("Cannot convert undefined or null to object");for(var f=Object(c),a=1,h=arguments.length;a<
h;a++){var k=arguments[a];if(null!==k)for(var d in k)Object.prototype.hasOwnProperty.call(k,d)&&(f[d]=k[d])}return f});String.prototype.startsWith||(String.prototype.startsWith=function(c,f){return this.substr(f||0,c.length)===c});Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(c){c=(this.document||
this.ownerDocument).querySelectorAll(c);for(var f=c.length-1;0<=--f&&c.item(f)!==this;);return-1<f});window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(c){c=(this.document||this.ownerDocument).querySelectorAll(c);var f,a=this;do for(f=c.length;0<=--f&&c.item(f)!==a;);while(0>f&&(a=a.parentElement));return a});(function(){for(var c=0,f=["ms","moz","webkit","o"],a=0;a<f.length&&!window.requestAnimationFrame;++a)window.requestAnimationFrame=window[f[a]+"RequestAnimationFrame"],
window.cancelAnimationFrame=window[f[a]+"CancelAnimationFrame"]||window[f[a]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(a){var f=(new Date).getTime(),d=Math.max(0,16-(f-c)),e=window.setTimeout(function(){a(f+d)},d);c=f+d;return e});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})})();if(/firefox/i.test(navigator.userAgent)){var p=window.getComputedStyle;window.getComputedStyle=function(c,f){c=p(c,f);return null===
c?{getPropertyValue:function(){}}:c}}window.Promise||(window.Promise=c.default);(function(c){c&&c.prototype&&null===c.prototype.children&&Object.defineProperty(c.prototype,"children",{get:function(){for(var c=0,a,f=this.childNodes,k=[];a=f[c++];)1===a.nodeType&&k.push(a);return k}})})(window.Node||window.Element)},{2:2,4:4}],30:[function(c,f,k){function m(){return 0!==(0<arguments.length&&void 0!==arguments[0]?arguments[0]:25)%1}function p(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:
!1,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:25,f=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,h=5<arguments.length&&void 0!==arguments[5]?arguments[5]:"hh:mm:ss";a=!a||"number"!==typeof a||0>a?0:a;var k=Math.round(.066666*e),n=Math.round(e),q=24*Math.round(3600*e),p=Math.round(600*e),t=m(e)?";":":",A=Math.round(a*e);m(e)?(0>A&&(A=q+A),A%=q,e=A%p,A+=9*k*Math.floor(A/p),e>k&&(A+=k*Math.floor((e-k)/Math.round(60*
n-k))),e=Math.floor(A/n),p=Math.floor(Math.floor(e/60)/60),k=Math.floor(e/60)%60,f=d?e%60:Math.floor(A/n%60).toFixed(f)):(p=Math.floor(a/3600)%24,k=Math.floor(a/60)%60,f=d?Math.floor(a%60):Math.floor(a%60).toFixed(f));p=0>=p?0:p;k=0>=k?0:k;f=0>=f?0:f;f=60===f?0:f;k=60===k?0:k;e=h.split(":");h={};q=0;for(var G=e.length;q<G;++q){for(var B="",F=0,I=e[q].length;F<I;F++)0>B.indexOf(e[q][F])&&(B+=e[q][F]);~["f","s","m","h"].indexOf(B)&&(h[B]=e[q].length)}c=c||0<p?(10>p&&1<h.h?"0"+p:p)+":":"";c+=(10>k&&
1<h.m?"0"+k:k)+":";c+=""+(10>f&&1<h.s?"0"+f:f);d&&(d=(A%n).toFixed(0),d=0>=d?0:d,c+=10>d&&h.f?t+"0"+d:""+t+d);return c}function t(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:25;if("string"!==typeof a)throw new TypeError("Time must be a string");0<a.indexOf(";")&&(a=a.replace(";",":"));if(!/\d{2}(:\d{2}){0,3}/i.test(a))throw new TypeError("Time code must have the format `00:00:00`");var d=a.split(":"),e,f=e=0,h=0,k=Math.round(.066666*c),n=Math.round(c),q=3600*n,p=60*n;switch(d.length){default:case 1:var t=
parseInt(d[0],10);break;case 2:f=parseInt(d[0],10);t=parseInt(d[1],10);break;case 3:e=parseInt(d[0],10);f=parseInt(d[1],10);t=parseInt(d[2],10);break;case 4:e=parseInt(d[0],10),f=parseInt(d[1],10),t=parseInt(d[2],10),h=parseInt(d[3],10)}m(c)?(c=60*e+f,e=q*e+p*f+n*t+h-k*(c-Math.floor(c/10))):e=(q*e+p*f+c*t+h)/c;return parseFloat(e.toFixed(3))}function q(a,c){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:25;a=!a||"number"!==typeof a||0>a?0:a;var e=Math.floor(a/3600)%24,f=Math.floor(a/
60)%60,h=Math.floor(a%60);d=[[Math.floor((a%1*d).toFixed(3)),"f"],[h,"s"],[f,"m"],[e,"h"]];e=c.timeFormat;h=(f=e[1]===e[0])?2:1;h=e.length<h?e[h]:":";for(var k=e[0],l=!1,m=0,n=d.length;m<n;m++)if(~e.indexOf(d[m][1]))l=!0;else if(l){for(var q=!1,p=m;p<n;p++)if(0<d[p][0]){q=!0;break}if(!q)break;f||(e=k+e);e=d[m][1]+h+e;f&&(e=d[m][1]+e);k=d[m][1]}c.timeFormat=e}function a(a){if("string"!==typeof a)throw new TypeError("Argument must be a string value");a=a.replace(",",".");var c=~a.indexOf(".")?a.split(".")[1].length:
0,d=0;a=a.split(":").reverse();for(var e=0,f=a.length;e<f;e++){var h=1;0<e&&(h=Math.pow(60,e));d+=Number(a[e])*h}return Number(d.toFixed(c))}Object.defineProperty(k,"__esModule",{value:!0});k.isDropFrame=m;k.secondsToTimeCode=p;k.timeCodeToSeconds=t;k.calculateTimeFormat=q;k.convertSMPTEtoSeconds=a;c=(c=c(7))&&c.__esModule?c:{default:c};c.default.Utils=c.default.Utils||{};c.default.Utils.secondsToTimeCode=p;c.default.Utils.timeCodeToSeconds=t;c.default.Utils.calculateTimeFormat=q;c.default.Utils.convertSMPTEtoSeconds=
a},{7:7}]},{},[29,6,5,15,23,20,19,21,22,24,16,18,17,9,10,11,12,13,14])});
define("es6!vendor/mediaelement/narrationPlugin.es6",["lang/lang","jquery","mediaelement"],function(k,c){Object.assign(mejs.MepDefaults,{});Object.assign(MediaElementPlayer.prototype,{buildnarration:function(f,m,n,p){m=k.t("components.narration.title")||"Narration";this.cleannarration(f);f.narrationButton=document.createElement("div");f.narrationButton.className=this.options.classPrefix+"button "+this.options.classPrefix+"narration-button";f.narrationButton.innerHTML='<button type="button" aria-controls="'+
this.id+'" title="'+m+'" aria-label="'+(m+'" tabindex="0">'+m+"</button>");this.addControlElement(f.narrationButton,"narration");f.narrationButton.addEventListener("click",function(){f.domNode&&c(f.domNode).trigger("openNarration")})},cleannarration:function(c){c&&c.narrationButton&&c.narrationButton.parentNode.removeChild(c.narrationButton)}})});
define("es6!vendor/mediaelement/speedPlugin.es6",["mediaelement"],function(){(function(){function k(c,f,m){function n(q,a){if(!f[q]){if(!c[q]){var h="function"==typeof require&&require;if(!a&&h)return h(q,!0);if(p)return p(q,!0);a=Error("Cannot find module '"+q+"'");throw a.code="MODULE_NOT_FOUND",a;}a=f[q]={exports:{}};c[q][0].call(a.exports,function(a){return n(c[q][1][a]||a)},a,a.exports,k,c,f,m)}return f[q].exports}for(var p="function"==typeof require&&require,t=0;t<m.length;t++)n(m[t]);return n}
return k})()({1:[function(k,c,f){mejs.i18n.en["mejs.speed-rate"]="Speed Rate";Object.assign(mejs.MepDefaults,{speeds:["2.00","1.50","1.25","1.00","0.75"],defaultSpeed:"1",speedChar:"x",speedText:null});Object.assign(MediaElementPlayer.prototype,{buildspeed:function(c,f,k,t){var m=this;if(null!==m.media.rendererName&&/(native|html5)/i.test(m.media.rendererName)){var a=[];f=mejs.Utils.isString(m.options.speedText)?m.options.speedText:mejs.i18n.t("mejs.speed-rate");var h=function(c){for(var d=0,e=a.length;d<
e;d++)if(a[d].value===c)return a[d].name},l=void 0;k=!1;for(var d=0,e=m.options.speeds.length;d<e;d++){var n=m.options.speeds[d];"string"===typeof n?(a.push({name:""+n+m.options.speedChar,value:n}),n===m.options.defaultSpeed&&(k=!0)):(a.push(n),n.value===m.options.defaultSpeed&&(k=!0))}k||a.push({name:m.options.defaultSpeed+m.options.speedChar,value:m.options.defaultSpeed});a.sort(function(a,c){return parseFloat(c.value)-parseFloat(a.value)});m.cleanspeed(c);$("#"+this.id).position().top-parseInt($("#PageBody").css("margin-top"))<
30*a.length&&!this.isVideo&&(this.horizontalControlAlign=!0);c.speedButton=document.createElement("div");c.speedButton.className=m.options.classPrefix+"button "+m.options.classPrefix+"speed-button";k=this.horizontalControlAlign?m.options.classPrefix+"speed-selector-horizontal ":"";c.speedButton.innerHTML='<button type="button" aria-controls="'+m.id+'" title="'+f+'" aria-label="'+(f+'" tabindex="0">'+h(m.options.defaultSpeed)+'</button><div class="')+(m.options.classPrefix+"speed-selector "+k+m.options.classPrefix+
'offscreen"><ul class="')+(m.options.classPrefix+'speed-selector-list"></ul></div>');m.addControlElement(c.speedButton,"speed");f=0;for(k=a.length;f<k;f++)d=m.id+"-speed-"+a[f].value,this.horizontalControlAlign?c.speedButton.querySelector("ul").innerHTML+='<li class="'+m.options.classPrefix+"speed-selector-list-item "+m.options.classPrefix+'speed-selector-list-item-horizontal"><input class="'+(m.options.classPrefix+'speed-selector-input" type="radio" name="'+m.id+'_speed"disabled="disabled" value="')+
(a[f].value+'" id="'+d+'"  ')+((a[f].value===m.options.defaultSpeed?' checked="checked"':"")+'/><label for="')+(d+'" class="'+m.options.classPrefix+"speed-selector-label "+m.options.classPrefix+"speed-selector-label-horizontal")+((a[f].value===m.options.defaultSpeed?" "+m.options.classPrefix+"speed-selected":"")+'">')+(a[f].name+"</label></li>"):c.speedButton.querySelector("ul").innerHTML+='<li class="'+m.options.classPrefix+'speed-selector-list-item"><input class="'+(m.options.classPrefix+'speed-selector-input" type="radio" name="'+
m.id+'_speed"disabled="disabled" value="')+(a[f].value+'" id="'+d+'"  ')+((a[f].value===m.options.defaultSpeed?' checked="checked"':"")+'/><label for="')+(d+'" class="'+m.options.classPrefix+"speed-selector-label")+((a[f].value===m.options.defaultSpeed?" "+m.options.classPrefix+"speed-selected":"")+'">')+(a[f].name+"</label></li>");l=m.options.defaultSpeed;c.speedSelector=c.speedButton.querySelector("."+m.options.classPrefix+"speed-selector");d=["mouseenter","focusin"];k=["mouseleave","focusout"];
var p=c.speedButton.querySelectorAll('input[type="radio"]');f=c.speedButton.querySelectorAll("."+m.options.classPrefix+"speed-selector-label");e=0;for(n=d.length;e<n;e++)c.speedButton.addEventListener(d[e],function(){mejs.Utils.removeClass(c.speedSelector,m.options.classPrefix+"offscreen");c.speedSelector.style.height=c.speedSelector.querySelector("ul").offsetHeight;c.speedSelector.style.top=-1*parseFloat(c.speedSelector.offsetHeight)+"px"});d=0;for(e=k.length;d<e;d++)c.speedSelector.addEventListener(k[d],
function(){mejs.Utils.addClass(this,m.options.classPrefix+"offscreen")});k=0;for(d=p.length;k<d;k++)e=p[k],e.disabled=!1,e.addEventListener("click",function(){var a=this.value;l=a;t.playbackRate=parseFloat(a);c.speedButton.querySelector("button").innerHTML=h(a);a=c.speedButton.querySelectorAll("."+m.options.classPrefix+"speed-selected");for(var d=0,e=a.length;d<e;d++)mejs.Utils.removeClass(a[d],m.options.classPrefix+"speed-selected");this.checked=!0;a=mejs.Utils.siblings(this,function(a){return mejs.Utils.hasClass(a,
m.options.classPrefix+"speed-selector-label")});d=0;for(e=a.length;d<e;d++)mejs.Utils.addClass(a[d],m.options.classPrefix+"speed-selected")});k=0;for(d=f.length;k<d;k++)f[k].addEventListener("click",function(){var a=mejs.Utils.siblings(this,function(a){return"INPUT"===a.tagName})[0],c=mejs.Utils.createEvent("click",a);a.dispatchEvent(c)});this.horizontalControlAlign&&(c.speedSelector.style.left=40-c.speedSelector.clientWidth+"px");m.options.keyActions.push({keys:[60,188],action:function(a,c,d,e){if("<"==
e.key)for(a=0;a<p.length-1;a++)if(p[a].checked){a=p[a+1];a.dispatchEvent(mejs.Utils.createEvent("click",a));break}}},{keys:[62,190],action:function(a,c,d,e){if(">"==e.key)for(a=1;a<p.length;a++)if(p[a].checked){a=p[a-1];a.dispatchEvent(mejs.Utils.createEvent("click",a));break}}});c.speedSelector.addEventListener("keydown",function(a){a.stopPropagation()});t.addEventListener("loadedmetadata",function(){l&&(t.playbackRate=parseFloat(l))})}},cleanspeed:function(c){c&&(c.speedButton&&c.speedButton.parentNode.removeChild(c.speedButton),
c.speedSelector&&c.speedSelector.parentNode.removeChild(c.speedSelector))}})},{}]},{},[1])});var _typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(k){return typeof k}:function(k){return k&&"function"===typeof Symbol&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k};function _toArray(k){return Array.isArray(k)?k:Array.from(k)}
function _toConsumableArray(k){if(Array.isArray(k)){for(var c=0,f=Array(k.length);c<k.length;c++)f[c]=k[c];return f}return Array.from(k)}
define("es6!elements/mediaPlayer/mediaPlayer.es6","module jquery underscore elements/element/element app/utilities/XyTools app/configuration app/events app/completionApi lang/lang notification app/utilities/promiseA popup mediaelement es6!vendor/mediaelement/narrationPlugin.es6 es6!vendor/mediaelement/speedPlugin.es6".split(" "),function(k,c,f,m,n,p,t,q,a,h,l,d){var e={movieClass:"Movie",audioClass:"Audio",embedClass:"EmbedMovie",selector:".Movie, .Audio",baseFeatures:"playpause current progress duration tracks volume fullscreen".split(" "),
avScriptSelector:".AVscript",useAVScriptPlugin:!0,avScriptPluginName:"narration",avScriptPopup:{title:a.t("components.narration.title")||"Narration",wrapperClass:"MediaPlayerAVScriptPopup",contentClass:"MediaPlayerAVScriptPopupContent",modal:!1,draggable:!0,closeOnEscape:!0,width:"auto",height:"auto"},enableSpeedControl:!0,speedPluginName:"speed",speedControlOptions:"2.00 1.50 1.25 1.00 0.75 0.5".split(" "),defaultSpeedOption:"1.00",embedMovieType:'[data-movie-type="embed"]',nativeModeName:"auto",
pluginModeName:"shim",useFlashPlayer:!1,pluginPath:"js/vendor/mediaelement/",mustBeCompletedMessage:a.t("elements.media.mustBeCompletedMessage")||"Please allow the media to finish before attempting to proceed.",devicePluginMessage:a.t()||"Your browser does not support the plugin required to play this media. Please try a different browser.",synchronizeOnMute:!1,usePluginForIE:!1,i18nMap:{"mejs.download-file":"elements.media.downloadFile","mejs.install-flash":"elements.media.installFlash","mejs.fullscreen":"elements.media.fullscreen",
"mejs.play":"elements.media.play","mejs.pause":"elements.media.pause","mejs.time-slider":"elements.media.timeSlider","mejs.time-help-text":"elements.media.timeHelpText","mejs.live-broadcast":"elements.media.liveBroadcast","mejs.volume-help-text":"elements.media.volumeHelpText","mejs.unmute":"elements.media.unmute","mejs.mute":"elements.media.mute","mejs.volume-slider":"elements.media.volumeSlider","mejs.video-player":"elements.media.videoPlayer","mejs.audio-player":"elements.media.audioPlayer","mejs.captions-subtitles":"elements.media.captionsSubtitles",
"mejs.captions-chapters":"elements.media.captionsChapters","mejs.none":"elements.media.none"},hiddenClass:"AccessiblyHidden",vendorContainerSelector:".mejs-container",vendorControlsSelector:".mejs-controls",vendorAudioSelector:".mejs-audio",vendorPlayerNamespace:"mejs",vendorPlayerExtensions:{"i18n.t":"t"},mimeTypeMap:{movie:{flv:"video/x-flv",mp4:"video/mp4",m4v:"video/mp4","3gp":"video/3gpp",mov:/ipod|ipad|iphone|macintel/i.test(window.navigator.platform)?"video/quicktime":"video/mp4",avi:"video/x-msvideo",
wmv:"video/x-ms-wmv",ogv:"video/ogg",webm:"video/webm"},audio:{aac:"audio/aac",mp4:"audio/mp4",m4a:"audio/mp4",mp3:"audio/mpeg",oga:"audio/ogg",ogg:"audio/ogg",wav:"audio/wav",webm:"audio/webm",weba:"audio/webm"}}};m=m.extend({useAdaptiveJsPlayer:!0,processingMute:!1,resizeHandlerSet:!1,mediaType:null,$playerEl:null,guid:null,hideControls:!1,hideAudio:!1,playerMode:null,completed:!1,events:{},initialize:function(a){var c=this;t.trigger("media.initialize:before",this);this.constructor.__super__.initialize.call(this,
a);this.id=this.$el.attr("data-media-guid");this.isMediaOnPage=0<this.$el.closest(".Body").length;this.mustBeCompleted=/^true$/i.test(this.$el.children("audio, video").eq(0).attr("data-must-be-completed"));this.features=[].concat(_toConsumableArray(this.config.baseFeatures));this.handleEmbedMovie();this.handleCompletion();this.determineMediaType();this.playerMode=this.config.nativeModeName;this.cleanupMedia=this.cleanupMedia.bind(this);this.synchronizeMute=this.synchronizeMute.bind(this);this.resizeMedia=
this.resizeMedia.bind(this);this.removeTransformedPlayer=this.removeTransformedPlayer.bind(this);t.on("content.unload:before",this.cleanupMedia);t.on("media.mute",this.synchronizeMute);t.on("media.pause",this.pauseMedia.bind(this));t.on("media.play",this.playMedia.bind(this));t.on("media.resumeAutoplay",this.resumeAutoplay.bind(this));this.waitForRendered=new l(function(a,d){c.markRendered=a});this.extendVendorPlayer();t.trigger("media.initialize:after",this);return this},handleEmbedMovie:function(){this.$el.is(this.config.embedMovieType)&&
this.$el.removeClass(this.config.movieClass).addClass(this.config.embedClass)},handleAVScript:function(){var a=this.$el.find(this.config.avScriptSelector),c=this.handleOpenNarration.bind(this);this.config.useAVScriptPlugin&&a.length&&(this.$avScript=a,this.useAVScriptPlugin=!0,this.$playerEl[0].openNarration=c,this.$playerEl.on("openNarration",c))},handleAVScriptPopup:function(a){this.useAVScriptPlugin&&(this.avScriptPopup=new d({owner:"mediaPlayer",appendTo:a,content:this.$avScript.clone(),popupWrapperClass:this.config.avScriptPopup.wrapperClass,
popupContentClass:this.config.avScriptPopup.contentClass,title:this.config.avScriptPopup.title,draggable:this.config.avScriptPopup.draggable,closeOnEscape:this.config.avScriptPopup.closeOnEscape,height:this.config.avScriptPopup.height,width:this.config.avScriptPopup.width,autoOpen:!1}))},handleOpenNarration:function(){window.Xyleme.environment.ReviewSession?t.trigger("narration.showAVScript",'[data-parent-media-guid="'+this.$avScript.data("parent-media-guid")+'"]'):this.avScriptPopup.open()},handleSpeedOptions:function(){var a=
p.configure(k.id).speedControlOptions?[].concat(_toConsumableArray(p.configure(k.id).speedControlOptions)):[].concat(_toConsumableArray(this.config.speedControlOptions)),c=""+parseFloat(this.config.defaultSpeedOption);a=a.reduce(function(a,c){c=parseFloat(c);!f.isNaN(c)&&0<c&&a.push(""+c);return a},[]);this.defaultSpeedOption=!f.isNaN(c)&&0<c?c:"1";this.speedControlOptions=a.length?a:e.speedControlOptions},determineMediaType:function(){this.$el.hasClass(this.config.movieClass)?this.mediaType="movie":
this.$el.hasClass(this.config.audioClass)?this.mediaType="audio":this.$el.hasClass(this.config.embedClass)&&(this.mediaType="embed");return this},checkCompletion:function(){var a=!1;0<=this.completed.indexOf(this.index)?(this.unregisterAsRequired(),a=!0):this.completed[0]&&0<=this.completed[0].indexOf(this.index)&&(this.unregisterAsRequired(),a=!0);return a},render:function(){"embed"!==this.mediaType&&(this.getPlayerElement(),this.handleAVScript(),this.handleSpeedOptions(),this.guid=this.$playerEl.data("guid"),
this.normalizeControlsValue().normalizeAutoplayValue().initializeMute().determineMediaExtension().normalizeMediaType().markAndDetachPlayer(),this.determineBaseCaptabilities(this.extension)?(this.config.usePluginForIE&&n.detect.browser.ie&&(this.playerMode=this.config.pluginModeName),this.useAdaptiveJsPlayer&&(this.transformPlayerType="js",this.transformJSPlayer())):this.transformToFallbackPlayer({mediaURI:this.$playerEl.data("src"),ext:this.extension,mediaWidth:this.$playerEl[0].width,mediaHeight:this.$playerEl[0].height,
autoplay:this.$playerEl[0].autoplay,controls:this.$playerEl[0].controls,altText:this.$playerEl[0].alt,volume:.8,muted:!1,mustBeCompleted:this.mustBeCompleted},this.extension),this.reattachPlayer(),this.$playerEl[0].autoplay&&(n.detect.browser.firefox||n.detect.browser.edge||n.detect.browser.ie)&&this.$playerEl[0].play(),!this.transformedPlayer&&this.mustBeCompleted&&this.setCompleted(this.index),"audio"===this.mediaType&&this.resizeMedia(),this.markRendered());return this},getPlayerElement:function(){this.$playerEl=
"movie"===this.mediaType?this.$el.find("video").eq(0):this.$el.find("audio").eq(0);return this},normalizeControlsValue:function(){"controls"===this.$playerEl[0].getAttribute("controls")+""||/^true$/i.test(this.$playerEl[0].getAttribute("controls"))?this.showControls=this.$playerEl[0].controls=!0:this.showControls=this.$playerEl[0].controls=!1;return this},normalizeAutoplayValue:function(){"autoplay"===this.$playerEl[0].getAttribute("autoplay")+""||/^true$/i.test(this.$playerEl[0].getAttribute("autoplay"))?
this.$playerEl[0].autoplay=!0:this.$playerEl[0].autoplay=!1;return this},initializeMute:function(){/^true$/i.test(!1)&&(this.$playerEl[0].setAttribute("muted","muted"),this.$playerEl[0].muted=!0);return this},handleControls:function(){n.detect.browser.safari&&(this.transformedPlayer.current.style["transition-duration"]="0s",this.transformedPlayer.loaded.style["transition-duration"]="0s",this.transformedPlayer.buffer.style["transition-duration"]="0s");this.showControls||n.detect.device||(this.hiddenControls=
!0,"audio"===this.mediaType?this.$el.addClass(this.config.hiddenClass):"movie"===this.mediaType&&"js"===this.transformPlayerType&&this.transformedPlayer.controls.classList.add(this.config.hiddenClass));return this},determineMediaExtension:function(){this.extension=this.$playerEl.data("src").match(/\w+$/);Array.isArray(this.extension)&&(this.extension=this.extension[0].toLowerCase());return this},normalizeMediaType:function(){var a;(a=this.config.mimeTypeMap[this.mediaType]&&this.config.mimeTypeMap[this.mediaType][this.extension])&&
this.$playerEl.attr("type",a);return this},markAndDetachPlayer:function(){var a=this.$el;this.$placeholder=c('<span class="media-transform-placeholder" />');this.$playerEl.before(this.$placeholder);this.$playerEl.data("placeholder",this.$placeholder);this.$playerEl.detach();this.$playerEl.attr("src",this.$playerEl.data("src"));if(!this.$el[0].style.maxWidth)this.$playerEl.on("loadedmetadata",function(){a[0].style.maxWidth=this.videoWidth+"px";t.trigger("mediaPlayer.ready",this)});return this},reattachPlayer:function(){this.transformedPlayer&&
c(this.transformedPlayer.container).replaceAll(this.$placeholder);c(window).trigger("resize");return this},transformJSPlayer:function(){var c=[];"flv"===this.extension&&this.config.useFlashPlayer&&c.push("flash_video");this.useAVScriptPlugin&&this.features.push(this.config.avScriptPluginName);this.config.enableSpeedControl&&this.features.splice(this.features.length-1,0,this.config.speedPluginName);this.$el.data("disable-fullscreen")&&this.features.splice(this.features.indexOf("fullscreen"),1);var d=
this.$playerEl.get(0);this.$playerEl.context.appendChild(d);this.transformedPlayer=new mejs.MediaElementPlayer(d,{renderers:c,mode:this.playerMode,muted:!1,pluginPath:this.config.pluginPath,guid:this.guid,streching:"responsive",enableAutosize:!1,hideVideoControlsOnLoad:!this.showControls&&!n.detect.device,useSmoothHover:!(n.detect.browser.ie||n.detect.browser.edge),iPadUseNativeControls:!1,iPhoneUseNativeControls:!1,AndroidUseNativeControls:!1,success:this.finishJSPlayerTransformation.bind(this),
playText:a.t("elements.media.playPause"),pauseText:a.t("elements.media.playPause"),muteText:a.t("elements.media.muteToggle"),fullscreenText:a.t("elements.media.fullscreen"),audioVolume:"vertical",customError:a.t("elements.media.playbackError"),features:this.features,speeds:this.speedControlOptions,defaultSpeed:this.defaultSpeedOption,classPrefix:"mejs-",error:function(a){n.error("Error while transforming media player: "+a.id)}})},finishJSPlayerTransformation:function(a,d){var e=this;d=d.getAttribute("data-autoplay");
d=!(void 0===d||null===d||"false"===d);var f=null!==a.rendererName&&/(native|html5)/i.test(a.rendererName);this.transformedPlayer?this.transformedPlayer.media=a:this.transformedPlayer=a.children[0].player;this.transformPlayerType="js";this.handleControls();this.handleAVScriptPopup(this.transformedPlayer.container);a.timeRangeStart=0;a.addEventListener("ended",function(){if((null===a.rendererName||!/(flash_video)/i.test(a.rendererName))&&e.isMediaOnPage){var c=decodeURIComponent(a.src).split(/[\\\/]/).pop();
n.log("ended playing media "+c)}e.mustBeCompleted&&e.setCompleted(e.index)});a.addEventListener("play",function(){if((null===a.rendererName||!/(flash_video)/i.test(a.rendererName))&&e.isMediaOnPage){a.timeRangeStart=Math.floor(a.currentTime);var c=decodeURIComponent(a.src).split(/[\\\/]/).pop();n.log("started playing media "+c+" at time: "+a.timeRangeStart+" seconds")}});a.addEventListener("pause",this.handlePauseEvent.bind(this));a.addEventListener("volumechange",function(){a.muted?t.trigger("media.mute",
!1,!0,!1):t.trigger("media.mute",!1,!1,!1)});"audio"===this.mediaType&&(c(window).on("resize",this.resizeMedia),t.on("popup.open",this.resizeMedia),t.on("imageMapEl.showHotSpotContent:after",this.resizeMedia));this.$playerEl.on("media.resize",this.resizeMedia);this.$playerEl.on("media.player:remove",this.removeTransformedPlayer);d&&!f&&(/(flash_video)/i.test(a.rendererName)?a.addEventListener("loadstart",function(c){a.play()}):a.addEventListener("canplay",function(c){a.play()}))},handlePauseEvent:function(){if((null===
this.transformedPlayer.media.rendererName||!/(flash_video)/i.test(this.transformedPlayer.media.rendererName))&&0<this.transformedPlayer.media.currentTime&&this.isMediaOnPage){var a=this.transformedPlayer.media.attributes.id.value.split("-"),c=_toArray(a);a=c[0];var d=c.slice(1);d=d.join("-");c=decodeURIComponent(this.transformedPlayer.media.src).split(/[\\\/]/).pop();a={guid:d,type:a,name:c,duration:Math.floor(this.transformedPlayer.media.currentTime)-this.transformedPlayer.media.timeRangeStart,offset:this.transformedPlayer.media.timeRangeStart,
totalLength:Math.floor(this.transformedPlayer.media.duration)};n.log("paused media "+c+" at time: "+Math.floor(this.transformedPlayer.media.currentTime)+" seconds");t.trigger("media.played",a)}},resizeMedia:function(){"js"===this.transformPlayerType?this.resizeJSPlayer():"fallback"===this.transformPlayerType&&this.resizeFallbackPlayer()},resizeJSPlayer:function(){this.$el[0].offsetWidth&&(this.transformedPlayer.setPlayerSize(this.$el[0].offsetWidth,this.transformedPlayer.height),this.transformedPlayer.setControlsSize())},
resizeFallbackPlayer:function(){},removeTransformedPlayer:function(){this.transformedPlayer&&"function"===typeof this.transformedPlayer.remove&&this.transformedPlayer.remove()},transformToFallbackPlayer:function(a,c){"wmv"===c||"avi"===c?mejs.PluginDetector.plugins.wmp||this.detectExtraPlugins("wmp")||n.detect.browser.ie?(this.generateWmp(a),this.transformPlayerType="fallback"):this.showMicrosoftPlayerRequirement():"flv"===c||"swf"===c?this.showFlashPlayerRequirement():mejs.PluginDetector.plugins.wmp||
this.detectExtraPlugins("wmp")?(this.generateWmp(a),this.transformPlayerType="fallback"):mejs.PluginDetector.plugins.quicktime||this.detectExtraPlugins("quicktime")?(this.generateQuicktime(a),this.transformPlayerType="fallback"):this.showGeneralPlayerRequirement()},determineBaseCaptabilities:function(a){var c=!0;"avi"===a?c=!1:"flv"===a||"swf"===a?mejs.PluginDetector.plugins.flash&&0!==mejs.PluginDetector.plugins.flash[0]&&this.config.useFlashPlayer||(c=!1):"wmv"===a&&(mejs.PluginDetector.plugins.silverlight&&
0!==mejs.PluginDetector.plugins.silverlight[0]||(c=!1));!mejs.Features.supportsMediaTag&&this.config.useShimForIE&&mejs.Features.isIE&&(mejs.PluginDetector.plugins.flash||mejs.PluginDetector.plugins.silverlight?0===mejs.PluginDetector.plugins.flash[0]&&0===mejs.PluginDetector.plugins.silverlight[0]&&(c=!1):c=!1);return c},generateWmp:function(a){var d="";a.uiMode=a.controls?"full":"none";a.mediaHeight=a.mediaHeight?'height="'+a.mediaHeight+'"':"";a.mediaWidth=a.mediaWidth?'width="'+a.mediaWidth+'"':
"";a.controls||"audio"!==this.mediaType||(a.mediaHeight='height="0"',a.mediaWidth='width="0"');d='<object class="mediaObject_player" classid="clsid:22d6f312-b0f6-11d0-94ab-0080c74c7e95" type="application/x-oleobject" '+a.mediaWidth+" "+a.mediaHeight+'" codebase="//activex.microsoft.com/activex/controls/mplayer/en/nsmp2inf.cab#version=5,1,52,701"><param name="filename" value="'+a.mediaURI+'" /><param name="url" value="'+a.mediaURI+'" /><param name="autoStart" value="'+a.autoplay+'" /><param name="AnimationAtStart" value="true" /><param name="TransparentAtStart" value="true" /><param name="enabled" value="true" /><param name="ShowControls" value="'+
a.controls+'" /><param name="uiMode" value="'+a.uiMode+'" /><param name="wmode" value="transparent" /><param name="mute" value="'+a.muted+'" /><param name="volume" value="100" /><param name="stretchToFit" value="true" />\x3c!-- For other browsers * Windows Media Player --\x3e<embed src="'+a.mediaURI+'" '+a.mediaWidth+'" '+a.mediaHeight+'" type="application/x-ms-wmp" wmode="transparent" autostart="'+a.autoplay+'" animationatstart="true" transparentatstart="true" showcontrols="'+a.controls+'" uimode="'+
a.uiMode+'" mute="'+a.muted+'" volume="100" '+a.mediaWidth+" "+a.mediaHeight+'" stretchtofit="true" ></embed></object>';this.transformedPlayer=this.transformedPlayer||{};this.transformedPlayer.container=c(d).get(0);this.transformedPlayer.embed=c(d).children("embed").get(0);this.transformedPlayer.setMute=function(a){return!1}.bind(this);this.transformedPlayer.setMute(a.muted);(function(){a.controls||(this.transformedPlayer.container.settings&&(this.transformedPlayer.container.settings.showControls=
!1),this.transformedPlayer.container.showControls&&(this.transformedPlayer.container.showControls=!1),this.transformedPlayer.container.enableContextMenu&&(this.transformedPlayer.container.enableContextMenu=!1),this.transformedPlayer.container.uiMode&&(this.transformedPlayer.container.uiMode="none"),this.transformedPlayer.embed&&(this.transformedPlayer.embed.settings&&(this.transformedPlayer.embed.settings.showControls=!1),this.transformedPlayer.embed.showControls&&(this.transformedPlayer.embed.showControls=
!1),this.transformedPlayer.embed.enableContextMenu&&(this.transformedPlayer.embed.enableContextMenu=!1),this.transformedPlayer.embed.uiMode&&(this.transformedPlayer.embed.uiMode="none")))})();d=function(a){0===a&&this.mustBeCompleted&&this.setCompleted(this.index)};document.addEventListener&&(this.transformedPlayer.container.addEventListener("EndOfStream",d),this.transformedPlayer.embed.addEventListener("EndOfStream",d),this.transformedPlayer.container.addEventListener("onEndOfStream",d),this.transformedPlayer.embed.addEventListener("onEndOfStream",
d))},generateQuicktime:function(a){var d="";a.mediaHeight=a.mediaHeight?'height="'+a.mediaHeight+'"':"";a.mediaWidth=a.mediaWidth?'width="'+a.mediaWidth+'"':"";a.controls||"audio"!==this.mediaType||(a.mediaHeight='height="1"',a.mediaWidth='width="1"');d='<div class="QuicktimeObjectWrapper"><object id="'+this.guid+'_source" class="QuicktimeObjectSource" classid="clsid:CB927D12-4FF7-4a9e-A169-56E4B8A75598" codebase="//www.apple.com/qtactivex/qtplugin.cab#version=7,2,1,0" style="display:none; position: absolute; left: -500px; top: -500px; visibility: hidden; width: 1px; height: 1px;"></object><object id="'+
a.replaceID+'" classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" class="QuicktimeObject mediaObject_player" codebase="//www.apple.com/qtactivex/qtplugin.cab" '+a.mediaWidth+" "+a.mediaHeight+' style="behavior:url(#'+this.guid+'_source);"><param name="src" value="'+a.mediaURI+'"> </param><param name="autoplay" value="'+a.autoplay+'"> </param><param name="scale" value="aspect"> </param><param name="cache" value="TRUE"> </param><param name="type" value="video/quicktime"> </param><param name="controller" value="'+
a.controls+'"> </param><param name="enablejavascript" value="TRUE"> </param><param name="postdomevents" value="TRUE"> </param><param name="wmode" value="transparent"> </param><param name="flashvars"  value="startOnLoad='+a.autoplay+'"/><param name="volume" value="100" /><embed src="'+a.mediaURI+'" '+a.mediaWidth+" "+a.mediaHeight+' name="'+a.replaceID+'" volume="100" type="video/quicktime" wmode="transparent" pluginspage="//www.apple.com/quicktime/download" autoplay="'+a.autoplay+'" scale="aspect" cache="TRUE" controller="'+
a.controls+'" enablejavascript="TRUE" postdomevents="true"> </embed></object></div>';this.transformedPlayer=this.transformedPlayer||{};this.transformedPlayer.container=c(d).get(0);this.transformedPlayer.source=c(d).children("object.QuicktimeObjectSource").get(0);this.transformedPlayer.object=c(d).children("object.QuicktimeObject").get(0);this.transformedPlayer.embed=c(d).children("object.QuicktimeObject").children("embed").get(0);this.transformedPlayer.setMute=function(a){return!1}.bind(this);this.transformedPlayer.setMute(a.muted);
a=function(){this.mustBeCompleted&&this.setCompleted(this.index)};document.addEventListener&&(this.transformedPlayer.object.addEventListener("qt_ended",a),this.transformedPlayer.embed.addEventListener("qt_ended",a))},extendVendorPlayer:function(){function a(a,c,d){var e;c=c.split(".");var f=0;for(e=c.length;f<e;f+=1){var h=c[f];a[h]||(a[h]={});f<e-1&&(a=a[h])}if("function"===typeof d){var k=a[h];a[h]=function(){var a=Array.prototype.slice.call(arguments);a.push(k);return d.apply(this,a)}}else a[h]=
d;a.xyMediaConfig=this.config}Object.getOwnPropertyNames(this.config.vendorPlayerExtensions).forEach(function(c,d){if("function"===typeof this.config.vendorPlayerExtensions[c])d=this.config.vendorPlayerExtensions[c];else if("function"===typeof this[this.config.vendorPlayerExtensions[c]])d=this[this.config.vendorPlayerExtensions[c]];else if("function"===typeof window[this.config.vendorPlayerExtensions[c]])d=window[this.config.vendorPlayerExtensions[c]];else{n.warn("An invalid function was passed as a replacement for: "+
window[this.config.vendorPlayerNamespace]+"."+c);return}a.call(this,window[this.config.vendorPlayerNamespace],c,d)},this);this.extendVendorPluginDetection()},extendVendorPluginDetection:function(){mejs.PluginDetector.plugins.wmp||this.vendorAddPluginExtend("wmp","Windows Media Player","application/x-ms-wmp","wmplayer.ocx",function(a){return[a.versionInfo]});mejs.PluginDetector.plugins.quicktime||this.vendorAddPluginExtend("quicktime","QuickTime","video/quicktime","QuickTime.QuickTime",function(a){return[a.GetQuickTimeVersion()]})},
vendorAddPluginExtend:function(a,c,d,e,f){(c=this.detectExtraPlugins(c,d,e,f))&&(mejs.PluginDetector.plugins[a]=[c])},detectExtraPlugins:function(a,c,d,e){var f=null,h;if("undefined"!==typeof window.navigator.plugins&&"object"===_typeof(window.navigator.plugins[a])){if((d=window.navigator.plugins[a].description)&&("undefined"===typeof window.navigator.mimeTypes||!window.navigator.mimeTypes[c]||window.navigator.mimeTypes[c].enabledPlugin))for(f=d.replace(a,"").replace(/^\s+/,"").replace(/\sr/gi,".").split("."),
e=0,h=f.length;e<h;e++)f[e]=parseInt(f[e].match(/\d+/),10)}else if("undefined"!==typeof window.ActiveXObject)try{h=new ActiveXObject(d),f=e(h)}catch(H){n.error(H)}else if("undefined"!==typeof window.navigator.plugins)for(e=0,h=window.navigator.plugins.length;e<h;e++)if(-1!==window.navigator.plugins[e].name.toLowerCase().indexOf(a.toLowerCase())&&(d=window.navigator.plugins[e].description)&&("undefined"===typeof window.navigator.mimeTypes||!window.navigator.mimeTypes[c]||window.navigator.mimeTypes[c].enabledPlugin)){f=
a;break}return f},showMicrosoftPlayerRequirement:function(){var c=n.detect.device?this.config.devicePluginMessage:a.t()||'<p>Either <a href="//www.microsoft.com/silverlight/" target="_blank">Microsoft Silverlight</a> or the Windows Media Player Plugin is required to play this file.';h.notify(c,{type:"error",title:"Unable to play media",sticky:!0,closeButton:!0})},showQuicktimePlayerRequirement:function(){var c=n.detect.device?this.config.devicePluginMessage:a.t()||'<p><a href="//www.apple.com/quicktime/download/" target="_blank">Apple Quicktime</a> is required to play this file.</p>';
h.notify(c,{type:"error",title:"Unable to play media",sticky:!0,closeButton:!0})},showFlashPlayerRequirement:function(){var c=n.detect.device?this.config.devicePluginMessage:a.t()||'<p><a href="//get.adobe.com/flashplayer/" target="_blank">Adobe Flash</a> is required to play this file</p>';h.notify(c,{type:"error",title:"Unable to play media",sticky:!0,closeButton:!0})},showGeneralPlayerRequirement:function(){var c=n.detect.device?this.config.devicePluginMessage:a.t()||'<p>Either HTML5, <a href="//get.adobe.com/flashplayer/" target="_blank">Adobe Flash</a>, <a href="//www.microsoft.com/silverlight/" target="_blank">Microsoft Silverlight</a>, Windows Media Player Plugin or <a href="//www.apple.com/quicktime/download/" target="_blank">Apple Quicktime</a> is required to play this file</p>';
h.notify(c,{type:"error",title:"Unable to play media",sticky:!0,closeButton:!0})},synchronizeMute:function(a,c){if(this.config.synchronizeOnMute||c)"js"===this.transformPlayerType?"function"===typeof this.transformedPlayer.setMuted&&(a&&!this.transformedPlayer.media.muted?this.transformedPlayer.setMuted(a):!a&&this.transformedPlayer.media.muted&&this.transformedPlayer.setMuted(a)):"fallback"===this.transformPlayerType&&(a&&!this.transformedPlayer.muted?this.transformedPlayer.setMuted(a):!a&&this.transformedPlayer.muted&&
this.transformedPlayer.setMuted(a))},pauseMedia:function(a){var c=this;this.waitForRendered.then(function(){if(c.isInScope(a)||!a)c.transformedPlayer&&f.isFunction(c.transformedPlayer.pause)&&c.transformedPlayer.pause(),c.$playerEl[0].autoplay&&(c.$playerEl[0].autoplay=!1,c.autoplayInterrupted=!0)})},playMedia:function(a){var c=this;this.waitForRendered.then(function(){(c.isInScope(a)||!a)&&c.transformedPlayer&&f.isFunction(c.transformedPlayer.play)&&c.transformedPlayer.play()})},resumeAutoplay:function(a){var c=
this;this.waitForRendered.then(function(){c.$playerEl&&(!c.isInScope(a)&&a||!c.$playerEl[0].autoplay&&!c.autoplayInterrupted||c.playMedia())})},t:function(c,d){if(this.config.i18nMap[c])return a.t(this.config.i18nMap[c],d);if("function"===typeof d&&(d=d(c)))return d;n.error("Cannot translate the following string from MediaElementJS: "+c);return c},cleanupMedia:function(a){a.find(this.$el).length&&(this.$el.find("object, embed").each(function(){this.AllowScriptAccess="never"}),this.transformedPlayer&&
"function"===typeof this.transformedPlayer.pause&&this.transformedPlayer.media&&this.transformedPlayer.media.src&&!this.transformedPlayer.paused&&(this.transformedPlayer.pause(),this.handlePauseEvent()),this.transformedPlayer&&"function"===typeof this.transformedPlayer.setSrc&&this.transformedPlayer.setSrc(""),this.transformedPlayer&&"function"===typeof this.transformedPlayer.remove&&this.transformedPlayer.remove(),this.$playerEl&&this.$playerEl.length&&(this.$playerEl[0].paused||this.$playerEl[0].pause(),
this.$playerEl[0].src="",this.$playerEl[0].paused||this.$playerEl[0].pause(),this.$playerEl[0].setAttribute("src",""),this.$playerEl.remove(),delete this.$playerEl[0],delete this.$playerEl))},remove:function(){t.off("content.unload:before",this.cleanupMedia);t.off("media.mute",this.synchronizeMute);c(window).off("resize",this.resizeMedia);this.avScriptPopup instanceof d&&(this.avScriptPopup.destroy(),this.avScriptPopup=void 0);this.constructor.__super__.remove.call(this)}},{displayName:"mediaPlayer",
config:n.extend(e,p.configure(k.id))});t.trigger("mediaPlayer.loaded",!0,m);return m});define("elements/mediaPlayer/mediaPlayer",["es6!elements/mediaPlayer/mediaPlayer.es6"],function(k){return k});
define("elements/webComponent/webComponent",["module","jquery","app/utilities/XyTools","app/configuration","app/events"],function(k,c,f,m,n){var p=new function(){var p=this;this.config={cssSelector:".WebComponentCSS",jsSelector:".WebComponentJs",cssDependencyClass:"WebComponentCSS",jsDependencyClass:"WebComponentJs",generalDependencyClass:"WebComponentDependency"};this.headDependencies=[];this.init=function(){this.config=f.extend(this.config,m.configure(k.id));p=this;n.on("content.loaded",this.initializeComponents)};
this.destructor=function(){p.destroyHeadDependencies()};this.initializeComponents=function(){var c=p.findCssDependencies();var a=p.findJsDependencies();p.loadHeadDependencies(c);p.loadBodyDependencies(a);return{css:c,js:a}};this.findCssDependencies=function(){var f=[],a;var h=c(this.config.cssSelector);var k=0;for(a=h.length;k<a;k+=1){var d=document.createElement("link");var e=this.config.generalDependencyClass+" "+this.config.cssDependencyClass+k;d.setAttribute("rel","stylesheet");d.setAttribute("type",
"text/css");d.setAttribute("href",h[k].value);d.setAttribute("class",e);f.push(d)}return f};this.findJsDependencies=function(){var f=[],a;var h=c(this.config.jsSelector);var k=0;for(a=h.length;k<a;k+=1){var d=document.createElement("script");d.setAttribute("src",h[k].value);f.push(d)}return f};this.loadHeadDependencies=function(c){var a;var f=document.getElementsByTagName("head")[0];c?c instanceof Array||(c=[c]):c=[];var k=0;for(a=c.length;k<a;k+=1)f.appendChild(c[k]);return c};this.destroyHeadDependencies=
function(){var c;var a=document.getElementsByTagName("head")[0];var f=a.getElementsByClassName(this.config.generalDependencyClass);var k=0;for(c=f.length;k<c;k+=1)a.removeChild(f[0])};this.loadBodyDependencies=function(c){var a;c?c instanceof Array||(c=[c]):c=[];var f=0;for(a=c.length;f<a;f+=1)document.getElementsByTagName("body")[0].appendChild(c[f]);return c}};n.trigger("webComponent.loaded",!0,p);return p});
define("elements/choiceBranch/choiceBranch","module jquery app/utilities/XyTools app/configuration app/events app/completionApi app/player/communication app/navigation notification lang/lang".split(" "),function(k,c,f,m,n,p,t,q,a,h){var l=new function(){var d=this;this.config={allowReset:!1,wrapperSelector:".ChoiceBranch",choiceBranchStemSelector:".ChoiceBranchStem",optionSelector:".ChoiceBranchOption",optionWrapperSelector:".ChoiceBranchOptionWrapper",optionTextSelector:".ChoiceBranchOptionDistractorWrapper",
submitButtonSelector:"#submit_",resetButtonSelector:"#reset_",confirmDialogResetButtonSelector:".ConfirmOkButton",confirmDialogCheckboxSelector:"input[type=checkbox]",infoMessage:h.t("elements.choiceBranch.infoMessage")||"Resetting this choice will remove any and all progress you may have made from this point on, even if you make the same choice as you did previously.",acceptanceCheckMessage:h.t("elements.choiceBranch.acceptanceCheckMessage")||"I understand that any existing progress from this point on will be lost",
submitAllButtonTitle:h.t("elements.choiceBranch.reset")||"Reset",cancelButtonTitle:h.t("elements.notification.cancel")||"Cancel",mustBeCompletedMessage:h.t("elements.choiceBranch.mustBeCompletedMessage")||"Please provide a response before proceeding."};this.config.confirmTemplate='<div class="ResetChoiceBranchConfirmationDialog"><p><b>'+this.config.infoMessage+'</b></p><label><input type="checkbox" /> '+this.config.acceptanceCheckMessage+"</label></div>";this.init=function(a){n.trigger("choiceBranch.init:before",
this);void 0!==a&&(this.config=c.extend(this.config,{wrapperSelector:a}));this.config=c.extend(this.config,m.configure(k.id));this.optionClickHandler=this.optionClickHandler.bind(this);n.trigger("choiceBranch.init:after",this)};this.checkForExistence=function(a){return 0!==a.find(this.config.wrapperSelector).length};this.render=function(a){var e=this.config.wrapperSelector;n.trigger("choiceBranch.render:before",l);var f=a.find(e).attr("id");if("undefined"!=typeof f){if(this.config.allowReset)a.find(this.config.resetButtonSelector+
f).removeClass("Hidden").prop("disabled",!0).on("click",function(){c(this).prop("disabled")||d.confirmReset(a)});a.find(this.config.submitButtonSelector+f).on("click",function(c){d.submit(f,a)});p.registerRequiredActivity(f,this.config.mustBeCompletedMessage);a.find(this.config.optionSelector).each(function(d,e){t.getObjectiveSuccess(c(e).attr("id"))&&(c(e).prop("checked",!0),l.disable(a))});a.find(this.config.optionWrapperSelector).on("click",this.optionClickHandler)}n.trigger("choiceBranch.render:after",
l);return this};this.disable=function(a){var c=a.find(this.config.wrapperSelector).attr("id");a.find(this.config.optionSelector).prop("disabled",!0);a.find(this.config.submitButtonSelector+c).addClass("Disabled")[0].disabled=!0;a.find(this.config.resetButtonSelector+c).removeClass("Disabled")[0].disabled=!1;this.disabled=!0;p.unregisterRequiredActivity(c)};this.enable=function(a){var c=a.find(this.config.wrapperSelector).attr("id");a.find(this.config.optionSelector).prop("disabled",!1);a.find(this.config.submitButtonSelector+
c).removeClass("Disabled")[0].disabled=!1;a.find(this.config.resetButtonSelector+c).addClass("Disabled")[0].disabled=!0;this.disabled=!1};this.submit=function(a,d){n.trigger("choiceBranch.submit:before",l);var e=d.find(this.config.optionSelector).filter(function(a,c){return c.checked})[0];"undefined"!=typeof e&&p.unregisterRequiredActivity(a);n.triggerCheckEvent("navigation.enabled:check").then(function(){f.log("choiceBranch: submit id-"+a);t.setObjectiveSuccess(c(e).attr("id"),!0);q.requestNext()});
n.trigger("choiceBranch.submit:after",l);return this};this.confirmReset=function(c){var d=this;a.confirm(this.config.confirmTemplate,{buttons:[{text:d.config.submitAllButtonTitle,buttonClass:a.confirmConfig.buttonOkClass,click:function(){d.reset(c)}},{text:d.config.cancelButtonTitle,buttonClass:a.confirmConfig.buttonCancelClass}],open:function(){var a=this.content.find(d.config.confirmDialogCheckboxSelector);var c=this.popup.find(d.config.confirmDialogResetButtonSelector);a[0].disabled||(c.addClass("Disabled")[0].disabled=
!0,a.on("change",function(){this.checked?c.removeClass("Disabled")[0].disabled=!1:c.addClass("Disabled")[0].disabled=!0}))}})};this.reset=function(a){n.trigger("choiceBranch.reset:before",l);d.enable(a);q.requestResetChoiceBranch();n.trigger("choiceBranch.reset:after",l)};this.getStatementData=function(){var a=c(this.config.optionTextSelector).map(function(a,d){d=c(d).contents().first().text();return{id:a+1,description:{"en-US":d,text:d}}}).get(),d=c("*",this.config.choiceBranchStemSelector).contents().first().text(),
f=c(this.config.optionSelector).filter(function(a,c){return c.checked})[0];f=c(f).closest(this.config.optionWrapperSelector).find(this.config.optionTextSelector).contents().first().text();return{choiceBranchStem:d,response:f,choices:a}};this.optionClickHandler=function(a){a.preventDefault();if(!d.disabled){var e=c(a.currentTarget).find(this.config.optionSelector);setTimeout(function(){e.prop("checked",!0)},0)}}};n.trigger("choiceBranch.loaded",!0,l);return l});
define("elements/elements","module jquery underscore app/events app/configuration app/utilities/XyTools elements/autonumber/autonumber elements/citation/citation elements/tabs/tabs elements/carouselTabs/carouselTabs elements/scrollTabs/scrollTabs elements/xref/xref elements/marginnote/marginnote elements/list/list elements/inlineTerm/inlineTerm elements/inlineHotText/inlineHotText elements/footnote/footnote elements/figure/figure elements/customNote/customNote elements/imagemap/imagemap elements/htmlPage/htmlPage elements/flashcards/flashcards elements/questions/scoreCard/scoreCard elements/categories/categories elements/slideshow/slideshow elements/threesixty/threesixty elements/pageResources/pageResources elements/procedure/procedure elements/docWriter/docWriter elements/chartTable/chartTable elements/mediaPlayer/mediaPlayer elements/webComponent/webComponent elements/choiceBranch/choiceBranch".split(" "),function(k,
c,f,m,n,p,t,q,a,h,l,d,e,u,z,C,D,x,E,H,A,G,B,F,I,M,L,J,P,W,U,Z,X){var R=function(){this.instances={};this.scopes={};this.config={modules:[t,q,a,h,l,d,e,u,z,C,D,x,E,H,A,G,B,F,I,M,L,J,P,W],legacy:[X,Z]};this.init=function(){m.trigger("elements.init:before",this);this.config=p.extend(this.config,n.configure(k.id));this.config.modules.push(U);this.handleLegacy();m.on("content.loaded",function(a){a=p.getJqueryObject(a);var c=this.getScopeIdentifier(a);this.initializeElements(c,a);this.renderElements(c)}.bind(this));
m.on("content.unload:after xref.content.remove elements.remove",function(a){a=p.getJqueryObject(a);a=this.getScopeIdentifier(a);this.removeElements(a)}.bind(this));this.handleResize();m.trigger("elements.init:after",this);return this}};R.prototype.initializeElements=function(a,c){this.instances[a]=this.instances[a]||[];this.scopes[a]=this.scopes[a]||c;this.config.modules.forEach(function(d){var e=this;if(this.exists(d.config.selector,c)){var f=c.find(d.config.selector);f.each(function(f,h){f=new d({el:h,
index:f,scope:c});e.instances[a].push(f)})}},this);return this};R.prototype.renderElements=function(a){m.trigger("elements.renderElements:before",a,this);this.instances[a].forEach(function(a){a.render()});m.trigger("elements.renderElements:after",a,this);return this};R.prototype.removeElements=function(a){if(!this.instances[a]||0===this.instances[a].length)return p.warn("no element instances in"+this.scopes[a]),this;this.instances[a].forEach(function(a){try{a.remove()}catch(la){p.error("Failed to destroy/remove an element: "+
la)}});this.instances[a]=[];delete this.instances[a];this.scopes[a]=null;delete this.scopes[a];return this};R.prototype.exists=function(a,c){return 0!==c.find(a).length};R.prototype.getScopeIdentifier=function(a){var d;(d=Object.keys(this.scopes).filter(function(d){return c(this.scopes[d])[0]===c(a)[0]},this)[0])||(d=f.uniqueId("scope_"));return d};R.prototype.handleResize=function(){var a=f.debounce(function(){this.resizeElements()}.bind(this),50);m.on("elements.resize",a);window.addEventListener("resize",
a);window.addEventListener("orientationchange",a)};R.prototype.resizeElements=function(a,d){var e=[];a&&d?(d=this.getScopeIdentifier(d),e=this.instances[d]):e=Object.keys(this.instances).reduce(function(a,c){return a.concat(this.instances[c])}.bind(this),[]);e.forEach(function(d){if(a){var e=c(a);var f=c(d.$el);if(e[0]===f[0]||!e[0].contains(f[0]))return}"function"===typeof d.resize&&d.resize()})};R.prototype.handleLegacy=function(){var a,c=this;var d=0;for(a=this.config.legacy.length;d<a;d+=1)"function"===
typeof this.config.legacy[d].init&&this.config.legacy[d].init();m.on("content.loaded",function(e){e=p.getJqueryObject(e);d=0;for(a=c.config.legacy.length;d<a;d+=1)"function"===typeof c.config.legacy[d].checkForExistence?c.config.legacy[d].checkForExistence.call(c.config.legacy[d],e)&&"function"===typeof c.config.legacy[d].render&&c.config.legacy[d].render.call(c.config.legacy[d],e):"function"===typeof c.config.legacy[d].render&&c.config.legacy[d].render.call(c.config.legacy[d],e);m.trigger("elements.allElementsRendered")});
m.on("content.unload:after",function(e){e=p.getJqueryObject(e);d=0;for(a=c.config.legacy.length;d<a;d+=1)"function"===typeof c.config.legacy[d].destructor&&c.config.legacy[d].destructor.call(c.config.legacy[d],e)});m.trigger("elements.init:after",this);return this};R=new R;m.trigger("elements.loaded",!0,R);return R});
define("app/timer","module jquery app/configuration app/events app/utilities/XyTools app/questionApi app/submitAll app/courseApi notification lang/lang".split(" "),function(k,c,f,m,n,p,t,q,a,h){function l(a){var c,e=!q.isScorecard(),f=!!p.getCurrentPageQuestions().length;for(c in d)d[c]instanceof C&&d[c].setActive(e&&f&&c===a)}var d={},e={},u=function(){a.alert(z.prototype.config.timer.finishMessage);m.off("content.loaded",u)};var z=function(){};z.prototype.config={timer:{percentageWarnings:[10],
timeWarnings:[1],startMessage:h.t("components.timer.startText")||"This is a timed assessment. When time expires, all questions (answered and unanswered) will automatically be submitted for evaluation.",finishMessage:h.t("components.timer.finishText")||"The time allocated for this assessment has expired. All questions (answered and unanswered) will now be submitted for evaluation."}};z.prototype.init=function(){this.config=$.extend(this.config,f.configure(k.id));m.on("content.loaded",this.checkTimer.bind(this));
m.on("submitAll.submit:after",this.terminateTimer.bind(this));m.on("player.unload:after",this.stopAllTimers.bind(this))};z.prototype.checkTimer=function(){var a=p.getCurrentPageData(),c=a&&a.assessmentroot?a.assessmentroot.guid:null,e=d[c],f=p.getTimeLimit(),h=t.isAssessment()&&!t.isStatusSaved()&&q.hasQuestions()&&!q.isScorecard(),k=this,n=0;if(""===PLAYER_TYPE&&(0<Xyleme.environment.SCORM_TYPE.indexOf("SCORM")||Xyleme.environment.IS_AICC))a.questions&&0<a.questions.length?!e&&f?(e=d[c]=new C({guid:c},
this.config.timer),e.limit=f,e.timeLeft=60*f,m.trigger("timer.notify:started",e)):e&&e.limit!==f&&(e.terminateTimer(),delete d[c]):e&&(e.terminateTimer(),delete d[c]);else if(!e||e&&!e.isRunning){if(a=q.retrieveAdditionalData("timer")||"")a=a.split("|"),n=a.length-1;if(n>Object.keys(d).length)for(h=0;h<n;h++)e=new C({},this.config.timer),e.start(0,a[h]),d[e.currentAssessment.guid]=e;else 0<f&&h&&(e||(e=d[c]=new C({guid:c},this.config.timer)),m.triggerCheckEvent("timer.notify:start",e).then(function(){e.start(f);
k.saveTime()}))}l(c);return e};z.prototype.terminateTimer=function(a,c){if(a=d[c])e[c]=a.timeLeft,a.terminateTimer(),delete d[c],this.saveTime();return a};z.prototype.saveTime=function(){var a="",c;for(c in d)d.hasOwnProperty(c)&&(a+=d[c].getSaveData()+"|");q.storeAdditionalData("timer",a)};z.prototype.getResult=function(a){return e[a]};z.prototype.stopAllTimers=function(){for(var a in d)d.hasOwnProperty(a)&&d[a].terminateTimer()};var C=function(a,c){m.trigger("timer.create:before",this);this.config=
c;this.startTime="";this.timeLeft=this.limit=0;this.isActive=this.isRunning=!1;this.currentAssessment=a;this.guid=this.currentAssessment.guid;this.activeWarnings=[];this.refreshControlinterval=null;m.trigger("timer.create:after",this)};C.prototype.setActive=function(a){a=!!a;a!==this.isActive&&((this.isActive=a)?m.trigger("timer.notify:returnToAssessment",this):m.trigger("timer.notify:outOfAssessment",this))};C.prototype.start=function(c,d){var e=this;this.isRunning=!0;if(d&&d.length){d=d.split(" ");
var f=d[0];var h=d[1];d=d[2];c=p.getTimeLimit(h);this.startTime=f;this.limit=c;var k=60*c-Math.round((q.getCurrentTime()-f)/1E3);0>k&&(k=0);this.timeLeft=k;this.currentAssessment.scorecard=d;this.currentAssessment.guid=h;this.activeWarnings=this.config.timeWarnings.map(function(a){return 60*a});this.config.percentageWarnings.forEach(function(a){e.activeWarnings.push(60*c*a/100)});this.activeWarnings=this.activeWarnings.filter(function(a){return a<k})}else this.startTime=q.getCurrentTime(),this.limit=
c,this.timeLeft=60*c,this.currentAssessment.scorecard=this.currentAssessment.scorecard||q.findScorecard(),this.activeWarnings=this.config.timeWarnings.map(function(a){return 60*a}),this.config.percentageWarnings.forEach(function(a){e.activeWarnings.push(60*c*a/100)});this.refreshControlinterval=setInterval(this.refresh.bind(this),1E3);this.lastTimestamp=new Date;a.notify(this.config.startMessage,{type:"warning",timeOut:1E4});m.trigger("timer.notify:started",this)};C.prototype.terminateTimer=function(){this.setActive(!1);
this.startTime="";this.timeLeft=this.limit=0;this.isRunning=!1;this.currentAssessment=null;this.activeWarnings=[];this.lastTimestamp=null;clearInterval(this.refreshControlinterval);m.trigger("timer.notify:stopped",this)};C.prototype.refresh=function(){var c=(new Date-this.lastTimestamp)/1E3;3<c?this.timeLeft-=Math.floor(c):this.timeLeft--;c=this.timeLeft;if(0>=c){var d=this.currentAssessment.scorecard;var e=this.currentAssessment.guid;this.terminateTimer();m.trigger("timer.notify:ended",this);q.isAssessment(d)?
(m.on("content.loaded",u),t.submit(d,e)):(m.trigger("submitAll.submit:before",!1,t,e,d),q.saveSubmitAllStatus(d),m.trigger("submitAll.submit:after",!1,t,e,d),a.alert("<strong>"+q.getParentActivity(d,"title")+"</strong><p>"+z.prototype.config.timer.finishMessage+"</p>"))}this.lastTimestamp=new Date;for(d=0;d<this.activeWarnings.length;d++)if(this.activeWarnings[d]>=c){m.trigger("timer.notify:warning",c,this);this.activeWarnings.splice(d,1);break}};C.prototype.getSaveData=function(){return Number(this.startTime)+
" "+this.currentAssessment.guid+" "+this.currentAssessment.scorecard};C.prototype.isTimed=function(){return this.isRunning};C.prototype.getTimeLimit=function(){return 60*this.limit};C.prototype.getTimeLeft=function(){return this.timeLeft};return new z});
define("app/lrs","module jquery app/configuration app/events app/submitAll app/courseApi app/questionApi app/timer app/utilities/XyTools app/utilities/promise".split(" "),function(k,c,f,m,n,p,t,q,a,h){function l(a,c){if(!a)throw"Failed to reset LRS data for current assessment";var d=C(a,c);E="defaultOrganization"!==d.id?E.filter(function(a){var c=a.id!==d.id;a.othersId&&a.othersId.forEach(function(a){a===d.id&&(c=!1)});return c}):[]}function d(a){return E.some(function(c){return a===c.id})}function e(a){return E.some(function(c){return a===
c.id&&c.isFinished})}function u(a){var c=E.filter(function(c){return c.id===a});return 0<c.length?c[0].type:""}function z(a){var c=E.filter(function(c){return c.id===a});return 0<c.length?c[0].score:""}function C(a,c){var d=a.level;c=c||p.getCurrentActivity();var e=D(c,[]);c=p.getMenuItems().filter(function(a){return e.includes(a.id)});if(c.length>d){var f=c[c.length-d-1];f.othersId=[];c.splice(c.length-d-1);c.forEach(function(a){p.isAnyAssessment(a.id)&&f.othersId.push(a.id)})}else f={id:"defaultOrganization"};
f.guid=a.guid;return f}function D(a,c){if(a.parent){var d=p.getActivityById(a.parent);D(d,c);c.push(a.id)}return c}var x=!1,E=[],H=null,A={BinDrop:"matching",DragDrop:"matching",EssayActivity:"long-fill-in",FillInBlank:"fill-in",ImageMapAssessment:"choice",MatchingActivity:"matching",Matrix:"matching",MultipleChoice:"choice",SelectHotText:"choice",SequenceActivity:"sequencing"},G={BinDrop:"bin-drop",DragDrop:"drag-and-drop",EssayActivity:"essay",FillInBlank:"fill-in-blanks",ImageMapAssessment:"image-map",
MatchingActivity:"matching",Matrix:"matrix",MultipleChoice:"choice",SelectHotText:"hot-text",SequenceActivity:"sequencing"};var B=function(){this.config={submitUrl:""}};B.prototype.init=function(){this.config=c.extend({},this.config,f.configure(k.id));m.on("player.start",this.playerStartEvent).on("content.loaded",this.initAssessmentEvent).on("content.url:changed",this.openContentEvent).on("media.played",this.mediaPlayedEvent).on("submitAll.submit:after",this.submitAllEvent).on("player.unload:after",
this.unloadEvent).on("scoreCard.render:after",this.submitAssessmentEvent).on("player.retake:triggered",this.retakeEvent).on("questionModel.submit:answered",this.submitQuestionEvent).on("choiceBranch.submit:before",this.selectChoiceBranchEvent).on("choiceBranch.reset:before",this.resetChoiceBranchEvent)};B.prototype.playerStartEvent=function(){var a=p.retrieveAdditionalData("LRS")||"";x=!0;""!==a&&(a=a.split("|"),a.forEach(function(a){var d={};var e=a.split(";")[0];0<e.indexOf(" ")?(e=e.split(" "),
d.id=e[0],d.othersId=e.splice(1)):(d.id=e,d.othersId=[]);a=a.split(";")[1].split(" ");d=c.extend(d,{isFinished:"true"===a[0],type:a[1],limit:a[2],score:a[3]});E.push(d)}))};B.prototype.openContentEvent=function(){var a=t.getCurrentPageQuestions();if(a&&0!==a.length&&!a[0].model.get("isScorecard")&&(a=t.getCurrentPageData(),a=a.assessmentroot,"undefined"!==typeof a))var c=a.guid;m.trigger("lrs.content:opened",{guid:p.getCurrentActivity("guid"),assessment:c})};B.prototype.mediaPlayedEvent=function(a){var c=
t.getCurrentPageData().assessmentroot;if("undefined"!==typeof c)var d=c.guid;m.trigger("lrs.media:played",{guid:a.guid,type:a.type,name:a.name,duration:a.duration,offset:a.offset,totalLength:a.totalLength,assessment:d,page:p.getCurrentActivity("guid")})};B.prototype.initAssessmentEvent=function(){var c=t.getCurrentPageQuestions();if(c&&0!==c.length){var e=t.getCurrentPageData();var f=e.assessmentroot;if("undefined"===typeof f)H=null,x=!1;else if(!c[0].model.get("isScorecard")){c=C(f);H={id:c.id,guid:f.guid};
var h=p.processScorecard(!0,c.id);e=t.getBehaviorData(e.questions[0].behavior);e=e.enhancedscorecard&&!isNaN(parseInt(e.enhancedscorecard.retrylimit))?parseInt(e.enhancedscorecard.retrylimit)-h.attempts:"";d(c.id)||(E.push({id:c.id,othersId:c.othersId,isFinished:!1,type:p.getBookmarkType(),limit:e,score:""}),x&&/Resume/.test(p.getBookmarkType())||(m.trigger("lrs.assessment:started",{id:c.id,rawMasterScore:h.passingScore,title:h.title,attempt:h.attempts,guid:f.guid,timerMaxDuration:a.convertMillisToSCORM2004Time(6E4*
t.getTimeLimit())}),x=!1))}}else x=!1};B.prototype.submitAssessmentEvent=function(){var c;var f=t.getCurrentPageData().assessmentroot;if("undefined"===typeof f)throw"Failed to save LRS data for current assessment";if(!n.isSubmitAll()&&!n.hasContextAwareness()){var h=C(f);if(c=!/Retake/.test(u(h.id))){var k=!0,l=p.getSectionStatusData(p.getParentActivity(p.findScorecard(),"id"));for(x in l)c=l[x],"Attempted"===c&&(k=!1);c=!!k}if(!c&&d(h.id)){var x=p.processScorecard(!0,h.id);if(!e(h.id)||z(h.id)!==
x.score)for(c=q.getResult(f.guid),m.trigger("lrs.assessment:ended",{id:h.id,rawMasterScore:x.passingScore,title:x.title,score:x.score,attempt:x.attempts,timerDuration:a.convertMillisToSCORM2004Time(1E3*c),timerExpired:0===c,guid:f.guid}),f=0;f<E.length;f++)E[f].id===h.id&&(E[f].isFinished=!0,E[f].score=x.score)}}};B.prototype.submitAllEvent=function(c,f,k){(new h(function(a,c){(c=t.getCurrentPageData().assessmentroot)||"string"!==typeof f||(c={guid:f,level:0});if("undefined"===typeof c)throw"Failed to save LRS data for current assessment";
var h=k?{id:p.getParentActivity(k,"id"),guid:f}:C(c);if(d(h.id)&&!e(h.id)){var l=function(){m.off("player.unload:after",l);m.off("content.loaded",l);a(h)};m.on("player.unload:after",l);m.on("content.loaded",l)}})).then(function(d){d=d[0];var e=p.processScorecard(!0,d.id);var f=60*t.getTimeLimit(d.guid);var h=q.getResult(d.guid);c.isSubmitAll(d.id)&&m.trigger("lrs.questions:submitall",!1,F.reportAllQuestions(e));m.trigger("lrs.assessment:ended",{id:d.id,rawMasterScore:e.passingScore,title:e.title,
score:e.score,attempt:e.attempts,timerDuration:a.convertMillisToSCORM2004Time(1E3*(f-h)),timerExpired:0===h,timerMaxDuration:a.convertMillisToSCORM2004Time(1E3*f),guid:d.guid});for(h=0;h<E.length;h++)E[h].id===d.id&&(E[h].isFinished=!0,E[h].score=e.score)})};B.prototype.reportAllQuestions=function(a){var c=[],d=1;a.containers.forEach(function(a){c=c.concat(F.reportAllQuestions(a))});a.pages.forEach(function(a){a.questions.forEach(function(e,f){c.push(F.processQuestion(a,e,d++))})});return c};B.prototype.processQuestion=
function(a,d,e){var f=d.guid,h=t.getQuestionData(f);a={guid:f,interactionType:A[h.type],originalType:G[h.type],context:{orderInAssessment:e,assessmentId:H.id,assessmentGuid:H.guid,pageId:a.id,pageGuid:a.guid},result:{completion:"Attempted"===d.status,success:"correct"===d.result,response:d.response?d.response:"",attempt:1},definition:{description:F.processDistractor(h.questionstem)}};"MultipleChoice"===h.type&&(a.definition=c.extend(a.definition,F.getMcqData(h,null,d)));return a};B.prototype.getMcqData=
function(a,c,d){var e=F.processChoices(a.option),f=Array(e.length),h=[];h=c?c.get("answerOrder"):d&&d.order?d.order:[];h.forEach(function(a,c){f[c]=e[a-1]});0===h.length&&(f=e);return{choices:f,correctResponsesPattern:[a.option.map(function(a,c){return"true"===a.iscorrect?c+1:null}).filter(function(a){return null!=a}).join("[,]")]}};B.prototype.unloadEvent=function(){var a=p.getBookmarkType(),c=E.length-1,d="";(/Retake/.test(a)||/Review/.test(a))&&F.submitAssessmentEvent();if(n.isSubmitAll()||n.hasContextAwareness())d=
C(t.getCurrentPageData().assessmentroot||{}).id;var e=E.reduce(function(e,f,h){if(d===f.id&&/Retake/.test(a)&&p.hasQuestions()&&(""===f.limit||0<=f.limit))return e;e+=f.id;f.othersId&&0<f.othersId.length&&(e+=" "+f.othersId.join(" "));e+=";"+f.isFinished+" "+f.type+" "+f.limit+" "+f.score;h<c&&(e+="|");return e},"");(""!==e||p.retrieveAdditionalData("LRS"))&&p.storeAdditionalData("LRS",e)};B.prototype.retakeEvent=function(){var a=t.getCurrentPageData().assessmentroot;l(a)};B.prototype.selectChoiceBranchEvent=
function(a){a=F._collectChoiceBranchData(a);m.trigger("lrs.choiceBranch:selected",a)};B.prototype.resetChoiceBranchEvent=function(a){function c(a){a=a.children;for(var d,f=0;f<a.length;f++)d=p.getActivityById(a[f]),d.isLeaf?p.isScorecard(d.id)&&(e=t.getPageData(p.getActivityById(d.id,"guid")).assessmentroot,l(e,d)):c(d)}a=F._collectChoiceBranchData(a);var d=p.getParentActivity(),e;c(d);m.trigger("lrs.choiceBranch:discarded",a)};B.prototype.submitQuestionEvent=function(a){if(!H||n.isSubmitAll())return!1;
var d={guid:a.id,interactionType:A[a.get("type")],originalType:G[a.get("type")],context:{orderInAssessment:p.getCurrentPageNumberInContainer(),assessmentId:H.id,assessmentGuid:H.guid,pageId:p.getCurrentActivity("id"),pageGuid:p.getCurrentActivity("guid")},result:{completion:a.get("isSubmitAll")||!a.get("remainingAttempts")||a.get("satisfied"),success:"correct"===a.get("result"),response:a.get("answers").join(","),attempt:a.get("timesAttempted")},definition:{description:F.processDistractor(a.get("questionstem"))}};
if("MultipleChoice"===a.get("type")){var e=t.getQuestionData(a.id);d.definition=c.extend(d.definition,F.getMcqData(e,a))}m.trigger("lrs.question:answered",d)};B.prototype.processDistractor=function(a){return null==a?"":a.richtext?a.richtext:a.figure?a.figure.mediaobject.renditions.web.uri:a.movie?a.movie.launchmovie:a.audio?a.audio.audiofile:a};B.prototype.processChoices=function(a){return a.map(function(a,c){return{id:c+1,description:F.processDistractor(a.distractor)}})};B.prototype._getCurrentAssessment=
function(){return H};B.prototype._setCurrentAssessment=function(a){return H=a};B.prototype._collectChoiceBranchData=function(a){a=a.getStatementData();return{context:{pageId:p.getCurrentActivity("id"),pageGuid:p.getCurrentActivity("guid")},result:{response:a.response},definition:{description:a.choiceBranchStem,choices:a.choices}}};var F=new B;m.trigger("player.lrs:loaded",!0,F);return F});
define("app/loader","module jquery skin/skin elements/elements elements/questions/questions app/navigation app/events app/configuration app/player/integration app/player/communication app/courseApi app/completionApi app/questionApi app/courseExit app/submitAll app/hotkeys app/lrs app/timer app/sessionData".split(" "),function(k,c,f,m,n,p,t,q,a,h,l,d,e,u,z,C,D,x,E){var H=function(){this.config={modules:[m,f,n,p,t,d,e,h,l,z,a,u,C,x,E]}};H.prototype.init=function(){var a;t.trigger("loader.init:before",
this);this.config=c.extend(this.config,q.configure(k.id));"Server-side"!==PLAYER_TYPE&&"CSPModern"!==PLAYER_TYPE||this.config.modules.push(D);var d=0;for(a=this.config.modules.length;d<a;d+=1)"function"===typeof this.config.modules[d].init&&this.config.modules[d].init();t.trigger("loader.init:after",this);return this};H=new H;t.trigger("loader.loaded",!0,H);return H});
function FastClick(k){var c=this;this.trackingClick=!1;this.trackingClickStart=0;this.targetElement=null;this.lastTouchIdentifier=this.touchStartY=this.touchStartX=0;this.touchBoundary=10;this.layer=k;if(!k||!k.nodeType)throw new TypeError("Layer must be a document node");this.onClick=function(){return FastClick.prototype.onClick.apply(c,arguments)};this.onMouse=function(){return FastClick.prototype.onMouse.apply(c,arguments)};this.onTouchStart=function(){return FastClick.prototype.onTouchStart.apply(c,
arguments)};this.onTouchMove=function(){return FastClick.prototype.onTouchMove.apply(c,arguments)};this.onTouchEnd=function(){return FastClick.prototype.onTouchEnd.apply(c,arguments)};this.onTouchCancel=function(){return FastClick.prototype.onTouchCancel.apply(c,arguments)};if(!FastClick.notNeeded(k)&&(this.deviceIsAndroid&&(k.addEventListener("mouseover",this.onMouse,!0),k.addEventListener("mousedown",this.onMouse,!0),k.addEventListener("mouseup",this.onMouse,!0)),k.addEventListener("click",this.onClick,
!0),k.addEventListener("touchstart",this.onTouchStart,!1),k.addEventListener("touchmove",this.onTouchMove,!1),k.addEventListener("touchend",this.onTouchEnd,!1),k.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(k.removeEventListener=function(c,f,p){var m=Node.prototype.removeEventListener;"click"===c?m.call(k,c,f.hijacked||f,p):m.call(k,c,f,p)},k.addEventListener=function(c,f,p){var m=Node.prototype.addEventListener;"click"===c?m.call(k,c,f.hijacked||
(f.hijacked=function(c){c.propagationStopped||f(c)}),p):m.call(k,c,f,p)}),"function"===typeof k.onclick)){var f=k.onclick;k.addEventListener("click",function(c){f(c)},!1);k.onclick=null}}FastClick.prototype.deviceIsAndroid=0<navigator.userAgent.indexOf("Android");FastClick.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent);FastClick.prototype.deviceIsIOS4=FastClick.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent);
FastClick.prototype.deviceIsIOSWithBadTarget=FastClick.prototype.deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent);FastClick.prototype.needsClick=function(k){switch(k.nodeName.toLowerCase()){case "button":case "select":case "textarea":if(k.disabled)return!0;break;case "input":if(this.deviceIsIOS&&"file"===k.type||k.disabled)return!0;break;case "label":case "video":return!0}return/\bneedsclick\b/.test(k.className)};
FastClick.prototype.needsFocus=function(k){switch(k.nodeName.toLowerCase()){case "textarea":return!0;case "select":return!this.deviceIsAndroid;case "input":switch(k.type){case "button":case "checkbox":case "file":case "image":case "radio":case "submit":return!1}return!k.disabled&&!k.readOnly;default:return/\bneedsfocus\b/.test(k.className)}};
FastClick.prototype.sendClick=function(k,c){document.activeElement&&document.activeElement!==k&&document.activeElement.blur();var f=c.changedTouches[0];c=document.createEvent("MouseEvents");c.initMouseEvent(this.determineEventType(k),!0,!0,window,1,f.screenX,f.screenY,f.clientX,f.clientY,!1,!1,!1,!1,0,null);c.forwardedTouchEvent=!0;k.dispatchEvent(c)};FastClick.prototype.determineEventType=function(k){return this.deviceIsAndroid&&"select"===k.tagName.toLowerCase()?"mousedown":"click"};
FastClick.prototype.focus=function(k){if(this.deviceIsIOS&&k.setSelectionRange&&0!==k.type.indexOf("date")&&"time"!==k.type){var c=k.value.length;k.setSelectionRange(c,c)}else k.focus()};FastClick.prototype.updateScrollParent=function(k){var c=k.fastClickScrollParent;if(!c||!c.contains(k)){var f=k;do{if(f.scrollHeight>f.offsetHeight){c=f;k.fastClickScrollParent=f;break}f=f.parentElement}while(f)}c&&(c.fastClickLastScrollTop=c.scrollTop)};
FastClick.prototype.getTargetElementFromEventTarget=function(k){return k.nodeType===Node.TEXT_NODE?k.parentNode:k};
FastClick.prototype.onTouchStart=function(k){if(1<k.targetTouches.length)return!0;var c=this.getTargetElementFromEventTarget(k.target);var f=k.targetTouches[0];if(this.deviceIsIOS){var m=window.getSelection();if(m.rangeCount&&!m.isCollapsed)return!0;if(!this.deviceIsIOS4){if(f.identifier===this.lastTouchIdentifier)return k.preventDefault(),!1;this.lastTouchIdentifier=f.identifier;this.updateScrollParent(c)}}this.trackingClick=!0;this.trackingClickStart=k.timeStamp;this.targetElement=c;this.touchStartX=
f.pageX;this.touchStartY=f.pageY;200>k.timeStamp-this.lastClickTime&&k.preventDefault();return!0};FastClick.prototype.touchHasMoved=function(k){k=k.changedTouches[0];var c=this.touchBoundary;return Math.abs(k.pageX-this.touchStartX)>c||Math.abs(k.pageY-this.touchStartY)>c?!0:!1};FastClick.prototype.onTouchMove=function(k){if(!this.trackingClick)return!0;if(this.targetElement!==this.getTargetElementFromEventTarget(k.target)||this.touchHasMoved(k))this.trackingClick=!1,this.targetElement=null;return!0};
FastClick.prototype.findControl=function(k){return void 0!==k.control?k.control:k.htmlFor?document.getElementById(k.htmlFor):k.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")};
FastClick.prototype.onTouchEnd=function(k){var c=this.targetElement;if(!this.trackingClick)return!0;if(200>k.timeStamp-this.lastClickTime)return this.cancelNextClick=!0;this.cancelNextClick=!1;this.lastClickTime=k.timeStamp;var f=this.trackingClickStart;this.trackingClick=!1;this.trackingClickStart=0;if(this.deviceIsIOSWithBadTarget){var m=k.changedTouches[0];c=document.elementFromPoint(m.pageX-window.pageXOffset,m.pageY-window.pageYOffset)||c;c.fastClickScrollParent=this.targetElement.fastClickScrollParent}m=
c.tagName.toLowerCase();if("label"===m){if(f=this.findControl(c)){this.focus(c);if(this.deviceIsAndroid)return!1;c=f}}else if(this.needsFocus(c)){if(100<k.timeStamp-f||this.deviceIsIOS&&window.top!==window&&"input"===m)return this.targetElement=null,!1;this.focus(c);this.deviceIsIOS4&&"select"===m||(this.targetElement=null,k.preventDefault());return!1}if(this.deviceIsIOS&&!this.deviceIsIOS4&&(f=c.fastClickScrollParent)&&f.fastClickLastScrollTop!==f.scrollTop)return!0;this.needsClick(c)||(k.preventDefault(),
this.sendClick(c,k));return!1};FastClick.prototype.onTouchCancel=function(){this.trackingClick=!1;this.targetElement=null};FastClick.prototype.onMouse=function(k){return this.targetElement&&!k.forwardedTouchEvent&&k.cancelable?!this.needsClick(this.targetElement)||this.cancelNextClick?(k.stopImmediatePropagation?k.stopImmediatePropagation():k.propagationStopped=!0,k.stopPropagation(),k.preventDefault(),!1):!0:!0};
FastClick.prototype.onClick=function(k){if(this.trackingClick)return this.targetElement=null,this.trackingClick=!1,!0;if("submit"===k.target.type&&0===k.detail)return!0;k=this.onMouse(k);k||(this.targetElement=null);return k};
FastClick.prototype.destroy=function(){var k=this.layer;this.deviceIsAndroid&&(k.removeEventListener("mouseover",this.onMouse,!0),k.removeEventListener("mousedown",this.onMouse,!0),k.removeEventListener("mouseup",this.onMouse,!0));k.removeEventListener("click",this.onClick,!0);k.removeEventListener("touchstart",this.onTouchStart,!1);k.removeEventListener("touchmove",this.onTouchMove,!1);k.removeEventListener("touchend",this.onTouchEnd,!1);k.removeEventListener("touchcancel",this.onTouchCancel,!1)};
FastClick.notNeeded=function(k){var c,f;if("undefined"===typeof window.ontouchstart)return!0;if(f=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1])if(FastClick.prototype.deviceIsAndroid){if((c=document.querySelector("meta[name=viewport]"))&&(-1!==c.content.indexOf("user-scalable=no")||31<f&&window.innerWidth<=window.screen.width))return!0}else return!0;return"none"===k.style.msTouchAction?!0:!1};FastClick.attach=function(k){return new FastClick(k)};
"undefined"!==typeof define&&define.amd?define("vendor/fastclick/fastclick",[],function(){return FastClick}):"undefined"!==typeof module&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick;
define("vendor/polyfill/scrollIntoViewIfNeeded",[],function(){Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(k){function c(a){a=a.parentNode;return a===document?document:a.offsetHeight<a.scrollHeight||a.offsetWidth<a.scrollWidth?a:c(a)}var f=c(this),m=window.getComputedStyle(f,null),n=parseInt(m.getPropertyValue("border-top-width"));m=parseInt(m.getPropertyValue("border-left-width"));var p=this.offsetTop-f.offsetTop<f.scrollTop,t=this.offsetTop-f.offsetTop+
this.clientHeight-n>f.scrollTop+f.clientHeight,q=this.offsetLeft-f.offsetLeft<f.scrollLeft,a=this.offsetLeft-f.offsetLeft+this.clientWidth-m>f.scrollLeft+f.clientWidth;k=0===arguments.length?!0:!!k;(p||t)&&k&&(f.scrollTop=this.offsetTop-f.offsetTop-f.clientHeight/2-n+this.clientHeight/2);(q||a)&&k&&(f.scrollLeft=this.offsetLeft-f.offsetLeft-f.clientWidth/2-m+this.clientWidth/2);(p||t||q||a)&&!k&&this.scrollIntoView(p&&!t)})});
(function(k,c){"object"===typeof exports&&"undefined"!==typeof module?module.exports=c():"function"===typeof define&&define.amd?define("vendor/polyfill/ResizeObserver",c):k.ResizeObserver=c()})(this,function(){function k(a,c){function d(){h&&(h=!1,a());k&&f()}function e(){p(d)}function f(){var a=Date.now();if(h){if(2>a-l)return;k=!0}else h=!0,k=!1,setTimeout(e,c);l=a}var h=!1,k=!1,l=0;return f}function c(a){for(var c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];return c.reduce(function(c,d){return c+
(parseFloat(a["border-"+d+"-width"])||0)},0)}var f=function(){function a(a,c){var d=-1;a.some(function(a,e){return a[0]===c?(d=e,!0):!1});return d}return"undefined"!==typeof Map?Map:function(){function c(){this.__entries__=[]}Object.defineProperty(c.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0});c.prototype.get=function(c){c=a(this.__entries__,c);return(c=this.__entries__[c])&&c[1]};c.prototype.set=function(c,d){var e=a(this.__entries__,c);~e?this.__entries__[e][1]=
d:this.__entries__.push([c,d])};c.prototype.delete=function(c){var d=this.__entries__;c=a(d,c);~c&&d.splice(c,1)};c.prototype.has=function(c){return!!~a(this.__entries__,c)};c.prototype.clear=function(){this.__entries__.splice(0)};c.prototype.forEach=function(a,c){void 0===c&&(c=null);for(var d=0,e=this.__entries__;d<e.length;d++){var f=e[d];a.call(c,f[1],f[0])}};return c}()}(),m="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,n="undefined"!==typeof global&&
global.Math===Math?global:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&Math===Math?window:Function("return this")(),p=function(){return"function"===typeof requestAnimationFrame?requestAnimationFrame.bind(n):function(a){return setTimeout(function(){return a(Date.now())},1E3/60)}}(),t="top right bottom left width height size weight".split(" "),q="undefined"!==typeof MutationObserver,a=function(){function a(){this.mutationEventsAdded_=this.connected_=!1;this.mutationsObserver_=
null;this.observers_=[];this.onTransitionEnd_=this.onTransitionEnd_.bind(this);this.refresh=k(this.refresh.bind(this),20)}a.prototype.addObserver=function(a){~this.observers_.indexOf(a)||this.observers_.push(a);this.connected_||this.connect_()};a.prototype.removeObserver=function(a){var c=this.observers_;a=c.indexOf(a);~a&&c.splice(a,1);!c.length&&this.connected_&&this.disconnect_()};a.prototype.refresh=function(){this.updateObservers_()&&this.refresh()};a.prototype.updateObservers_=function(){var a=
this.observers_.filter(function(a){return a.gatherActive(),a.hasActive()});a.forEach(function(a){return a.broadcastActive()});return 0<a.length};a.prototype.connect_=function(){m&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),q?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",
this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)};a.prototype.disconnect_=function(){m&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.connected_=this.mutationEventsAdded_=!1)};a.prototype.onTransitionEnd_=function(a){a=
a.propertyName;var c=void 0===a?"":a;t.some(function(a){return!!~c.indexOf(a)})&&this.refresh()};a.getInstance=function(){this.instance_||(this.instance_=new a);return this.instance_};a.instance_=null;return a}(),h=function(a,c){for(var d=0,e=Object.keys(c);d<e.length;d++){var f=e[d];Object.defineProperty(a,f,{value:c[f],enumerable:!1,writable:!1,configurable:!0})}return a},l=function(a){return a&&a.ownerDocument&&a.ownerDocument.defaultView||n},d={x:0,y:0,width:0,height:0},e=function(){return"undefined"!==
typeof SVGGraphicsElement?function(a){return a instanceof l(a).SVGGraphicsElement}:function(a){return a instanceof l(a).SVGElement&&"function"===typeof a.getBBox}}(),u=function(){function a(a){this.broadcastHeight=this.broadcastWidth=0;this.contentRect_={x:0,y:0,width:0,height:0};this.target=a}a.prototype.isActive=function(){var a=this.target;if(m)if(e(a)){var f=a.getBBox();f={x:0,y:0,width:f.width,height:f.height}}else{var h=a.clientWidth,k=a.clientHeight;if(h||k){var n=l(a).getComputedStyle(a);
f={};for(var p=0,q=["top","right","bottom","left"];p<q.length;p++){var t=q[p];f[t]=parseFloat(n["padding-"+t])||0}var u=f.left+f.right;t=f.top+f.bottom;p=parseFloat(n.width)||0;q=parseFloat(n.height)||0;"border-box"===n.boxSizing&&(Math.round(p+u)!==h&&(p-=c(n,"left","right")+u),Math.round(q+t)!==k&&(q-=c(n,"top","bottom")+t));a!==l(a).document.documentElement&&(a=Math.round(p+u)-h,k=Math.round(q+t)-k,1!==Math.abs(a)&&(p-=a),1!==Math.abs(k)&&(q-=k));f={x:f.left,y:f.top,width:p,height:q}}else f=d}else f=
d;this.contentRect_=f;return f.width!==this.broadcastWidth||f.height!==this.broadcastHeight};a.prototype.broadcastRect=function(){var a=this.contentRect_;this.broadcastWidth=a.width;this.broadcastHeight=a.height;return a};return a}(),z=function(){return function(a,c){var d=c.x,e=c.y,f=c.width;c=c.height;var k=Object.create(("undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object).prototype);h(k,{x:d,y:e,width:f,height:c,top:e,right:d+f,bottom:c+e,left:d});h(this,{target:a,contentRect:k})}}(),
C=function(){function a(a,c,d){this.activeObservations_=[];this.observations_=new f;if("function"!==typeof a)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=a;this.controller_=c;this.callbackCtx_=d}a.prototype.observe=function(a){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(a instanceof l(a).Element))throw new TypeError('parameter 1 is not of type "Element".');
var c=this.observations_;c.has(a)||(c.set(a,new u(a)),this.controller_.addObserver(this),this.controller_.refresh())}};a.prototype.unobserve=function(a){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(a instanceof l(a).Element))throw new TypeError('parameter 1 is not of type "Element".');var c=this.observations_;c.has(a)&&(c.delete(a),c.size||this.controller_.removeObserver(this))}};a.prototype.disconnect=
function(){this.clearActive();this.observations_.clear();this.controller_.removeObserver(this)};a.prototype.gatherActive=function(){var a=this;this.clearActive();this.observations_.forEach(function(c){c.isActive()&&a.activeObservations_.push(c)})};a.prototype.broadcastActive=function(){if(this.hasActive()){var a=this.callbackCtx_,c=this.activeObservations_.map(function(a){return new z(a.target,a.broadcastRect())});this.callback_.call(a,c,a);this.clearActive()}};a.prototype.clearActive=function(){this.activeObservations_.splice(0)};
a.prototype.hasActive=function(){return 0<this.activeObservations_.length};return a}(),D="undefined"!==typeof WeakMap?new WeakMap:new f,x=function(){function c(d){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var e=a.getInstance();e=new C(d,e,this);D.set(this,e)}return c}();["observe","unobserve","disconnect"].forEach(function(a){x.prototype[a]=function(){var c;return(c=D.get(this))[a].apply(c,
arguments)}});var E="undefined"!==typeof n.ResizeObserver?n.ResizeObserver:n.ResizeObserver=x;return E});define("vendor/polyfill/polyfill",["vendor/polyfill/scrollIntoViewIfNeeded","vendor/polyfill/ResizeObserver"],function(){});
!function(){function k(a,c){return function(){for(var d=[],e=0;e<arguments.length;e++)d[e]=arguments[e];try{return a.apply(void 0,d)}catch(ka){qa.error(c,ka)}}}function c(a){La=a}function f(a,c,d){var e=d.value;d.value=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return(pa?m(e):e).apply(this,a)}}function m(a){return function(){return n(a,this,arguments)}}function n(a,c,d){try{return a.apply(c,d)}catch(Ga){if(p(ta.error,Ga),pa)try{pa(Ga)}catch(ka){p(ta.error,ka)}}}function p(a){for(var c=
[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];La&&qa.apply(void 0,Pb([a,"[MONITOR]"],c,!1))}function t(a,c,d){var e,f,h=!d||void 0===d.leading||d.leading,k=!d||void 0===d.trailing||d.trailing,l=!1;return{throttled:function(){for(var d=[],m=0;m<arguments.length;m++)d[m]=arguments[m];l?e=d:(h?a.apply(void 0,d):e=d,l=!0,f=setTimeout(function(){k&&e&&a.apply(void 0,e);l=!1;e=void 0},c))},cancel:function(){clearTimeout(f);l=!1;e=void 0}}}function q(a){for(var c=[],d=1;d<arguments.length;d++)c[d-1]=
arguments[d];return c.forEach(function(c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}),a}function a(c){return c?(parseInt(c,10)^16*Math.random()>>parseInt(c,10)/4).toString(16):"".concat(1E7,"-").concat(1E3,"-").concat(4E3,"-").concat(8E3,"-").concat(1E11).replace(/[018]/g,a)}function h(a){return 0!==a&&100*Math.random()<=a}function l(){}function d(a,c,d){if("object"!=typeof a||null===a)return JSON.stringify(a);var f=e(Object.prototype),h=e(Array.prototype),k=e(Object.getPrototypeOf(a)),
l=e(a);try{return JSON.stringify(a,c,d)}catch(oc){return"<error: unable to serialize object>"}finally{f(),h(),k(),l()}}function e(a){var c=a.toJSON;return c?(delete a.toJSON,function(){a.toJSON=c}):l}function u(a){if(Array.from)return Array.from(a);var c=[];if(a instanceof Set)a.forEach(function(a){return c.push(a)});else for(var d=0;d<a.length;d++)c.push(a[d]);return c}function z(a){return"number"==typeof a&&0<=a&&100>=a}function C(a){return Object.keys(a).map(function(c){return a[c]})}function D(){if("object"==
typeof globalThis)return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:!0});var a=_dd_temp_;return delete Object.prototype._dd_temp_,"object"!=typeof a&&(a="object"==typeof self?self:"object"==typeof window?window:{}),a}function x(a,c,d){void 0===d&&(d="");var e=a.charCodeAt(c-1);c=55296<=e&&56319>=e?c+1:c;return a.length<=c?a:"".concat(a.slice(0,c)).concat(d)}function E(a,c,d,e){return H(a,[c],d,e)}function H(a,c,d,e){e=void 0===e?{}:e;var f=
e.capture,h=e.passive,k=m(e.once?function(a){n();d(a)}:d),l=h?{capture:f,passive:h}:f;c.forEach(function(c){return a.addEventListener(c,k,l)});var n=function(){return c.forEach(function(c){return a.removeEventListener(c,k,l)})};return{stop:n}}function A(a,c,d){if(void 0===d&&(d=function(){if("undefined"!=typeof WeakSet){var a=new WeakSet;return{hasAlreadyBeenSeen:function(c){var d=a.has(c);return d||a.add(c),d}}}var c=[];return{hasAlreadyBeenSeen:function(a){var d=0<=c.indexOf(a);return d||c.push(a),
d}}}()),void 0===c)return a;if("object"!=typeof c||null===c)return c;if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp)return d=c.flags||[c.global?"g":"",c.ignoreCase?"i":"",c.multiline?"m":"",c.sticky?"y":"",c.unicode?"u":""].join(""),new RegExp(c.source,d);if(!d.hasAlreadyBeenSeen(c)){if(Array.isArray(c)){var e=Array.isArray(a)?a:[];for(a=0;a<c.length;++a)e[a]=A(e[a],c[a],d);return e}a="object"==(null===a?"null":Array.isArray(a)?"array":typeof a)?a:{};for(e in c)Object.prototype.hasOwnProperty.call(c,
e)&&(a[e]=A(a[e],c[e],d));return a}}function G(a){return A(void 0,a)}function B(){for(var a,c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];for(d=0;d<c.length;d++){var e=c[d];null!=e&&(a=A(a,e))}return a}function F(){var a={};return{get:function(){return a},add:function(c,d){a[c]=d},remove:function(c){delete a[c]},set:function(c){a=c},getContext:function(){return G(a)},setContext:function(c){a=G(c)},setContextProperty:function(c,d){a[c]=G(d)},removeContextProperty:function(c){delete a[c]},clearContext:function(){a=
{}}}}function I(){return(new Date).getTime()}function M(){return{relative:performance.now(),timeStamp:I()}}function L(){var a=D().DatadogEventBridge;if(a)return{getAllowedWebViewHosts:function(){return JSON.parse(a.getAllowedWebViewHosts())},send:function(c,d){a.send(JSON.stringify({eventType:c,event:d}))}}}function J(a){var c;void 0===a&&(a=null===(c=D().location)||void 0===c?void 0:c.hostname);c=L();return!!c&&c.getAllowedWebViewHosts().some(function(c){return a===c||(d=a,e=".".concat(c),d.slice(-e.length)===
e);var d,e})}function P(a,c,d,e){var f=new Date;f.setTime(f.getTime()+d);d="expires=".concat(f.toUTCString());f=e&&e.crossSite?"none":"strict";var h=e&&e.domain?";domain=".concat(e.domain):"";e=e&&e.secure?";secure":"";document.cookie="".concat(a,"=").concat(c,";").concat(d,";path=/;samesite=").concat(f).concat(h).concat(e)}function W(a){var c=document.cookie;return(a=(new RegExp("(?:^|;)\\s*".concat(a,"\\s*=\\s*([^;]+)"))).exec(c))?a[1]:void 0}function U(a){var c=window.location;if(c.origin)c=c.origin;
else{var d=c.host.replace(/(:80|:443)$/,"");c="".concat(c.protocol,"//").concat(d)}return Z(a,c).href}function Z(a,c){if(function(){if(void 0!==ab)return ab;try{return ab="http://test/path"===(new URL("http://test/path")).href}catch(aa){ab=!1}return ab}())return void 0!==c?new URL(a,c):new URL(a);if(void 0===c&&!/:/.test(a))throw Error("Invalid URL: '".concat(a,"'"));var d=document,e=d.createElement("a");if(void 0!==c){var f=(d=document.implementation.createHTMLDocument("")).createElement("base");
f.href=c;d.head.appendChild(f);d.body.appendChild(e)}return e.href=a,e}function X(c,d,e){var f=c.site,h=c.clientToken;f=(void 0===f?"datadoghq.com":f).split(".");var k=f.pop();f="".concat(ca[d],".browser-intake-").concat(f.join("-"),".").concat(k);var l="https://".concat(f,"/api/v2/").concat(Ma[d]),m=c.proxyUrl&&U(c.proxyUrl);return{build:function(){var c="ddsource=browser"+"&ddtags=".concat(encodeURIComponent(["sdk_version:".concat("4.17.0")].concat(e).join(",")))+"&dd-api-key=".concat(h)+"&dd-evp-origin-version=".concat(encodeURIComponent("4.17.0"))+
"&dd-evp-origin=browser"+"&dd-request-id=".concat(a());"rum"===d&&(c+="&batch_time=".concat(I()));c="".concat(l,"?").concat(c);return m?"".concat(m,"?ddforward=").concat(encodeURIComponent(c)):c},buildIntakeUrl:function(){return m?"".concat(m,"?ddforward"):l},endpointType:d}}function R(a,c){(c.length>200-a.length-1||bb.test(c))&&qa.warn("".concat(a," value doesn't meet tag requirements and will be sanitized"));c=c.replace(/,/g,"_");return"".concat(a,":").concat(c)}function Ba(a){var c=function(a){var c=
a.env,d=a.service,e=a.version;a=a.datacenter;var f=[];return c&&f.push(R("env",c)),d&&f.push(R("service",d)),e&&f.push(R("version",e)),a&&f.push(R("datacenter",a)),f}(a),d=function(a,c){return{logsEndpointBuilder:X(a,"logs",c),rumEndpointBuilder:X(a,"rum",c),sessionReplayEndpointBuilder:X(a,"sessionReplay",c)}}(a,c),e=C(d).map(function(a){return a.buildIntakeUrl()});c=function(a,c,d){if(a.replica){var e=q({},a,{site:"datadoghq.com",clientToken:a.replica.clientToken});d={logsEndpointBuilder:X(e,"logs",
d),rumEndpointBuilder:X(e,"rum",d)};return c.push.apply(c,C(d).map(function(a){return a.buildIntakeUrl()})),q({applicationId:a.replica.applicationId},d)}}(a,e,c);return q({isIntakeUrl:function(a){return e.some(function(c){return 0===a.indexOf(c)})},replica:c,site:a.site||"datadoghq.com"},d)}function va(a){var c,d;if(a&&a.clientToken)if(void 0===a.sampleRate||z(a.sampleRate)){var e;if(void 0===a.telemetrySampleRate||z(a.telemetrySampleRate))return e=a.enableExperimentalFeatures,Array.isArray(e)&&(Ab||
(Ab=new Set(e)),e.filter(function(a){return"string"==typeof a}).forEach(function(a){Ab.add(a)})),q({beforeSend:a.beforeSend&&k(a.beforeSend,"beforeSend threw an error:"),cookieOptions:la(a),sampleRate:null!==(c=a.sampleRate)&&void 0!==c?c:100,telemetrySampleRate:null!==(d=a.telemetrySampleRate)&&void 0!==d?d:20,service:a.service,silentMultipleInit:!!a.silentMultipleInit,batchBytesLimit:16384,eventRateLimiterThreshold:3E3,maxTelemetryEventsPerPage:15,flushTimeout:3E4,batchMessagesLimit:50,messageBytesLimit:262144},
Ba(a));qa.error("Telemetry Sample Rate should be a number between 0 and 100")}else qa.error("Sample Rate should be a number between 0 and 100");else qa.error("Client Token is not configured, we will not send any data.")}function la(c){var d={};d.secure=!!c.useSecureSessionCookie||!!c.useCrossSiteSessionCookie;d.crossSite=!!c.useCrossSiteSessionCookie;if(c.trackSessionAcrossSubdomains){if(void 0===Da){c="dd_site_test_".concat(a());for(var e=window.location.hostname.split("."),f=e.pop();e.length&&!W(c);)f=
"".concat(e.pop(),".").concat(f),P(c,"test",1E3,{domain:f});P(c,"",0,{domain:f});Da=f}d.domain=Da}return d}function O(a){var c=[],d=S(a,"stack");return d&&d.split("\n").forEach(function(a){(a=function(a){if(a=hc.exec(a)){var c=a[2]&&0===a[2].indexOf("native"),d=a[2]&&0===a[2].indexOf("eval"),e=Aa.exec(a[2]);d&&e&&(a[2]=e[1],a[3]=e[2],a[4]=e[3]);return{args:c?[a[2]]:[],column:a[4]?+a[4]:void 0,func:a[1]||"?",line:a[3]?+a[3]:void 0,url:c?void 0:a[2]}}}(a)||function(a){if(a=Qb.exec(a))return{args:[],
column:a[3]?+a[3]:void 0,func:"?",line:a[2]?+a[2]:void 0,url:a[1]}}(a)||function(a){if(a=Gb.exec(a))return{args:[],column:a[4]?+a[4]:void 0,func:a[1]||"?",line:+a[3],url:a[2]}}(a)||function(a){if(a=Fa.exec(a)){var c=a[3]&&-1<a[3].indexOf(" > eval"),d=Za.exec(a[3]);c&&d&&(a[3]=d[1],a[4]=d[2],a[5]=void 0);return{args:a[2]?a[2].split(","):[],column:a[5]?+a[5]:void 0,func:a[1]||"?",line:a[4]?+a[4]:void 0,url:a[3]}}}(a))&&(!a.func&&a.line&&(a.func="?"),c.push(a))}),{message:S(a,"message"),name:S(a,"name"),
stack:c}}function S(a,c){if("object"==typeof a&&a&&c in a)return a=a[c],"string"==typeof a?a:void 0}function ba(a){var c=fa(a);return a.stack.forEach(function(a){var d="?"===a.func?"<anonymous>":a.func,e=a.args&&0<a.args.length?"(".concat(a.args.join(", "),")"):"",f=a.line?":".concat(a.line):"",h=a.line&&a.column?":".concat(a.column):"";c+="\n  at ".concat(d).concat(e," @ ").concat(a.url).concat(f).concat(h)}),c}function fa(a){return"".concat(a.name||"Error",": ").concat(a.message)}function xa(){var a,
c=Error();if(!c.stack)try{throw c;}catch(ja){}return n(function(){var d=O(c);d.stack=d.stack.slice(2);a=ba(d)}),a}function ma(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var d=new Na(function(){var c=a.map(function(a){return a.subscribe(function(a){return d.notify(a)})});return function(){return c.forEach(function(a){return a.unsubscribe()})}});return d}function ra(a){var c,d=[];-1!==a.indexOf(Oa.cspViolation)&&d.push(c=new Na(function(){var a=m(function(a){c.notify(function(a){var c=
Oa.cspViolation,d="'".concat(a.blockedURI,"' blocked by '").concat(a.effectiveDirective,"' directive");return{type:Oa.cspViolation,subtype:a.effectiveDirective,message:"".concat(c,": ").concat(d),stack:ha(a.effectiveDirective,"".concat(d,' of the policy "').concat(x(a.originalPolicy,100,"..."),'"'),a.sourceFile,a.lineNumber,a.columnNumber)}}(a))});return E(document,"securitypolicyviolation",a).stop}));a=a.filter(function(a){return a!==Oa.cspViolation});return a.length&&d.push(function(a){var c=new Na(function(){if(window.ReportingObserver){var d=
m(function(a){return a.forEach(function(a){c.notify(function(a){var c=a.type;a=a.body;return{type:c,subtype:a.id,message:"".concat(c,": ").concat(a.message),stack:ha(a.id,a.message,a.sourceFile,a.lineNumber,a.columnNumber)}}(a))})}),e=new window.ReportingObserver(d,{types:a,buffered:!0});return e.observe(),function(){e.disconnect()}}});return c}(a)),ma.apply(void 0,d)}function ha(a,c,d,e,f){return d&&ba({name:a,message:c,stack:[{func:"?",url:d,line:e,column:f}]})}function T(a,c,d){return void 0===
a?[]:"all"===a||Array.isArray(a)&&a.every(function(a){return-1!==c.indexOf(a)})?"all"===a?c:(e=a,f=new Set,e.forEach(function(a){return f.add(a)}),u(f)):void qa.error("".concat(d,' should be "all" or an array with allowed values "').concat(c.join('", "'),'"'));var e,f}function Ca(){return!(!window._DATADOG_SYNTHETICS_INJECTS_RUM&&!W("datadog-synthetics-injects-rum"))}function ua(){var a=window._DATADOG_SYNTHETICS_RESULT_ID||W("datadog-synthetics-result-id");return"string"==typeof a?a:void 0}function ya(a){var c,
d=new Na;return Ja.telemetryEnabled=h(a.telemetrySampleRate),wa=function(e){-1===bc.indexOf(a.site)&&Ja.telemetryEnabled&&d.notify(function(a){return B({type:"telemetry",date:I(),service:"browser-sdk",version:"4.17.0",source:"browser",_dd:{format_version:2},telemetry:a,experimental_features:u(Ab||new Set)},void 0!==c?c():{})}(e))},pa=Ha,q(Ja,{maxEventsPerPage:a.maxTelemetryEventsPerPage,sentEventCount:0}),{setContextProvider:function(a){c=a},observable:d}}function Ha(a){a instanceof Error?(a=O(a),
a={error:{kind:a.name,stack:ba(ic(a))},message:a.message}):a={error:{stack:"Not an instance of error"},message:"Uncaught ".concat(d(a))};za(q({status:"error"},a))}function za(a){wa&&Ja.sentEventCount<Ja.maxEventsPerPage&&(Ja.sentEventCount+=1,wa(a))}function ic(a){return a.stack=a.stack.filter(function(a){return!a.url||Bb.some(function(c){return d=a.url,e=c,d.slice(0,e.length)===e;var d,e})}),a}function cb(a,c,d){function e(c){return new Ua(new sc(c,a.batchBytesLimit),a.batchMessagesLimit,a.batchBytesLimit,
a.messageBytesLimit,a.flushTimeout)}var f,h=e(c);return d&&(f=e(d)),{add:function(a,c){void 0===c&&(c=!0);h.add(a);f&&c&&f.add(a)}}}function da(c,d){var e;if(void 0===d&&(d=0),Eb||(Eb=c),c===Eb)if(100<=d)Tb();else{var f,h=Ia();if(w()&&(h.lock||(f=a(),h.lock=f,ob(h,c.options),(h=Ia()).lock!==f)))return void nb(c,d);var k=c.process(h);if(w()&&(h=Ia()).lock!==f)nb(c,d);else{if(k&&Ub(k,c.options),w()&&(!k||!Wa(k))){if((h=Ia()).lock!==f)return void nb(c,d);delete h.lock;ob(h,c.options);k=h}null===(e=c.after)||
void 0===e||e.call(c,k||h);Tb()}}else Lb.push(c)}function w(){return!!window.chrome||/HeadlessChrome/.test(window.navigator.userAgent)}function nb(a,c){setTimeout(m(function(){da(a,c+1)}),10)}function Tb(){Eb=void 0;var a=Lb.shift();a&&da(a)}function Ub(a,c){Wa(a)?P("_dd_s","",0,c):(a.expire=String(I()+9E5),ob(a,c))}function ob(a,c){P("_dd_s",function(a){return(c=a,Object.keys(c).map(function(a){return[a,c[a]]})).map(function(a){var c=a[1];return"".concat(a[0],"=").concat(c)}).join("&");var c}(a),
9E5,c)}function Ia(){var a=W("_dd_s"),c={};return function(a){return void 0!==a&&(-1!==a.indexOf("&")||kb.test(a))}(a)&&a.split("&").forEach(function(a){a=kb.exec(a);null!==a&&(c[a[1]]=a[2])}),c}function Wa(a){return c=a,0===Object.keys(c).length;var c}function Xb(c,d,e){function f(a){return h(a)||(a={}),void 0!==p[d]&&(p.id===a.id&&p[d]===a[d]?p=a:(p={},l.notify())),a}function h(a){return(void 0===a.created||144E5>I()-Number(a.created))&&(void 0===a.expire||I()<Number(a.expire))}var k=new Na,l=new Na,
n=setInterval(m(function(){da({options:c,process:function(a){return h(a)?void 0:{}},after:f})}),1E3),p=function(){var a=Ia();return h(a)?a:{}}();return{expandOrRenewSession:t(m(function(){var h;da({options:c,process:function(c){c=f(c);var k=e(c[d]),l=k.isTracked;c[d]=k.trackingType;l&&!c.id&&(c.id=a(),c.created=String(I()));return h=l,c},after:function(a){h&&void 0===p[d]&&(p=a,k.notify());p=a}})}),1E3).throttled,expandSession:function(){da({options:c,process:function(a){return void 0!==p[d]?f(a):
void 0}})},getSession:function(){return p},renewObservable:k,expireObservable:l,stop:function(){clearInterval(n)}}}function zb(a,c,d){function e(){return{id:f.getSession().id,trackingType:f.getSession()[c]}}!function(a){var c=W("_dd_s"),d=W("_dd"),e=W("_dd_r"),f=W("_dd_l");c||(c={},d&&(c.id=d),f&&/^[01]$/.test(f)&&(c.logs=f),e&&/^[012]$/.test(e)&&(c.rum=e),Ub(c,a))}(a);var f=Xb(a,c,d);db.push(function(){return f.stop()});var h,k=new tc(144E5);return db.push(function(){return k.stop()}),f.renewObservable.subscribe(function(){k.add(e(),
performance.now())}),f.expireObservable.subscribe(function(){k.closeActive(performance.now())}),f.expandOrRenewSession(),k.add(e(),[0,(void 0===jb&&(jb=performance.timing.navigationStart),jb)][0]),h=H(window,["click","touchstart","keydown","scroll"],function(){return f.expandOrRenewSession()},{capture:!0,passive:!0}).stop,db.push(h),function(a){var c=m(function(){"visible"===document.visibilityState&&a()}),d=E(document,"visibilitychange",c).stop;db.push(d);var e=setInterval(c,6E4);db.push(function(){clearInterval(e)})}(function(){return f.expandSession()}),
{findActiveSession:function(a){return k.find(a)},renewObservable:f.renewObservable,expireObservable:f.expireObservable}}function Yb(a){var c=zb(a.cookieOptions,"logs",function(c){c="0"===c||"1"===c?c:h(a.sampleRate)?"1":"0";return{trackingType:c,isTracked:"1"===c}});return{findTrackedSession:function(a){return(a=c.findActiveSession(a))&&"1"===a.trackingType?{id:a.id}:void 0}}}function Nb(a,c,d){var e=d.getHandler();e=Array.isArray(e)?e:[e];return cc[a]>=cc[d.getLevel()]&&-1!==e.indexOf(c)}function pb(a,
c,d,e,f){var h={};vb.concat(["custom"]).forEach(function(a){var e,f,k,l;h[a]=(e=c.eventRateLimiterThreshold,f=function(a){d.notify(0,{rawLogsEvent:{message:a.message,date:a.startClocks.timeStamp,error:{origin:"agent"},origin:"agent",status:N.error}})},k=0,l=!1,{isLimitReached:function(){if(0===k&&setTimeout(function(){k=0},6E4),(k+=1)<=e||l)return l=!1,!1;if(k===e+1){l=!0;try{f({message:"Reached max number of ".concat(a,"s by minute: ").concat(e),source:"agent",startClocks:M()})}finally{l=!1}}return!0}})});
d.subscribe(0,function(k){var l,m,n,p=k.rawLogsEvent,q=k.messageContext;q=void 0===q?void 0:q;var t=k.savedCommonContext;t=void 0===t?void 0:t;k=k.logger;k=void 0===k?f:k;var u=p.date-(void 0===jb&&(jb=performance.timing.navigationStart),jb),w=a.findTrackedSession(u);w&&(t=t||e(),q=B({service:c.service,session_id:w.id,view:t.view},t.context,qb(u),p,k.getContext(),q),!Nb(p.status,"http",k)||!1===(null===(l=c.beforeSend)||void 0===l?void 0:l.call(c,q))||"agent"!==(null===(m=q.error)||void 0===m?void 0:
m.origin)&&(null!==(n=h[q.status])&&void 0!==n?n:h.custom).isLimitReached()||d.notify(1,q))})}function qb(a){function c(c){if(c&&c.getInternalContext)return c.getInternalContext(a)}var d,e=window;return Ca()?(e=c(e.DD_RUM_SYNTHETICS),e||nc||(nc=!0,function(a,c){p(ta.debug,a,c);za(q({message:a,status:"debug"},c))}("Logs sent before RUM is injected by the synthetics worker",{testId:(d=window._DATADOG_SYNTHETICS_PUBLIC_ID||W("datadog-synthetics-public-id"),"string"==typeof d?d:void 0),resultId:ua()})),
e):c(e.DD_RUM)}function ib(a){a=a.map(function(a){return Fb[a]||(Fb[a]=function(a){var c=new Na(function(){var d=console[a];return console[a]=function(){for(var e=[],f=0;f<arguments.length;f++)e[f]=arguments[f];d.apply(console,e);var h=xa();n(function(){c.notify(lc(e,a,h))})},function(){console[a]=d}});return c}(a)),Fb[a]});return ma.apply(void 0,a)}function lc(a,c,e){var f=a.map(function(a){a="string"==typeof a?a:a instanceof Error?fa(O(a)):d(a,void 0,2);return a}).join(" ");if(c===ta.error){var h=
(a=function(a,c){for(var d=0;d<a.length;d+=1){var e=a[d];if(c(e,d))return e}}(a,function(a){return a instanceof Error}))?ba(O(a)):void 0;f="console error: ".concat(f)}return{api:c,message:f,stack:h,handlingStack:e}}function Ka(a,c,d){var e=a[c],f=d(e),h=function(){return f.apply(this,arguments)};return a[c]=h,{stop:function(){a[c]===h?a[c]=e:f=e}}}function Xa(a,c,d){var e=d.before,f=d.after;return Ka(a,c,function(a){return function(){var c,d=arguments;return e&&n(e,this,d),"function"==typeof a&&(c=
a.apply(this,d)),f&&n(f,this,d),c}})}function Ya(){var a;return mb||(a=new Na(function(){var c=Xa(XMLHttpRequest.prototype,"open",{before:rb}).stop,d=Xa(XMLHttpRequest.prototype,"send",{before:function(){V.call(this,a)}}).stop,e=Xa(XMLHttpRequest.prototype,"abort",{before:oa}).stop;return function(){c();d();e()}}),mb=a),mb}function rb(a,c){Sb.set(this,{state:"open",method:a,url:U(String(c))})}function V(a){var c=this,d=Sb.get(this);if(d){d.state="start";d.startTime=performance.now();d.startClocks=
M();d.isAborted=!1;d.xhr=this;var e=!1,f=Xa(this,"onreadystatechange",{before:function(){this.readyState===XMLHttpRequest.DONE&&h()}}).stop,h=m(function(){if(c.removeEventListener("loadend",h),f(),!e){e=!0;d.state="complete";var k=I()-d.startClocks.timeStamp;d.duration=k;d.status=c.status;a.notify(q({},d))}});this.addEventListener("loadend",h);a.notify(d)}}function oa(){var a=Sb.get(this);a&&(a.isAborted=!0)}function Ob(){var a;return Mb||(a=new Na(function(){if(window.fetch)return Ka(window,"fetch",
function(c){return function(d,e){var f,h=n(Ra,null,[a,d,e]);return h?(f=c.call(this,h.input,h.init),n(Zb,null,[a,f,h])):f=c.call(this,d,e),f}}).stop}),Mb=a),Mb}function Ra(a,c,d){var e=d&&d.method||"object"==typeof c&&c.method||"GET",f=U("object"==typeof c&&c.url||c);c={state:"start",init:d,input:c,method:e,startClocks:M(),url:f};return a.notify(c),c}function Zb(a,c,d){var e=function(c){d.state="complete";var e=I()-d.startClocks.timeStamp;d.duration=e;"stack"in c||c instanceof Error?(d.status=0,d.isAborted=
c instanceof DOMException&&c.code===DOMException.ABORT_ERR,d.error=c,a.notify(d)):"status"in c&&(d.response=c,d.responseType=c.type,d.status=c.status,d.isAborted=!1,a.notify(d))};c.then(m(e),m(e))}function eb(a,c){function d(d,e){function f(a){c.notify(0,{rawLogsEvent:{message:"".concat("xhr"===d?"XHR":"Fetch"," error ").concat(e.method," ").concat(e.url),date:e.startClocks.timeStamp,error:{origin:"network",stack:a||"Failed to load"},http:{method:e.method,status_code:e.status,url:e.url},status:N.error,
origin:"network"}})}a.isIntakeUrl(e.url)||!(0===e.status&&"opaque"!==e.responseType||500<=e.status)||("xhr"in e?function(a,c,d){"string"==typeof a.response?d(Ea(a.response,c)):d(a.response)}(e.xhr,a,f):e.response?function(a,c,d){window.TextDecoder?a.body?function(a,c,d){!function(a,c,d){function e(){h.read().then(m(function(a){a.done?f():(k.push(a.value),(n+=a.value.length)>c?f():e())}),m(function(a){return d(a)}))}function f(){if(h.cancel().catch(l),1===k.length)var a=k[0];else{a=new Uint8Array(n);
var e=0;k.forEach(function(c){a.set(c,e);e+=c.length})}d(void 0,a.slice(0,c),a.length>c)}var h=a.getReader(),k=[],n=0;e()}(a,c,function(a,c,e){a?d(a):(a=(new TextDecoder).decode(c),e&&(a+="..."),d(void 0,a))})}(a.clone().body,c.requestErrorResponseLengthLimit,function(a,c){d(a?"Unable to retrieve response: ".concat(a):c)}):d():a.clone().text().then(m(function(a){return d(Ea(a,c))}),m(function(a){return d("Unable to retrieve response: ".concat(a))}))}(e.response,a,f):e.error&&function(a,c,d){d(Ea(ba(O(a)),
c))}(e.error,a,f))}if(!a.forwardErrorsToLogs)return{stop:l};var e=Ya().subscribe(function(a){"complete"===a.state&&d("xhr",a)}),f=Ob().subscribe(function(a){"complete"===a.state&&d("fetch",a)});return{stop:function(){e.unsubscribe();f.unsubscribe()}}}function Ea(a,c){return a.length>c.requestErrorResponseLengthLimit?"".concat(a.substring(0,c.requestErrorResponseLengthLimit),"..."):a}function Sa(a){var c=function(a){return Xa(window,"onerror",{before:function(c,d,e,f,h){if(h)c=O(h),a(c,h);else{var k;
h={url:d,column:f,line:e};d=c;"[object String]"==={}.toString.call(c)&&(e=Va.exec(d))&&(k=e[1],d=e[2]);a({name:k,message:"string"==typeof d?d:void 0,stack:[h]},c)}}})}(a).stop,d=function(a){return Xa(window,"onunhandledrejection",{before:function(c){c=c.reason||"Empty reason";var d=O(c);a(d,c)}})}(a).stop;return{stop:function(){c();d()}}}function $b(a){return Sa(function(c,e){c=c&&(void 0!==c.message||e instanceof Error)?{message:c.message||"Empty message",stack:ba(c),handlingStack:void 0,type:c.name}:
{message:"".concat("Uncaught"," ").concat(d(e)),stack:"No stack, consider using an instance of Error",handlingStack:void 0,type:c&&c.name};a.notify({message:c.message,stack:c.stack,type:c.type,source:"source",startClocks:M(),originalError:e,handling:"unhandled"})})}var ta={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},qa=function(a){for(var c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];Object.prototype.hasOwnProperty.call(ta,a)||(a=ta.log);qa[a].apply(qa,c)};qa.debug=console.debug.bind(console);
qa.log=console.log.bind(console);qa.info=console.info.bind(console);qa.warn=console.warn.bind(console);qa.error=console.error.bind(console);var pa,Pb=function(a,c,d){if(d||2===arguments.length)for(var e,f=0,h=c.length;f<h;f++)!e&&f in c||(e||(e=Array.prototype.slice.call(c,0,f)),e[f]=c[f]);return a.concat(e||Array.prototype.slice.call(c))},La=!1,jb,Kb=function(){function a(){this.buffer=[]}return a.prototype.add=function(a){500<this.buffer.push(a)&&this.buffer.splice(0,1)},a.prototype.drain=function(){this.buffer.forEach(function(a){return a()});
this.buffer.length=0},a}(),Da,Ab,ab,ca={logs:"logs",rum:"rum",sessionReplay:"session-replay"},Ma={logs:"logs",rum:"rum",sessionReplay:"replay"},bb=/[^a-z0-9_:./-]/,hc=new RegExp("^\\s*at (.*?) ?\\(".concat("((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\\w+\\.|\\/).*?)").concat("(?::(\\d+))","?").concat("(?::(\\d+))","?\\)?\\s*$"),"i"),Aa=new RegExp("\\((\\S*)".concat("(?::(\\d+))").concat("(?::(\\d+))","\\)")),Qb=new RegExp("^\\s*at ?".concat("((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\\w+\\.|\\/).*?)").concat("(?::(\\d+))",
"?").concat("(?::(\\d+))","??\\s*$"),"i"),Gb=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Fa=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,Za=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Na=function(){function a(a){this.onFirstSubscribe=a;this.observers=[]}return a.prototype.subscribe=function(a){var c=this;return!this.observers.length&&
this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe()||void 0),this.observers.push(a),{unsubscribe:function(){c.observers=c.observers.filter(function(c){return a!==c});!c.observers.length&&c.onLastUnsubscribe&&c.onLastUnsubscribe()}}},a.prototype.notify=function(a){this.observers.forEach(function(c){return c(a)})},a}(),Oa={intervention:"intervention",deprecation:"deprecation",cspViolation:"csp_violation"},ac=function(a,c,d,e){var f,h=arguments.length,k=3>h?c:null===e?e=Object.getOwnPropertyDescriptor(c,
d):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)k=Reflect.decorate(a,c,d,e);else for(var l=a.length-1;0<=l;l--)(f=a[l])&&(k=(3>h?f(k):3<h?f(c,d,k):f(c,d))||k);return 3<h&&k&&Object.defineProperty(c,d,k),k},N={debug:"debug",error:"error",info:"info",warn:"warn"},vb=Object.keys(N),y=function(){function a(a,c,d,e,f){void 0===d&&(d="http");void 0===e&&(e=N.debug);void 0===f&&(f={});this.handleLogStrategy=a;this.handlerType=d;this.level=e;this.contextManager=F();this.contextManager.set(q({},
f,c?{logger:{name:c}}:void 0))}return a.prototype.log=function(a,c,d){void 0===d&&(d=N.info);this.handleLogStrategy({message:a,context:G(c),status:d},this)},a.prototype.debug=function(a,c){this.log(a,c,N.debug)},a.prototype.info=function(a,c){this.log(a,c,N.info)},a.prototype.warn=function(a,c){this.log(a,c,N.warn)},a.prototype.error=function(a,c){this.log(a,B({error:{origin:"logger"}},c),N.error)},a.prototype.setContext=function(a){this.contextManager.set(a)},a.prototype.getContext=function(){return this.contextManager.get()},
a.prototype.addContext=function(a,c){this.contextManager.add(a,c)},a.prototype.removeContext=function(a){this.contextManager.remove(a)},a.prototype.setHandler=function(a){this.handlerType=a},a.prototype.getHandler=function(){return this.handlerType},a.prototype.setLevel=function(a){this.level=a},a.prototype.getLevel=function(){return this.level},ac([f],a.prototype,"log",null),a}(),wa,Bb=["https://www.datadoghq-browser-agent.com","https://www.datad0g-browser-agent.com","http://localhost","<anonymous>"],
bc=["ddog-gov.com"],Ja={maxEventsPerPage:0,sentEventCount:0,telemetryEnabled:!1},mc=/[^\u0000-\u007F]/,Ua=function(){function a(a,c,d,e,f,h){void 0===h&&(h=l);this.request=a;this.batchMessagesLimit=c;this.batchBytesLimit=d;this.messageBytesLimit=e;this.flushTimeout=f;this.beforeUnloadCallback=h;this.pushOnlyBuffer=[];this.upsertBuffer={};this.bufferMessagesCount=this.bufferBytesCount=0;this.flushOnVisibilityHidden();this.flushPeriodically()}return a.prototype.add=function(a){this.addOrUpdate(a)},
a.prototype.upsert=function(a,c){this.addOrUpdate(a,c)},a.prototype.flush=function(){if(0!==this.bufferMessagesCount){var a=this.pushOnlyBuffer.concat(C(this.upsertBuffer)),c=this.bufferBytesCount;this.pushOnlyBuffer=[];this.upsertBuffer={};this.bufferMessagesCount=this.bufferBytesCount=0;this.request.send(a.join("\n"),c)}},a.prototype.computeBytesCount=function(a){return mc.test(a)?void 0!==window.TextEncoder?(new TextEncoder).encode(a).length:(new Blob([a])).size:a.length},a.prototype.addOrUpdate=
function(a,c){var d=this.process(a);a=d.processedMessage;d=d.messageBytesCount;d>=this.messageBytesLimit?qa.warn("Discarded a message whose size was bigger than the maximum allowed size ".concat(this.messageBytesLimit,"KB.")):(this.hasMessageFor(c)&&this.remove(c),this.willReachedBytesLimitWith(d)&&this.flush(),this.push(a,d,c),this.isFull()&&this.flush())},a.prototype.process=function(a){a=d(a);return{processedMessage:a,messageBytesCount:this.computeBytesCount(a)}},a.prototype.push=function(a,c,
d){0<this.bufferMessagesCount&&(this.bufferBytesCount+=1);void 0!==d?this.upsertBuffer[d]=a:this.pushOnlyBuffer.push(a);this.bufferBytesCount+=c;this.bufferMessagesCount+=1},a.prototype.remove=function(a){var c=this.upsertBuffer[a];delete this.upsertBuffer[a];a=this.computeBytesCount(c);this.bufferBytesCount-=a;--this.bufferMessagesCount;0<this.bufferMessagesCount&&--this.bufferBytesCount},a.prototype.hasMessageFor=function(a){return void 0!==a&&void 0!==this.upsertBuffer[a]},a.prototype.willReachedBytesLimitWith=
function(a){return this.bufferBytesCount+a+1>=this.batchBytesLimit},a.prototype.isFull=function(){return this.bufferMessagesCount===this.batchMessagesLimit||this.bufferBytesCount>=this.batchBytesLimit},a.prototype.flushPeriodically=function(){var a=this;setTimeout(m(function(){a.flush();a.flushPeriodically()}),this.flushTimeout)},a.prototype.flushOnVisibilityHidden=function(){var a=this;navigator.sendBeacon&&(E(window,"beforeunload",this.beforeUnloadCallback),E(document,"visibilitychange",function(){"hidden"===
document.visibilityState&&a.flush()}),E(window,"beforeunload",function(){return a.flush()}))},a}(),sc=function(){function a(a,c){this.endpointBuilder=a;this.bytesLimit=c}return a.prototype.send=function(a,c){var d=this.endpointBuilder.build();if(navigator.sendBeacon&&c<this.bytesLimit)try{if(navigator.sendBeacon(d,a))return}catch(ka){c=ka,Cb||(Cb=!0,Ha(c)),!0}c=new XMLHttpRequest;c.open("POST",d,!0);c.send(a)},a}(),Cb=!1,Db=1/0,tc=function(){function a(a){var c=this;this.expireDelay=a;this.entries=
[];this.clearOldContextsInterval=setInterval(function(){return c.clearOldContexts()},6E4)}return a.prototype.add=function(a,c){var d=this,e={context:a,startTime:c,endTime:Db,remove:function(){var a=d.entries.indexOf(e);0<=a&&d.entries.splice(a,1)},close:function(a){e.endTime=a}};return this.entries.unshift(e),e},a.prototype.find=function(a){void 0===a&&(a=Db);for(var c=0,d=this.entries;c<d.length;c++){var e=d[c];if(e.startTime<=a){if(a<=e.endTime)return e.context;break}}},a.prototype.closeActive=
function(a){var c=this.entries[0];c&&c.endTime===Db&&c.close(a)},a.prototype.findAll=function(a){return void 0===a&&(a=Db),this.entries.filter(function(c){return c.startTime<=a&&a<=c.endTime}).map(function(a){return a.context})},a.prototype.reset=function(){this.entries=[]},a.prototype.stop=function(){clearInterval(this.clearOldContextsInterval)},a.prototype.clearOldContexts=function(){for(var a=performance.now()-this.expireDelay;0<this.entries.length&&this.entries[this.entries.length-1].endTime<
a;)this.entries.pop()},a}(),Eb,kb=/^([a-z]+)=([a-z0-9-]+)$/,Lb=[],db=[],sa,cc=((sa={})[N.debug]=0,sa[N.info]=1,sa[N.warn]=2,sa[N.error]=3,sa),nc=!1,lb,Fb={},sb,Rb=((lb={})[ta.log]=N.info,lb[ta.debug]=N.debug,lb[ta.info]=N.info,lb[ta.warn]=N.warn,lb[ta.error]=N.error,lb),mb,tb=((sb={})[Oa.cspViolation]=N.error,sb[Oa.intervention]=N.error,sb[Oa.deprecation]=N.warn,sb),Mb,Sb=new WeakMap,Va=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/,dc=function(){function a(){this.callbacks=
{}}return a.prototype.notify=function(a,c){(a=this.callbacks[a])&&a.forEach(function(a){return a(c)})},a.prototype.subscribe=function(a,c){var d=this;return this.callbacks[a]||(this.callbacks[a]=[]),this.callbacks[a].push(c),{unsubscribe:function(){d.callbacks[a]=d.callbacks[a].filter(function(a){return c!==a})}}},a}(),ec=function(a){function d(){return{view:{referrer:document.referrer,url:window.location.href},context:k.get()}}var e,f,h=!1,k=F(),l={},n=function(){},p=new Kb,t=function(a,c,e,f){void 0===
e&&(e=G(d()));void 0===f&&(f=I());p.add(function(){return t(a,c,e,f)})},u=function(){},w=new y(function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return t.apply(void 0,a)});return e={logger:w,init:m(function(c){var e;if(J()&&(c=q({},c,{clientToken:"empty"})),!h||(c.silentMultipleInit||qa.error("DD_LOGS is already initialized."),!1)){var f=function(a){var c=va(a),d=T(a.forwardConsoleLogs,C(ta),"Forward Console Logs"),e=T(a.forwardReports,C(Oa),"Forward Reports");if(c&&d&&e)return a.forwardErrorsToLogs&&
-1===d.indexOf(ta.error)&&d.push(ta.error),q({forwardErrorsToLogs:!1!==a.forwardErrorsToLogs,forwardConsoleLogs:d,forwardReports:e,requestErrorResponseLengthLimit:32768},c)}(c);f&&(e=a(f,d,w),t=e.handleLog,n=e.getInternalContext,u=function(){return G(c)},p.drain(),h=!0)}}),getLoggerGlobalContext:m(k.get),getGlobalContext:m(k.getContext),setLoggerGlobalContext:m(k.set),setGlobalContext:m(k.setContext),addLoggerGlobalContext:m(k.add),setGlobalContextProperty:m(k.setContextProperty),removeLoggerGlobalContext:m(k.remove),
removeGlobalContextProperty:m(k.removeContextProperty),clearGlobalContext:m(k.clearContext),createLogger:m(function(a,c){return void 0===c&&(c={}),l[a]=new y(function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return t.apply(void 0,a)},a,c.handler,c.level,c.context),l[a]}),getLogger:m(function(a){return l[a]}),getInitConfiguration:m(function(){return u()}),getInternalContext:m(function(a){return n(a)})},f=q({version:"4.17.0",onReady:function(a){a()}},e),Object.defineProperty(f,"_setDebug",
{get:function(){return c},enumerable:!1}),f}(function(c,d,e){var f=new dc;(function(a){var c,d=ya(a);if(J()){var e=L();d.observable.subscribe(function(a){return e.send("internal_telemetry",a)})}else{var f=cb(a,a.rumEndpointBuilder,null===(c=a.replica)||void 0===c?void 0:c.rumEndpointBuilder);d.observable.subscribe(function(c){return f.add(c,"datad0g.com"===a.site)})}return d})(c).setContextProvider(function(){var a,c,d,e,f,h;return{application:{id:null===(a=qb())||void 0===a?void 0:a.application_id},
session:{id:null===(c=n.findTrackedSession())||void 0===c?void 0:c.id},view:{id:null===(e=null===(d=qb())||void 0===d?void 0:d.view)||void 0===e?void 0:e.id},action:{id:null===(h=null===(f=qb())||void 0===f?void 0:f.user_action)||void 0===h?void 0:h.id}}});eb(c,f);(function(a,c){if(!a.forwardErrorsToLogs)return{stop:l};a=new Na;$b(a);a.subscribe(function(a){c.notify(0,{rawLogsEvent:{message:a.message,date:a.startClocks.timeStamp,error:{kind:a.type,origin:"source",stack:a.stack},origin:"source",status:N.error}})})})(c,
f);(function(a,c){ib(a.forwardConsoleLogs).subscribe(function(a){c.notify(0,{rawLogsEvent:{date:I(),message:a.message,origin:"console",error:a.api===ta.error?{origin:"console",stack:a.stack}:void 0,status:Rb[a.api]}})})})(c,f);(function(a,c){ra(a.forwardReports).subscribe(function(a){var d,e=a.message,f=tb[a.type];f===N.error?d={kind:a.subtype,origin:"report",stack:a.stack}:a.stack&&(e+=" Found in ".concat(function(a){var c;return null===(c=/@ (.+)/.exec(a))||void 0===c?void 0:c[1]}(a.stack)));c.notify(0,
{rawLogsEvent:{date:I(),message:e,origin:"report",error:d,status:f}})})})(c,f);var k,m=function(a){return{handleLog:function(c,d,e,f){var h=c.context;Nb(c.status,"console",d)&&qa(c.status,c.message,B(d.getContext(),h));a.notify(0,{rawLogsEvent:{date:f||I(),message:c.message,status:c.status,origin:"logger"},messageContext:h,savedCommonContext:e,logger:d})}}}(f).handleLog,n=!function(c){if(void 0===document.cookie||null===document.cookie)return!1;try{var d="dd_cookie_test_".concat(a());P(d,"test",1E3,
c);var e="test"===W(d);P(d,"",0,c);return e}catch(uc){return qa.error(uc),!1}}(c.cookieOptions)||J()||Ca()?function(a){var c="1"===(h(a.sampleRate)?"1":"0")?{}:void 0;return{findTrackedSession:function(){return c}}}(c):Yb(c);return pb(n,c,f,d,e),J()?function(a){var c=L();a.subscribe(1,function(a){c.send("log",a)})}(f):function(a,c){var d,e=cb(a,a.logsEndpointBuilder,null===(d=a.replica)||void 0===d?void 0:d.logsEndpointBuilder);c.subscribe(1,function(a){e.add(a)})}(c,f),{handleLog:m,getInternalContext:(k=
n,{get:function(a){if(a=k.findTrackedSession(a))return{session_id:a.id}}}).get}});var fc=D();var Pa=fc.DD_LOGS;fc.DD_LOGS=ec;Pa&&Pa.q&&Pa.q.forEach(function(a){return k(a,"onReady callback threw an error:")()})}();define("vendor/datadog/datadog-logs-v4",function(){});
define("app/utilities/datadogLogger",["app/events","app/utilities/XyTools","vendor/datadog/datadog-logs-v4"],function(k,c){var f={init:function(){window.DD_LOGS&&(window.DD_LOGS.init({service:"wps-jlp",env:"debug",version:window.Xyleme.environment.XPE_BUILD_VERSION,clientToken:"pub0e569a2d8ff0d8daf9e5ee7a00a9ad67",forwardErrorsToLogs:!0,forwardConsoleLogs:"all",sampleRate:100}),window.DD_LOGS.addLoggerGlobalContext("context.sessionId",c.generateUUID()),window.DD_LOGS.addLoggerGlobalContext("context.courseTitle",
window.document.title),window.DD_LOGS.addLoggerGlobalContext("context.outputType",window.Xyleme.environment.outputType),window.DD_LOGS.addLoggerGlobalContext("context.scormType",window.Xyleme.environment.SCORM_TYPE))},loadExternalFunctionality:function(){var c=document.createElement("script");c.src="https://cdn.prod-us.xyleme.com/jlpDebugMode/debug.js";document.head.appendChild(c)}};k.on("XyTools.init:after",function(c){c.config.debugMode&&window.Xyleme.environment.IS_DEPLOY&&(f.init(),f.loadExternalFunctionality())});
k.on("externaldata.recieved",function(c){window.DD_LOGS.addLoggerGlobalContext("context.userId",c.userId);window.DD_LOGS.addLoggerGlobalContext("context.userName",c.userName)});return f});
define("app/app","module jquery app/loader app/configuration app/utilities/XyTools app/events vendor/fastclick/fastclick vendor/polyfill/polyfill app/utilities/datadogLogger".split(" "),function(k,c,f,m,n,p,t){var q=function(){this.config={contentWrapper:"#PageBody",namespace:"Xyleme",appName:"App"}};q.prototype.init=function(){var a=this;this.config=c.extend(this.config,m.configure(k.id));window[this.config.namespace]=window[this.config.namespace]||{};window[this.config.namespace][this.config.appName]=
this;p.trigger("app.init:before",this);p.init();m.init();n.init();f.init();t.attach(document.body);p.trigger("app.init:after",this);p.trigger("app.ready",!0,this);c(this.config.contentWrapper).hasClass("LoadingFragment")&&(c(this.config.contentWrapper).removeClass("LoadingFragment"),p.trigger("player.data:load",window.location.pathname.match(/([^\/]+)(\.\w+$)/i)[0]),window.Xyleme.environment.loaded?p.trigger("content.loaded",a.config.contentWrapper):window.addEventListener("load",function l(){window.removeEventListener("load",
l,!1);p.trigger("content.loaded",a.config.contentWrapper)}))};q.prototype.on=function(a,c){return p.on(a,c)};q=new q;p.trigger("app.loaded",!0,q);return q});
define("nova",["app/events"],function(k){return{init:function(){function c(){m.config.startVisible=0>["mobile","narrow"].indexOf(f.currentMediaState);m.disableMenu=function(){var c=f?f.currentMediaState:"mobile";"undefined"!==typeof SCORM_TYPE&&"non-scorm-player"!==SCORM_TYPE&&this.$wrapper&&0<=["mobile","narrow"].indexOf(c)&&(this.disable(),this.isOpen=!1)}}var f,m,n=0;k.on("XyTools.loaded",function(c){f=c});k.on("menu.loaded",function(c){m=c});k.on("XyTools.init:before",function(){n++;2===n&&c()})}}});
define("extensions/jquery.appear",["jquery"],function(k){(function(c){function f(){p=!1;for(var a=0,f=k.length;a<f;a++){var l=c(k[a]).filter(function(){return c(this).is(":appeared")});l.trigger("appear",[l]);if(q[a]){var d=q[a].not(l);d.trigger("disappear",[d])}q[a]=l}}var k=[],n=[],p=!1,t={interval:500,force_process:!1,scroll_selector:window,appear_left_offset:0,appear_top_offset:0,appear_top_threshold:null},q=[];c.expr[":"].appeared=function(a){var f=c(a);if(!f.is(":visible"))return!1;var k=f.data("scroll_selector"),
d=k.scrollLeft(),e=k.scrollTop(),m=f.offset().left;var n=f.get(0).getBoundingClientRect();var p=document.body,q=document.documentElement;var t=(k?k.scrollTop():0)||window.pageYOffset||q.scrollTop||p.scrollTop;n=Math.round(n.top+t-(q.clientTop||p.clientTop||0));a=null!=f.data("appear-top-threshold")?a.getBoundingClientRect().top<=f.data("appear-top-threshold"):!0;return n+f.outerHeight(!0)>=e&&a&&n-(f.data("appear-top-offset")||0)<=e+k.height()&&m+f.width()>=d&&m-(f.data("appear-left-offset")||0)<=
d+k.width()?!0:!1};c.fn.extend({appear:function(a){var h=c.extend({},t,a||{}),l=c(h.scroll_selector);a=l.selector||"default";this.each(function(){var a=c(this);a.data({scroll_selector:l,"appear-top-offset":a.data("appear-top-offset")||h.appear_top_offset,"appear-left-offset":a.data("appear-left-offset")||h.appear_left_offset,"appear-top-threshold":a.data("appear-top-threshold")||h.appear_top_threshold})});var d=this.selector||this;if(-1==c.inArray(a,n)){var e=function(){p||(p=!0,setTimeout(f,h.interval))};
l.on("scroll",e);if(0==n.length)c(window).on("resize",e);n.push(a)}h.force_process&&setTimeout(f,h.interval);k.push(d);q.push();return c(d)}});c.extend({force_appear:function(){return 0<n.length?(f(),!0):!1}})})(k);return k});
define("extensions/elementAppear","underscore app/utilities/helper/helperView app/utilities/XyTools app/events app/configuration app/utilities/animate extensions/jquery.appear".split(" "),function(k,c,f,m,n,p,t){k=c.extend({ui:{},init:function(c){c||(c={});this.config=this.constructor.config;this.index=c.index||0;this.id=""+this.constructor.displayName+this.index;this.ui.els=t([]);m.on("content.loaded",function(a){a=a||this.config.contentContainerSelector;f.isContentContainer(a)&&!a.find(this.config.excludePageBySelector).length&&
(this.ui.container=f.getJqueryObject(a),window.requestAnimationFrame(this.render))}.bind(this));m.on("navigation.removeContent:after",this.remove);m.on("elementAppear.recalc",this.recalc)},render:function(){var c=this,a;for(a in this.config.selectorMap){var f=this.ui.container.find(a);f.data(c.config.selectorDataKey,a);this.ui.els=this.ui.els.add(f)}this.ui.els.appear({scroll_selector:this.config.contentScrollContainerSelector,appear_top_threshold:this.config.topThreshold,interval:this.config.scrollListenerDelay});
t.force_appear();this.ui.els.filter(function(){var a=t(this),d=a.is(":not(:appeared)")||c.config.animateVisibleOnInit;d||a.data("hasAppeared",!0);return d}).each(function(a,d){a=t(d);a.addClass(c.config.initClass);a.on("appear",function(a,d){a=t(d);a.off("appear");a.each(function(a,d){a=t(d);d=c.config.selectorMap[a.data(c.config.selectorDataKey)];a.off("appear");a.data("hasAppeared")||(a.data("hasAppeared",!0),c.appear(a,d.animation,d.time))})})});t.force_appear();this.ui.container.find("img").on("load.appear",
function(){window.requestAnimationFrame(c.recalc)})},appear:function(c,a,h){c=f.getJqueryObject(c);p({element:c,name:a,timeout:h,beforeActiveCallback:function(){c.removeClass(this.config.initClass)}.bind(this)})},recalc:function(){t.force_appear()},remove:function(){this.ui.els.off("appear");this.ui.els=t([])}},{displayName:"Element Appear",config:f.extend({selectorMap:{".Title, .CustomNote":{animation:"fade-grow-in",time:1E3},"* > .TableWrapper, * > .Movie, * > .EmbedMovie, * > .QuoteBlock, * > .QuestionBlock, * > .ImageMap":{animation:"fade-in",
time:1E3}},excludePageBySelector:".ScoreCard",selectorDataKey:"appear-selector",scrollListenerDelay:200,topThreshold:null,initClass:"AnimateInit",animateVisibleOnInit:!0,contentScrollContainerSelector:"#PageBodyWrapper"},n.configure("ElementAppear"))});m.trigger("elementAppear.loaded",!0,k);return k});
define("extensions/backgroundImage",["underscore","app/utilities/helper/helperView","app/utilities/XyTools","app/events","app/configuration"],function(k,c,f,m,n){k=c.extend({activeLayoutChanges:{},init:function(c){c||(c={});this.config=this.constructor.config;this.config.backgroundImageGradient=this.config.backgroundImageGradient||"none";this.index=c.index||0;this.id=""+this.constructor.displayName+this.index;m.on("content.loaded",function(c){f.isContentContainer(c)&&(this.container=$(this.config.applyToSelector),
this.render())}.bind(this));m.on("navigation.removeContent:after",this.remove)},render:function(){this.backgroundImage=$(this.config.imageSelector);this.skipGradient=!!$(this.config.backgroundImageGradientSkipSelector).length;this.backgroundImage.length&&(this.attachSpinner(),this.normalizeLayout(),this.backgroundImage.one("load",function(){this.imageLoaded=!0;this.applyBackground();this.antiStutterTimeout=setTimeout(this.removeSpinner.bind(this),200);clearTimeout(this.loadTimeoutTimer)}.bind(this)).on("error",
this.removeSpinner.bind(this)),this.loadTimeoutTimer=setTimeout(this.removeSpinner.bind(this),this.config.loadTimeout))},attachSpinner:function(){this.spinnerWrap=$("<div>").addClass(this.config.spinnerWrapClass);this.spinnerClone=$("<div>").addClass(this.config.spinnerCloneClass);this.spinnerClone.appendTo(this.spinnerWrap);$(this.container).prepend(this.spinnerWrap)},removeSpinner:function(){this.spinnerWrap&&this.spinnerWrap.length&&this.spinnerWrap.remove()},normalizeLayout:function(){var c,f;
for(c in this.config.layoutChanges){this.activeLayoutChanges[c]={};for(f in this.config.layoutChanges[c])this.activeLayoutChanges[c][f]=$(c)[0].style[f];$(c).css(this.config.layoutChanges[c])}},resetLayout:function(){for(var c in this.config.layoutChanges)this.activeLayoutChanges[c]&&$(c).css(this.activeLayoutChanges[c]);this.activeLayoutChanges={}},applyBackground:function(){this.prevBackgroundImageStyle=this.container[0].style.backgroundImage;this.container.css(this.skipGradient?{backgroundImage:"url('"+
this.backgroundImage[0].src+"')"}:{backgroundImage:this.config.backgroundImageGradient+", url('"+this.backgroundImage[0].src+"')"}).addClass(this.config.backgroundImageContainerClass)},remove:function(){this.container&&this.container.length&&this.container.css({backgroundImage:this.prevBackgroundImageStyle||""}).removeClass(this.config.backgroundImageContainerClass);this.prevBackgroundImageStyle=null;this.resetLayout();this.removeSpinner();this.imageLoaded=!1;this.backgroundImage.off("load");clearTimeout(this.loadTimeoutTimer);
clearTimeout(this.antiStutterTimeout);this.constructor.__super__.remove.call(this)}},{displayName:"Background Image",config:f.extend({imageSelector:"#BackgroundImage",applyToSelector:"#PageBodyWrapper",spinnerWrapClass:"SpinnerWrap",spinnerCloneClass:"Spinner",backgroundImageContainerClass:"FullBackgroundImage",backgroundImageGradient:"linear-gradient(180deg, rgba(255,255,255, 0.5) 50%, rgba(255, 255, 255, 0) 100%)",backgroundImageGradientSkipSelector:"",layoutChanges:{},loadTimeout:3E3},n.configure("BackgroundImage"))});
m.trigger("backgroundImage.loaded",!0,k);return k});
define("extensions/breakoutElement",["underscore","app/utilities/helper/helperView","app/utilities/XyTools","app/events","app/configuration"],function(k,c,f,m,n){k=c.extend({ui:{image:"img"},initialize:function(c){this.constructor.__super__.initialize.call(this,c);c||(c={});this.config=this.constructor.config;this.index=c.index||0;this.id=""+this.constructor.displayName+this.index},render:function(){var c=0===this.index%2?"even":"odd",f=this.config.selector.replace(".","");this.ui.container=$(this.config.containerSelector);
this.ui.container.addClass(this.config.containerClass);if(this.ui.image.length)this.ui.image.on("load.breakout",this.breakout.bind(this));else this.breakout();this.$el.addClass(f+"-"+c+" "+f+"-"+this.index)},breakout:function(){this.outerHeight=this.$el.outerHeight(!0);this.breakoutClone&&this.breakoutClone.length?this.breakoutClone.height(this.outerHeight):(this.breakoutClone=$('<div class="'+this.config.cloneClass+'"></div>').height(this.outerHeight),this.$el.after(this.breakoutClone))},resize:function(){this.outerHeight=
this.$el.outerHeight(!0);this.breakoutClone&&this.breakoutClone.length&&this.breakoutClone.height(this.outerHeight)},remove:function(){this.ui.container.removeClass(this.config.containerClass);this.constructor.__super__.remove.call(this)}},{displayName:"Breakout Element",config:f.extend({selector:".BreakoutElement",containerSelector:"#PageBodyWrapper",containerClass:"BreakoutContainer",cloneClass:"BreakoutClone"},n.configure("BreakoutElement"))});m.trigger("breakoutElement.loaded",!0,k);return k});
(function(k){"function"===typeof define&&define.amd?define("extensions/jquery.event.move",[],k):"undefined"!==typeof module&&null!==module&&module.exports?module.exports=k:k()})(function(){function k(a,c,d,e,f){function h(a){d(a,e)}c=c.split(L);f=a[P]||(a[P]={});for(var k=c.length,l,m;k--;)m=c[k],l=f[m]||(f[m]=[]),l.push([d,h]),a.addEventListener(m,h)}function c(a,c,d,e){c=c.split(L);e=a[P]||(a[P]={});var f=c.length,h,k;if(e)for(;f--;){var l=c[f];if(h=e[l])for(k=h.length;k--;)h[k][0]===d&&(a.removeEventListener(l,
h[k][1]),h.splice(k,1))}}function f(a,c,d){c=new CustomEvent(c,J);d&&G(c,d);a.dispatchEvent(c)}function m(a){function c(a){e?(d(),B(c),f=!0,e=!1):f=!1}var d=a,e=!1,f=!1;this.kick=function(a){e=!0;f||c()};this.end=function(a){var c=d;a&&(f?(d=e?function(){c();a()}:a,e=!0):a())}}function n(){}function p(a){a.preventDefault()}function t(a,c){var d;if(a.identifiedTouch)return a.identifiedTouch(c);var e=-1;for(d=a.length;++e<d;)if(a[e].identifier===c)return a[e]}function q(a,c){if((a=t(a.changedTouches,
c.identifier))&&(a.pageX!==c.pageX||a.pageY!==c.pageY))return a}function a(a,c){e(a,c,a,l)}function h(a,c){l()}function l(){c(document,I.move,a);c(document,I.cancel,h)}function d(a){c(document,M.move,a.touchmove);c(document,M.cancel,a.touchend)}function e(a,c,d,e){var f=d.pageX-c.pageX,h=d.pageY-c.pageY;64>f*f+h*h||u(a,c,d,f,h,e)}function u(a,c,d,e,h,k){var l=a.targetTouches,m=a.timeStamp-c.timeStamp;f(c.target,"movestart",{altKey:a.altKey,ctrlKey:a.ctrlKey,shiftKey:a.shiftKey,startX:c.pageX,startY:c.pageY,
distX:e,distY:h,deltaX:e,deltaY:h,pageX:d.pageX,pageY:d.pageY,velocityX:e/m,velocityY:h/m,identifier:c.identifier,targetTouches:l,finger:l?l.length:1,enableMove:function(){this.moveEnabled=!0;this.enableMove=n;a.preventDefault()}});k(c)}function z(a,c){var d=c.timer;c.touch=a;c.timeStamp=a.timeStamp;d.kick()}function C(a,d){var e=d.target;a=d.event;d=d.timer;c(document,I.move,z);c(document,I.end,C);D(e,a,d,function(){setTimeout(function(){c(e,"click",p)},0)})}function D(a,c,d,e){d.end(function(){f(a,
"moveend",c);return e&&e()})}function x(a){a.enableMove()}function E(a){a.enableMove()}function H(a){a.enableMove()}function A(a){var c=a.handler;a.handler=function(a){for(var d=W.length,e;d--;)e=W[d],a[e]=a.originalEvent[e];c.apply(this,arguments)}}var G=Object.assign||window.jQuery&&jQuery.extend,B=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a,c){return window.setTimeout(function(){a()},
25)}}();(function(){function a(a,c){c=c||{bubbles:!1,cancelable:!1,detail:void 0};var d=document.createEvent("CustomEvent");d.initCustomEvent(a,c.bubbles,c.cancelable,c.detail);return d}if("function"===typeof window.CustomEvent)return!1;a.prototype=window.Event.prototype;window.CustomEvent=a})();var F={textarea:!0,input:!0,select:!0,button:!0},I={move:"mousemove",cancel:"mouseup dragstart",end:"mouseup"},M={move:"touchmove",cancel:"touchend",end:"touchend"},L=/\s+/,J={bubbles:!0,cancelable:!0},P=
"function"===typeof Symbol?Symbol("events"):{};k(document,"mousedown",function(c){1!==c.which||c.ctrlKey||c.altKey||F[c.target.tagName.toLowerCase()]||(k(document,I.move,a,c),k(document,I.cancel,h,c))});k(document,"touchstart",function(a){F[a.target.tagName.toLowerCase()]||(a=a.changedTouches[0],a={target:a.target,pageX:a.pageX,pageY:a.pageY,identifier:a.identifier,touchmove:function(a,c){var f=q(a,c);f&&e(a,c,f,d)},touchend:function(a,c){t(a.changedTouches,c.identifier)&&d(c)}},k(document,M.move,
a.touchmove,a),k(document,M.cancel,a.touchend,a))});k(document,"movestart",function(a){if(!a.defaultPrevented&&a.moveEnabled){var d={startX:a.startX,startY:a.startY,pageX:a.pageX,pageY:a.pageY,distX:a.distX,distY:a.distY,deltaX:a.deltaX,deltaY:a.deltaY,velocityX:a.velocityX,velocityY:a.velocityY,identifier:a.identifier,targetTouches:a.targetTouches,finger:a.finger},e={target:a.target,event:d,timer:new m(function(a){a=e.touch;var c=e.timeStamp-d.timeStamp;d.distX=a.pageX-d.startX;d.distY=a.pageY-d.startY;
d.deltaX=a.pageX-d.pageX;d.deltaY=a.pageY-d.pageY;d.velocityX=.3*d.velocityX+.7*d.deltaX/c;d.velocityY=.3*d.velocityY+.7*d.deltaY/c;d.pageX=a.pageX;d.pageY=a.pageY;f(e.target,"move",d)}),touch:void 0,timeStamp:a.timeStamp};void 0===a.identifier?(k(a.target,"click",p),k(document,I.move,z,e),k(document,I.end,C,e)):(e.activeTouchmove=function(a,c){var d=c.event,e=c.timer,f=q(a,d);f&&(a.preventDefault(),d.targetTouches=a.targetTouches,c.touch=f,c.timeStamp=a.timeStamp,e.kick())},e.activeTouchend=function(a,
d){var e=d.target,f=d.event,h=d.timer;t(a.changedTouches,f.identifier)&&(c(document,M.move,d.activeTouchmove),c(document,M.end,d.activeTouchend),D(e,f,h))},k(document,M.move,e.activeTouchmove,e),k(document,M.end,e.activeTouchend,e))}});if(window.jQuery){var W="startX startY pageX pageY distX distY deltaX deltaY velocityX velocityY".split(" ");jQuery.event.special.movestart={setup:function(){k(this,"movestart",x);return!1},teardown:function(){c(this,"movestart",x);return!1},add:A};jQuery.event.special.move=
{setup:function(){k(this,"movestart",E);return!1},teardown:function(){c(this,"movestart",E);return!1},add:A};jQuery.event.special.moveend={setup:function(){k(this,"movestart",H);return!1},teardown:function(){c(this,"movestart",H);return!1},add:A}}});
define("extensions/jquery.twentytwenty",["jquery"],function(k,c){k.fn.twentytwenty=function(c){c=k.extend({default_offset_pct:.5,orientation:"horizontal",before_label:"Before",after_label:"After",no_overlay:!1,move_slider_on_hover:!1,move_with_handle_only:!0,click_to_move:!1},c);return this.each(function(){var f=c.default_offset_pct,n=k(this),p=c.orientation,t="vertical"===p?"down":"left",q="vertical"===p?"up":"right";n.wrap("<div class='twentytwenty-wrapper twentytwenty-"+p+"'></div>");if(!c.no_overlay){n.append("<div class='twentytwenty-overlay'></div>");
var a=n.find(".twentytwenty-overlay");a.append("<div class='twentytwenty-before-label' data-content='"+c.before_label+"'></div>");a.append("<div class='twentytwenty-after-label' data-content='"+c.after_label+"'></div>")}var h=n.find("img:first"),l=n.find("img:last");n.append("<div class='twentytwenty-handle'></div>");var d=n.find(".twentytwenty-handle");d.append("<span class='twentytwenty-"+t+"-arrow'></span>");d.append("<span class='twentytwenty-"+q+"-arrow'></span>");n.addClass("twentytwenty-container");
h.addClass("twentytwenty-before");l.addClass("twentytwenty-after");var e=function(a){var c=h.width();var e=h.height();var f=c+"px";var k=e+"px";c=a*c+"px";a=a*e+"px";d.css("vertical"===p?"top":"left","vertical"===p?a:c);"vertical"===p?(h.css("clip","rect(0,"+f+","+a+",0)"),l.css("clip","rect("+a+","+f+","+k+",0)")):(h.css("clip","rect(0,"+c+","+k+",0)"),l.css("clip","rect(0,"+f+","+k+","+c+")"));n.css("height",k)},u=function(a,c){return Math.max(0,Math.min(1,"vertical"===p?(c-C)/x:(a-z)/D))};k(window).on("resize.twentytwenty",
function(a){e(f)});var z=0,C=0,D=0,x=0;t=function(a){(a.distX>a.distY&&a.distX<-a.distY||a.distX<a.distY&&a.distX>-a.distY)&&"vertical"!==p?a.preventDefault():(a.distX<a.distY&&a.distX<-a.distY||a.distX>a.distY&&a.distX>-a.distY)&&"vertical"===p&&a.preventDefault();n.addClass("active");z=n.offset().left;C=n.offset().top;D=h.width();x=h.height()};q=function(a){n.hasClass("active")&&(f=u(a.pageX,a.pageY),e(f))};a=function(){n.removeClass("active")};var E=c.move_with_handle_only?d:n;E.on("movestart",
t);E.on("move",q);E.on("moveend",a);c.move_slider_on_hover&&(n.on("mouseenter",t),n.on("mousemove",q),n.on("mouseleave",a));d.on("touchmove",function(a){a.preventDefault()});n.find("img").on("mousedown",function(a){a.preventDefault()});if(c.click_to_move)n.on("click",function(a){z=n.offset().left;C=n.offset().top;D=h.width();x=h.height();f=u(a.pageX,a.pageY);e(f)});k(window).trigger("resize.twentytwenty")})};return k});
define("extensions/imageCompare",["app/events","extensions/jquery.event.move","extensions/jquery.twentytwenty"],function(k,c,f){return{init:function(){k.on("content.loaded",function(){var c=f("img").length;f("img").load(function(){0==--c&&setTimeout(function(){f(".ImageCompare").each(function(){f(this).twentytwenty()})},250)})})}}});
define("custom","app/events nova extensions/elementAppear extensions/backgroundImage extensions/breakoutElement extensions/imageCompare".split(" "),function(k,c,f,m,n,p){k.on("elements.loaded",function(c){c.config.modules.push(n)});return{init:function(){c&&"function"===typeof c.init&&c.init();(new f).init();(new m).init();p.init();k.on("figure.togglePopup:after",function(c){c.ui.image.closest(".AnimateInit").removeClass("AnimateInit")})}}});
require(["app/app","custom"],function(k,c){c&&"function"===typeof c.init&&c.init();k.init()});define("setup",function(){}); 
//# sourceMappingURL=setup.js.map

